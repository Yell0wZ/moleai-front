function CK(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u_={exports:{}},Oh={},d_={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jj;function NK(){if(Jj)return pt;Jj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=p&&W[p]||W["@@iterator"],typeof W=="function"?W:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function _(W,Z,re){this.props=W,this.context=Z,this.refs=x,this.updater=re||v}_.prototype.isReactComponent={},_.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},_.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function P(){}P.prototype=_.prototype;function S(W,Z,re){this.props=W,this.context=Z,this.refs=x,this.updater=re||v}var E=S.prototype=new P;E.constructor=S,w(E,_.prototype),E.isPureReactComponent=!0;var R=Array.isArray,N=Object.prototype.hasOwnProperty,M={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function C(W,Z,re){var me,Ee={},je=null,he=null;if(Z!=null)for(me in Z.ref!==void 0&&(he=Z.ref),Z.key!==void 0&&(je=""+Z.key),Z)N.call(Z,me)&&!I.hasOwnProperty(me)&&(Ee[me]=Z[me]);var Te=arguments.length-2;if(Te===1)Ee.children=re;else if(1<Te){for(var ue=Array(Te),ve=0;ve<Te;ve++)ue[ve]=arguments[ve+2];Ee.children=ue}if(W&&W.defaultProps)for(me in Te=W.defaultProps,Te)Ee[me]===void 0&&(Ee[me]=Te[me]);return{$$typeof:t,type:W,key:je,ref:he,props:Ee,_owner:M.current}}function j(W,Z){return{$$typeof:t,type:W.type,key:Z,ref:W.ref,props:W.props,_owner:W._owner}}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function L(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(re){return Z[re]})}var V=/\/+/g;function D(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?L(""+W.key):Z.toString(36)}function z(W,Z,re,me,Ee){var je=typeof W;(je==="undefined"||je==="boolean")&&(W=null);var he=!1;if(W===null)he=!0;else switch(je){case"string":case"number":he=!0;break;case"object":switch(W.$$typeof){case t:case e:he=!0}}if(he)return he=W,Ee=Ee(he),W=me===""?"."+D(he,0):me,R(Ee)?(re="",W!=null&&(re=W.replace(V,"$&/")+"/"),z(Ee,Z,re,"",function(ve){return ve})):Ee!=null&&(F(Ee)&&(Ee=j(Ee,re+(!Ee.key||he&&he.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+W)),Z.push(Ee)),1;if(he=0,me=me===""?".":me+":",R(W))for(var Te=0;Te<W.length;Te++){je=W[Te];var ue=me+D(je,Te);he+=z(je,Z,re,ue,Ee)}else if(ue=g(W),typeof ue=="function")for(W=ue.call(W),Te=0;!(je=W.next()).done;)je=je.value,ue=me+D(je,Te++),he+=z(je,Z,re,ue,Ee);else if(je==="object")throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return he}function H(W,Z,re){if(W==null)return W;var me=[],Ee=0;return z(W,me,"","",function(je){return Z.call(re,je,Ee++)}),me}function X(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(re){(W._status===0||W._status===-1)&&(W._status=1,W._result=re)},function(re){(W._status===0||W._status===-1)&&(W._status=2,W._result=re)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var K={current:null},U={transition:null},te={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:U,ReactCurrentOwner:M};function Q(){throw Error("act(...) is not supported in production builds of React.")}return pt.Children={map:H,forEach:function(W,Z,re){H(W,function(){Z.apply(this,arguments)},re)},count:function(W){var Z=0;return H(W,function(){Z++}),Z},toArray:function(W){return H(W,function(Z){return Z})||[]},only:function(W){if(!F(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},pt.Component=_,pt.Fragment=r,pt.Profiler=i,pt.PureComponent=S,pt.StrictMode=n,pt.Suspense=c,pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,pt.act=Q,pt.cloneElement=function(W,Z,re){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var me=w({},W.props),Ee=W.key,je=W.ref,he=W._owner;if(Z!=null){if(Z.ref!==void 0&&(je=Z.ref,he=M.current),Z.key!==void 0&&(Ee=""+Z.key),W.type&&W.type.defaultProps)var Te=W.type.defaultProps;for(ue in Z)N.call(Z,ue)&&!I.hasOwnProperty(ue)&&(me[ue]=Z[ue]===void 0&&Te!==void 0?Te[ue]:Z[ue])}var ue=arguments.length-2;if(ue===1)me.children=re;else if(1<ue){Te=Array(ue);for(var ve=0;ve<ue;ve++)Te[ve]=arguments[ve+2];me.children=Te}return{$$typeof:t,type:W.type,key:Ee,ref:je,props:me,_owner:he}},pt.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},pt.createElement=C,pt.createFactory=function(W){var Z=C.bind(null,W);return Z.type=W,Z},pt.createRef=function(){return{current:null}},pt.forwardRef=function(W){return{$$typeof:a,render:W}},pt.isValidElement=F,pt.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:X}},pt.memo=function(W,Z){return{$$typeof:u,type:W,compare:Z===void 0?null:Z}},pt.startTransition=function(W){var Z=U.transition;U.transition={};try{W()}finally{U.transition=Z}},pt.unstable_act=Q,pt.useCallback=function(W,Z){return K.current.useCallback(W,Z)},pt.useContext=function(W){return K.current.useContext(W)},pt.useDebugValue=function(){},pt.useDeferredValue=function(W){return K.current.useDeferredValue(W)},pt.useEffect=function(W,Z){return K.current.useEffect(W,Z)},pt.useId=function(){return K.current.useId()},pt.useImperativeHandle=function(W,Z,re){return K.current.useImperativeHandle(W,Z,re)},pt.useInsertionEffect=function(W,Z){return K.current.useInsertionEffect(W,Z)},pt.useLayoutEffect=function(W,Z){return K.current.useLayoutEffect(W,Z)},pt.useMemo=function(W,Z){return K.current.useMemo(W,Z)},pt.useReducer=function(W,Z,re){return K.current.useReducer(W,Z,re)},pt.useRef=function(W){return K.current.useRef(W)},pt.useState=function(W){return K.current.useState(W)},pt.useSyncExternalStore=function(W,Z,re){return K.current.useSyncExternalStore(W,Z,re)},pt.useTransition=function(){return K.current.useTransition()},pt.version="18.3.1",pt}var Zj;function JC(){return Zj||(Zj=1,d_.exports=NK()),d_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eR;function IK(){if(eR)return Oh;eR=1;var t=JC(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var f,p={},g=null,v=null;u!==void 0&&(g=""+u),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(v=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:e,type:a,key:g,ref:v,props:p,_owner:i.current}}return Oh.Fragment=r,Oh.jsx=o,Oh.jsxs=o,Oh}var tR;function kK(){return tR||(tR=1,u_.exports=IK()),u_.exports}var h=kK(),T=JC();const Y=It(T),G3=CK({__proto__:null,default:Y},[T]);var _y={},f_={exports:{}},Jn={},h_={exports:{}},p_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR;function OK(){return rR||(rR=1,(function(t){function e(U,te){var Q=U.length;U.push(te);e:for(;0<Q;){var W=Q-1>>>1,Z=U[W];if(0<i(Z,te))U[W]=te,U[Q]=Z,Q=W;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var te=U[0],Q=U.pop();if(Q!==te){U[0]=Q;e:for(var W=0,Z=U.length,re=Z>>>1;W<re;){var me=2*(W+1)-1,Ee=U[me],je=me+1,he=U[je];if(0>i(Ee,Q))je<Z&&0>i(he,Ee)?(U[W]=he,U[je]=Q,W=je):(U[W]=Ee,U[me]=Q,W=me);else if(je<Z&&0>i(he,Q))U[W]=he,U[je]=Q,W=je;else break e}}return te}function i(U,te){var Q=U.sortIndex-te.sortIndex;return Q!==0?Q:U.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,p=null,g=3,v=!1,w=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var te=r(u);te!==null;){if(te.callback===null)n(u);else if(te.startTime<=U)n(u),te.sortIndex=te.expirationTime,e(c,te);else break;te=r(u)}}function R(U){if(x=!1,E(U),!w)if(r(c)!==null)w=!0,X(N);else{var te=r(u);te!==null&&K(R,te.startTime-U)}}function N(U,te){w=!1,x&&(x=!1,P(C),C=-1),v=!0;var Q=g;try{for(E(te),p=r(c);p!==null&&(!(p.expirationTime>te)||U&&!L());){var W=p.callback;if(typeof W=="function"){p.callback=null,g=p.priorityLevel;var Z=W(p.expirationTime<=te);te=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===r(c)&&n(c),E(te)}else n(c);p=r(c)}if(p!==null)var re=!0;else{var me=r(u);me!==null&&K(R,me.startTime-te),re=!1}return re}finally{p=null,g=Q,v=!1}}var M=!1,I=null,C=-1,j=5,F=-1;function L(){return!(t.unstable_now()-F<j)}function V(){if(I!==null){var U=t.unstable_now();F=U;var te=!0;try{te=I(!0,U)}finally{te?D():(M=!1,I=null)}}else M=!1}var D;if(typeof S=="function")D=function(){S(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,H=z.port2;z.port1.onmessage=V,D=function(){H.postMessage(null)}}else D=function(){_(V,0)};function X(U){I=U,M||(M=!0,D())}function K(U,te){C=_(function(){U(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,X(N))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(U){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var Q=g;g=te;try{return U()}finally{g=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,te){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Q=g;g=U;try{return te()}finally{g=Q}},t.unstable_scheduleCallback=function(U,te,Q){var W=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?W+Q:W):Q=W,U){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Q+Z,U={id:f++,callback:te,priorityLevel:U,startTime:Q,expirationTime:Z,sortIndex:-1},Q>W?(U.sortIndex=Q,e(u,U),r(c)===null&&U===r(u)&&(x?(P(C),C=-1):x=!0,K(R,Q-W))):(U.sortIndex=Z,e(c,U),w||v||(w=!0,X(N))),U},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(U){var te=g;return function(){var Q=g;g=te;try{return U.apply(this,arguments)}finally{g=Q}}}})(p_)),p_}var nR;function jK(){return nR||(nR=1,h_.exports=OK()),h_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR;function RK(){if(iR)return Jn;iR=1;var t=JC(),e=jK();function r(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(i[l]=d,l=0;l<d.length;l++)n.add(d[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(l){return c.call(p,l)?!0:c.call(f,l)?!1:u.test(l)?p[l]=!0:(f[l]=!0,!1)}function v(l,d,m,b){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return b?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,d,m,b){if(d===null||typeof d>"u"||v(l,d,m,b))return!0;if(b)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function x(l,d,m,b,A,O,B){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=b,this.attributeNamespace=A,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=O,this.removeEmptyString=B}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){_[l]=new x(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];_[d]=new x(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){_[l]=new x(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){_[l]=new x(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){_[l]=new x(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){_[l]=new x(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){_[l]=new x(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){_[l]=new x(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){_[l]=new x(l,5,!1,l.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function S(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(P,S);_[d]=new x(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(P,S);_[d]=new x(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(P,S);_[d]=new x(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){_[l]=new x(l,1,!1,l.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){_[l]=new x(l,1,!1,l.toLowerCase(),null,!0,!0)});function E(l,d,m,b){var A=_.hasOwnProperty(d)?_[d]:null;(A!==null?A.type!==0:b||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,m,A,b)&&(m=null),b||A===null?g(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):A.mustUseProperty?l[A.propertyName]=m===null?A.type===3?!1:"":m:(d=A.attributeName,b=A.attributeNamespace,m===null?l.removeAttribute(d):(A=A.type,m=A===3||A===4&&m===!0?"":""+m,b?l.setAttributeNS(b,d,m):l.setAttribute(d,m))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),M=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),U=Symbol.iterator;function te(l){return l===null||typeof l!="object"?null:(l=U&&l[U]||l["@@iterator"],typeof l=="function"?l:null)}var Q=Object.assign,W;function Z(l){if(W===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);W=d&&d[1]||""}return`
`+W+l}var re=!1;function me(l,d){if(!l||re)return"";re=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(oe){var b=oe}Reflect.construct(l,[],d)}else{try{d.call()}catch(oe){b=oe}l.call(d.prototype)}else{try{throw Error()}catch(oe){b=oe}l()}}catch(oe){if(oe&&b&&typeof oe.stack=="string"){for(var A=oe.stack.split(`
`),O=b.stack.split(`
`),B=A.length-1,G=O.length-1;1<=B&&0<=G&&A[B]!==O[G];)G--;for(;1<=B&&0<=G;B--,G--)if(A[B]!==O[G]){if(B!==1||G!==1)do if(B--,G--,0>G||A[B]!==O[G]){var J=`
`+A[B].replace(" at new "," at ");return l.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",l.displayName)),J}while(1<=B&&0<=G);break}}}finally{re=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Z(l):""}function Ee(l){switch(l.tag){case 5:return Z(l.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return l=me(l.type,!1),l;case 11:return l=me(l.type.render,!1),l;case 1:return l=me(l.type,!0),l;default:return""}}function je(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case I:return"Fragment";case M:return"Portal";case j:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case z:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case L:return(l.displayName||"Context")+".Consumer";case F:return(l._context.displayName||"Context")+".Provider";case V:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case H:return d=l.displayName||null,d!==null?d:je(l.type)||"Memo";case X:d=l._payload,l=l._init;try{return je(l(d))}catch{}}return null}function he(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(d);case 8:return d===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Te(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ue(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ve(l){var d=ue(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),b=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var A=m.get,O=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return A.call(this)},set:function(B){b=""+B,O.call(this,B)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return b},setValue:function(B){b=""+B},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function Pe(l){l._valueTracker||(l._valueTracker=ve(l))}function ae(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),b="";return l&&(b=ue(l)?l.checked?"true":"false":l.value),l=b,l!==m?(d.setValue(l),!0):!1}function Xe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function de(l,d){var m=d.checked;return Q({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function xe(l,d){var m=d.defaultValue==null?"":d.defaultValue,b=d.checked!=null?d.checked:d.defaultChecked;m=Te(d.value!=null?d.value:m),l._wrapperState={initialChecked:b,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function ke(l,d){d=d.checked,d!=null&&E(l,"checked",d,!1)}function Re(l,d){ke(l,d);var m=Te(d.value),b=d.type;if(m!=null)b==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?ct(l,d.type,m):d.hasOwnProperty("defaultValue")&&ct(l,d.type,Te(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function dt(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var b=d.type;if(!(b!=="submit"&&b!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function ct(l,d,m){(d!=="number"||Xe(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var kt=Array.isArray;function Lt(l,d,m,b){if(l=l.options,d){d={};for(var A=0;A<m.length;A++)d["$"+m[A]]=!0;for(m=0;m<l.length;m++)A=d.hasOwnProperty("$"+l[m].value),l[m].selected!==A&&(l[m].selected=A),A&&b&&(l[m].defaultSelected=!0)}else{for(m=""+Te(m),d=null,A=0;A<l.length;A++){if(l[A].value===m){l[A].selected=!0,b&&(l[A].defaultSelected=!0);return}d!==null||l[A].disabled||(d=l[A])}d!==null&&(d.selected=!0)}}function or(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function _r(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(r(92));if(kt(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:Te(m)}}function kn(l,d){var m=Te(d.value),b=Te(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),b!=null&&(l.defaultValue=""+b)}function On(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Gt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?Gt(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var jn,Si=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,b,A){MSApp.execUnsafeLocalFunction(function(){return l(d,m,b,A)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(jn=jn||document.createElement("div"),jn.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=jn.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function rn(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var Qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ze=["Webkit","ms","Moz","O"];Object.keys(Qe).forEach(function(l){Ze.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),Qe[d]=Qe[l]})});function Kt(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||Qe.hasOwnProperty(l)&&Qe[l]?(""+d).trim():d+"px"}function it(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var b=m.indexOf("--")===0,A=Kt(m,d[m],b);m==="float"&&(m="cssFloat"),b?l.setProperty(m,A):l[m]=A}}var fe=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(l,d){if(d){if(fe[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Ue(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yt=null;function nt(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var zn=null,Bt=null,nn=null;function Sr(l){if(l=yh(l)){if(typeof zn!="function")throw Error(r(280));var d=l.stateNode;d&&(d=Dg(d),zn(l.stateNode,l.type,d))}}function Ei(l){Bt?nn?nn.push(l):nn=[l]:Bt=l}function Kf(){if(Bt){var l=Bt,d=nn;if(nn=Bt=null,Sr(l),d)for(l=0;l<d.length;l++)Sr(d[l])}}function Sl(l,d){return l(d)}function Yf(){}var fo=!1;function Xf(l,d,m){if(fo)return l(d,m);fo=!0;try{return Sl(l,d,m)}finally{fo=!1,(Bt!==null||nn!==null)&&(Yf(),Kf())}}function gr(l,d){var m=l.stateNode;if(m===null)return null;var b=Dg(m);if(b===null)return null;m=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,d,typeof m));return m}var ru=!1;if(a)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){ru=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{ru=!1}function El(l,d,m,b,A,O,B,G,J){var oe=Array.prototype.slice.call(arguments,3);try{d.apply(m,oe)}catch(ye){this.onError(ye)}}var Tl=!1,nu=null,Qi=!1,Qf=null,$b={onError:function(l){Tl=!0,nu=l}};function iu(l,d,m,b,A,O,B,G,J){Tl=!1,nu=null,El.apply($b,arguments)}function ag(l,d,m,b,A,O,B,G,J){if(iu.apply(this,arguments),Tl){if(Tl){var oe=nu;Tl=!1,nu=null}else throw Error(r(198));Qi||(Qi=!0,Qf=oe)}}function Ji(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function Pl(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function Zi(l){if(Ji(l)!==l)throw Error(r(188))}function lg(l){var d=l.alternate;if(!d){if(d=Ji(l),d===null)throw Error(r(188));return d!==l?null:l}for(var m=l,b=d;;){var A=m.return;if(A===null)break;var O=A.alternate;if(O===null){if(b=A.return,b!==null){m=b;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===m)return Zi(A),l;if(O===b)return Zi(A),d;O=O.sibling}throw Error(r(188))}if(m.return!==b.return)m=A,b=O;else{for(var B=!1,G=A.child;G;){if(G===m){B=!0,m=A,b=O;break}if(G===b){B=!0,b=A,m=O;break}G=G.sibling}if(!B){for(G=O.child;G;){if(G===m){B=!0,m=O,b=A;break}if(G===b){B=!0,b=O,m=A;break}G=G.sibling}if(!B)throw Error(r(189))}}if(m.alternate!==b)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:d}function Jf(l){return l=lg(l),l!==null?su(l):null}function su(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=su(l);if(d!==null)return d;l=l.sibling}return null}var ou=e.unstable_scheduleCallback,Zf=e.unstable_cancelCallback,cg=e.unstable_shouldYield,Fb=e.unstable_requestPaint,Ut=e.unstable_now,ug=e.unstable_getCurrentPriorityLevel,Al=e.unstable_ImmediatePriority,da=e.unstable_UserBlockingPriority,Ti=e.unstable_NormalPriority,eh=e.unstable_LowPriority,dg=e.unstable_IdlePriority,Cl=null,si=null;function fg(l){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(Cl,l,void 0,(l.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:pg,th=Math.log,hg=Math.LN2;function pg(l){return l>>>=0,l===0?32:31-(th(l)/hg|0)|0}var au=64,lu=4194304;function fa(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Nl(l,d){var m=l.pendingLanes;if(m===0)return 0;var b=0,A=l.suspendedLanes,O=l.pingedLanes,B=m&268435455;if(B!==0){var G=B&~A;G!==0?b=fa(G):(O&=B,O!==0&&(b=fa(O)))}else B=m&~A,B!==0?b=fa(B):O!==0&&(b=fa(O));if(b===0)return 0;if(d!==0&&d!==b&&(d&A)===0&&(A=b&-b,O=d&-d,A>=O||A===16&&(O&4194240)!==0))return d;if((b&4)!==0&&(b|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=b;0<d;)m=31-Rn(d),A=1<<m,b|=l[m],d&=~A;return b}function Vb(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(l,d){for(var m=l.suspendedLanes,b=l.pingedLanes,A=l.expirationTimes,O=l.pendingLanes;0<O;){var B=31-Rn(O),G=1<<B,J=A[B];J===-1?((G&m)===0||(G&b)!==0)&&(A[B]=Vb(G,d)):J<=d&&(l.expiredLanes|=G),O&=~G}}function oi(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Il(){var l=au;return au<<=1,(au&4194240)===0&&(au=64),l}function ha(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function pa(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-Rn(d),l[d]=m}function Ft(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<m;){var A=31-Rn(m),O=1<<A;d[A]=0,b[A]=-1,l[A]=-1,m&=~O}}function ma(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var b=31-Rn(m),A=1<<b;A&d|l[b]&d&&(l[b]|=d),m&=~A}}var yt=0;function ga(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var mg,cu,gg,yg,vg,rh=!1,Is=[],sn=null,es=null,ts=null,ya=new Map,Pi=new Map,ks=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xg(l,d){switch(l){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":ya.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(d.pointerId)}}function Wn(l,d,m,b,A,O){return l===null||l.nativeEvent!==O?(l={blockedOn:d,domEventName:m,eventSystemFlags:b,nativeEvent:O,targetContainers:[A]},d!==null&&(d=yh(d),d!==null&&cu(d)),l):(l.eventSystemFlags|=b,d=l.targetContainers,A!==null&&d.indexOf(A)===-1&&d.push(A),l)}function Ub(l,d,m,b,A){switch(d){case"focusin":return sn=Wn(sn,l,d,m,b,A),!0;case"dragenter":return es=Wn(es,l,d,m,b,A),!0;case"mouseover":return ts=Wn(ts,l,d,m,b,A),!0;case"pointerover":var O=A.pointerId;return ya.set(O,Wn(ya.get(O)||null,l,d,m,b,A)),!0;case"gotpointercapture":return O=A.pointerId,Pi.set(O,Wn(Pi.get(O)||null,l,d,m,b,A)),!0}return!1}function bg(l){var d=Ml(l.target);if(d!==null){var m=Ji(d);if(m!==null){if(d=m.tag,d===13){if(d=Pl(m),d!==null){l.blockedOn=d,vg(l.priority,function(){gg(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function po(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=uu(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var b=new m.constructor(m.type,m);Yt=b,m.target.dispatchEvent(b),Yt=null}else return d=yh(m),d!==null&&cu(d),l.blockedOn=m,!1;d.shift()}return!0}function kl(l,d,m){po(l)&&m.delete(d)}function wg(){rh=!1,sn!==null&&po(sn)&&(sn=null),es!==null&&po(es)&&(es=null),ts!==null&&po(ts)&&(ts=null),ya.forEach(kl),Pi.forEach(kl)}function rs(l,d){l.blockedOn===d&&(l.blockedOn=null,rh||(rh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wg)))}function ns(l){function d(A){return rs(A,l)}if(0<Is.length){rs(Is[0],l);for(var m=1;m<Is.length;m++){var b=Is[m];b.blockedOn===l&&(b.blockedOn=null)}}for(sn!==null&&rs(sn,l),es!==null&&rs(es,l),ts!==null&&rs(ts,l),ya.forEach(d),Pi.forEach(d),m=0;m<ks.length;m++)b=ks[m],b.blockedOn===l&&(b.blockedOn=null);for(;0<ks.length&&(m=ks[0],m.blockedOn===null);)bg(m),m.blockedOn===null&&ks.shift()}var mo=R.ReactCurrentBatchConfig,va=!0;function tr(l,d,m,b){var A=yt,O=mo.transition;mo.transition=null;try{yt=1,nh(l,d,m,b)}finally{yt=A,mo.transition=O}}function qb(l,d,m,b){var A=yt,O=mo.transition;mo.transition=null;try{yt=4,nh(l,d,m,b)}finally{yt=A,mo.transition=O}}function nh(l,d,m,b){if(va){var A=uu(l,d,m,b);if(A===null)ew(l,d,b,Ol,m),xg(l,b);else if(Ub(A,l,d,m,b))b.stopPropagation();else if(xg(l,b),d&4&&-1<Bb.indexOf(l)){for(;A!==null;){var O=yh(A);if(O!==null&&mg(O),O=uu(l,d,m,b),O===null&&ew(l,d,b,Ol,m),O===A)break;A=O}A!==null&&b.stopPropagation()}else ew(l,d,b,null,m)}}var Ol=null;function uu(l,d,m,b){if(Ol=null,l=nt(b),l=Ml(l),l!==null)if(d=Ji(l),d===null)l=null;else if(m=d.tag,m===13){if(l=Pl(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Ol=l,null}function ih(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ug()){case Al:return 1;case da:return 4;case Ti:case eh:return 16;case dg:return 536870912;default:return 16}default:return 16}}var ai=null,du=null,Hn=null;function sh(){if(Hn)return Hn;var l,d=du,m=d.length,b,A="value"in ai?ai.value:ai.textContent,O=A.length;for(l=0;l<m&&d[l]===A[l];l++);var B=m-l;for(b=1;b<=B&&d[m-b]===A[O-b];b++);return Hn=A.slice(l,1<b?1-b:void 0)}function fu(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Os(){return!0}function oh(){return!1}function on(l){function d(m,b,A,O,B){this._reactName=m,this._targetInst=A,this.type=b,this.nativeEvent=O,this.target=B,this.currentTarget=null;for(var G in l)l.hasOwnProperty(G)&&(m=l[G],this[G]=m?m(O):O[G]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Os:oh,this.isPropagationStopped=oh,this}return Q(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),d}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=on(is),js=Q({},is,{view:0,detail:0}),zb=on(js),pu,go,xa,jl=Q({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==xa&&(xa&&l.type==="mousemove"?(pu=l.screenX-xa.screenX,go=l.screenY-xa.screenY):go=pu=0,xa=l),pu)},movementY:function(l){return"movementY"in l?l.movementY:go}}),mu=on(jl),ah=Q({},jl,{dataTransfer:0}),_g=on(ah),gu=Q({},js,{relatedTarget:0}),yu=on(gu),Sg=Q({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),yo=on(Sg),Eg=Q({},is,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Tg=on(Eg),Pg=Q({},is,{data:0}),lh=on(Pg),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cg(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Ag[l])?!!d[l]:!1}function Rs(){return Cg}var y=Q({},js,{key:function(l){if(l.key){var d=vu[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=fu(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Mn[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(l){return l.type==="keypress"?fu(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?fu(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),k=on(y),$=Q({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q=on($),ne=Q({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),le=on(ne),Ne=Q({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rt=on(Ne),jr=Q({},jl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),xt=on(jr),Hr=[9,13,27,32],Er=a&&"CompositionEvent"in window,Ai=null;a&&"documentMode"in document&&(Ai=document.documentMode);var li=a&&"TextEvent"in window&&!Ai,Rl=a&&(!Er||Ai&&8<Ai&&11>=Ai),xu=" ",Hk=!1;function Gk(l,d){switch(l){case"keyup":return Hr.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kk(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var bu=!1;function TG(l,d){switch(l){case"compositionend":return Kk(d);case"keypress":return d.which!==32?null:(Hk=!0,xu);case"textInput":return l=d.data,l===xu&&Hk?null:l;default:return null}}function PG(l,d){if(bu)return l==="compositionend"||!Er&&Gk(l,d)?(l=sh(),Hn=du=ai=null,bu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Rl&&d.locale!=="ko"?null:d.data;default:return null}}var AG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yk(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!AG[l.type]:d==="textarea"}function Xk(l,d,m,b){Ei(b),d=jg(d,"onChange"),0<d.length&&(m=new hu("onChange","change",null,m,b),l.push({event:m,listeners:d}))}var ch=null,uh=null;function CG(l){pO(l,0)}function Ng(l){var d=Tu(l);if(ae(d))return l}function NG(l,d){if(l==="change")return d}var Qk=!1;if(a){var Wb;if(a){var Hb="oninput"in document;if(!Hb){var Jk=document.createElement("div");Jk.setAttribute("oninput","return;"),Hb=typeof Jk.oninput=="function"}Wb=Hb}else Wb=!1;Qk=Wb&&(!document.documentMode||9<document.documentMode)}function Zk(){ch&&(ch.detachEvent("onpropertychange",eO),uh=ch=null)}function eO(l){if(l.propertyName==="value"&&Ng(uh)){var d=[];Xk(d,uh,l,nt(l)),Xf(CG,d)}}function IG(l,d,m){l==="focusin"?(Zk(),ch=d,uh=m,ch.attachEvent("onpropertychange",eO)):l==="focusout"&&Zk()}function kG(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ng(uh)}function OG(l,d){if(l==="click")return Ng(d)}function jG(l,d){if(l==="input"||l==="change")return Ng(d)}function RG(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var ss=typeof Object.is=="function"?Object.is:RG;function dh(l,d){if(ss(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),b=Object.keys(d);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var A=m[b];if(!c.call(d,A)||!ss(l[A],d[A]))return!1}return!0}function tO(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function rO(l,d){var m=tO(l);l=0;for(var b;m;){if(m.nodeType===3){if(b=l+m.textContent.length,l<=d&&b>=d)return{node:m,offset:d-l};l=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=tO(m)}}function nO(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?nO(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function iO(){for(var l=window,d=Xe();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=Xe(l.document)}return d}function Gb(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function MG(l){var d=iO(),m=l.focusedElem,b=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&nO(m.ownerDocument.documentElement,m)){if(b!==null&&Gb(m)){if(d=b.start,l=b.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var A=m.textContent.length,O=Math.min(b.start,A);b=b.end===void 0?O:Math.min(b.end,A),!l.extend&&O>b&&(A=b,b=O,O=A),A=rO(m,O);var B=rO(m,b);A&&B&&(l.rangeCount!==1||l.anchorNode!==A.node||l.anchorOffset!==A.offset||l.focusNode!==B.node||l.focusOffset!==B.offset)&&(d=d.createRange(),d.setStart(A.node,A.offset),l.removeAllRanges(),O>b?(l.addRange(d),l.extend(B.node,B.offset)):(d.setEnd(B.node,B.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var DG=a&&"documentMode"in document&&11>=document.documentMode,wu=null,Kb=null,fh=null,Yb=!1;function sO(l,d,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Yb||wu==null||wu!==Xe(b)||(b=wu,"selectionStart"in b&&Gb(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),fh&&dh(fh,b)||(fh=b,b=jg(Kb,"onSelect"),0<b.length&&(d=new hu("onSelect","select",null,d,m),l.push({event:d,listeners:b}),d.target=wu)))}function Ig(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var _u={animationend:Ig("Animation","AnimationEnd"),animationiteration:Ig("Animation","AnimationIteration"),animationstart:Ig("Animation","AnimationStart"),transitionend:Ig("Transition","TransitionEnd")},Xb={},oO={};a&&(oO=document.createElement("div").style,"AnimationEvent"in window||(delete _u.animationend.animation,delete _u.animationiteration.animation,delete _u.animationstart.animation),"TransitionEvent"in window||delete _u.transitionend.transition);function kg(l){if(Xb[l])return Xb[l];if(!_u[l])return l;var d=_u[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in oO)return Xb[l]=d[m];return l}var aO=kg("animationend"),lO=kg("animationiteration"),cO=kg("animationstart"),uO=kg("transitionend"),dO=new Map,fO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(l,d){dO.set(l,d),s(d,[l])}for(var Qb=0;Qb<fO.length;Qb++){var Jb=fO[Qb],LG=Jb.toLowerCase(),$G=Jb[0].toUpperCase()+Jb.slice(1);ba(LG,"on"+$G)}ba(aO,"onAnimationEnd"),ba(lO,"onAnimationIteration"),ba(cO,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(uO,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FG=new Set("cancel close invalid load scroll toggle".split(" ").concat(hh));function hO(l,d,m){var b=l.type||"unknown-event";l.currentTarget=m,ag(b,d,void 0,l),l.currentTarget=null}function pO(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var b=l[m],A=b.event;b=b.listeners;e:{var O=void 0;if(d)for(var B=b.length-1;0<=B;B--){var G=b[B],J=G.instance,oe=G.currentTarget;if(G=G.listener,J!==O&&A.isPropagationStopped())break e;hO(A,G,oe),O=J}else for(B=0;B<b.length;B++){if(G=b[B],J=G.instance,oe=G.currentTarget,G=G.listener,J!==O&&A.isPropagationStopped())break e;hO(A,G,oe),O=J}}}if(Qi)throw l=Qf,Qi=!1,Qf=null,l}function Xt(l,d){var m=d[ow];m===void 0&&(m=d[ow]=new Set);var b=l+"__bubble";m.has(b)||(mO(d,l,2,!1),m.add(b))}function Zb(l,d,m){var b=0;d&&(b|=4),mO(m,l,b,d)}var Og="_reactListening"+Math.random().toString(36).slice(2);function ph(l){if(!l[Og]){l[Og]=!0,n.forEach(function(m){m!=="selectionchange"&&(FG.has(m)||Zb(m,!1,l),Zb(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Og]||(d[Og]=!0,Zb("selectionchange",!1,d))}}function mO(l,d,m,b){switch(ih(d)){case 1:var A=tr;break;case 4:A=qb;break;default:A=nh}m=A.bind(null,d,m,l),A=void 0,!ru||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(A=!0),b?A!==void 0?l.addEventListener(d,m,{capture:!0,passive:A}):l.addEventListener(d,m,!0):A!==void 0?l.addEventListener(d,m,{passive:A}):l.addEventListener(d,m,!1)}function ew(l,d,m,b,A){var O=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var B=b.tag;if(B===3||B===4){var G=b.stateNode.containerInfo;if(G===A||G.nodeType===8&&G.parentNode===A)break;if(B===4)for(B=b.return;B!==null;){var J=B.tag;if((J===3||J===4)&&(J=B.stateNode.containerInfo,J===A||J.nodeType===8&&J.parentNode===A))return;B=B.return}for(;G!==null;){if(B=Ml(G),B===null)return;if(J=B.tag,J===5||J===6){b=O=B;continue e}G=G.parentNode}}b=b.return}Xf(function(){var oe=O,ye=nt(m),be=[];e:{var ge=dO.get(l);if(ge!==void 0){var Oe=hu,$e=l;switch(l){case"keypress":if(fu(m)===0)break e;case"keydown":case"keyup":Oe=k;break;case"focusin":$e="focus",Oe=yu;break;case"focusout":$e="blur",Oe=yu;break;case"beforeblur":case"afterblur":Oe=yu;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=_g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=le;break;case aO:case lO:case cO:Oe=yo;break;case uO:Oe=Rt;break;case"scroll":Oe=zb;break;case"wheel":Oe=xt;break;case"copy":case"cut":case"paste":Oe=Tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=q}var Be=(d&4)!==0,yr=!Be&&l==="scroll",ie=Be?ge!==null?ge+"Capture":null:ge;Be=[];for(var ee=oe,se;ee!==null;){se=ee;var _e=se.stateNode;if(se.tag===5&&_e!==null&&(se=_e,ie!==null&&(_e=gr(ee,ie),_e!=null&&Be.push(mh(ee,_e,se)))),yr)break;ee=ee.return}0<Be.length&&(ge=new Oe(ge,$e,null,m,ye),be.push({event:ge,listeners:Be}))}}if((d&7)===0){e:{if(ge=l==="mouseover"||l==="pointerover",Oe=l==="mouseout"||l==="pointerout",ge&&m!==Yt&&($e=m.relatedTarget||m.fromElement)&&(Ml($e)||$e[vo]))break e;if((Oe||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,Oe?($e=m.relatedTarget||m.toElement,Oe=oe,$e=$e?Ml($e):null,$e!==null&&(yr=Ji($e),$e!==yr||$e.tag!==5&&$e.tag!==6)&&($e=null)):(Oe=null,$e=oe),Oe!==$e)){if(Be=mu,_e="onMouseLeave",ie="onMouseEnter",ee="mouse",(l==="pointerout"||l==="pointerover")&&(Be=q,_e="onPointerLeave",ie="onPointerEnter",ee="pointer"),yr=Oe==null?ge:Tu(Oe),se=$e==null?ge:Tu($e),ge=new Be(_e,ee+"leave",Oe,m,ye),ge.target=yr,ge.relatedTarget=se,_e=null,Ml(ye)===oe&&(Be=new Be(ie,ee+"enter",$e,m,ye),Be.target=se,Be.relatedTarget=yr,_e=Be),yr=_e,Oe&&$e)t:{for(Be=Oe,ie=$e,ee=0,se=Be;se;se=Su(se))ee++;for(se=0,_e=ie;_e;_e=Su(_e))se++;for(;0<ee-se;)Be=Su(Be),ee--;for(;0<se-ee;)ie=Su(ie),se--;for(;ee--;){if(Be===ie||ie!==null&&Be===ie.alternate)break t;Be=Su(Be),ie=Su(ie)}Be=null}else Be=null;Oe!==null&&gO(be,ge,Oe,Be,!1),$e!==null&&yr!==null&&gO(be,yr,$e,Be,!0)}}e:{if(ge=oe?Tu(oe):window,Oe=ge.nodeName&&ge.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&ge.type==="file")var ze=NG;else if(Yk(ge))if(Qk)ze=jG;else{ze=kG;var Ge=IG}else(Oe=ge.nodeName)&&Oe.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(ze=OG);if(ze&&(ze=ze(l,oe))){Xk(be,ze,m,ye);break e}Ge&&Ge(l,ge,oe),l==="focusout"&&(Ge=ge._wrapperState)&&Ge.controlled&&ge.type==="number"&&ct(ge,"number",ge.value)}switch(Ge=oe?Tu(oe):window,l){case"focusin":(Yk(Ge)||Ge.contentEditable==="true")&&(wu=Ge,Kb=oe,fh=null);break;case"focusout":fh=Kb=wu=null;break;case"mousedown":Yb=!0;break;case"contextmenu":case"mouseup":case"dragend":Yb=!1,sO(be,m,ye);break;case"selectionchange":if(DG)break;case"keydown":case"keyup":sO(be,m,ye)}var Ke;if(Er)e:{switch(l){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else bu?Gk(l,m)&&(tt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(tt="onCompositionStart");tt&&(Rl&&m.locale!=="ko"&&(bu||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&bu&&(Ke=sh()):(ai=ye,du="value"in ai?ai.value:ai.textContent,bu=!0)),Ge=jg(oe,tt),0<Ge.length&&(tt=new lh(tt,l,null,m,ye),be.push({event:tt,listeners:Ge}),Ke?tt.data=Ke:(Ke=Kk(m),Ke!==null&&(tt.data=Ke)))),(Ke=li?TG(l,m):PG(l,m))&&(oe=jg(oe,"onBeforeInput"),0<oe.length&&(ye=new lh("onBeforeInput","beforeinput",null,m,ye),be.push({event:ye,listeners:oe}),ye.data=Ke))}pO(be,d)})}function mh(l,d,m){return{instance:l,listener:d,currentTarget:m}}function jg(l,d){for(var m=d+"Capture",b=[];l!==null;){var A=l,O=A.stateNode;A.tag===5&&O!==null&&(A=O,O=gr(l,m),O!=null&&b.unshift(mh(l,O,A)),O=gr(l,d),O!=null&&b.push(mh(l,O,A))),l=l.return}return b}function Su(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function gO(l,d,m,b,A){for(var O=d._reactName,B=[];m!==null&&m!==b;){var G=m,J=G.alternate,oe=G.stateNode;if(J!==null&&J===b)break;G.tag===5&&oe!==null&&(G=oe,A?(J=gr(m,O),J!=null&&B.unshift(mh(m,J,G))):A||(J=gr(m,O),J!=null&&B.push(mh(m,J,G)))),m=m.return}B.length!==0&&l.push({event:d,listeners:B})}var VG=/\r\n?/g,BG=/\u0000|\uFFFD/g;function yO(l){return(typeof l=="string"?l:""+l).replace(VG,`
`).replace(BG,"")}function Rg(l,d,m){if(d=yO(d),yO(l)!==d&&m)throw Error(r(425))}function Mg(){}var tw=null,rw=null;function nw(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var iw=typeof setTimeout=="function"?setTimeout:void 0,UG=typeof clearTimeout=="function"?clearTimeout:void 0,vO=typeof Promise=="function"?Promise:void 0,qG=typeof queueMicrotask=="function"?queueMicrotask:typeof vO<"u"?function(l){return vO.resolve(null).then(l).catch(zG)}:iw;function zG(l){setTimeout(function(){throw l})}function sw(l,d){var m=d,b=0;do{var A=m.nextSibling;if(l.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"){if(b===0){l.removeChild(A),ns(d);return}b--}else m!=="$"&&m!=="$?"&&m!=="$!"||b++;m=A}while(m);ns(d)}function wa(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function xO(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),Ms="__reactFiber$"+Eu,gh="__reactProps$"+Eu,vo="__reactContainer$"+Eu,ow="__reactEvents$"+Eu,WG="__reactListeners$"+Eu,HG="__reactHandles$"+Eu;function Ml(l){var d=l[Ms];if(d)return d;for(var m=l.parentNode;m;){if(d=m[vo]||m[Ms]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=xO(l);l!==null;){if(m=l[Ms])return m;l=xO(l)}return d}l=m,m=l.parentNode}return null}function yh(l){return l=l[Ms]||l[vo],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Tu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Dg(l){return l[gh]||null}var aw=[],Pu=-1;function _a(l){return{current:l}}function Qt(l){0>Pu||(l.current=aw[Pu],aw[Pu]=null,Pu--)}function qt(l,d){Pu++,aw[Pu]=l.current,l.current=d}var Sa={},pn=_a(Sa),Gn=_a(!1),Dl=Sa;function Au(l,d){var m=l.type.contextTypes;if(!m)return Sa;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===d)return b.__reactInternalMemoizedMaskedChildContext;var A={},O;for(O in m)A[O]=d[O];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=A),A}function Kn(l){return l=l.childContextTypes,l!=null}function Lg(){Qt(Gn),Qt(pn)}function bO(l,d,m){if(pn.current!==Sa)throw Error(r(168));qt(pn,d),qt(Gn,m)}function wO(l,d,m){var b=l.stateNode;if(d=d.childContextTypes,typeof b.getChildContext!="function")return m;b=b.getChildContext();for(var A in b)if(!(A in d))throw Error(r(108,he(l)||"Unknown",A));return Q({},m,b)}function $g(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Sa,Dl=pn.current,qt(pn,l),qt(Gn,Gn.current),!0}function _O(l,d,m){var b=l.stateNode;if(!b)throw Error(r(169));m?(l=wO(l,d,Dl),b.__reactInternalMemoizedMergedChildContext=l,Qt(Gn),Qt(pn),qt(pn,l)):Qt(Gn),qt(Gn,m)}var xo=null,Fg=!1,lw=!1;function SO(l){xo===null?xo=[l]:xo.push(l)}function GG(l){Fg=!0,SO(l)}function Ea(){if(!lw&&xo!==null){lw=!0;var l=0,d=yt;try{var m=xo;for(yt=1;l<m.length;l++){var b=m[l];do b=b(!0);while(b!==null)}xo=null,Fg=!1}catch(A){throw xo!==null&&(xo=xo.slice(l+1)),ou(Al,Ea),A}finally{yt=d,lw=!1}}return null}var Cu=[],Nu=0,Vg=null,Bg=0,Ci=[],Ni=0,Ll=null,bo=1,wo="";function $l(l,d){Cu[Nu++]=Bg,Cu[Nu++]=Vg,Vg=l,Bg=d}function EO(l,d,m){Ci[Ni++]=bo,Ci[Ni++]=wo,Ci[Ni++]=Ll,Ll=l;var b=bo;l=wo;var A=32-Rn(b)-1;b&=~(1<<A),m+=1;var O=32-Rn(d)+A;if(30<O){var B=A-A%5;O=(b&(1<<B)-1).toString(32),b>>=B,A-=B,bo=1<<32-Rn(d)+A|m<<A|b,wo=O+l}else bo=1<<O|m<<A|b,wo=l}function cw(l){l.return!==null&&($l(l,1),EO(l,1,0))}function uw(l){for(;l===Vg;)Vg=Cu[--Nu],Cu[Nu]=null,Bg=Cu[--Nu],Cu[Nu]=null;for(;l===Ll;)Ll=Ci[--Ni],Ci[Ni]=null,wo=Ci[--Ni],Ci[Ni]=null,bo=Ci[--Ni],Ci[Ni]=null}var ci=null,ui=null,rr=!1,os=null;function TO(l,d){var m=ji(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function PO(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,ci=l,ui=wa(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,ci=l,ui=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=Ll!==null?{id:bo,overflow:wo}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=ji(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,ci=l,ui=null,!0):!1;default:return!1}}function dw(l){return(l.mode&1)!==0&&(l.flags&128)===0}function fw(l){if(rr){var d=ui;if(d){var m=d;if(!PO(l,d)){if(dw(l))throw Error(r(418));d=wa(m.nextSibling);var b=ci;d&&PO(l,d)?TO(b,m):(l.flags=l.flags&-4097|2,rr=!1,ci=l)}}else{if(dw(l))throw Error(r(418));l.flags=l.flags&-4097|2,rr=!1,ci=l}}}function AO(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ci=l}function Ug(l){if(l!==ci)return!1;if(!rr)return AO(l),rr=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!nw(l.type,l.memoizedProps)),d&&(d=ui)){if(dw(l))throw CO(),Error(r(418));for(;d;)TO(l,d),d=wa(d.nextSibling)}if(AO(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){ui=wa(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}ui=null}}else ui=ci?wa(l.stateNode.nextSibling):null;return!0}function CO(){for(var l=ui;l;)l=wa(l.nextSibling)}function Iu(){ui=ci=null,rr=!1}function hw(l){os===null?os=[l]:os.push(l)}var KG=R.ReactCurrentBatchConfig;function vh(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var b=m.stateNode}if(!b)throw Error(r(147,l));var A=b,O=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===O?d.ref:(d=function(B){var G=A.refs;B===null?delete G[O]:G[O]=B},d._stringRef=O,d)}if(typeof l!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,l))}return l}function qg(l,d){throw l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function NO(l){var d=l._init;return d(l._payload)}function IO(l){function d(ie,ee){if(l){var se=ie.deletions;se===null?(ie.deletions=[ee],ie.flags|=16):se.push(ee)}}function m(ie,ee){if(!l)return null;for(;ee!==null;)d(ie,ee),ee=ee.sibling;return null}function b(ie,ee){for(ie=new Map;ee!==null;)ee.key!==null?ie.set(ee.key,ee):ie.set(ee.index,ee),ee=ee.sibling;return ie}function A(ie,ee){return ie=Oa(ie,ee),ie.index=0,ie.sibling=null,ie}function O(ie,ee,se){return ie.index=se,l?(se=ie.alternate,se!==null?(se=se.index,se<ee?(ie.flags|=2,ee):se):(ie.flags|=2,ee)):(ie.flags|=1048576,ee)}function B(ie){return l&&ie.alternate===null&&(ie.flags|=2),ie}function G(ie,ee,se,_e){return ee===null||ee.tag!==6?(ee=i_(se,ie.mode,_e),ee.return=ie,ee):(ee=A(ee,se),ee.return=ie,ee)}function J(ie,ee,se,_e){var ze=se.type;return ze===I?ye(ie,ee,se.props.children,_e,se.key):ee!==null&&(ee.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===X&&NO(ze)===ee.type)?(_e=A(ee,se.props),_e.ref=vh(ie,ee,se),_e.return=ie,_e):(_e=hy(se.type,se.key,se.props,null,ie.mode,_e),_e.ref=vh(ie,ee,se),_e.return=ie,_e)}function oe(ie,ee,se,_e){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==se.containerInfo||ee.stateNode.implementation!==se.implementation?(ee=s_(se,ie.mode,_e),ee.return=ie,ee):(ee=A(ee,se.children||[]),ee.return=ie,ee)}function ye(ie,ee,se,_e,ze){return ee===null||ee.tag!==7?(ee=Hl(se,ie.mode,_e,ze),ee.return=ie,ee):(ee=A(ee,se),ee.return=ie,ee)}function be(ie,ee,se){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=i_(""+ee,ie.mode,se),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case N:return se=hy(ee.type,ee.key,ee.props,null,ie.mode,se),se.ref=vh(ie,null,ee),se.return=ie,se;case M:return ee=s_(ee,ie.mode,se),ee.return=ie,ee;case X:var _e=ee._init;return be(ie,_e(ee._payload),se)}if(kt(ee)||te(ee))return ee=Hl(ee,ie.mode,se,null),ee.return=ie,ee;qg(ie,ee)}return null}function ge(ie,ee,se,_e){var ze=ee!==null?ee.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return ze!==null?null:G(ie,ee,""+se,_e);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case N:return se.key===ze?J(ie,ee,se,_e):null;case M:return se.key===ze?oe(ie,ee,se,_e):null;case X:return ze=se._init,ge(ie,ee,ze(se._payload),_e)}if(kt(se)||te(se))return ze!==null?null:ye(ie,ee,se,_e,null);qg(ie,se)}return null}function Oe(ie,ee,se,_e,ze){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return ie=ie.get(se)||null,G(ee,ie,""+_e,ze);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case N:return ie=ie.get(_e.key===null?se:_e.key)||null,J(ee,ie,_e,ze);case M:return ie=ie.get(_e.key===null?se:_e.key)||null,oe(ee,ie,_e,ze);case X:var Ge=_e._init;return Oe(ie,ee,se,Ge(_e._payload),ze)}if(kt(_e)||te(_e))return ie=ie.get(se)||null,ye(ee,ie,_e,ze,null);qg(ee,_e)}return null}function $e(ie,ee,se,_e){for(var ze=null,Ge=null,Ke=ee,tt=ee=0,Yr=null;Ke!==null&&tt<se.length;tt++){Ke.index>tt?(Yr=Ke,Ke=null):Yr=Ke.sibling;var Et=ge(ie,Ke,se[tt],_e);if(Et===null){Ke===null&&(Ke=Yr);break}l&&Ke&&Et.alternate===null&&d(ie,Ke),ee=O(Et,ee,tt),Ge===null?ze=Et:Ge.sibling=Et,Ge=Et,Ke=Yr}if(tt===se.length)return m(ie,Ke),rr&&$l(ie,tt),ze;if(Ke===null){for(;tt<se.length;tt++)Ke=be(ie,se[tt],_e),Ke!==null&&(ee=O(Ke,ee,tt),Ge===null?ze=Ke:Ge.sibling=Ke,Ge=Ke);return rr&&$l(ie,tt),ze}for(Ke=b(ie,Ke);tt<se.length;tt++)Yr=Oe(Ke,ie,tt,se[tt],_e),Yr!==null&&(l&&Yr.alternate!==null&&Ke.delete(Yr.key===null?tt:Yr.key),ee=O(Yr,ee,tt),Ge===null?ze=Yr:Ge.sibling=Yr,Ge=Yr);return l&&Ke.forEach(function(ja){return d(ie,ja)}),rr&&$l(ie,tt),ze}function Be(ie,ee,se,_e){var ze=te(se);if(typeof ze!="function")throw Error(r(150));if(se=ze.call(se),se==null)throw Error(r(151));for(var Ge=ze=null,Ke=ee,tt=ee=0,Yr=null,Et=se.next();Ke!==null&&!Et.done;tt++,Et=se.next()){Ke.index>tt?(Yr=Ke,Ke=null):Yr=Ke.sibling;var ja=ge(ie,Ke,Et.value,_e);if(ja===null){Ke===null&&(Ke=Yr);break}l&&Ke&&ja.alternate===null&&d(ie,Ke),ee=O(ja,ee,tt),Ge===null?ze=ja:Ge.sibling=ja,Ge=ja,Ke=Yr}if(Et.done)return m(ie,Ke),rr&&$l(ie,tt),ze;if(Ke===null){for(;!Et.done;tt++,Et=se.next())Et=be(ie,Et.value,_e),Et!==null&&(ee=O(Et,ee,tt),Ge===null?ze=Et:Ge.sibling=Et,Ge=Et);return rr&&$l(ie,tt),ze}for(Ke=b(ie,Ke);!Et.done;tt++,Et=se.next())Et=Oe(Ke,ie,tt,Et.value,_e),Et!==null&&(l&&Et.alternate!==null&&Ke.delete(Et.key===null?tt:Et.key),ee=O(Et,ee,tt),Ge===null?ze=Et:Ge.sibling=Et,Ge=Et);return l&&Ke.forEach(function(AK){return d(ie,AK)}),rr&&$l(ie,tt),ze}function yr(ie,ee,se,_e){if(typeof se=="object"&&se!==null&&se.type===I&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case N:e:{for(var ze=se.key,Ge=ee;Ge!==null;){if(Ge.key===ze){if(ze=se.type,ze===I){if(Ge.tag===7){m(ie,Ge.sibling),ee=A(Ge,se.props.children),ee.return=ie,ie=ee;break e}}else if(Ge.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===X&&NO(ze)===Ge.type){m(ie,Ge.sibling),ee=A(Ge,se.props),ee.ref=vh(ie,Ge,se),ee.return=ie,ie=ee;break e}m(ie,Ge);break}else d(ie,Ge);Ge=Ge.sibling}se.type===I?(ee=Hl(se.props.children,ie.mode,_e,se.key),ee.return=ie,ie=ee):(_e=hy(se.type,se.key,se.props,null,ie.mode,_e),_e.ref=vh(ie,ee,se),_e.return=ie,ie=_e)}return B(ie);case M:e:{for(Ge=se.key;ee!==null;){if(ee.key===Ge)if(ee.tag===4&&ee.stateNode.containerInfo===se.containerInfo&&ee.stateNode.implementation===se.implementation){m(ie,ee.sibling),ee=A(ee,se.children||[]),ee.return=ie,ie=ee;break e}else{m(ie,ee);break}else d(ie,ee);ee=ee.sibling}ee=s_(se,ie.mode,_e),ee.return=ie,ie=ee}return B(ie);case X:return Ge=se._init,yr(ie,ee,Ge(se._payload),_e)}if(kt(se))return $e(ie,ee,se,_e);if(te(se))return Be(ie,ee,se,_e);qg(ie,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,ee!==null&&ee.tag===6?(m(ie,ee.sibling),ee=A(ee,se),ee.return=ie,ie=ee):(m(ie,ee),ee=i_(se,ie.mode,_e),ee.return=ie,ie=ee),B(ie)):m(ie,ee)}return yr}var ku=IO(!0),kO=IO(!1),zg=_a(null),Wg=null,Ou=null,pw=null;function mw(){pw=Ou=Wg=null}function gw(l){var d=zg.current;Qt(zg),l._currentValue=d}function yw(l,d,m){for(;l!==null;){var b=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),l===m)break;l=l.return}}function ju(l,d){Wg=l,pw=Ou=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(Yn=!0),l.firstContext=null)}function Ii(l){var d=l._currentValue;if(pw!==l)if(l={context:l,memoizedValue:d,next:null},Ou===null){if(Wg===null)throw Error(r(308));Ou=l,Wg.dependencies={lanes:0,firstContext:l}}else Ou=Ou.next=l;return d}var Fl=null;function vw(l){Fl===null?Fl=[l]:Fl.push(l)}function OO(l,d,m,b){var A=d.interleaved;return A===null?(m.next=m,vw(d)):(m.next=A.next,A.next=m),d.interleaved=m,_o(l,b)}function _o(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Ta=!1;function xw(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jO(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function So(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function Pa(l,d,m){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(_t&2)!==0){var A=b.pending;return A===null?d.next=d:(d.next=A.next,A.next=d),b.pending=d,_o(l,m)}return A=b.interleaved,A===null?(d.next=d,vw(b)):(d.next=A.next,A.next=d),b.interleaved=d,_o(l,m)}function Hg(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var b=d.lanes;b&=l.pendingLanes,m|=b,d.lanes=m,ma(l,m)}}function RO(l,d){var m=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var A=null,O=null;if(m=m.firstBaseUpdate,m!==null){do{var B={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};O===null?A=O=B:O=O.next=B,m=m.next}while(m!==null);O===null?A=O=d:O=O.next=d}else A=O=d;m={baseState:b.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:b.shared,effects:b.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function Gg(l,d,m,b){var A=l.updateQueue;Ta=!1;var O=A.firstBaseUpdate,B=A.lastBaseUpdate,G=A.shared.pending;if(G!==null){A.shared.pending=null;var J=G,oe=J.next;J.next=null,B===null?O=oe:B.next=oe,B=J;var ye=l.alternate;ye!==null&&(ye=ye.updateQueue,G=ye.lastBaseUpdate,G!==B&&(G===null?ye.firstBaseUpdate=oe:G.next=oe,ye.lastBaseUpdate=J))}if(O!==null){var be=A.baseState;B=0,ye=oe=J=null,G=O;do{var ge=G.lane,Oe=G.eventTime;if((b&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Oe,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var $e=l,Be=G;switch(ge=d,Oe=m,Be.tag){case 1:if($e=Be.payload,typeof $e=="function"){be=$e.call(Oe,be,ge);break e}be=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Be.payload,ge=typeof $e=="function"?$e.call(Oe,be,ge):$e,ge==null)break e;be=Q({},be,ge);break e;case 2:Ta=!0}}G.callback!==null&&G.lane!==0&&(l.flags|=64,ge=A.effects,ge===null?A.effects=[G]:ge.push(G))}else Oe={eventTime:Oe,lane:ge,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ye===null?(oe=ye=Oe,J=be):ye=ye.next=Oe,B|=ge;if(G=G.next,G===null){if(G=A.shared.pending,G===null)break;ge=G,G=ge.next,ge.next=null,A.lastBaseUpdate=ge,A.shared.pending=null}}while(!0);if(ye===null&&(J=be),A.baseState=J,A.firstBaseUpdate=oe,A.lastBaseUpdate=ye,d=A.shared.interleaved,d!==null){A=d;do B|=A.lane,A=A.next;while(A!==d)}else O===null&&(A.shared.lanes=0);Ul|=B,l.lanes=B,l.memoizedState=be}}function MO(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var b=l[d],A=b.callback;if(A!==null){if(b.callback=null,b=m,typeof A!="function")throw Error(r(191,A));A.call(b)}}}var xh={},Ds=_a(xh),bh=_a(xh),wh=_a(xh);function Vl(l){if(l===xh)throw Error(r(174));return l}function bw(l,d){switch(qt(wh,d),qt(bh,l),qt(Ds,xh),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:er(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=er(d,l)}Qt(Ds),qt(Ds,d)}function Ru(){Qt(Ds),Qt(bh),Qt(wh)}function DO(l){Vl(wh.current);var d=Vl(Ds.current),m=er(d,l.type);d!==m&&(qt(bh,l),qt(Ds,m))}function ww(l){bh.current===l&&(Qt(Ds),Qt(bh))}var ar=_a(0);function Kg(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var _w=[];function Sw(){for(var l=0;l<_w.length;l++)_w[l]._workInProgressVersionPrimary=null;_w.length=0}var Yg=R.ReactCurrentDispatcher,Ew=R.ReactCurrentBatchConfig,Bl=0,lr=null,Rr=null,Gr=null,Xg=!1,_h=!1,Sh=0,YG=0;function mn(){throw Error(r(321))}function Tw(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!ss(l[m],d[m]))return!1;return!0}function Pw(l,d,m,b,A,O){if(Bl=O,lr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Yg.current=l===null||l.memoizedState===null?ZG:eK,l=m(b,A),_h){O=0;do{if(_h=!1,Sh=0,25<=O)throw Error(r(301));O+=1,Gr=Rr=null,d.updateQueue=null,Yg.current=tK,l=m(b,A)}while(_h)}if(Yg.current=Zg,d=Rr!==null&&Rr.next!==null,Bl=0,Gr=Rr=lr=null,Xg=!1,d)throw Error(r(300));return l}function Aw(){var l=Sh!==0;return Sh=0,l}function Ls(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?lr.memoizedState=Gr=l:Gr=Gr.next=l,Gr}function ki(){if(Rr===null){var l=lr.alternate;l=l!==null?l.memoizedState:null}else l=Rr.next;var d=Gr===null?lr.memoizedState:Gr.next;if(d!==null)Gr=d,Rr=l;else{if(l===null)throw Error(r(310));Rr=l,l={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Gr===null?lr.memoizedState=Gr=l:Gr=Gr.next=l}return Gr}function Eh(l,d){return typeof d=="function"?d(l):d}function Cw(l){var d=ki(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var b=Rr,A=b.baseQueue,O=m.pending;if(O!==null){if(A!==null){var B=A.next;A.next=O.next,O.next=B}b.baseQueue=A=O,m.pending=null}if(A!==null){O=A.next,b=b.baseState;var G=B=null,J=null,oe=O;do{var ye=oe.lane;if((Bl&ye)===ye)J!==null&&(J=J.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),b=oe.hasEagerState?oe.eagerState:l(b,oe.action);else{var be={lane:ye,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};J===null?(G=J=be,B=b):J=J.next=be,lr.lanes|=ye,Ul|=ye}oe=oe.next}while(oe!==null&&oe!==O);J===null?B=b:J.next=G,ss(b,d.memoizedState)||(Yn=!0),d.memoizedState=b,d.baseState=B,d.baseQueue=J,m.lastRenderedState=b}if(l=m.interleaved,l!==null){A=l;do O=A.lane,lr.lanes|=O,Ul|=O,A=A.next;while(A!==l)}else A===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function Nw(l){var d=ki(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var b=m.dispatch,A=m.pending,O=d.memoizedState;if(A!==null){m.pending=null;var B=A=A.next;do O=l(O,B.action),B=B.next;while(B!==A);ss(O,d.memoizedState)||(Yn=!0),d.memoizedState=O,d.baseQueue===null&&(d.baseState=O),m.lastRenderedState=O}return[O,b]}function LO(){}function $O(l,d){var m=lr,b=ki(),A=d(),O=!ss(b.memoizedState,A);if(O&&(b.memoizedState=A,Yn=!0),b=b.queue,Iw(BO.bind(null,m,b,l),[l]),b.getSnapshot!==d||O||Gr!==null&&Gr.memoizedState.tag&1){if(m.flags|=2048,Th(9,VO.bind(null,m,b,A,d),void 0,null),Kr===null)throw Error(r(349));(Bl&30)!==0||FO(m,d,A)}return A}function FO(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=lr.updateQueue,d===null?(d={lastEffect:null,stores:null},lr.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function VO(l,d,m,b){d.value=m,d.getSnapshot=b,UO(d)&&qO(l)}function BO(l,d,m){return m(function(){UO(d)&&qO(l)})}function UO(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!ss(l,m)}catch{return!0}}function qO(l){var d=_o(l,1);d!==null&&us(d,l,1,-1)}function zO(l){var d=Ls();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:l},d.queue=l,l=l.dispatch=JG.bind(null,lr,l),[d.memoizedState,l]}function Th(l,d,m,b){return l={tag:l,create:d,destroy:m,deps:b,next:null},d=lr.updateQueue,d===null?(d={lastEffect:null,stores:null},lr.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(b=m.next,m.next=l,l.next=b,d.lastEffect=l)),l}function WO(){return ki().memoizedState}function Qg(l,d,m,b){var A=Ls();lr.flags|=l,A.memoizedState=Th(1|d,m,void 0,b===void 0?null:b)}function Jg(l,d,m,b){var A=ki();b=b===void 0?null:b;var O=void 0;if(Rr!==null){var B=Rr.memoizedState;if(O=B.destroy,b!==null&&Tw(b,B.deps)){A.memoizedState=Th(d,m,O,b);return}}lr.flags|=l,A.memoizedState=Th(1|d,m,O,b)}function HO(l,d){return Qg(8390656,8,l,d)}function Iw(l,d){return Jg(2048,8,l,d)}function GO(l,d){return Jg(4,2,l,d)}function KO(l,d){return Jg(4,4,l,d)}function YO(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function XO(l,d,m){return m=m!=null?m.concat([l]):null,Jg(4,4,YO.bind(null,d,l),m)}function kw(){}function QO(l,d){var m=ki();d=d===void 0?null:d;var b=m.memoizedState;return b!==null&&d!==null&&Tw(d,b[1])?b[0]:(m.memoizedState=[l,d],l)}function JO(l,d){var m=ki();d=d===void 0?null:d;var b=m.memoizedState;return b!==null&&d!==null&&Tw(d,b[1])?b[0]:(l=l(),m.memoizedState=[l,d],l)}function ZO(l,d,m){return(Bl&21)===0?(l.baseState&&(l.baseState=!1,Yn=!0),l.memoizedState=m):(ss(m,d)||(m=Il(),lr.lanes|=m,Ul|=m,l.baseState=!0),d)}function XG(l,d){var m=yt;yt=m!==0&&4>m?m:4,l(!0);var b=Ew.transition;Ew.transition={};try{l(!1),d()}finally{yt=m,Ew.transition=b}}function ej(){return ki().memoizedState}function QG(l,d,m){var b=Ia(l);if(m={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null},tj(l))rj(d,m);else if(m=OO(l,d,m,b),m!==null){var A=Ln();us(m,l,b,A),nj(m,d,b)}}function JG(l,d,m){var b=Ia(l),A={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null};if(tj(l))rj(d,A);else{var O=l.alternate;if(l.lanes===0&&(O===null||O.lanes===0)&&(O=d.lastRenderedReducer,O!==null))try{var B=d.lastRenderedState,G=O(B,m);if(A.hasEagerState=!0,A.eagerState=G,ss(G,B)){var J=d.interleaved;J===null?(A.next=A,vw(d)):(A.next=J.next,J.next=A),d.interleaved=A;return}}catch{}finally{}m=OO(l,d,A,b),m!==null&&(A=Ln(),us(m,l,b,A),nj(m,d,b))}}function tj(l){var d=l.alternate;return l===lr||d!==null&&d===lr}function rj(l,d){_h=Xg=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function nj(l,d,m){if((m&4194240)!==0){var b=d.lanes;b&=l.pendingLanes,m|=b,d.lanes=m,ma(l,m)}}var Zg={readContext:Ii,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},ZG={readContext:Ii,useCallback:function(l,d){return Ls().memoizedState=[l,d===void 0?null:d],l},useContext:Ii,useEffect:HO,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,Qg(4194308,4,YO.bind(null,d,l),m)},useLayoutEffect:function(l,d){return Qg(4194308,4,l,d)},useInsertionEffect:function(l,d){return Qg(4,2,l,d)},useMemo:function(l,d){var m=Ls();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var b=Ls();return d=m!==void 0?m(d):d,b.memoizedState=b.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},b.queue=l,l=l.dispatch=QG.bind(null,lr,l),[b.memoizedState,l]},useRef:function(l){var d=Ls();return l={current:l},d.memoizedState=l},useState:zO,useDebugValue:kw,useDeferredValue:function(l){return Ls().memoizedState=l},useTransition:function(){var l=zO(!1),d=l[0];return l=XG.bind(null,l[1]),Ls().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var b=lr,A=Ls();if(rr){if(m===void 0)throw Error(r(407));m=m()}else{if(m=d(),Kr===null)throw Error(r(349));(Bl&30)!==0||FO(b,d,m)}A.memoizedState=m;var O={value:m,getSnapshot:d};return A.queue=O,HO(BO.bind(null,b,O,l),[l]),b.flags|=2048,Th(9,VO.bind(null,b,O,m,d),void 0,null),m},useId:function(){var l=Ls(),d=Kr.identifierPrefix;if(rr){var m=wo,b=bo;m=(b&~(1<<32-Rn(b)-1)).toString(32)+m,d=":"+d+"R"+m,m=Sh++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=YG++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},eK={readContext:Ii,useCallback:QO,useContext:Ii,useEffect:Iw,useImperativeHandle:XO,useInsertionEffect:GO,useLayoutEffect:KO,useMemo:JO,useReducer:Cw,useRef:WO,useState:function(){return Cw(Eh)},useDebugValue:kw,useDeferredValue:function(l){var d=ki();return ZO(d,Rr.memoizedState,l)},useTransition:function(){var l=Cw(Eh)[0],d=ki().memoizedState;return[l,d]},useMutableSource:LO,useSyncExternalStore:$O,useId:ej,unstable_isNewReconciler:!1},tK={readContext:Ii,useCallback:QO,useContext:Ii,useEffect:Iw,useImperativeHandle:XO,useInsertionEffect:GO,useLayoutEffect:KO,useMemo:JO,useReducer:Nw,useRef:WO,useState:function(){return Nw(Eh)},useDebugValue:kw,useDeferredValue:function(l){var d=ki();return Rr===null?d.memoizedState=l:ZO(d,Rr.memoizedState,l)},useTransition:function(){var l=Nw(Eh)[0],d=ki().memoizedState;return[l,d]},useMutableSource:LO,useSyncExternalStore:$O,useId:ej,unstable_isNewReconciler:!1};function as(l,d){if(l&&l.defaultProps){d=Q({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function Ow(l,d,m,b){d=l.memoizedState,m=m(b,d),m=m==null?d:Q({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var ey={isMounted:function(l){return(l=l._reactInternals)?Ji(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var b=Ln(),A=Ia(l),O=So(b,A);O.payload=d,m!=null&&(O.callback=m),d=Pa(l,O,A),d!==null&&(us(d,l,A,b),Hg(d,l,A))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var b=Ln(),A=Ia(l),O=So(b,A);O.tag=1,O.payload=d,m!=null&&(O.callback=m),d=Pa(l,O,A),d!==null&&(us(d,l,A,b),Hg(d,l,A))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=Ln(),b=Ia(l),A=So(m,b);A.tag=2,d!=null&&(A.callback=d),d=Pa(l,A,b),d!==null&&(us(d,l,b,m),Hg(d,l,b))}};function ij(l,d,m,b,A,O,B){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,O,B):d.prototype&&d.prototype.isPureReactComponent?!dh(m,b)||!dh(A,O):!0}function sj(l,d,m){var b=!1,A=Sa,O=d.contextType;return typeof O=="object"&&O!==null?O=Ii(O):(A=Kn(d)?Dl:pn.current,b=d.contextTypes,O=(b=b!=null)?Au(l,A):Sa),d=new d(m,O),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ey,l.stateNode=d,d._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=A,l.__reactInternalMemoizedMaskedChildContext=O),d}function oj(l,d,m,b){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,b),d.state!==l&&ey.enqueueReplaceState(d,d.state,null)}function jw(l,d,m,b){var A=l.stateNode;A.props=m,A.state=l.memoizedState,A.refs={},xw(l);var O=d.contextType;typeof O=="object"&&O!==null?A.context=Ii(O):(O=Kn(d)?Dl:pn.current,A.context=Au(l,O)),A.state=l.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(Ow(l,d,O,m),A.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(d=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),d!==A.state&&ey.enqueueReplaceState(A,A.state,null),Gg(l,m,A,b),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308)}function Mu(l,d){try{var m="",b=d;do m+=Ee(b),b=b.return;while(b);var A=m}catch(O){A=`
Error generating stack: `+O.message+`
`+O.stack}return{value:l,source:d,stack:A,digest:null}}function Rw(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function Mw(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var rK=typeof WeakMap=="function"?WeakMap:Map;function aj(l,d,m){m=So(-1,m),m.tag=3,m.payload={element:null};var b=d.value;return m.callback=function(){ay||(ay=!0,Xw=b),Mw(l,d)},m}function lj(l,d,m){m=So(-1,m),m.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var A=d.value;m.payload=function(){return b(A)},m.callback=function(){Mw(l,d)}}var O=l.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(m.callback=function(){Mw(l,d),typeof b!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var B=d.stack;this.componentDidCatch(d.value,{componentStack:B!==null?B:""})}),m}function cj(l,d,m){var b=l.pingCache;if(b===null){b=l.pingCache=new rK;var A=new Set;b.set(d,A)}else A=b.get(d),A===void 0&&(A=new Set,b.set(d,A));A.has(m)||(A.add(m),l=gK.bind(null,l,d,m),d.then(l,l))}function uj(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function dj(l,d,m,b,A){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=So(-1,1),d.tag=2,Pa(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=A,l)}var nK=R.ReactCurrentOwner,Yn=!1;function Dn(l,d,m,b){d.child=l===null?kO(d,null,m,b):ku(d,l.child,m,b)}function fj(l,d,m,b,A){m=m.render;var O=d.ref;return ju(d,A),b=Pw(l,d,m,b,O,A),m=Aw(),l!==null&&!Yn?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~A,Eo(l,d,A)):(rr&&m&&cw(d),d.flags|=1,Dn(l,d,b,A),d.child)}function hj(l,d,m,b,A){if(l===null){var O=m.type;return typeof O=="function"&&!n_(O)&&O.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=O,pj(l,d,O,b,A)):(l=hy(m.type,null,b,d,d.mode,A),l.ref=d.ref,l.return=d,d.child=l)}if(O=l.child,(l.lanes&A)===0){var B=O.memoizedProps;if(m=m.compare,m=m!==null?m:dh,m(B,b)&&l.ref===d.ref)return Eo(l,d,A)}return d.flags|=1,l=Oa(O,b),l.ref=d.ref,l.return=d,d.child=l}function pj(l,d,m,b,A){if(l!==null){var O=l.memoizedProps;if(dh(O,b)&&l.ref===d.ref)if(Yn=!1,d.pendingProps=b=O,(l.lanes&A)!==0)(l.flags&131072)!==0&&(Yn=!0);else return d.lanes=l.lanes,Eo(l,d,A)}return Dw(l,d,m,b,A)}function mj(l,d,m){var b=d.pendingProps,A=b.children,O=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Lu,di),di|=m;else{if((m&1073741824)===0)return l=O!==null?O.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,qt(Lu,di),di|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=O!==null?O.baseLanes:m,qt(Lu,di),di|=b}else O!==null?(b=O.baseLanes|m,d.memoizedState=null):b=m,qt(Lu,di),di|=b;return Dn(l,d,A,m),d.child}function gj(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function Dw(l,d,m,b,A){var O=Kn(m)?Dl:pn.current;return O=Au(d,O),ju(d,A),m=Pw(l,d,m,b,O,A),b=Aw(),l!==null&&!Yn?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~A,Eo(l,d,A)):(rr&&b&&cw(d),d.flags|=1,Dn(l,d,m,A),d.child)}function yj(l,d,m,b,A){if(Kn(m)){var O=!0;$g(d)}else O=!1;if(ju(d,A),d.stateNode===null)ry(l,d),sj(d,m,b),jw(d,m,b,A),b=!0;else if(l===null){var B=d.stateNode,G=d.memoizedProps;B.props=G;var J=B.context,oe=m.contextType;typeof oe=="object"&&oe!==null?oe=Ii(oe):(oe=Kn(m)?Dl:pn.current,oe=Au(d,oe));var ye=m.getDerivedStateFromProps,be=typeof ye=="function"||typeof B.getSnapshotBeforeUpdate=="function";be||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(G!==b||J!==oe)&&oj(d,B,b,oe),Ta=!1;var ge=d.memoizedState;B.state=ge,Gg(d,b,B,A),J=d.memoizedState,G!==b||ge!==J||Gn.current||Ta?(typeof ye=="function"&&(Ow(d,m,ye,b),J=d.memoizedState),(G=Ta||ij(d,m,G,b,ge,J,oe))?(be||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(d.flags|=4194308)):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=J),B.props=b,B.state=J,B.context=oe,b=G):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{B=d.stateNode,jO(l,d),G=d.memoizedProps,oe=d.type===d.elementType?G:as(d.type,G),B.props=oe,be=d.pendingProps,ge=B.context,J=m.contextType,typeof J=="object"&&J!==null?J=Ii(J):(J=Kn(m)?Dl:pn.current,J=Au(d,J));var Oe=m.getDerivedStateFromProps;(ye=typeof Oe=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(G!==be||ge!==J)&&oj(d,B,b,J),Ta=!1,ge=d.memoizedState,B.state=ge,Gg(d,b,B,A);var $e=d.memoizedState;G!==be||ge!==$e||Gn.current||Ta?(typeof Oe=="function"&&(Ow(d,m,Oe,b),$e=d.memoizedState),(oe=Ta||ij(d,m,oe,b,ge,$e,J)||!1)?(ye||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(b,$e,J),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(b,$e,J)),typeof B.componentDidUpdate=="function"&&(d.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof B.componentDidUpdate!="function"||G===l.memoizedProps&&ge===l.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&ge===l.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=$e),B.props=b,B.state=$e,B.context=J,b=oe):(typeof B.componentDidUpdate!="function"||G===l.memoizedProps&&ge===l.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&ge===l.memoizedState||(d.flags|=1024),b=!1)}return Lw(l,d,m,b,O,A)}function Lw(l,d,m,b,A,O){gj(l,d);var B=(d.flags&128)!==0;if(!b&&!B)return A&&_O(d,m,!1),Eo(l,d,O);b=d.stateNode,nK.current=d;var G=B&&typeof m.getDerivedStateFromError!="function"?null:b.render();return d.flags|=1,l!==null&&B?(d.child=ku(d,l.child,null,O),d.child=ku(d,null,G,O)):Dn(l,d,G,O),d.memoizedState=b.state,A&&_O(d,m,!0),d.child}function vj(l){var d=l.stateNode;d.pendingContext?bO(l,d.pendingContext,d.pendingContext!==d.context):d.context&&bO(l,d.context,!1),bw(l,d.containerInfo)}function xj(l,d,m,b,A){return Iu(),hw(A),d.flags|=256,Dn(l,d,m,b),d.child}var $w={dehydrated:null,treeContext:null,retryLane:0};function Fw(l){return{baseLanes:l,cachePool:null,transitions:null}}function bj(l,d,m){var b=d.pendingProps,A=ar.current,O=!1,B=(d.flags&128)!==0,G;if((G=B)||(G=l!==null&&l.memoizedState===null?!1:(A&2)!==0),G?(O=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(A|=1),qt(ar,A&1),l===null)return fw(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(B=b.children,l=b.fallback,O?(b=d.mode,O=d.child,B={mode:"hidden",children:B},(b&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=B):O=py(B,b,0,null),l=Hl(l,b,m,null),O.return=d,l.return=d,O.sibling=l,d.child=O,d.child.memoizedState=Fw(m),d.memoizedState=$w,l):Vw(d,B));if(A=l.memoizedState,A!==null&&(G=A.dehydrated,G!==null))return iK(l,d,B,b,G,A,m);if(O){O=b.fallback,B=d.mode,A=l.child,G=A.sibling;var J={mode:"hidden",children:b.children};return(B&1)===0&&d.child!==A?(b=d.child,b.childLanes=0,b.pendingProps=J,d.deletions=null):(b=Oa(A,J),b.subtreeFlags=A.subtreeFlags&14680064),G!==null?O=Oa(G,O):(O=Hl(O,B,m,null),O.flags|=2),O.return=d,b.return=d,b.sibling=O,d.child=b,b=O,O=d.child,B=l.child.memoizedState,B=B===null?Fw(m):{baseLanes:B.baseLanes|m,cachePool:null,transitions:B.transitions},O.memoizedState=B,O.childLanes=l.childLanes&~m,d.memoizedState=$w,b}return O=l.child,l=O.sibling,b=Oa(O,{mode:"visible",children:b.children}),(d.mode&1)===0&&(b.lanes=m),b.return=d,b.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=b,d.memoizedState=null,b}function Vw(l,d){return d=py({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function ty(l,d,m,b){return b!==null&&hw(b),ku(d,l.child,null,m),l=Vw(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function iK(l,d,m,b,A,O,B){if(m)return d.flags&256?(d.flags&=-257,b=Rw(Error(r(422))),ty(l,d,B,b)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(O=b.fallback,A=d.mode,b=py({mode:"visible",children:b.children},A,0,null),O=Hl(O,A,B,null),O.flags|=2,b.return=d,O.return=d,b.sibling=O,d.child=b,(d.mode&1)!==0&&ku(d,l.child,null,B),d.child.memoizedState=Fw(B),d.memoizedState=$w,O);if((d.mode&1)===0)return ty(l,d,B,null);if(A.data==="$!"){if(b=A.nextSibling&&A.nextSibling.dataset,b)var G=b.dgst;return b=G,O=Error(r(419)),b=Rw(O,b,void 0),ty(l,d,B,b)}if(G=(B&l.childLanes)!==0,Yn||G){if(b=Kr,b!==null){switch(B&-B){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(b.suspendedLanes|B))!==0?0:A,A!==0&&A!==O.retryLane&&(O.retryLane=A,_o(l,A),us(b,l,A,-1))}return r_(),b=Rw(Error(r(421))),ty(l,d,B,b)}return A.data==="$?"?(d.flags|=128,d.child=l.child,d=yK.bind(null,l),A._reactRetry=d,null):(l=O.treeContext,ui=wa(A.nextSibling),ci=d,rr=!0,os=null,l!==null&&(Ci[Ni++]=bo,Ci[Ni++]=wo,Ci[Ni++]=Ll,bo=l.id,wo=l.overflow,Ll=d),d=Vw(d,b.children),d.flags|=4096,d)}function wj(l,d,m){l.lanes|=d;var b=l.alternate;b!==null&&(b.lanes|=d),yw(l.return,d,m)}function Bw(l,d,m,b,A){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:A}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=m,O.tailMode=A)}function _j(l,d,m){var b=d.pendingProps,A=b.revealOrder,O=b.tail;if(Dn(l,d,b.children,m),b=ar.current,(b&2)!==0)b=b&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&wj(l,m,d);else if(l.tag===19)wj(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(qt(ar,b),(d.mode&1)===0)d.memoizedState=null;else switch(A){case"forwards":for(m=d.child,A=null;m!==null;)l=m.alternate,l!==null&&Kg(l)===null&&(A=m),m=m.sibling;m=A,m===null?(A=d.child,d.child=null):(A=m.sibling,m.sibling=null),Bw(d,!1,A,m,O);break;case"backwards":for(m=null,A=d.child,d.child=null;A!==null;){if(l=A.alternate,l!==null&&Kg(l)===null){d.child=A;break}l=A.sibling,A.sibling=m,m=A,A=l}Bw(d,!0,m,null,O);break;case"together":Bw(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ry(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function Eo(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),Ul|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,m=Oa(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=Oa(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function sK(l,d,m){switch(d.tag){case 3:vj(d),Iu();break;case 5:DO(d);break;case 1:Kn(d.type)&&$g(d);break;case 4:bw(d,d.stateNode.containerInfo);break;case 10:var b=d.type._context,A=d.memoizedProps.value;qt(zg,b._currentValue),b._currentValue=A;break;case 13:if(b=d.memoizedState,b!==null)return b.dehydrated!==null?(qt(ar,ar.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?bj(l,d,m):(qt(ar,ar.current&1),l=Eo(l,d,m),l!==null?l.sibling:null);qt(ar,ar.current&1);break;case 19:if(b=(m&d.childLanes)!==0,(l.flags&128)!==0){if(b)return _j(l,d,m);d.flags|=128}if(A=d.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),qt(ar,ar.current),b)break;return null;case 22:case 23:return d.lanes=0,mj(l,d,m)}return Eo(l,d,m)}var Sj,Uw,Ej,Tj;Sj=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Uw=function(){},Ej=function(l,d,m,b){var A=l.memoizedProps;if(A!==b){l=d.stateNode,Vl(Ds.current);var O=null;switch(m){case"input":A=de(l,A),b=de(l,b),O=[];break;case"select":A=Q({},A,{value:void 0}),b=Q({},b,{value:void 0}),O=[];break;case"textarea":A=or(l,A),b=or(l,b),O=[];break;default:typeof A.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=Mg)}we(m,b);var B;m=null;for(oe in A)if(!b.hasOwnProperty(oe)&&A.hasOwnProperty(oe)&&A[oe]!=null)if(oe==="style"){var G=A[oe];for(B in G)G.hasOwnProperty(B)&&(m||(m={}),m[B]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?O||(O=[]):(O=O||[]).push(oe,null));for(oe in b){var J=b[oe];if(G=A!=null?A[oe]:void 0,b.hasOwnProperty(oe)&&J!==G&&(J!=null||G!=null))if(oe==="style")if(G){for(B in G)!G.hasOwnProperty(B)||J&&J.hasOwnProperty(B)||(m||(m={}),m[B]="");for(B in J)J.hasOwnProperty(B)&&G[B]!==J[B]&&(m||(m={}),m[B]=J[B])}else m||(O||(O=[]),O.push(oe,m)),m=J;else oe==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,G=G?G.__html:void 0,J!=null&&G!==J&&(O=O||[]).push(oe,J)):oe==="children"?typeof J!="string"&&typeof J!="number"||(O=O||[]).push(oe,""+J):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(J!=null&&oe==="onScroll"&&Xt("scroll",l),O||G===J||(O=[])):(O=O||[]).push(oe,J))}m&&(O=O||[]).push("style",m);var oe=O;(d.updateQueue=oe)&&(d.flags|=4)}},Tj=function(l,d,m,b){m!==b&&(d.flags|=4)};function Ph(l,d){if(!rr)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function gn(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,b=0;if(d)for(var A=l.child;A!==null;)m|=A.lanes|A.childLanes,b|=A.subtreeFlags&14680064,b|=A.flags&14680064,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)m|=A.lanes|A.childLanes,b|=A.subtreeFlags,b|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=b,l.childLanes=m,d}function oK(l,d,m){var b=d.pendingProps;switch(uw(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(d),null;case 1:return Kn(d.type)&&Lg(),gn(d),null;case 3:return b=d.stateNode,Ru(),Qt(Gn),Qt(pn),Sw(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(Ug(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,os!==null&&(Zw(os),os=null))),Uw(l,d),gn(d),null;case 5:ww(d);var A=Vl(wh.current);if(m=d.type,l!==null&&d.stateNode!=null)Ej(l,d,m,b,A),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!b){if(d.stateNode===null)throw Error(r(166));return gn(d),null}if(l=Vl(Ds.current),Ug(d)){b=d.stateNode,m=d.type;var O=d.memoizedProps;switch(b[Ms]=d,b[gh]=O,l=(d.mode&1)!==0,m){case"dialog":Xt("cancel",b),Xt("close",b);break;case"iframe":case"object":case"embed":Xt("load",b);break;case"video":case"audio":for(A=0;A<hh.length;A++)Xt(hh[A],b);break;case"source":Xt("error",b);break;case"img":case"image":case"link":Xt("error",b),Xt("load",b);break;case"details":Xt("toggle",b);break;case"input":xe(b,O),Xt("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!O.multiple},Xt("invalid",b);break;case"textarea":_r(b,O),Xt("invalid",b)}we(m,O),A=null;for(var B in O)if(O.hasOwnProperty(B)){var G=O[B];B==="children"?typeof G=="string"?b.textContent!==G&&(O.suppressHydrationWarning!==!0&&Rg(b.textContent,G,l),A=["children",G]):typeof G=="number"&&b.textContent!==""+G&&(O.suppressHydrationWarning!==!0&&Rg(b.textContent,G,l),A=["children",""+G]):i.hasOwnProperty(B)&&G!=null&&B==="onScroll"&&Xt("scroll",b)}switch(m){case"input":Pe(b),dt(b,O,!0);break;case"textarea":Pe(b),On(b);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(b.onclick=Mg)}b=A,d.updateQueue=b,b!==null&&(d.flags|=4)}else{B=A.nodeType===9?A:A.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Gt(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=B.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=B.createElement(m,{is:b.is}):(l=B.createElement(m),m==="select"&&(B=l,b.multiple?B.multiple=!0:b.size&&(B.size=b.size))):l=B.createElementNS(l,m),l[Ms]=d,l[gh]=b,Sj(l,d,!1,!1),d.stateNode=l;e:{switch(B=Ue(m,b),m){case"dialog":Xt("cancel",l),Xt("close",l),A=b;break;case"iframe":case"object":case"embed":Xt("load",l),A=b;break;case"video":case"audio":for(A=0;A<hh.length;A++)Xt(hh[A],l);A=b;break;case"source":Xt("error",l),A=b;break;case"img":case"image":case"link":Xt("error",l),Xt("load",l),A=b;break;case"details":Xt("toggle",l),A=b;break;case"input":xe(l,b),A=de(l,b),Xt("invalid",l);break;case"option":A=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},A=Q({},b,{value:void 0}),Xt("invalid",l);break;case"textarea":_r(l,b),A=or(l,b),Xt("invalid",l);break;default:A=b}we(m,A),G=A;for(O in G)if(G.hasOwnProperty(O)){var J=G[O];O==="style"?it(l,J):O==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&Si(l,J)):O==="children"?typeof J=="string"?(m!=="textarea"||J!=="")&&rn(l,J):typeof J=="number"&&rn(l,""+J):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?J!=null&&O==="onScroll"&&Xt("scroll",l):J!=null&&E(l,O,J,B))}switch(m){case"input":Pe(l),dt(l,b,!1);break;case"textarea":Pe(l),On(l);break;case"option":b.value!=null&&l.setAttribute("value",""+Te(b.value));break;case"select":l.multiple=!!b.multiple,O=b.value,O!=null?Lt(l,!!b.multiple,O,!1):b.defaultValue!=null&&Lt(l,!!b.multiple,b.defaultValue,!0);break;default:typeof A.onClick=="function"&&(l.onclick=Mg)}switch(m){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return gn(d),null;case 6:if(l&&d.stateNode!=null)Tj(l,d,l.memoizedProps,b);else{if(typeof b!="string"&&d.stateNode===null)throw Error(r(166));if(m=Vl(wh.current),Vl(Ds.current),Ug(d)){if(b=d.stateNode,m=d.memoizedProps,b[Ms]=d,(O=b.nodeValue!==m)&&(l=ci,l!==null))switch(l.tag){case 3:Rg(b.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Rg(b.nodeValue,m,(l.mode&1)!==0)}O&&(d.flags|=4)}else b=(m.nodeType===9?m:m.ownerDocument).createTextNode(b),b[Ms]=d,d.stateNode=b}return gn(d),null;case 13:if(Qt(ar),b=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(rr&&ui!==null&&(d.mode&1)!==0&&(d.flags&128)===0)CO(),Iu(),d.flags|=98560,O=!1;else if(O=Ug(d),b!==null&&b.dehydrated!==null){if(l===null){if(!O)throw Error(r(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[Ms]=d}else Iu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;gn(d),O=!1}else os!==null&&(Zw(os),os=null),O=!0;if(!O)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(ar.current&1)!==0?Mr===0&&(Mr=3):r_())),d.updateQueue!==null&&(d.flags|=4),gn(d),null);case 4:return Ru(),Uw(l,d),l===null&&ph(d.stateNode.containerInfo),gn(d),null;case 10:return gw(d.type._context),gn(d),null;case 17:return Kn(d.type)&&Lg(),gn(d),null;case 19:if(Qt(ar),O=d.memoizedState,O===null)return gn(d),null;if(b=(d.flags&128)!==0,B=O.rendering,B===null)if(b)Ph(O,!1);else{if(Mr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(B=Kg(l),B!==null){for(d.flags|=128,Ph(O,!1),b=B.updateQueue,b!==null&&(d.updateQueue=b,d.flags|=4),d.subtreeFlags=0,b=m,m=d.child;m!==null;)O=m,l=b,O.flags&=14680066,B=O.alternate,B===null?(O.childLanes=0,O.lanes=l,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=B.childLanes,O.lanes=B.lanes,O.child=B.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=B.memoizedProps,O.memoizedState=B.memoizedState,O.updateQueue=B.updateQueue,O.type=B.type,l=B.dependencies,O.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return qt(ar,ar.current&1|2),d.child}l=l.sibling}O.tail!==null&&Ut()>$u&&(d.flags|=128,b=!0,Ph(O,!1),d.lanes=4194304)}else{if(!b)if(l=Kg(B),l!==null){if(d.flags|=128,b=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Ph(O,!0),O.tail===null&&O.tailMode==="hidden"&&!B.alternate&&!rr)return gn(d),null}else 2*Ut()-O.renderingStartTime>$u&&m!==1073741824&&(d.flags|=128,b=!0,Ph(O,!1),d.lanes=4194304);O.isBackwards?(B.sibling=d.child,d.child=B):(m=O.last,m!==null?m.sibling=B:d.child=B,O.last=B)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=Ut(),d.sibling=null,m=ar.current,qt(ar,b?m&1|2:m&1),d):(gn(d),null);case 22:case 23:return t_(),b=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(d.flags|=8192),b&&(d.mode&1)!==0?(di&1073741824)!==0&&(gn(d),d.subtreeFlags&6&&(d.flags|=8192)):gn(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function aK(l,d){switch(uw(d),d.tag){case 1:return Kn(d.type)&&Lg(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Ru(),Qt(Gn),Qt(pn),Sw(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return ww(d),null;case 13:if(Qt(ar),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Iu()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return Qt(ar),null;case 4:return Ru(),null;case 10:return gw(d.type._context),null;case 22:case 23:return t_(),null;case 24:return null;default:return null}}var ny=!1,yn=!1,lK=typeof WeakSet=="function"?WeakSet:Set,De=null;function Du(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(b){hr(l,d,b)}else m.current=null}function qw(l,d,m){try{m()}catch(b){hr(l,d,b)}}var Pj=!1;function cK(l,d){if(tw=va,l=iO(),Gb(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var A=b.anchorOffset,O=b.focusNode;b=b.focusOffset;try{m.nodeType,O.nodeType}catch{m=null;break e}var B=0,G=-1,J=-1,oe=0,ye=0,be=l,ge=null;t:for(;;){for(var Oe;be!==m||A!==0&&be.nodeType!==3||(G=B+A),be!==O||b!==0&&be.nodeType!==3||(J=B+b),be.nodeType===3&&(B+=be.nodeValue.length),(Oe=be.firstChild)!==null;)ge=be,be=Oe;for(;;){if(be===l)break t;if(ge===m&&++oe===A&&(G=B),ge===O&&++ye===b&&(J=B),(Oe=be.nextSibling)!==null)break;be=ge,ge=be.parentNode}be=Oe}m=G===-1||J===-1?null:{start:G,end:J}}else m=null}m=m||{start:0,end:0}}else m=null;for(rw={focusedElem:l,selectionRange:m},va=!1,De=d;De!==null;)if(d=De,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,De=l;else for(;De!==null;){d=De;try{var $e=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var Be=$e.memoizedProps,yr=$e.memoizedState,ie=d.stateNode,ee=ie.getSnapshotBeforeUpdate(d.elementType===d.type?Be:as(d.type,Be),yr);ie.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var se=d.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(_e){hr(d,d.return,_e)}if(l=d.sibling,l!==null){l.return=d.return,De=l;break}De=d.return}return $e=Pj,Pj=!1,$e}function Ah(l,d,m){var b=d.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var A=b=b.next;do{if((A.tag&l)===l){var O=A.destroy;A.destroy=void 0,O!==void 0&&qw(d,m,O)}A=A.next}while(A!==b)}}function iy(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var b=m.create;m.destroy=b()}m=m.next}while(m!==d)}}function zw(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function Aj(l){var d=l.alternate;d!==null&&(l.alternate=null,Aj(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Ms],delete d[gh],delete d[ow],delete d[WG],delete d[HG])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Cj(l){return l.tag===5||l.tag===3||l.tag===4}function Nj(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Cj(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Ww(l,d,m){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Mg));else if(b!==4&&(l=l.child,l!==null))for(Ww(l,d,m),l=l.sibling;l!==null;)Ww(l,d,m),l=l.sibling}function Hw(l,d,m){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(Hw(l,d,m),l=l.sibling;l!==null;)Hw(l,d,m),l=l.sibling}var an=null,ls=!1;function Aa(l,d,m){for(m=m.child;m!==null;)Ij(l,d,m),m=m.sibling}function Ij(l,d,m){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(Cl,m)}catch{}switch(m.tag){case 5:yn||Du(m,d);case 6:var b=an,A=ls;an=null,Aa(l,d,m),an=b,ls=A,an!==null&&(ls?(l=an,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):an.removeChild(m.stateNode));break;case 18:an!==null&&(ls?(l=an,m=m.stateNode,l.nodeType===8?sw(l.parentNode,m):l.nodeType===1&&sw(l,m),ns(l)):sw(an,m.stateNode));break;case 4:b=an,A=ls,an=m.stateNode.containerInfo,ls=!0,Aa(l,d,m),an=b,ls=A;break;case 0:case 11:case 14:case 15:if(!yn&&(b=m.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){A=b=b.next;do{var O=A,B=O.destroy;O=O.tag,B!==void 0&&((O&2)!==0||(O&4)!==0)&&qw(m,d,B),A=A.next}while(A!==b)}Aa(l,d,m);break;case 1:if(!yn&&(Du(m,d),b=m.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=m.memoizedProps,b.state=m.memoizedState,b.componentWillUnmount()}catch(G){hr(m,d,G)}Aa(l,d,m);break;case 21:Aa(l,d,m);break;case 22:m.mode&1?(yn=(b=yn)||m.memoizedState!==null,Aa(l,d,m),yn=b):Aa(l,d,m);break;default:Aa(l,d,m)}}function kj(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new lK),d.forEach(function(b){var A=vK.bind(null,l,b);m.has(b)||(m.add(b),b.then(A,A))})}}function cs(l,d){var m=d.deletions;if(m!==null)for(var b=0;b<m.length;b++){var A=m[b];try{var O=l,B=d,G=B;e:for(;G!==null;){switch(G.tag){case 5:an=G.stateNode,ls=!1;break e;case 3:an=G.stateNode.containerInfo,ls=!0;break e;case 4:an=G.stateNode.containerInfo,ls=!0;break e}G=G.return}if(an===null)throw Error(r(160));Ij(O,B,A),an=null,ls=!1;var J=A.alternate;J!==null&&(J.return=null),A.return=null}catch(oe){hr(A,d,oe)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)Oj(d,l),d=d.sibling}function Oj(l,d){var m=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(cs(d,l),$s(l),b&4){try{Ah(3,l,l.return),iy(3,l)}catch(Be){hr(l,l.return,Be)}try{Ah(5,l,l.return)}catch(Be){hr(l,l.return,Be)}}break;case 1:cs(d,l),$s(l),b&512&&m!==null&&Du(m,m.return);break;case 5:if(cs(d,l),$s(l),b&512&&m!==null&&Du(m,m.return),l.flags&32){var A=l.stateNode;try{rn(A,"")}catch(Be){hr(l,l.return,Be)}}if(b&4&&(A=l.stateNode,A!=null)){var O=l.memoizedProps,B=m!==null?m.memoizedProps:O,G=l.type,J=l.updateQueue;if(l.updateQueue=null,J!==null)try{G==="input"&&O.type==="radio"&&O.name!=null&&ke(A,O),Ue(G,B);var oe=Ue(G,O);for(B=0;B<J.length;B+=2){var ye=J[B],be=J[B+1];ye==="style"?it(A,be):ye==="dangerouslySetInnerHTML"?Si(A,be):ye==="children"?rn(A,be):E(A,ye,be,oe)}switch(G){case"input":Re(A,O);break;case"textarea":kn(A,O);break;case"select":var ge=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!O.multiple;var Oe=O.value;Oe!=null?Lt(A,!!O.multiple,Oe,!1):ge!==!!O.multiple&&(O.defaultValue!=null?Lt(A,!!O.multiple,O.defaultValue,!0):Lt(A,!!O.multiple,O.multiple?[]:"",!1))}A[gh]=O}catch(Be){hr(l,l.return,Be)}}break;case 6:if(cs(d,l),$s(l),b&4){if(l.stateNode===null)throw Error(r(162));A=l.stateNode,O=l.memoizedProps;try{A.nodeValue=O}catch(Be){hr(l,l.return,Be)}}break;case 3:if(cs(d,l),$s(l),b&4&&m!==null&&m.memoizedState.isDehydrated)try{ns(d.containerInfo)}catch(Be){hr(l,l.return,Be)}break;case 4:cs(d,l),$s(l);break;case 13:cs(d,l),$s(l),A=l.child,A.flags&8192&&(O=A.memoizedState!==null,A.stateNode.isHidden=O,!O||A.alternate!==null&&A.alternate.memoizedState!==null||(Yw=Ut())),b&4&&kj(l);break;case 22:if(ye=m!==null&&m.memoizedState!==null,l.mode&1?(yn=(oe=yn)||ye,cs(d,l),yn=oe):cs(d,l),$s(l),b&8192){if(oe=l.memoizedState!==null,(l.stateNode.isHidden=oe)&&!ye&&(l.mode&1)!==0)for(De=l,ye=l.child;ye!==null;){for(be=De=ye;De!==null;){switch(ge=De,Oe=ge.child,ge.tag){case 0:case 11:case 14:case 15:Ah(4,ge,ge.return);break;case 1:Du(ge,ge.return);var $e=ge.stateNode;if(typeof $e.componentWillUnmount=="function"){b=ge,m=ge.return;try{d=b,$e.props=d.memoizedProps,$e.state=d.memoizedState,$e.componentWillUnmount()}catch(Be){hr(b,m,Be)}}break;case 5:Du(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Mj(be);continue}}Oe!==null?(Oe.return=ge,De=Oe):Mj(be)}ye=ye.sibling}e:for(ye=null,be=l;;){if(be.tag===5){if(ye===null){ye=be;try{A=be.stateNode,oe?(O=A.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(G=be.stateNode,J=be.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null,G.style.display=Kt("display",B))}catch(Be){hr(l,l.return,Be)}}}else if(be.tag===6){if(ye===null)try{be.stateNode.nodeValue=oe?"":be.memoizedProps}catch(Be){hr(l,l.return,Be)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===l)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===l)break e;for(;be.sibling===null;){if(be.return===null||be.return===l)break e;ye===be&&(ye=null),be=be.return}ye===be&&(ye=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:cs(d,l),$s(l),b&4&&kj(l);break;case 21:break;default:cs(d,l),$s(l)}}function $s(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(Cj(m)){var b=m;break e}m=m.return}throw Error(r(160))}switch(b.tag){case 5:var A=b.stateNode;b.flags&32&&(rn(A,""),b.flags&=-33);var O=Nj(l);Hw(l,O,A);break;case 3:case 4:var B=b.stateNode.containerInfo,G=Nj(l);Ww(l,G,B);break;default:throw Error(r(161))}}catch(J){hr(l,l.return,J)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function uK(l,d,m){De=l,jj(l)}function jj(l,d,m){for(var b=(l.mode&1)!==0;De!==null;){var A=De,O=A.child;if(A.tag===22&&b){var B=A.memoizedState!==null||ny;if(!B){var G=A.alternate,J=G!==null&&G.memoizedState!==null||yn;G=ny;var oe=yn;if(ny=B,(yn=J)&&!oe)for(De=A;De!==null;)B=De,J=B.child,B.tag===22&&B.memoizedState!==null?Dj(A):J!==null?(J.return=B,De=J):Dj(A);for(;O!==null;)De=O,jj(O),O=O.sibling;De=A,ny=G,yn=oe}Rj(l)}else(A.subtreeFlags&8772)!==0&&O!==null?(O.return=A,De=O):Rj(l)}}function Rj(l){for(;De!==null;){var d=De;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:yn||iy(5,d);break;case 1:var b=d.stateNode;if(d.flags&4&&!yn)if(m===null)b.componentDidMount();else{var A=d.elementType===d.type?m.memoizedProps:as(d.type,m.memoizedProps);b.componentDidUpdate(A,m.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var O=d.updateQueue;O!==null&&MO(d,O,b);break;case 3:var B=d.updateQueue;if(B!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}MO(d,B,m)}break;case 5:var G=d.stateNode;if(m===null&&d.flags&4){m=G;var J=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&m.focus();break;case"img":J.src&&(m.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var oe=d.alternate;if(oe!==null){var ye=oe.memoizedState;if(ye!==null){var be=ye.dehydrated;be!==null&&ns(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}yn||d.flags&512&&zw(d)}catch(ge){hr(d,d.return,ge)}}if(d===l){De=null;break}if(m=d.sibling,m!==null){m.return=d.return,De=m;break}De=d.return}}function Mj(l){for(;De!==null;){var d=De;if(d===l){De=null;break}var m=d.sibling;if(m!==null){m.return=d.return,De=m;break}De=d.return}}function Dj(l){for(;De!==null;){var d=De;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{iy(4,d)}catch(J){hr(d,m,J)}break;case 1:var b=d.stateNode;if(typeof b.componentDidMount=="function"){var A=d.return;try{b.componentDidMount()}catch(J){hr(d,A,J)}}var O=d.return;try{zw(d)}catch(J){hr(d,O,J)}break;case 5:var B=d.return;try{zw(d)}catch(J){hr(d,B,J)}}}catch(J){hr(d,d.return,J)}if(d===l){De=null;break}var G=d.sibling;if(G!==null){G.return=d.return,De=G;break}De=d.return}}var dK=Math.ceil,sy=R.ReactCurrentDispatcher,Gw=R.ReactCurrentOwner,Oi=R.ReactCurrentBatchConfig,_t=0,Kr=null,Tr=null,ln=0,di=0,Lu=_a(0),Mr=0,Ch=null,Ul=0,oy=0,Kw=0,Nh=null,Xn=null,Yw=0,$u=1/0,To=null,ay=!1,Xw=null,Ca=null,ly=!1,Na=null,cy=0,Ih=0,Qw=null,uy=-1,dy=0;function Ln(){return(_t&6)!==0?Ut():uy!==-1?uy:uy=Ut()}function Ia(l){return(l.mode&1)===0?1:(_t&2)!==0&&ln!==0?ln&-ln:KG.transition!==null?(dy===0&&(dy=Il()),dy):(l=yt,l!==0||(l=window.event,l=l===void 0?16:ih(l.type)),l)}function us(l,d,m,b){if(50<Ih)throw Ih=0,Qw=null,Error(r(185));pa(l,m,b),((_t&2)===0||l!==Kr)&&(l===Kr&&((_t&2)===0&&(oy|=m),Mr===4&&ka(l,ln)),Qn(l,b),m===1&&_t===0&&(d.mode&1)===0&&($u=Ut()+500,Fg&&Ea()))}function Qn(l,d){var m=l.callbackNode;ho(l,d);var b=Nl(l,l===Kr?ln:0);if(b===0)m!==null&&Zf(m),l.callbackNode=null,l.callbackPriority=0;else if(d=b&-b,l.callbackPriority!==d){if(m!=null&&Zf(m),d===1)l.tag===0?GG($j.bind(null,l)):SO($j.bind(null,l)),qG(function(){(_t&6)===0&&Ea()}),m=null;else{switch(ga(b)){case 1:m=Al;break;case 4:m=da;break;case 16:m=Ti;break;case 536870912:m=dg;break;default:m=Ti}m=Hj(m,Lj.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function Lj(l,d){if(uy=-1,dy=0,(_t&6)!==0)throw Error(r(327));var m=l.callbackNode;if(Fu()&&l.callbackNode!==m)return null;var b=Nl(l,l===Kr?ln:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||d)d=fy(l,b);else{d=b;var A=_t;_t|=2;var O=Vj();(Kr!==l||ln!==d)&&(To=null,$u=Ut()+500,zl(l,d));do try{pK();break}catch(G){Fj(l,G)}while(!0);mw(),sy.current=O,_t=A,Tr!==null?d=0:(Kr=null,ln=0,d=Mr)}if(d!==0){if(d===2&&(A=oi(l),A!==0&&(b=A,d=Jw(l,A))),d===1)throw m=Ch,zl(l,0),ka(l,b),Qn(l,Ut()),m;if(d===6)ka(l,b);else{if(A=l.current.alternate,(b&30)===0&&!fK(A)&&(d=fy(l,b),d===2&&(O=oi(l),O!==0&&(b=O,d=Jw(l,O))),d===1))throw m=Ch,zl(l,0),ka(l,b),Qn(l,Ut()),m;switch(l.finishedWork=A,l.finishedLanes=b,d){case 0:case 1:throw Error(r(345));case 2:Wl(l,Xn,To);break;case 3:if(ka(l,b),(b&130023424)===b&&(d=Yw+500-Ut(),10<d)){if(Nl(l,0)!==0)break;if(A=l.suspendedLanes,(A&b)!==b){Ln(),l.pingedLanes|=l.suspendedLanes&A;break}l.timeoutHandle=iw(Wl.bind(null,l,Xn,To),d);break}Wl(l,Xn,To);break;case 4:if(ka(l,b),(b&4194240)===b)break;for(d=l.eventTimes,A=-1;0<b;){var B=31-Rn(b);O=1<<B,B=d[B],B>A&&(A=B),b&=~O}if(b=A,b=Ut()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*dK(b/1960))-b,10<b){l.timeoutHandle=iw(Wl.bind(null,l,Xn,To),b);break}Wl(l,Xn,To);break;case 5:Wl(l,Xn,To);break;default:throw Error(r(329))}}}return Qn(l,Ut()),l.callbackNode===m?Lj.bind(null,l):null}function Jw(l,d){var m=Nh;return l.current.memoizedState.isDehydrated&&(zl(l,d).flags|=256),l=fy(l,d),l!==2&&(d=Xn,Xn=m,d!==null&&Zw(d)),l}function Zw(l){Xn===null?Xn=l:Xn.push.apply(Xn,l)}function fK(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var b=0;b<m.length;b++){var A=m[b],O=A.getSnapshot;A=A.value;try{if(!ss(O(),A))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ka(l,d){for(d&=~Kw,d&=~oy,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-Rn(d),b=1<<m;l[m]=-1,d&=~b}}function $j(l){if((_t&6)!==0)throw Error(r(327));Fu();var d=Nl(l,0);if((d&1)===0)return Qn(l,Ut()),null;var m=fy(l,d);if(l.tag!==0&&m===2){var b=oi(l);b!==0&&(d=b,m=Jw(l,b))}if(m===1)throw m=Ch,zl(l,0),ka(l,d),Qn(l,Ut()),m;if(m===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,Wl(l,Xn,To),Qn(l,Ut()),null}function e_(l,d){var m=_t;_t|=1;try{return l(d)}finally{_t=m,_t===0&&($u=Ut()+500,Fg&&Ea())}}function ql(l){Na!==null&&Na.tag===0&&(_t&6)===0&&Fu();var d=_t;_t|=1;var m=Oi.transition,b=yt;try{if(Oi.transition=null,yt=1,l)return l()}finally{yt=b,Oi.transition=m,_t=d,(_t&6)===0&&Ea()}}function t_(){di=Lu.current,Qt(Lu)}function zl(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,UG(m)),Tr!==null)for(m=Tr.return;m!==null;){var b=m;switch(uw(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Lg();break;case 3:Ru(),Qt(Gn),Qt(pn),Sw();break;case 5:ww(b);break;case 4:Ru();break;case 13:Qt(ar);break;case 19:Qt(ar);break;case 10:gw(b.type._context);break;case 22:case 23:t_()}m=m.return}if(Kr=l,Tr=l=Oa(l.current,null),ln=di=d,Mr=0,Ch=null,Kw=oy=Ul=0,Xn=Nh=null,Fl!==null){for(d=0;d<Fl.length;d++)if(m=Fl[d],b=m.interleaved,b!==null){m.interleaved=null;var A=b.next,O=m.pending;if(O!==null){var B=O.next;O.next=A,b.next=B}m.pending=b}Fl=null}return l}function Fj(l,d){do{var m=Tr;try{if(mw(),Yg.current=Zg,Xg){for(var b=lr.memoizedState;b!==null;){var A=b.queue;A!==null&&(A.pending=null),b=b.next}Xg=!1}if(Bl=0,Gr=Rr=lr=null,_h=!1,Sh=0,Gw.current=null,m===null||m.return===null){Mr=1,Ch=d,Tr=null;break}e:{var O=l,B=m.return,G=m,J=d;if(d=ln,G.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var oe=J,ye=G,be=ye.tag;if((ye.mode&1)===0&&(be===0||be===11||be===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Oe=uj(B);if(Oe!==null){Oe.flags&=-257,dj(Oe,B,G,O,d),Oe.mode&1&&cj(O,oe,d),d=Oe,J=oe;var $e=d.updateQueue;if($e===null){var Be=new Set;Be.add(J),d.updateQueue=Be}else $e.add(J);break e}else{if((d&1)===0){cj(O,oe,d),r_();break e}J=Error(r(426))}}else if(rr&&G.mode&1){var yr=uj(B);if(yr!==null){(yr.flags&65536)===0&&(yr.flags|=256),dj(yr,B,G,O,d),hw(Mu(J,G));break e}}O=J=Mu(J,G),Mr!==4&&(Mr=2),Nh===null?Nh=[O]:Nh.push(O),O=B;do{switch(O.tag){case 3:O.flags|=65536,d&=-d,O.lanes|=d;var ie=aj(O,J,d);RO(O,ie);break e;case 1:G=J;var ee=O.type,se=O.stateNode;if((O.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Ca===null||!Ca.has(se)))){O.flags|=65536,d&=-d,O.lanes|=d;var _e=lj(O,G,d);RO(O,_e);break e}}O=O.return}while(O!==null)}Uj(m)}catch(ze){d=ze,Tr===m&&m!==null&&(Tr=m=m.return);continue}break}while(!0)}function Vj(){var l=sy.current;return sy.current=Zg,l===null?Zg:l}function r_(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),Kr===null||(Ul&268435455)===0&&(oy&268435455)===0||ka(Kr,ln)}function fy(l,d){var m=_t;_t|=2;var b=Vj();(Kr!==l||ln!==d)&&(To=null,zl(l,d));do try{hK();break}catch(A){Fj(l,A)}while(!0);if(mw(),_t=m,sy.current=b,Tr!==null)throw Error(r(261));return Kr=null,ln=0,Mr}function hK(){for(;Tr!==null;)Bj(Tr)}function pK(){for(;Tr!==null&&!cg();)Bj(Tr)}function Bj(l){var d=Wj(l.alternate,l,di);l.memoizedProps=l.pendingProps,d===null?Uj(l):Tr=d,Gw.current=null}function Uj(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=oK(m,d,di),m!==null){Tr=m;return}}else{if(m=aK(m,d),m!==null){m.flags&=32767,Tr=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Mr=6,Tr=null;return}}if(d=d.sibling,d!==null){Tr=d;return}Tr=d=l}while(d!==null);Mr===0&&(Mr=5)}function Wl(l,d,m){var b=yt,A=Oi.transition;try{Oi.transition=null,yt=1,mK(l,d,m,b)}finally{Oi.transition=A,yt=b}return null}function mK(l,d,m,b){do Fu();while(Na!==null);if((_t&6)!==0)throw Error(r(327));m=l.finishedWork;var A=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var O=m.lanes|m.childLanes;if(Ft(l,O),l===Kr&&(Tr=Kr=null,ln=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||ly||(ly=!0,Hj(Ti,function(){return Fu(),null})),O=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||O){O=Oi.transition,Oi.transition=null;var B=yt;yt=1;var G=_t;_t|=4,Gw.current=null,cK(l,m),Oj(m,l),MG(rw),va=!!tw,rw=tw=null,l.current=m,uK(m),Fb(),_t=G,yt=B,Oi.transition=O}else l.current=m;if(ly&&(ly=!1,Na=l,cy=A),O=l.pendingLanes,O===0&&(Ca=null),fg(m.stateNode),Qn(l,Ut()),d!==null)for(b=l.onRecoverableError,m=0;m<d.length;m++)A=d[m],b(A.value,{componentStack:A.stack,digest:A.digest});if(ay)throw ay=!1,l=Xw,Xw=null,l;return(cy&1)!==0&&l.tag!==0&&Fu(),O=l.pendingLanes,(O&1)!==0?l===Qw?Ih++:(Ih=0,Qw=l):Ih=0,Ea(),null}function Fu(){if(Na!==null){var l=ga(cy),d=Oi.transition,m=yt;try{if(Oi.transition=null,yt=16>l?16:l,Na===null)var b=!1;else{if(l=Na,Na=null,cy=0,(_t&6)!==0)throw Error(r(331));var A=_t;for(_t|=4,De=l.current;De!==null;){var O=De,B=O.child;if((De.flags&16)!==0){var G=O.deletions;if(G!==null){for(var J=0;J<G.length;J++){var oe=G[J];for(De=oe;De!==null;){var ye=De;switch(ye.tag){case 0:case 11:case 15:Ah(8,ye,O)}var be=ye.child;if(be!==null)be.return=ye,De=be;else for(;De!==null;){ye=De;var ge=ye.sibling,Oe=ye.return;if(Aj(ye),ye===oe){De=null;break}if(ge!==null){ge.return=Oe,De=ge;break}De=Oe}}}var $e=O.alternate;if($e!==null){var Be=$e.child;if(Be!==null){$e.child=null;do{var yr=Be.sibling;Be.sibling=null,Be=yr}while(Be!==null)}}De=O}}if((O.subtreeFlags&2064)!==0&&B!==null)B.return=O,De=B;else e:for(;De!==null;){if(O=De,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Ah(9,O,O.return)}var ie=O.sibling;if(ie!==null){ie.return=O.return,De=ie;break e}De=O.return}}var ee=l.current;for(De=ee;De!==null;){B=De;var se=B.child;if((B.subtreeFlags&2064)!==0&&se!==null)se.return=B,De=se;else e:for(B=ee;De!==null;){if(G=De,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:iy(9,G)}}catch(ze){hr(G,G.return,ze)}if(G===B){De=null;break e}var _e=G.sibling;if(_e!==null){_e.return=G.return,De=_e;break e}De=G.return}}if(_t=A,Ea(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(Cl,l)}catch{}b=!0}return b}finally{yt=m,Oi.transition=d}}return!1}function qj(l,d,m){d=Mu(m,d),d=aj(l,d,1),l=Pa(l,d,1),d=Ln(),l!==null&&(pa(l,1,d),Qn(l,d))}function hr(l,d,m){if(l.tag===3)qj(l,l,m);else for(;d!==null;){if(d.tag===3){qj(d,l,m);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ca===null||!Ca.has(b))){l=Mu(m,l),l=lj(d,l,1),d=Pa(d,l,1),l=Ln(),d!==null&&(pa(d,1,l),Qn(d,l));break}}d=d.return}}function gK(l,d,m){var b=l.pingCache;b!==null&&b.delete(d),d=Ln(),l.pingedLanes|=l.suspendedLanes&m,Kr===l&&(ln&m)===m&&(Mr===4||Mr===3&&(ln&130023424)===ln&&500>Ut()-Yw?zl(l,0):Kw|=m),Qn(l,d)}function zj(l,d){d===0&&((l.mode&1)===0?d=1:(d=lu,lu<<=1,(lu&130023424)===0&&(lu=4194304)));var m=Ln();l=_o(l,d),l!==null&&(pa(l,d,m),Qn(l,m))}function yK(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),zj(l,m)}function vK(l,d){var m=0;switch(l.tag){case 13:var b=l.stateNode,A=l.memoizedState;A!==null&&(m=A.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(r(314))}b!==null&&b.delete(d),zj(l,m)}var Wj;Wj=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||Gn.current)Yn=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return Yn=!1,sK(l,d,m);Yn=(l.flags&131072)!==0}else Yn=!1,rr&&(d.flags&1048576)!==0&&EO(d,Bg,d.index);switch(d.lanes=0,d.tag){case 2:var b=d.type;ry(l,d),l=d.pendingProps;var A=Au(d,pn.current);ju(d,m),A=Pw(null,d,b,l,A,m);var O=Aw();return d.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Kn(b)?(O=!0,$g(d)):O=!1,d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,xw(d),A.updater=ey,d.stateNode=A,A._reactInternals=d,jw(d,b,l,m),d=Lw(null,d,b,!0,O,m)):(d.tag=0,rr&&O&&cw(d),Dn(null,d,A,m),d=d.child),d;case 16:b=d.elementType;e:{switch(ry(l,d),l=d.pendingProps,A=b._init,b=A(b._payload),d.type=b,A=d.tag=bK(b),l=as(b,l),A){case 0:d=Dw(null,d,b,l,m);break e;case 1:d=yj(null,d,b,l,m);break e;case 11:d=fj(null,d,b,l,m);break e;case 14:d=hj(null,d,b,as(b.type,l),m);break e}throw Error(r(306,b,""))}return d;case 0:return b=d.type,A=d.pendingProps,A=d.elementType===b?A:as(b,A),Dw(l,d,b,A,m);case 1:return b=d.type,A=d.pendingProps,A=d.elementType===b?A:as(b,A),yj(l,d,b,A,m);case 3:e:{if(vj(d),l===null)throw Error(r(387));b=d.pendingProps,O=d.memoizedState,A=O.element,jO(l,d),Gg(d,b,null,m);var B=d.memoizedState;if(b=B.element,O.isDehydrated)if(O={element:b,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){A=Mu(Error(r(423)),d),d=xj(l,d,b,m,A);break e}else if(b!==A){A=Mu(Error(r(424)),d),d=xj(l,d,b,m,A);break e}else for(ui=wa(d.stateNode.containerInfo.firstChild),ci=d,rr=!0,os=null,m=kO(d,null,b,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Iu(),b===A){d=Eo(l,d,m);break e}Dn(l,d,b,m)}d=d.child}return d;case 5:return DO(d),l===null&&fw(d),b=d.type,A=d.pendingProps,O=l!==null?l.memoizedProps:null,B=A.children,nw(b,A)?B=null:O!==null&&nw(b,O)&&(d.flags|=32),gj(l,d),Dn(l,d,B,m),d.child;case 6:return l===null&&fw(d),null;case 13:return bj(l,d,m);case 4:return bw(d,d.stateNode.containerInfo),b=d.pendingProps,l===null?d.child=ku(d,null,b,m):Dn(l,d,b,m),d.child;case 11:return b=d.type,A=d.pendingProps,A=d.elementType===b?A:as(b,A),fj(l,d,b,A,m);case 7:return Dn(l,d,d.pendingProps,m),d.child;case 8:return Dn(l,d,d.pendingProps.children,m),d.child;case 12:return Dn(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(b=d.type._context,A=d.pendingProps,O=d.memoizedProps,B=A.value,qt(zg,b._currentValue),b._currentValue=B,O!==null)if(ss(O.value,B)){if(O.children===A.children&&!Gn.current){d=Eo(l,d,m);break e}}else for(O=d.child,O!==null&&(O.return=d);O!==null;){var G=O.dependencies;if(G!==null){B=O.child;for(var J=G.firstContext;J!==null;){if(J.context===b){if(O.tag===1){J=So(-1,m&-m),J.tag=2;var oe=O.updateQueue;if(oe!==null){oe=oe.shared;var ye=oe.pending;ye===null?J.next=J:(J.next=ye.next,ye.next=J),oe.pending=J}}O.lanes|=m,J=O.alternate,J!==null&&(J.lanes|=m),yw(O.return,m,d),G.lanes|=m;break}J=J.next}}else if(O.tag===10)B=O.type===d.type?null:O.child;else if(O.tag===18){if(B=O.return,B===null)throw Error(r(341));B.lanes|=m,G=B.alternate,G!==null&&(G.lanes|=m),yw(B,m,d),B=O.sibling}else B=O.child;if(B!==null)B.return=O;else for(B=O;B!==null;){if(B===d){B=null;break}if(O=B.sibling,O!==null){O.return=B.return,B=O;break}B=B.return}O=B}Dn(l,d,A.children,m),d=d.child}return d;case 9:return A=d.type,b=d.pendingProps.children,ju(d,m),A=Ii(A),b=b(A),d.flags|=1,Dn(l,d,b,m),d.child;case 14:return b=d.type,A=as(b,d.pendingProps),A=as(b.type,A),hj(l,d,b,A,m);case 15:return pj(l,d,d.type,d.pendingProps,m);case 17:return b=d.type,A=d.pendingProps,A=d.elementType===b?A:as(b,A),ry(l,d),d.tag=1,Kn(b)?(l=!0,$g(d)):l=!1,ju(d,m),sj(d,b,A),jw(d,b,A,m),Lw(null,d,b,!0,l,m);case 19:return _j(l,d,m);case 22:return mj(l,d,m)}throw Error(r(156,d.tag))};function Hj(l,d){return ou(l,d)}function xK(l,d,m,b){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(l,d,m,b){return new xK(l,d,m,b)}function n_(l){return l=l.prototype,!(!l||!l.isReactComponent)}function bK(l){if(typeof l=="function")return n_(l)?1:0;if(l!=null){if(l=l.$$typeof,l===V)return 11;if(l===H)return 14}return 2}function Oa(l,d){var m=l.alternate;return m===null?(m=ji(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function hy(l,d,m,b,A,O){var B=2;if(b=l,typeof l=="function")n_(l)&&(B=1);else if(typeof l=="string")B=5;else e:switch(l){case I:return Hl(m.children,A,O,d);case C:B=8,A|=8;break;case j:return l=ji(12,m,d,A|2),l.elementType=j,l.lanes=O,l;case D:return l=ji(13,m,d,A),l.elementType=D,l.lanes=O,l;case z:return l=ji(19,m,d,A),l.elementType=z,l.lanes=O,l;case K:return py(m,A,O,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case F:B=10;break e;case L:B=9;break e;case V:B=11;break e;case H:B=14;break e;case X:B=16,b=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return d=ji(B,m,d,A),d.elementType=l,d.type=b,d.lanes=O,d}function Hl(l,d,m,b){return l=ji(7,l,b,d),l.lanes=m,l}function py(l,d,m,b){return l=ji(22,l,b,d),l.elementType=K,l.lanes=m,l.stateNode={isHidden:!1},l}function i_(l,d,m){return l=ji(6,l,null,d),l.lanes=m,l}function s_(l,d,m){return d=ji(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function wK(l,d,m,b,A){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ha(0),this.expirationTimes=ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.identifierPrefix=b,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function o_(l,d,m,b,A,O,B,G,J){return l=new wK(l,d,m,G,J),d===1?(d=1,O===!0&&(d|=8)):d=0,O=ji(3,null,null,d),l.current=O,O.stateNode=l,O.memoizedState={element:b,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},xw(O),l}function _K(l,d,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:b==null?null:""+b,children:l,containerInfo:d,implementation:m}}function Gj(l){if(!l)return Sa;l=l._reactInternals;e:{if(Ji(l)!==l||l.tag!==1)throw Error(r(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Kn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(l.tag===1){var m=l.type;if(Kn(m))return wO(l,m,d)}return d}function Kj(l,d,m,b,A,O,B,G,J){return l=o_(m,b,!0,l,A,O,B,G,J),l.context=Gj(null),m=l.current,b=Ln(),A=Ia(m),O=So(b,A),O.callback=d??null,Pa(m,O,A),l.current.lanes=A,pa(l,A,b),Qn(l,b),l}function my(l,d,m,b){var A=d.current,O=Ln(),B=Ia(A);return m=Gj(m),d.context===null?d.context=m:d.pendingContext=m,d=So(O,B),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=Pa(A,d,B),l!==null&&(us(l,A,B,O),Hg(l,A,B)),B}function gy(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Yj(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function a_(l,d){Yj(l,d),(l=l.alternate)&&Yj(l,d)}function SK(){return null}var Xj=typeof reportError=="function"?reportError:function(l){console.error(l)};function l_(l){this._internalRoot=l}yy.prototype.render=l_.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));my(l,d,null,null)},yy.prototype.unmount=l_.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;ql(function(){my(null,l,null,null)}),d[vo]=null}};function yy(l){this._internalRoot=l}yy.prototype.unstable_scheduleHydration=function(l){if(l){var d=yg();l={blockedOn:null,target:l,priority:d};for(var m=0;m<ks.length&&d!==0&&d<ks[m].priority;m++);ks.splice(m,0,l),m===0&&bg(l)}};function c_(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function vy(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Qj(){}function EK(l,d,m,b,A){if(A){if(typeof b=="function"){var O=b;b=function(){var oe=gy(B);O.call(oe)}}var B=Kj(d,b,l,0,null,!1,!1,"",Qj);return l._reactRootContainer=B,l[vo]=B.current,ph(l.nodeType===8?l.parentNode:l),ql(),B}for(;A=l.lastChild;)l.removeChild(A);if(typeof b=="function"){var G=b;b=function(){var oe=gy(J);G.call(oe)}}var J=o_(l,0,!1,null,null,!1,!1,"",Qj);return l._reactRootContainer=J,l[vo]=J.current,ph(l.nodeType===8?l.parentNode:l),ql(function(){my(d,J,m,b)}),J}function xy(l,d,m,b,A){var O=m._reactRootContainer;if(O){var B=O;if(typeof A=="function"){var G=A;A=function(){var J=gy(B);G.call(J)}}my(d,B,l,A)}else B=EK(m,d,l,A,b);return gy(B)}mg=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=fa(d.pendingLanes);m!==0&&(ma(d,m|1),Qn(d,Ut()),(_t&6)===0&&($u=Ut()+500,Ea()))}break;case 13:ql(function(){var b=_o(l,1);if(b!==null){var A=Ln();us(b,l,1,A)}}),a_(l,1)}},cu=function(l){if(l.tag===13){var d=_o(l,134217728);if(d!==null){var m=Ln();us(d,l,134217728,m)}a_(l,134217728)}},gg=function(l){if(l.tag===13){var d=Ia(l),m=_o(l,d);if(m!==null){var b=Ln();us(m,l,d,b)}a_(l,d)}},yg=function(){return yt},vg=function(l,d){var m=yt;try{return yt=l,d()}finally{yt=m}},zn=function(l,d,m){switch(d){case"input":if(Re(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var b=m[d];if(b!==l&&b.form===l.form){var A=Dg(b);if(!A)throw Error(r(90));ae(b),Re(b,A)}}}break;case"textarea":kn(l,m);break;case"select":d=m.value,d!=null&&Lt(l,!!m.multiple,d,!1)}},Sl=e_,Yf=ql;var TK={usingClientEntryPoint:!1,Events:[yh,Tu,Dg,Ei,Kf,e_]},kh={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PK={bundleType:kh.bundleType,version:kh.version,rendererPackageName:kh.rendererPackageName,rendererConfig:kh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Jf(l),l===null?null:l.stateNode},findFiberByHostInstance:kh.findFiberByHostInstance||SK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var by=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!by.isDisabled&&by.supportsFiber)try{Cl=by.inject(PK),si=by}catch{}}return Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TK,Jn.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c_(d))throw Error(r(200));return _K(l,d,null,m)},Jn.createRoot=function(l,d){if(!c_(l))throw Error(r(299));var m=!1,b="",A=Xj;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),d=o_(l,1,!1,null,null,m,!1,b,A),l[vo]=d.current,ph(l.nodeType===8?l.parentNode:l),new l_(d)},Jn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=Jf(d),l=l===null?null:l.stateNode,l},Jn.flushSync=function(l){return ql(l)},Jn.hydrate=function(l,d,m){if(!vy(d))throw Error(r(200));return xy(null,l,d,!0,m)},Jn.hydrateRoot=function(l,d,m){if(!c_(l))throw Error(r(405));var b=m!=null&&m.hydratedSources||null,A=!1,O="",B=Xj;if(m!=null&&(m.unstable_strictMode===!0&&(A=!0),m.identifierPrefix!==void 0&&(O=m.identifierPrefix),m.onRecoverableError!==void 0&&(B=m.onRecoverableError)),d=Kj(d,null,l,1,m??null,A,!1,O,B),l[vo]=d.current,ph(l),b)for(l=0;l<b.length;l++)m=b[l],A=m._getVersion,A=A(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,A]:d.mutableSourceEagerHydrationData.push(m,A);return new yy(d)},Jn.render=function(l,d,m){if(!vy(d))throw Error(r(200));return xy(null,l,d,!1,m)},Jn.unmountComponentAtNode=function(l){if(!vy(l))throw Error(r(40));return l._reactRootContainer?(ql(function(){xy(null,null,l,!1,function(){l._reactRootContainer=null,l[vo]=null})}),!0):!1},Jn.unstable_batchedUpdates=e_,Jn.unstable_renderSubtreeIntoContainer=function(l,d,m,b){if(!vy(m))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return xy(l,d,m,!1,b)},Jn.version="18.3.1-next-f1338f8080-20240426",Jn}var sR;function K3(){if(sR)return f_.exports;sR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),f_.exports=RK(),f_.exports}var oR;function MK(){if(oR)return _y;oR=1;var t=K3();return _y.createRoot=t.createRoot,_y.hydrateRoot=t.hydrateRoot,_y}var DK=MK();const LK=It(DK),$K="modulepreload",FK=function(t){return"/"+t},aR={},lR=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(r.map(u=>{if(u=FK(u),u in aR)return;aR[u]=!0;const f=u.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":$K,f||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((v,w)=>{g.addEventListener("load",v),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cR="popstate";function VK(t={}){function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return dP("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Cp(i)}return UK(e,r,null,t)}function sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ss(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BK(){return Math.random().toString(36).substring(2,10)}function uR(t,e){return{usr:t.state,key:t.key,idx:e}}function dP(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?yf(e):e,state:r,key:e&&e.key||n||BK()}}function Cp({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function yf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function UK(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",c=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let _=f(),P=_==null?null:_-u;u=_,c&&c({action:a,location:x.location,delta:P})}function g(_,P){a="PUSH";let S=dP(x.location,_,P);u=f()+1;let E=uR(S,u),R=x.createHref(S);try{o.pushState(E,"",R)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(R)}s&&c&&c({action:a,location:x.location,delta:1})}function v(_,P){a="REPLACE";let S=dP(x.location,_,P);u=f();let E=uR(S,u),R=x.createHref(S);o.replaceState(E,"",R),s&&c&&c({action:a,location:x.location,delta:0})}function w(_){return qK(_)}let x={get action(){return a},get location(){return t(i,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(cR,p),c=_,()=>{i.removeEventListener(cR,p),c=null}},createHref(_){return e(i,_)},createURL:w,encodeLocation(_){let P=w(_);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:g,replace:v,go(_){return o.go(_)}};return x}function qK(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),sr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Cp(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Y3(t,e,r="/"){return zK(t,e,r,!1)}function zK(t,e,r,n){let i=typeof e=="string"?yf(e):e,s=zo(i.pathname||"/",r);if(s==null)return null;let o=X3(t);WK(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=rY(s);a=eY(o[c],u,n)}return a}function X3(t,e=[],r=[],n="",i=!1){let s=(o,a,c=i,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;sr(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=Lo([n,f.relativePath]),g=r.concat(f);o.children&&o.children.length>0&&(sr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),X3(o.children,e,g,p,c)),!(o.path==null&&!o.index)&&e.push({path:p,score:JK(p,o.index),routesMeta:g})};return t.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,a);else for(let u of Q3(o.path))s(o,a,!0,u)}),e}function Q3(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Q3(n.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function WK(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ZK(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var HK=/^:[\w-]+$/,GK=3,KK=2,YK=1,XK=10,QK=-2,dR=t=>t==="*";function JK(t,e){let r=t.split("/"),n=r.length;return r.some(dR)&&(n+=QK),e&&(n+=KK),r.filter(i=>!dR(i)).reduce((i,s)=>i+(HK.test(s)?GK:s===""?YK:XK),n)}function ZK(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function eY(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Nv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=Nv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Lo([s,p.pathname]),pathnameBase:oY(Lo([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Lo([s,p.pathnameBase]))}return o}function Nv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=tY(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:p},g)=>{if(f==="*"){let w=a[g]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[g];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function tY(t,e=!1,r=!0){Ss(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function rY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ss(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function nY(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?yf(t):t;return{pathname:r?r.startsWith("/")?r:iY(r,e):e,search:aY(n),hash:lY(i)}}function iY(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function m_(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sY(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ZC(t){let e=sY(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function eN(t,e,r,n=!1){let i;typeof t=="string"?i=yf(t):(i={...t},sr(!i.pathname||!i.pathname.includes("?"),m_("?","pathname","search",i)),sr(!i.pathname||!i.pathname.includes("#"),m_("#","pathname","hash",i)),sr(!i.search||!i.search.includes("#"),m_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?e[p]:"/"}let c=nY(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var Lo=t=>t.join("/").replace(/\/\/+/g,"/"),oY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var J3=["POST","PUT","PATCH","DELETE"];new Set(J3);var uY=["GET",...J3];new Set(uY);var vf=T.createContext(null);vf.displayName="DataRouter";var cx=T.createContext(null);cx.displayName="DataRouterState";T.createContext(!1);var Z3=T.createContext({isTransitioning:!1});Z3.displayName="ViewTransition";var dY=T.createContext(new Map);dY.displayName="Fetchers";var fY=T.createContext(null);fY.displayName="Await";var Ps=T.createContext(null);Ps.displayName="Navigation";var Am=T.createContext(null);Am.displayName="Location";var oo=T.createContext({outlet:null,matches:[],isDataRoute:!1});oo.displayName="Route";var tN=T.createContext(null);tN.displayName="RouteError";function hY(t,{relative:e}={}){sr(xf(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=T.useContext(Ps),{hash:i,pathname:s,search:o}=Cm(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:Lo([r,s])),n.createHref({pathname:a,search:o,hash:i})}function xf(){return T.useContext(Am)!=null}function ao(){return sr(xf(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Am).location}var e6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t6(t){T.useContext(Ps).static||T.useLayoutEffect(t)}function qc(){let{isDataRoute:t}=T.useContext(oo);return t?PY():pY()}function pY(){sr(xf(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(vf),{basename:e,navigator:r}=T.useContext(Ps),{matches:n}=T.useContext(oo),{pathname:i}=ao(),s=JSON.stringify(ZC(n)),o=T.useRef(!1);return t6(()=>{o.current=!0}),T.useCallback((c,u={})=>{if(Ss(o.current,e6),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=eN(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Lo([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,i,t])}T.createContext(null);function Cm(t,{relative:e}={}){let{matches:r}=T.useContext(oo),{pathname:n}=ao(),i=JSON.stringify(ZC(r));return T.useMemo(()=>eN(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function mY(t,e){return r6(t,e)}function r6(t,e,r,n,i){var S;sr(xf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(Ps),{matches:o}=T.useContext(oo),a=o[o.length-1],c=a?a.params:{},u=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let E=p&&p.path||"";n6(u,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=ao(),v;if(e){let E=typeof e=="string"?yf(e):e;sr(f==="/"||((S=E.pathname)==null?void 0:S.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=g;let w=v.pathname||"/",x=w;if(f!=="/"){let E=f.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=Y3(t,{pathname:x});Ss(p||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ss(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=bY(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:Lo([f,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Lo([f,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,r,n,i);return e&&P?T.createElement(Am.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},P):P}function gY(){let t=TY(),e=cY(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:i},r):null,o)}var yY=T.createElement(gY,null),vY=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(oo.Provider,{value:this.props.routeContext},T.createElement(tN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xY({routeContext:t,match:e,children:r}){let n=T.useContext(vf);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(oo.Provider,{value:t},r)}function bY(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=r==null?void 0:r.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);sr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,c=-1;if(r)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:g}=r,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){a=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,p)=>{let g,v=!1,w=null,x=null;r&&(g=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||yY,a&&(c<0&&p===0?(n6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===p&&(v=!0,x=f.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,p+1)),P=()=>{let S;return g?S=w:v?S=x:f.route.Component?S=T.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=u,T.createElement(xY,{match:f,routeContext:{outlet:u,matches:_,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(vY,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:P(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):P()},null)}function rN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wY(t){let e=T.useContext(vf);return sr(e,rN(t)),e}function _Y(t){let e=T.useContext(cx);return sr(e,rN(t)),e}function SY(t){let e=T.useContext(oo);return sr(e,rN(t)),e}function nN(t){let e=SY(t),r=e.matches[e.matches.length-1];return sr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function EY(){return nN("useRouteId")}function TY(){var n;let t=T.useContext(tN),e=_Y("useRouteError"),r=nN("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function PY(){let{router:t}=wY("useNavigate"),e=nN("useNavigate"),r=T.useRef(!1);return t6(()=>{r.current=!0}),T.useCallback(async(i,s={})=>{Ss(r.current,e6),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var fR={};function n6(t,e,r){!e&&!fR[t]&&(fR[t]=!0,Ss(!1,r))}T.memo(AY);function AY({routes:t,future:e,state:r,unstable_onError:n}){return r6(t,void 0,r,n,e)}function Vu({to:t,replace:e,state:r,relative:n}){sr(xf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Ps);Ss(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(oo),{pathname:o}=ao(),a=qc(),c=eN(t,ZC(s),o,n==="path"),u=JSON.stringify(c);return T.useEffect(()=>{a(JSON.parse(u),{replace:e,state:r,relative:n})},[a,u,n,e,r]),null}function Xr(t){sr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CY({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){sr(!xf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=yf(r));let{pathname:c="/",search:u="",hash:f="",state:p=null,key:g="default"}=r,v=T.useMemo(()=>{let w=zo(c,o);return w==null?null:{location:{pathname:w,search:u,hash:f,state:p,key:g},navigationType:n}},[o,c,u,f,p,g,n]);return Ss(v!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:T.createElement(Ps.Provider,{value:a},T.createElement(Am.Provider,{children:e,value:v}))}function NY({children:t,location:e}){return mY(fP(t),e)}function fP(t,e=[]){let r=[];return T.Children.forEach(t,(n,i)=>{if(!T.isValidElement(n))return;let s=[...e,i];if(n.type===T.Fragment){r.push.apply(r,fP(n.props.children,s));return}sr(n.type===Xr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=fP(n.props.children,s)),r.push(o)}),r}var av="get",lv="application/x-www-form-urlencoded";function ux(t){return t!=null&&typeof t.tagName=="string"}function IY(t){return ux(t)&&t.tagName.toLowerCase()==="button"}function kY(t){return ux(t)&&t.tagName.toLowerCase()==="form"}function OY(t){return ux(t)&&t.tagName.toLowerCase()==="input"}function jY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RY(t,e){return t.button===0&&(!e||e==="_self")&&!jY(t)}var Sy=null;function MY(){if(Sy===null)try{new FormData(document.createElement("form"),0),Sy=!1}catch{Sy=!0}return Sy}var DY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function g_(t){return t!=null&&!DY.has(t)?(Ss(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lv}"`),null):t}function LY(t,e){let r,n,i,s,o;if(kY(t)){let a=t.getAttribute("action");n=a?zo(a,e):null,r=t.getAttribute("method")||av,i=g_(t.getAttribute("enctype"))||lv,s=new FormData(t)}else if(IY(t)||OY(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(n=c?zo(c,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||av,i=g_(t.getAttribute("formenctype"))||g_(a.getAttribute("enctype"))||lv,s=new FormData(a,t),!MY()){let{name:u,type:f,value:p}=t;if(f==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,p)}}else{if(ux(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=av,n=null,i=lv,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $Y(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&zo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function FY(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VY(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function BY(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await FY(s,r);return o.links?o.links():[]}return[]}));return WY(n.flat(1).filter(VY).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function hR(t,e,r,n,i,s){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,a=(c,u)=>{var f;return r[u].pathname!==c.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>o(c,u)||a(c,u)):s==="data"?e.filter((c,u)=>{var p;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,u)||a(c,u))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function UY(t,e,{includeHydrateFallback:r}={}){return qY(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function qY(t){return[...new Set(t)]}function zY(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function WY(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(zY(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function i6(){let t=T.useContext(vf);return iN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function HY(){let t=T.useContext(cx);return iN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sN=T.createContext(void 0);sN.displayName="FrameworkContext";function s6(){let t=T.useContext(sN);return iN(t,"You must render this element inside a <HydratedRouter> element"),t}function GY(t,e){let r=T.useContext(sN),[n,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:p}=e,g=T.useRef(null);T.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=P=>{P.forEach(S=>{o(S.isIntersecting)})},_=new IntersectionObserver(x,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[t]),T.useEffect(()=>{if(n){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[n]);let v=()=>{i(!0)},w=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,g,{}]:[s,g,{onFocus:jh(a,v),onBlur:jh(c,w),onMouseEnter:jh(u,v),onMouseLeave:jh(f,w),onTouchStart:jh(p,v)}]:[!1,g,{}]}function jh(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function KY({page:t,...e}){let{router:r}=i6(),n=T.useMemo(()=>Y3(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?T.createElement(XY,{page:t,matches:n,...e}):null}function YY(t){let{manifest:e,routeModules:r}=s6(),[n,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return BY(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function XY({page:t,matches:e,...r}){let n=ao(),{manifest:i,routeModules:s}=s6(),{basename:o}=i6(),{loaderData:a,matches:c}=HY(),u=T.useMemo(()=>hR(t,e,c,i,n,"data"),[t,e,c,i,n]),f=T.useMemo(()=>hR(t,e,c,i,n,"assets"),[t,e,c,i,n]),p=T.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,x=!1;if(e.forEach(P=>{var E;let S=i.routes[P.route.id];!S||!S.hasLoader||(!u.some(R=>R.route.id===P.route.id)&&P.route.id in a&&((E=s[P.route.id])!=null&&E.shouldRevalidate)||S.hasClientLoader?x=!0:w.add(P.route.id))}),w.size===0)return[];let _=$Y(t,o,"data");return x&&w.size>0&&_.searchParams.set("_routes",e.filter(P=>w.has(P.route.id)).map(P=>P.route.id).join(",")),[_.pathname+_.search]},[o,a,n,i,u,e,t,s]),g=T.useMemo(()=>UY(f,i),[f,i]),v=YY(f);return T.createElement(T.Fragment,null,p.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),g.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),v.map(({key:w,link:x})=>T.createElement("link",{key:w,nonce:r.nonce,...x})))}function QY(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var o6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o6&&(window.__reactRouterVersion="7.9.1")}catch{}function JY({basename:t,children:e,window:r}){let n=T.useRef();n.current==null&&(n.current=VK({window:r,v5Compat:!0}));let i=n.current,[s,o]=T.useState({action:i.action,location:i.location}),a=T.useCallback(c=>{T.startTransition(()=>o(c))},[o]);return T.useLayoutEffect(()=>i.listen(a),[i,a]),T.createElement(CY,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var a6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iv=T.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:f,viewTransition:p,...g},v){let{basename:w}=T.useContext(Ps),x=typeof u=="string"&&a6.test(u),_,P=!1;if(typeof u=="string"&&x&&(_=u,o6))try{let j=new URL(window.location.href),F=u.startsWith("//")?new URL(j.protocol+u):new URL(u),L=zo(F.pathname,w);F.origin===j.origin&&L!=null?u=L+F.search+F.hash:P=!0}catch{Ss(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=hY(u,{relative:i}),[E,R,N]=GY(n,g),M=rX(u,{replace:o,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:p});function I(j){e&&e(j),j.defaultPrevented||M(j)}let C=T.createElement("a",{...g,...N,href:_||S,onClick:P||s?e:I,ref:QY(v,R),target:c,"data-discover":!x&&r==="render"?"true":void 0});return E&&!x?T.createElement(T.Fragment,null,C,T.createElement(KY,{page:S})):C});Iv.displayName="Link";var ZY=T.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...u},f){let p=Cm(o,{relative:u.relative}),g=ao(),v=T.useContext(cx),{navigator:w,basename:x}=T.useContext(Ps),_=v!=null&&aX(p)&&a===!0,P=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,S=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(S=S.toLowerCase(),E=E?E.toLowerCase():null,P=P.toLowerCase()),E&&x&&(E=zo(E,x)||E);const R=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let N=S===P||!i&&S.startsWith(P)&&S.charAt(R)==="/",M=E!=null&&(E===P||!i&&E.startsWith(P)&&E.charAt(P.length)==="/"),I={isActive:N,isPending:M,isTransitioning:_},C=N?e:void 0,j;typeof n=="function"?j=n(I):j=[n,N?"active":null,M?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(I):s;return T.createElement(Iv,{...u,"aria-current":C,className:j,ref:f,style:F,to:o,viewTransition:a},typeof c=="function"?c(I):c)});ZY.displayName="NavLink";var eX=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=av,action:a,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:p,...g},v)=>{let w=sX(),x=oX(a,{relative:u}),_=o.toLowerCase()==="get"?"get":"post",P=typeof a=="string"&&a6.test(a),S=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let R=E.nativeEvent.submitter,N=(R==null?void 0:R.getAttribute("formmethod"))||o;w(R||E.currentTarget,{fetcherKey:e,method:N,navigate:r,replace:i,state:s,relative:u,preventScrollReset:f,viewTransition:p})};return T.createElement("form",{ref:v,method:_,action:x,onSubmit:n?c:S,...g,"data-discover":!P&&t==="render"?"true":void 0})});eX.displayName="Form";function tX(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l6(t){let e=T.useContext(vf);return sr(e,tX(t)),e}function rX(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=qc(),c=ao(),u=Cm(t,{relative:s});return T.useCallback(f=>{if(RY(f,e)){f.preventDefault();let p=r!==void 0?r:Cp(c)===Cp(u);a(t,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,u,r,n,e,t,i,s,o])}var nX=0,iX=()=>`__${String(++nX)}__`;function sX(){let{router:t}=l6("useSubmit"),{basename:e}=T.useContext(Ps),r=EY();return T.useCallback(async(n,i={})=>{let{action:s,method:o,encType:a,formData:c,body:u}=LY(n,e);if(i.navigate===!1){let f=i.fetcherKey||iX();await t.fetch(f,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function oX(t,{relative:e}={}){let{basename:r}=T.useContext(Ps),n=T.useContext(oo);sr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Cm(t||".",{relative:e})},o=ao();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(f=>f==="")){a.delete("index"),c.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Lo([r,s.pathname])),Cp(s)}function aX(t,{relative:e}={}){let r=T.useContext(Z3);sr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=l6("useViewTransitionState"),i=Cm(t,{relative:e});if(!r.isTransitioning)return!1;let s=zo(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=zo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Nv(i.pathname,o)!=null||Nv(i.pathname,s)!=null}var Nm=K3();const lX=It(Nm);function ei(t,e,r){let n;return t==="BusinessProfile"?n="/businessprofile":n="/"+t.toLowerCase().replace(/ /g,"-"),r?n:e?`/${e}${n}`:n}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},c)=>T.createElement("svg",{ref:c,...uX,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:c6("lucide",i),...a},[...o.map(([u,f])=>T.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(t,e)=>{const r=T.forwardRef(({className:n,...i},s)=>T.createElement(dX,{ref:s,iconNode:e,className:c6(`lucide-${cX(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pR=ht("ArrowLeft",fX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],pX=ht("Award",hX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],td=ht("Brain",mX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],An=ht("Building2",gX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ad=ht("Calendar",yX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Np=ht("ChartColumn",vX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bX=ht("Check",xX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],u6=ht("ChevronDown",wX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],SX=ht("ChevronUp",_X);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],d6=ht("CircleAlert",EX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mR=ht("CircleCheckBig",TX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gR=ht("CircleCheck",PX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],CX=ht("Clock",AX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],y_=ht("Cloud",NX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],kX=ht("Crown",IX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hP=ht("Eye",OX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],RX=ht("Frown",jX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],DX=ht("Globe",MX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Jl=ht("Heart",LX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],f6=ht("LogOut",$X);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],VX=ht("Mail",FX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],UX=ht("Meh",BX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],vi=ht("MessageSquare",qX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],WX=ht("PanelLeft",zX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pc=ht("Plus",HX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],KX=ht("RefreshCcw",GX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dx=ht("Save",YX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hd=ht("Send",XX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],zi=ht("Sparkles",QX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yR=ht("Tag",JX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eQ=ht("Target",ZX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],rQ=ht("Trash2",tQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],xs=ht("TrendingUp",nQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kv=ht("TriangleAlert",iQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],h6=ht("UserRound",sQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rl=ht("User",oQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Vs=ht("Users",aQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],cQ=ht("WandSparkles",lQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qn=ht("X",uQ);function vR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function p6(...t){return e=>{let r=!1;const n=t.map(i=>{const s=vR(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():vR(t[i],null)}}}}function dr(...t){return T.useCallback(p6(...t),t)}function Cd(t){const e=dQ(t),r=T.forwardRef((n,i)=>{const{children:s,...o}=n,a=T.Children.toArray(s),c=a.find(hQ);if(c){const u=c.props.children,f=a.map(p=>p===c?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:p);return h.jsx(e,{...o,ref:i,children:T.isValidElement(u)?T.cloneElement(u,void 0,f):null})}return h.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var bf=Cd("Slot");function dQ(t){const e=T.forwardRef((r,n)=>{const{children:i,...s}=r;if(T.isValidElement(i)){const o=mQ(i),a=pQ(s,i.props);return i.type!==T.Fragment&&(a.ref=n?p6(n,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var m6=Symbol("radix.slottable");function fQ(t){const e=({children:r})=>h.jsx(h.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=m6,e}function hQ(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===m6}function pQ(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function mQ(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function g6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=g6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function lt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=g6(t))&&(n&&(n+=" "),n+=e);return n}const xR=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,bR=lt,wf=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return bR(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const f=r==null?void 0:r[u],p=s==null?void 0:s[u];if(f===null)return null;const g=xR(f)||xR(p);return i[u][g]}),a=r&&Object.entries(r).reduce((u,f)=>{let[p,g]=f;return g===void 0||(u[p]=g),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:p,className:g,...v}=f;return Object.entries(v).every(w=>{let[x,_]=w;return Array.isArray(_)?_.includes({...s,...a}[x]):{...s,...a}[x]===_})?[...u,p,g]:u},[]);return bR(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},v_=768;function gQ(){const[t,e]=T.useState(void 0);return T.useEffect(()=>{const r=window.matchMedia(`(max-width: ${v_-1}px)`),n=()=>{e(window.innerWidth<v_)};return r.addEventListener("change",n),e(window.innerWidth<v_),()=>r.removeEventListener("change",n)},[]),!!t}const oN="-",yQ=t=>{const e=xQ(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(oN);return a[0]===""&&a.length!==1&&a.shift(),y6(a,e)||vQ(o)},getConflictingClassGroupIds:(o,a)=>{const c=r[o]||[];return a&&n[o]?[...c,...n[o]]:c}}},y6=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?y6(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(oN);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},wR=/^\[(.+)\]$/,vQ=t=>{if(wR.test(t)){const e=wR.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},xQ=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)pP(r[i],n,i,e);return n},pP=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:_R(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(bQ(i)){pP(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{pP(o,_R(e,s),r,n)})})},_R=(t,e)=>{let r=t;return e.split(oN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},bQ=t=>t.isThemeGetter,wQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},mP="!",gP=":",_Q=gP.length,SQ=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const s=[];let o=0,a=0,c=0,u;for(let w=0;w<i.length;w++){let x=i[w];if(o===0&&a===0){if(x===gP){s.push(i.slice(c,w)),c=w+_Q;continue}if(x==="/"){u=w;continue}}x==="["?o++:x==="]"?o--:x==="("?a++:x===")"&&a--}const f=s.length===0?i:i.substring(c),p=EQ(f),g=p!==f,v=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:v}};if(e){const i=e+gP,s=n;n=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},EQ=t=>t.endsWith(mP)?t.substring(0,t.length-1):t.startsWith(mP)?t.substring(1):t,TQ=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let s=[];return n.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},PQ=t=>({cache:wQ(t.cacheSize),parseClassName:SQ(t),sortModifiers:TQ(t),...yQ(t)}),AQ=/\s+/,CQ=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(AQ);let c="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{isExternal:p,modifiers:g,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:x}=r(f);if(p){c=f+(c.length>0?" "+c:c);continue}let _=!!x,P=n(_?w.substring(0,x):w);if(!P){if(!_){c=f+(c.length>0?" "+c:c);continue}if(P=n(w),!P){c=f+(c.length>0?" "+c:c);continue}_=!1}const S=s(g).join(":"),E=v?S+mP:S,R=E+P;if(o.includes(R))continue;o.push(R);const N=i(P,_);for(let M=0;M<N.length;++M){const I=N[M];o.push(E+I)}c=f+(c.length>0?" "+c:c)}return c};function NQ(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=v6(e))&&(n&&(n+=" "),n+=r);return n}const v6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=v6(t[n]))&&(r&&(r+=" "),r+=e);return r};function IQ(t,...e){let r,n,i,s=o;function o(c){const u=e.reduce((f,p)=>p(f),t());return r=PQ(u),n=r.cache.get,i=r.cache.set,s=a,a(c)}function a(c){const u=n(c);if(u)return u;const f=CQ(c,r);return i(c,f),f}return function(){return s(NQ.apply(null,arguments))}}const Dr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},x6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,b6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kQ=/^\d+\/\d+$/,OQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,MQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bu=t=>kQ.test(t),ft=t=>!!t&&!Number.isNaN(Number(t)),Ra=t=>!!t&&Number.isInteger(Number(t)),x_=t=>t.endsWith("%")&&ft(t.slice(0,-1)),Po=t=>OQ.test(t),LQ=()=>!0,$Q=t=>jQ.test(t)&&!RQ.test(t),w6=()=>!1,FQ=t=>MQ.test(t),VQ=t=>DQ.test(t),BQ=t=>!Fe(t)&&!Ve(t),UQ=t=>_f(t,E6,w6),Fe=t=>x6.test(t),Gl=t=>_f(t,T6,$Q),b_=t=>_f(t,GQ,ft),SR=t=>_f(t,_6,w6),qQ=t=>_f(t,S6,VQ),Ey=t=>_f(t,P6,FQ),Ve=t=>b6.test(t),Rh=t=>Sf(t,T6),zQ=t=>Sf(t,KQ),ER=t=>Sf(t,_6),WQ=t=>Sf(t,E6),HQ=t=>Sf(t,S6),Ty=t=>Sf(t,P6,!0),_f=(t,e,r)=>{const n=x6.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},Sf=(t,e,r=!1)=>{const n=b6.exec(t);return n?n[1]?e(n[1]):r:!1},_6=t=>t==="position"||t==="percentage",S6=t=>t==="image"||t==="url",E6=t=>t==="length"||t==="size"||t==="bg-size",T6=t=>t==="length",GQ=t=>t==="number",KQ=t=>t==="family-name",P6=t=>t==="shadow",YQ=()=>{const t=Dr("color"),e=Dr("font"),r=Dr("text"),n=Dr("font-weight"),i=Dr("tracking"),s=Dr("leading"),o=Dr("breakpoint"),a=Dr("container"),c=Dr("spacing"),u=Dr("radius"),f=Dr("shadow"),p=Dr("inset-shadow"),g=Dr("text-shadow"),v=Dr("drop-shadow"),w=Dr("blur"),x=Dr("perspective"),_=Dr("aspect"),P=Dr("ease"),S=Dr("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...R(),Ve,Fe],M=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],C=()=>[Ve,Fe,c],j=()=>[Bu,"full","auto",...C()],F=()=>[Ra,"none","subgrid",Ve,Fe],L=()=>["auto",{span:["full",Ra,Ve,Fe]},Ra,Ve,Fe],V=()=>[Ra,"auto",Ve,Fe],D=()=>["auto","min","max","fr",Ve,Fe],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...C()],K=()=>[Bu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],U=()=>[t,Ve,Fe],te=()=>[...R(),ER,SR,{position:[Ve,Fe]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",WQ,UQ,{size:[Ve,Fe]}],Z=()=>[x_,Rh,Gl],re=()=>["","none","full",u,Ve,Fe],me=()=>["",ft,Rh,Gl],Ee=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[ft,x_,ER,SR],Te=()=>["","none",w,Ve,Fe],ue=()=>["none",ft,Ve,Fe],ve=()=>["none",ft,Ve,Fe],Pe=()=>[ft,Ve,Fe],ae=()=>[Bu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Po],breakpoint:[Po],color:[LQ],container:[Po],"drop-shadow":[Po],ease:["in","out","in-out"],font:[BQ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Po],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Po],shadow:[Po],spacing:["px",ft],text:[Po],"text-shadow":[Po],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bu,Fe,Ve,_]}],container:["container"],columns:[{columns:[ft,Fe,Ve,a]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Ra,"auto",Ve,Fe]}],basis:[{basis:[Bu,"full","auto",a,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ft,Bu,"auto","initial","none",Fe]}],grow:[{grow:["",ft,Ve,Fe]}],shrink:[{shrink:["",ft,Ve,Fe]}],order:[{order:[Ra,"first","last","none",Ve,Fe]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[a,"screen",...K()]}],"min-w":[{"min-w":[a,"screen","none",...K()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",r,Rh,Gl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ve,b_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",x_,Fe]}],"font-family":[{font:[zQ,Fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ve,Fe]}],"line-clamp":[{"line-clamp":[ft,"none",Ve,b_]}],leading:[{leading:[s,...C()]}],"list-image":[{"list-image":["none",Ve,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[ft,"from-font","auto",Ve,Gl]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[ft,"auto",Ve,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ra,Ve,Fe],radial:["",Ve,Fe],conic:[Ra,Ve,Fe]},HQ,qQ]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ft,Ve,Fe]}],"outline-w":[{outline:["",ft,Rh,Gl]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",f,Ty,Ey]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",p,Ty,Ey]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[ft,Gl]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",g,Ty,Ey]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[ft,Ve,Fe]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Ve,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,Fe]}],filter:[{filter:["","none",Ve,Fe]}],blur:[{blur:Te()}],brightness:[{brightness:[ft,Ve,Fe]}],contrast:[{contrast:[ft,Ve,Fe]}],"drop-shadow":[{"drop-shadow":["","none",v,Ty,Ey]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",ft,Ve,Fe]}],"hue-rotate":[{"hue-rotate":[ft,Ve,Fe]}],invert:[{invert:["",ft,Ve,Fe]}],saturate:[{saturate:[ft,Ve,Fe]}],sepia:[{sepia:["",ft,Ve,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,Fe]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[ft,Ve,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[ft,Ve,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ft,Ve,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ft,Ve,Fe]}],"backdrop-invert":[{"backdrop-invert":["",ft,Ve,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[ft,Ve,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[ft,Ve,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",ft,Ve,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ft,"initial",Ve,Fe]}],ease:[{ease:["linear","initial",P,Ve,Fe]}],delay:[{delay:[ft,Ve,Fe]}],animate:[{animate:["none",S,Ve,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ve,Fe]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[Ve,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ae()}],"translate-x":[{"translate-x":ae()}],"translate-y":[{"translate-y":ae()}],"translate-z":[{"translate-z":ae()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,Fe]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[ft,Rh,Gl,b_]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},XQ=IQ(YQ);function Se(...t){return XQ(lt(t))}const QQ=wf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90 active:bg-primary/95",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 active:bg-destructive/95",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground active:bg-accent/80",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 active:bg-secondary/70",ghost:"hover:bg-accent hover:text-accent-foreground active:bg-accent/80",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 min-h-[44px]",sm:"h-9 rounded-md px-3 text-xs min-h-[36px]",lg:"h-12 rounded-md px-8 min-h-[48px]",icon:"h-10 w-10 min-h-[44px] min-w-[44px]"}},defaultVariants:{variant:"default",size:"default"}}),Ie=T.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?bf:"button";return h.jsx(o,{className:Se(QQ({variant:e,size:r,className:t})),ref:s,...i})});Ie.displayName="Button";const fn=T.forwardRef(({className:t,type:e,...r},n)=>h.jsx("input",{type:e,className:Se("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm min-h-[44px] touch-manipulation",t),ref:n,...r}));fn.displayName="Input";var JQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dt=JQ.reduce((t,e)=>{const r=Cd(`Primitive.${e}`),n=T.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(c,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ZQ(t,e){t&&Nm.flushSync(()=>t.dispatchEvent(e))}var eJ="Separator",TR="horizontal",tJ=["horizontal","vertical"],A6=T.forwardRef((t,e)=>{const{decorative:r,orientation:n=TR,...i}=t,s=rJ(n)?n:TR,a=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return h.jsx(Dt.div,{"data-orientation":s,...a,...i,ref:e})});A6.displayName=eJ;function rJ(t){return tJ.includes(t)}var C6=A6;const N6=T.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>h.jsx(C6,{ref:i,decorative:r,orientation:e,className:Se("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));N6.displayName=C6.displayName;function Ct(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function nJ(t,e){const r=T.createContext(e),n=s=>{const{children:o,...a}=s,c=T.useMemo(()=>a,Object.values(a));return h.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(s){const o=T.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function Im(t,e=[]){let r=[];function n(s,o){const a=T.createContext(o),c=r.length;r=[...r,o];const u=p=>{var P;const{scope:g,children:v,...w}=p,x=((P=g==null?void 0:g[t])==null?void 0:P[c])||a,_=T.useMemo(()=>w,Object.values(w));return h.jsx(x.Provider,{value:_,children:v})};u.displayName=s+"Provider";function f(p,g){var x;const v=((x=g==null?void 0:g[t])==null?void 0:x[c])||a,w=T.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=r.map(o=>T.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[n,iJ(i,...e)]}function iJ(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const p=c(s)[`__scope${u}`];return{...a,...p}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Cn=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},sJ=G3[" useId ".trim().toString()]||(()=>{}),oJ=0;function vc(t){const[e,r]=T.useState(sJ());return Cn(()=>{r(n=>n??String(oJ++))},[t]),t||(e?`radix-${e}`:"")}var aJ=G3[" useInsertionEffect ".trim().toString()]||Cn;function Ov({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=lJ({defaultProp:e,onChange:r}),a=t!==void 0,c=a?t:i;{const f=T.useRef(t!==void 0);T.useEffect(()=>{const p=f.current;p!==a&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,n])}const u=T.useCallback(f=>{var p;if(a){const g=cJ(f)?f(t):f;g!==t&&((p=o.current)==null||p.call(o,g))}else s(f)},[a,t,s,o]);return[c,u]}function lJ({defaultProp:t,onChange:e}){const[r,n]=T.useState(t),i=T.useRef(r),s=T.useRef(e);return aJ(()=>{s.current=e},[e]),T.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function cJ(t){return typeof t=="function"}function Ac(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function uJ(t,e=globalThis==null?void 0:globalThis.document){const r=Ac(t);T.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var dJ="DismissableLayer",yP="dismissableLayer.update",fJ="dismissableLayer.pointerDownOutside",hJ="dismissableLayer.focusOutside",PR,I6=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fx=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,u=T.useContext(I6),[f,p]=T.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=T.useState({}),w=dr(e,I=>p(I)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),P=x.indexOf(_),S=f?x.indexOf(f):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,R=S>=P,N=gJ(I=>{const C=I.target,j=[...u.branches].some(F=>F.contains(C));!R||j||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},g),M=yJ(I=>{const C=I.target;[...u.branches].some(F=>F.contains(C))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},g);return uJ(I=>{S===u.layers.size-1&&(n==null||n(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},g),T.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(PR=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),AR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=PR)}},[f,g,r,u]),T.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),AR())},[f,u]),T.useEffect(()=>{const I=()=>v({});return document.addEventListener(yP,I),()=>document.removeEventListener(yP,I)},[]),h.jsx(Dt.div,{...c,ref:w,style:{pointerEvents:E?R?"auto":"none":void 0,...t.style},onFocusCapture:Ct(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ct(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ct(t.onPointerDownCapture,N.onPointerDownCapture)})});fx.displayName=dJ;var pJ="DismissableLayerBranch",mJ=T.forwardRef((t,e)=>{const r=T.useContext(I6),n=T.useRef(null),i=dr(e,n);return T.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),h.jsx(Dt.div,{...t,ref:i})});mJ.displayName=pJ;function gJ(t,e=globalThis==null?void 0:globalThis.document){const r=Ac(t),n=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let c=function(){k6(fJ,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function yJ(t,e=globalThis==null?void 0:globalThis.document){const r=Ac(t),n=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!n.current&&k6(hJ,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function AR(){const t=new CustomEvent(yP);document.dispatchEvent(t)}function k6(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?ZQ(i,s):i.dispatchEvent(s)}var w_="focusScope.autoFocusOnMount",__="focusScope.autoFocusOnUnmount",CR={bubbles:!1,cancelable:!0},vJ="FocusScope",aN=T.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=T.useState(null),u=Ac(i),f=Ac(s),p=T.useRef(null),g=dr(e,x=>c(x)),v=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(n){let x=function(E){if(v.paused||!a)return;const R=E.target;a.contains(R)?p.current=R:La(p.current,{select:!0})},_=function(E){if(v.paused||!a)return;const R=E.relatedTarget;R!==null&&(a.contains(R)||La(p.current,{select:!0}))},P=function(E){if(document.activeElement===document.body)for(const N of E)N.removedNodes.length>0&&La(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const S=new MutationObserver(P);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),S.disconnect()}}},[n,a,v.paused]),T.useEffect(()=>{if(a){IR.add(v);const x=document.activeElement;if(!a.contains(x)){const P=new CustomEvent(w_,CR);a.addEventListener(w_,u),a.dispatchEvent(P),P.defaultPrevented||(xJ(EJ(O6(a)),{select:!0}),document.activeElement===x&&La(a))}return()=>{a.removeEventListener(w_,u),setTimeout(()=>{const P=new CustomEvent(__,CR);a.addEventListener(__,f),a.dispatchEvent(P),P.defaultPrevented||La(x??document.body,{select:!0}),a.removeEventListener(__,f),IR.remove(v)},0)}}},[a,u,f,v]);const w=T.useCallback(x=>{if(!r&&!n||v.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,P=document.activeElement;if(_&&P){const S=x.currentTarget,[E,R]=bJ(S);E&&R?!x.shiftKey&&P===R?(x.preventDefault(),r&&La(E,{select:!0})):x.shiftKey&&P===E&&(x.preventDefault(),r&&La(R,{select:!0})):P===S&&x.preventDefault()}},[r,n,v.paused]);return h.jsx(Dt.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});aN.displayName=vJ;function xJ(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(La(n,{select:e}),document.activeElement!==r)return}function bJ(t){const e=O6(t),r=NR(e,t),n=NR(e.reverse(),t);return[r,n]}function O6(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function NR(t,e){for(const r of t)if(!wJ(r,{upTo:e}))return r}function wJ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _J(t){return t instanceof HTMLInputElement&&"select"in t}function La(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&_J(t)&&e&&t.select()}}var IR=SJ();function SJ(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=kR(t,e),t.unshift(e)},remove(e){var r;t=kR(t,e),(r=t[0])==null||r.resume()}}}function kR(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function EJ(t){return t.filter(e=>e.tagName!=="A")}var TJ="Portal",hx=T.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[i,s]=T.useState(!1);Cn(()=>s(!0),[]);const o=r||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?lX.createPortal(h.jsx(Dt.div,{...n,ref:e}),o):null});hx.displayName=TJ;function PJ(t,e){return T.useReducer((r,n)=>e[r][n]??r,t)}var Ef=t=>{const{present:e,children:r}=t,n=AJ(e),i=typeof r=="function"?r({present:n.isPresent}):T.Children.only(r),s=dr(n.ref,CJ(i));return typeof r=="function"||n.isPresent?T.cloneElement(i,{ref:s}):null};Ef.displayName="Presence";function AJ(t){const[e,r]=T.useState(),n=T.useRef(null),i=T.useRef(t),s=T.useRef("none"),o=t?"mounted":"unmounted",[a,c]=PJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=Py(n.current);s.current=a==="mounted"?u:"none"},[a]),Cn(()=>{const u=n.current,f=i.current;if(f!==t){const g=s.current,v=Py(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Cn(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,p=v=>{const x=Py(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&x&&(c("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},g=v=>{v.target===e&&(s.current=Py(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Py(t){return(t==null?void 0:t.animationName)||"none"}function CJ(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var S_=0;function j6(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??OR()),document.body.insertAdjacentElement("beforeend",t[1]??OR()),S_++,()=>{S_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),S_--}},[])}function OR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bs=function(){return Bs=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Bs.apply(this,arguments)};function R6(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function NJ(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var cv="right-scroll-bar-position",uv="width-before-scroll-bar",IJ="with-scroll-bars-hidden",kJ="--removed-body-scroll-bar-size";function E_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function OJ(t,e){var r=T.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var jJ=typeof window<"u"?T.useLayoutEffect:T.useEffect,jR=new WeakMap;function RJ(t,e){var r=OJ(null,function(n){return t.forEach(function(i){return E_(i,n)})});return jJ(function(){var n=jR.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(a){s.has(a)||E_(a,null)}),s.forEach(function(a){i.has(a)||E_(a,o)})}jR.set(r,t)},[t]),r}function MJ(t){return t}function DJ(t,e){e===void 0&&(e=MJ);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(s),o=r}var c=function(){var f=o;o=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return i}function LJ(t){t===void 0&&(t={});var e=DJ(null);return e.options=Bs({async:!0,ssr:!1},t),e}var M6=function(t){var e=t.sideCar,r=R6(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return T.createElement(n,Bs({},r))};M6.isSideCarExport=!0;function $J(t,e){return t.useMedium(e),M6}var D6=LJ(),T_=function(){},px=T.forwardRef(function(t,e){var r=T.useRef(null),n=T.useState({onScrollCapture:T_,onWheelCapture:T_,onTouchMoveCapture:T_}),i=n[0],s=n[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,f=t.enabled,p=t.shards,g=t.sideCar,v=t.noRelative,w=t.noIsolation,x=t.inert,_=t.allowPinchZoom,P=t.as,S=P===void 0?"div":P,E=t.gapMode,R=R6(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=g,M=RJ([r,e]),I=Bs(Bs({},R),i);return T.createElement(T.Fragment,null,f&&T.createElement(N,{sideCar:D6,removeScrollBar:u,shards:p,noRelative:v,noIsolation:w,inert:x,setCallbacks:s,allowPinchZoom:!!_,lockRef:r,gapMode:E}),o?T.cloneElement(T.Children.only(a),Bs(Bs({},I),{ref:M})):T.createElement(S,Bs({},I,{className:c,ref:M}),a))});px.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};px.classNames={fullWidth:uv,zeroRight:cv};var FJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=FJ();return e&&t.setAttribute("nonce",e),t}function BJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function UJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var qJ=function(){var t=0,e=null;return{add:function(r){t==0&&(e=VJ())&&(BJ(e,r),UJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zJ=function(){var t=qJ();return function(e,r){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},L6=function(){var t=zJ(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},WJ={left:0,top:0,right:0,gap:0},P_=function(t){return parseInt(t||"",10)||0},HJ=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[P_(r),P_(n),P_(i)]},GJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return WJ;var e=HJ(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},KJ=L6(),pd="data-scroll-locked",YJ=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(IJ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(pd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cv,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(uv,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(cv," .").concat(cv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(uv," .").concat(uv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(pd,`] {
    `).concat(kJ,": ").concat(a,`px;
  }
`)},RR=function(){var t=parseInt(document.body.getAttribute(pd)||"0",10);return isFinite(t)?t:0},XJ=function(){T.useEffect(function(){return document.body.setAttribute(pd,(RR()+1).toString()),function(){var t=RR()-1;t<=0?document.body.removeAttribute(pd):document.body.setAttribute(pd,t.toString())}},[])},QJ=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;XJ();var s=T.useMemo(function(){return GJ(i)},[i]);return T.createElement(KJ,{styles:YJ(s,!e,i,r?"":"!important")})},vP=!1;if(typeof window<"u")try{var Ay=Object.defineProperty({},"passive",{get:function(){return vP=!0,!0}});window.addEventListener("test",Ay,Ay),window.removeEventListener("test",Ay,Ay)}catch{vP=!1}var Uu=vP?{passive:!1}:!1,JJ=function(t){return t.tagName==="TEXTAREA"},$6=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!JJ(t)&&r[e]==="visible")},ZJ=function(t){return $6(t,"overflowY")},eZ=function(t){return $6(t,"overflowX")},MR=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=F6(t,n);if(i){var s=V6(t,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},tZ=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},rZ=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},F6=function(t,e){return t==="v"?ZJ(e):eZ(e)},V6=function(t,e){return t==="v"?tZ(e):rZ(e)},nZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},iZ=function(t,e,r,n,i){var s=nZ(t,window.getComputedStyle(e).direction),o=s*n,a=r.target,c=e.contains(a),u=!1,f=o>0,p=0,g=0;do{if(!a)break;var v=V6(t,a),w=v[0],x=v[1],_=v[2],P=x-_-s*w;(w||P)&&F6(t,a)&&(p+=P,g+=w);var S=a.parentNode;a=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(u=!0),u},Cy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},DR=function(t){return[t.deltaX,t.deltaY]},LR=function(t){return t&&"current"in t?t.current:t},sZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},oZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},aZ=0,qu=[];function lZ(t){var e=T.useRef([]),r=T.useRef([0,0]),n=T.useRef(),i=T.useState(aZ++)[0],s=T.useState(L6)[0],o=T.useRef(t);T.useEffect(function(){o.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=NJ([t.lockRef.current],(t.shards||[]).map(LR),!0).filter(Boolean);return x.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=T.useCallback(function(x,_){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var P=Cy(x),S=r.current,E="deltaX"in x?x.deltaX:S[0]-P[0],R="deltaY"in x?x.deltaY:S[1]-P[1],N,M=x.target,I=Math.abs(E)>Math.abs(R)?"h":"v";if("touches"in x&&I==="h"&&M.type==="range")return!1;var C=MR(I,M);if(!C)return!0;if(C?N=I:(N=I==="v"?"h":"v",C=MR(I,M)),!C)return!1;if(!n.current&&"changedTouches"in x&&(E||R)&&(n.current=N),!N)return!0;var j=n.current||N;return iZ(j,_,x,j==="h"?E:R)},[]),c=T.useCallback(function(x){var _=x;if(!(!qu.length||qu[qu.length-1]!==s)){var P="deltaY"in _?DR(_):Cy(_),S=e.current.filter(function(N){return N.name===_.type&&(N.target===_.target||_.target===N.shadowParent)&&sZ(N.delta,P)})[0];if(S&&S.should){_.cancelable&&_.preventDefault();return}if(!S){var E=(o.current.shards||[]).map(LR).filter(Boolean).filter(function(N){return N.contains(_.target)}),R=E.length>0?a(_,E[0]):!o.current.noIsolation;R&&_.cancelable&&_.preventDefault()}}},[]),u=T.useCallback(function(x,_,P,S){var E={name:x,delta:_,target:P,should:S,shadowParent:cZ(P)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(R){return R!==E})},1)},[]),f=T.useCallback(function(x){r.current=Cy(x),n.current=void 0},[]),p=T.useCallback(function(x){u(x.type,DR(x),x.target,a(x,t.lockRef.current))},[]),g=T.useCallback(function(x){u(x.type,Cy(x),x.target,a(x,t.lockRef.current))},[]);T.useEffect(function(){return qu.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Uu),document.addEventListener("touchmove",c,Uu),document.addEventListener("touchstart",f,Uu),function(){qu=qu.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Uu),document.removeEventListener("touchmove",c,Uu),document.removeEventListener("touchstart",f,Uu)}},[]);var v=t.removeScrollBar,w=t.inert;return T.createElement(T.Fragment,null,w?T.createElement(s,{styles:oZ(i)}):null,v?T.createElement(QJ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function cZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const uZ=$J(D6,lZ);var lN=T.forwardRef(function(t,e){return T.createElement(px,Bs({},t,{ref:e,sideCar:uZ}))});lN.classNames=px.classNames;var dZ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},zu=new WeakMap,Ny=new WeakMap,Iy={},A_=0,B6=function(t){return t&&(t.host||B6(t.parentNode))},fZ=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=B6(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},hZ=function(t,e,r,n){var i=fZ(e,Array.isArray(t)?t:[t]);Iy[r]||(Iy[r]=new WeakMap);var s=Iy[r],o=[],a=new Set,c=new Set(i),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};i.forEach(u);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(a.has(g))f(g);else try{var v=g.getAttribute(n),w=v!==null&&v!=="false",x=(zu.get(g)||0)+1,_=(s.get(g)||0)+1;zu.set(g,x),s.set(g,_),o.push(g),x===1&&w&&Ny.set(g,!0),_===1&&g.setAttribute(r,"true"),w||g.setAttribute(n,"true")}catch(P){console.error("aria-hidden: cannot operate on ",g,P)}})};return f(e),a.clear(),A_++,function(){o.forEach(function(p){var g=zu.get(p)-1,v=s.get(p)-1;zu.set(p,g),s.set(p,v),g||(Ny.has(p)||p.removeAttribute(n),Ny.delete(p)),v||p.removeAttribute(r)}),A_--,A_||(zu=new WeakMap,zu=new WeakMap,Ny=new WeakMap,Iy={})}},U6=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=dZ(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),hZ(n,i,r,"aria-hidden")):function(){return null}},mx="Dialog",[q6,iOe]=Im(mx),[pZ,As]=q6(mx),z6=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=T.useRef(null),c=T.useRef(null),[u,f]=Ov({prop:n,defaultProp:i??!1,onChange:s,caller:mx});return h.jsx(pZ,{scope:e,triggerRef:a,contentRef:c,contentId:vc(),titleId:vc(),descriptionId:vc(),open:u,onOpenChange:f,onOpenToggle:T.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};z6.displayName=mx;var W6="DialogTrigger",mZ=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=As(W6,r),s=dr(e,i.triggerRef);return h.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dN(i.open),...n,ref:s,onClick:Ct(t.onClick,i.onOpenToggle)})});mZ.displayName=W6;var cN="DialogPortal",[gZ,H6]=q6(cN,{forceMount:void 0}),G6=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=As(cN,e);return h.jsx(gZ,{scope:e,forceMount:r,children:T.Children.map(n,o=>h.jsx(Ef,{present:r||s.open,children:h.jsx(hx,{asChild:!0,container:i,children:o})}))})};G6.displayName=cN;var jv="DialogOverlay",K6=T.forwardRef((t,e)=>{const r=H6(jv,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=As(jv,t.__scopeDialog);return s.modal?h.jsx(Ef,{present:n||s.open,children:h.jsx(vZ,{...i,ref:e})}):null});K6.displayName=jv;var yZ=Cd("DialogOverlay.RemoveScroll"),vZ=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=As(jv,r);return h.jsx(lN,{as:yZ,allowPinchZoom:!0,shards:[i.contentRef],children:h.jsx(Dt.div,{"data-state":dN(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Cc="DialogContent",Y6=T.forwardRef((t,e)=>{const r=H6(Cc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=As(Cc,t.__scopeDialog);return h.jsx(Ef,{present:n||s.open,children:s.modal?h.jsx(xZ,{...i,ref:e}):h.jsx(bZ,{...i,ref:e})})});Y6.displayName=Cc;var xZ=T.forwardRef((t,e)=>{const r=As(Cc,t.__scopeDialog),n=T.useRef(null),i=dr(e,r.contentRef,n);return T.useEffect(()=>{const s=n.current;if(s)return U6(s)},[]),h.jsx(X6,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ct(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ct(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ct(t.onFocusOutside,s=>s.preventDefault())})}),bZ=T.forwardRef((t,e)=>{const r=As(Cc,t.__scopeDialog),n=T.useRef(!1),i=T.useRef(!1);return h.jsx(X6,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),X6=T.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=As(Cc,r),c=T.useRef(null),u=dr(e,c);return j6(),h.jsxs(h.Fragment,{children:[h.jsx(aN,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:h.jsx(fx,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":dN(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(wZ,{titleId:a.titleId}),h.jsx(SZ,{contentRef:c,descriptionId:a.descriptionId})]})]})}),uN="DialogTitle",Q6=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=As(uN,r);return h.jsx(Dt.h2,{id:i.titleId,...n,ref:e})});Q6.displayName=uN;var J6="DialogDescription",Z6=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=As(J6,r);return h.jsx(Dt.p,{id:i.descriptionId,...n,ref:e})});Z6.displayName=J6;var eB="DialogClose",tB=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=As(eB,r);return h.jsx(Dt.button,{type:"button",...n,ref:e,onClick:Ct(t.onClick,()=>i.onOpenChange(!1))})});tB.displayName=eB;function dN(t){return t?"open":"closed"}var rB="DialogTitleWarning",[sOe,nB]=nJ(rB,{contentName:Cc,titleName:uN,docsSlug:"dialog"}),wZ=({titleId:t})=>{const e=nB(rB),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},_Z="DialogDescriptionWarning",SZ=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nB(_Z).contentName}}.`;return T.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},iB=z6,sB=G6,gx=K6,yx=Y6,vx=Q6,xx=Z6,fN=tB;const EZ=iB,TZ=sB,oB=T.forwardRef(({className:t,...e},r)=>h.jsx(gx,{className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:duration-300 data-[state=open]:duration-300",t),...e,ref:r}));oB.displayName=gx.displayName;const PZ=wf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-out data-[state=closed]:duration-300 data-[state=open]:duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),aB=T.forwardRef(({side:t="right",className:e,children:r,...n},i)=>h.jsxs(TZ,{children:[h.jsx(oB,{}),h.jsxs(yx,{ref:i,className:Se(PZ({side:t}),e),...n,children:[h.jsxs(fN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[h.jsx(qn,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));aB.displayName=yx.displayName;const AZ=T.forwardRef(({className:t,...e},r)=>h.jsx(vx,{ref:r,className:Se("text-lg font-semibold text-foreground",t),...e}));AZ.displayName=vx.displayName;const CZ=T.forwardRef(({className:t,...e},r)=>h.jsx(xx,{ref:r,className:Se("text-sm text-muted-foreground",t),...e}));CZ.displayName=xx.displayName;function $R({className:t,...e}){return h.jsx("div",{className:Se("animate-pulse rounded-md bg-primary/10",t),...e})}const NZ=["top","right","bottom","left"],nl=Math.min,gi=Math.max,Rv=Math.round,ky=Math.floor,Ws=t=>({x:t,y:t}),IZ={left:"right",right:"left",bottom:"top",top:"bottom"},kZ={start:"end",end:"start"};function xP(t,e,r){return gi(t,nl(e,r))}function Wo(t,e){return typeof t=="function"?t(e):t}function Ho(t){return t.split("-")[0]}function Tf(t){return t.split("-")[1]}function hN(t){return t==="x"?"y":"x"}function pN(t){return t==="y"?"height":"width"}const OZ=new Set(["top","bottom"]);function qs(t){return OZ.has(Ho(t))?"y":"x"}function mN(t){return hN(qs(t))}function jZ(t,e,r){r===void 0&&(r=!1);const n=Tf(t),i=mN(t),s=pN(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Mv(o)),[o,Mv(o)]}function RZ(t){const e=Mv(t);return[bP(t),e,bP(e)]}function bP(t){return t.replace(/start|end/g,e=>kZ[e])}const FR=["left","right"],VR=["right","left"],MZ=["top","bottom"],DZ=["bottom","top"];function LZ(t,e,r){switch(t){case"top":case"bottom":return r?e?VR:FR:e?FR:VR;case"left":case"right":return e?MZ:DZ;default:return[]}}function $Z(t,e,r,n){const i=Tf(t);let s=LZ(Ho(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(bP)))),s}function Mv(t){return t.replace(/left|right|bottom|top/g,e=>IZ[e])}function FZ(t){return{top:0,right:0,bottom:0,left:0,...t}}function lB(t){return typeof t!="number"?FZ(t):{top:t,right:t,bottom:t,left:t}}function Dv(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function BR(t,e,r){let{reference:n,floating:i}=t;const s=qs(e),o=mN(e),a=pN(o),c=Ho(e),u=s==="y",f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,g=n[a]/2-i[a]/2;let v;switch(c){case"top":v={x:f,y:n.y-i.height};break;case"bottom":v={x:f,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:p};break;case"left":v={x:n.x-i.width,y:p};break;default:v={x:n.x,y:n.y}}switch(Tf(e)){case"start":v[o]-=g*(r&&u?-1:1);break;case"end":v[o]+=g*(r&&u?-1:1);break}return v}const VZ=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=BR(u,n,c),g=n,v={},w=0;for(let x=0;x<a.length;x++){const{name:_,fn:P}=a[x],{x:S,y:E,data:R,reset:N}=await P({x:f,y:p,initialPlacement:n,placement:g,strategy:i,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});f=S??f,p=E??p,v={...v,[_]:{...v[_],...R}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(g=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:f,y:p}=BR(u,g,c)),x=-1)}return{x:f,y:p,placement:g,strategy:i,middlewareData:v}};async function Ip(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=Wo(e,t),w=lB(v),_=a[g?p==="floating"?"reference":"floating":p],P=Dv(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(_)))==null||r?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),S=p==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},N=Dv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:E,strategy:c}):S);return{top:(P.top-N.top+w.top)/R.y,bottom:(N.bottom-P.bottom+w.bottom)/R.y,left:(P.left-N.left+w.left)/R.x,right:(N.right-P.right+w.right)/R.x}}const BZ=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:f=0}=Wo(t,e)||{};if(u==null)return{};const p=lB(f),g={x:r,y:n},v=mN(i),w=pN(v),x=await o.getDimensions(u),_=v==="y",P=_?"top":"left",S=_?"bottom":"right",E=_?"clientHeight":"clientWidth",R=s.reference[w]+s.reference[v]-g[v]-s.floating[w],N=g[v]-s.reference[v],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=M?M[E]:0;(!I||!await(o.isElement==null?void 0:o.isElement(M)))&&(I=a.floating[E]||s.floating[w]);const C=R/2-N/2,j=I/2-x[w]/2-1,F=nl(p[P],j),L=nl(p[S],j),V=F,D=I-x[w]-L,z=I/2-x[w]/2+C,H=xP(V,z,D),X=!c.arrow&&Tf(i)!=null&&z!==H&&s.reference[w]/2-(z<V?F:L)-x[w]/2<0,K=X?z<V?z-V:z-D:0;return{[v]:g[v]+K,data:{[v]:H,centerOffset:z-H-K,...X&&{alignmentOffset:K}},reset:X}}}),UZ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,..._}=Wo(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const P=Ho(i),S=qs(a),E=Ho(a)===a,R=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=g||(E||!x?[Mv(a)]:RZ(a)),M=w!=="none";!g&&M&&N.push(...$Z(a,x,w,R));const I=[a,...N],C=await Ip(e,_),j=[];let F=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&j.push(C[P]),p){const z=jZ(i,o,R);j.push(C[z[0]],C[z[1]])}if(F=[...F,{placement:i,overflows:j}],!j.every(z=>z<=0)){var L,V;const z=(((L=s.flip)==null?void 0:L.index)||0)+1,H=I[z];if(H&&(!(p==="alignment"?S!==qs(H):!1)||F.every(U=>qs(U.placement)===S?U.overflows[0]>0:!0)))return{data:{index:z,overflows:F},reset:{placement:H}};let X=(V=F.filter(K=>K.overflows[0]<=0).sort((K,U)=>K.overflows[1]-U.overflows[1])[0])==null?void 0:V.placement;if(!X)switch(v){case"bestFit":{var D;const K=(D=F.filter(U=>{if(M){const te=qs(U.placement);return te===S||te==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(te=>te>0).reduce((te,Q)=>te+Q,0)]).sort((U,te)=>U[1]-te[1])[0])==null?void 0:D[0];K&&(X=K);break}case"initialPlacement":X=a;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function UR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function qR(t){return NZ.some(e=>t[e]>=0)}const qZ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Wo(t,e);switch(n){case"referenceHidden":{const s=await Ip(e,{...i,elementContext:"reference"}),o=UR(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:qR(o)}}}case"escaped":{const s=await Ip(e,{...i,altBoundary:!0}),o=UR(s,r.floating);return{data:{escapedOffsets:o,escaped:qR(o)}}}default:return{}}}}},cB=new Set(["left","top"]);async function zZ(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Ho(r),a=Tf(r),c=qs(r)==="y",u=cB.has(o)?-1:1,f=s&&c?-1:1,p=Wo(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof w=="number"&&(v=a==="end"?w*-1:w),c?{x:v*f,y:g*u}:{x:g*u,y:v*f}}const WZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await zZ(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},HZ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:P,y:S}=_;return{x:P,y:S}}},...c}=Wo(t,e),u={x:r,y:n},f=await Ip(e,c),p=qs(Ho(i)),g=hN(p);let v=u[g],w=u[p];if(s){const _=g==="y"?"top":"left",P=g==="y"?"bottom":"right",S=v+f[_],E=v-f[P];v=xP(S,v,E)}if(o){const _=p==="y"?"top":"left",P=p==="y"?"bottom":"right",S=w+f[_],E=w-f[P];w=xP(S,w,E)}const x=a.fn({...e,[g]:v,[p]:w});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[g]:s,[p]:o}}}}}},GZ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Wo(t,e),f={x:r,y:n},p=qs(i),g=hN(p);let v=f[g],w=f[p];const x=Wo(a,e),_=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const E=g==="y"?"height":"width",R=s.reference[g]-s.floating[E]+_.mainAxis,N=s.reference[g]+s.reference[E]-_.mainAxis;v<R?v=R:v>N&&(v=N)}if(u){var P,S;const E=g==="y"?"width":"height",R=cB.has(Ho(i)),N=s.reference[p]-s.floating[E]+(R&&((P=o.offset)==null?void 0:P[p])||0)+(R?0:_.crossAxis),M=s.reference[p]+s.reference[E]+(R?0:((S=o.offset)==null?void 0:S[p])||0)-(R?_.crossAxis:0);w<N?w=N:w>M&&(w=M)}return{[g]:v,[p]:w}}}},KZ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Wo(t,e),f=await Ip(e,u),p=Ho(i),g=Tf(i),v=qs(i)==="y",{width:w,height:x}=s.floating;let _,P;p==="top"||p==="bottom"?(_=p,P=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(P=p,_=g==="end"?"top":"bottom");const S=x-f.top-f.bottom,E=w-f.left-f.right,R=nl(x-f[_],S),N=nl(w-f[P],E),M=!e.middlewareData.shift;let I=R,C=N;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(C=E),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(I=S),M&&!g){const F=gi(f.left,0),L=gi(f.right,0),V=gi(f.top,0),D=gi(f.bottom,0);v?C=w-2*(F!==0||L!==0?F+L:gi(f.left,f.right)):I=x-2*(V!==0||D!==0?V+D:gi(f.top,f.bottom))}await c({...e,availableWidth:C,availableHeight:I});const j=await o.getDimensions(a.floating);return w!==j.width||x!==j.height?{reset:{rects:!0}}:{}}}};function bx(){return typeof window<"u"}function Pf(t){return uB(t)?(t.nodeName||"").toLowerCase():"#document"}function bi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function lo(t){var e;return(e=(uB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uB(t){return bx()?t instanceof Node||t instanceof bi(t).Node:!1}function Es(t){return bx()?t instanceof Element||t instanceof bi(t).Element:!1}function eo(t){return bx()?t instanceof HTMLElement||t instanceof bi(t).HTMLElement:!1}function zR(t){return!bx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bi(t).ShadowRoot}const YZ=new Set(["inline","contents"]);function km(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Ts(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!YZ.has(i)}const XZ=new Set(["table","td","th"]);function QZ(t){return XZ.has(Pf(t))}const JZ=[":popover-open",":modal"];function wx(t){return JZ.some(e=>{try{return t.matches(e)}catch{return!1}})}const ZZ=["transform","translate","scale","rotate","perspective"],eee=["transform","translate","scale","rotate","perspective","filter"],tee=["paint","layout","strict","content"];function gN(t){const e=yN(),r=Es(t)?Ts(t):t;return ZZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||eee.some(n=>(r.willChange||"").includes(n))||tee.some(n=>(r.contain||"").includes(n))}function ree(t){let e=il(t);for(;eo(e)&&!Nd(e);){if(gN(e))return e;if(wx(e))return null;e=il(e)}return null}function yN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nee=new Set(["html","body","#document"]);function Nd(t){return nee.has(Pf(t))}function Ts(t){return bi(t).getComputedStyle(t)}function _x(t){return Es(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function il(t){if(Pf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zR(t)&&t.host||lo(t);return zR(e)?e.host:e}function dB(t){const e=il(t);return Nd(e)?t.ownerDocument?t.ownerDocument.body:t.body:eo(e)&&km(e)?e:dB(e)}function kp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=dB(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=bi(i);if(s){const a=wP(o);return e.concat(o,o.visualViewport||[],km(i)?i:[],a&&r?kp(a):[])}return e.concat(i,kp(i,[],r))}function wP(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fB(t){const e=Ts(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=eo(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=Rv(r)!==s||Rv(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function vN(t){return Es(t)?t:t.contextElement}function md(t){const e=vN(t);if(!eo(e))return Ws(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=fB(e);let o=(s?Rv(r.width):r.width)/n,a=(s?Rv(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const iee=Ws(0);function hB(t){const e=bi(t);return!yN()||!e.visualViewport?iee:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function see(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==bi(t)?!1:e}function Nc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=vN(t);let o=Ws(1);e&&(n?Es(n)&&(o=md(n)):o=md(t));const a=see(s,r,n)?hB(s):Ws(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const g=bi(s),v=n&&Es(n)?bi(n):n;let w=g,x=wP(w);for(;x&&n&&v!==w;){const _=md(x),P=x.getBoundingClientRect(),S=Ts(x),E=P.left+(x.clientLeft+parseFloat(S.paddingLeft))*_.x,R=P.top+(x.clientTop+parseFloat(S.paddingTop))*_.y;c*=_.x,u*=_.y,f*=_.x,p*=_.y,c+=E,u+=R,w=bi(x),x=wP(w)}}return Dv({width:f,height:p,x:c,y:u})}function Sx(t,e){const r=_x(t).scrollLeft;return e?e.left+r:Nc(lo(t)).left+r}function pB(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Sx(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function oee(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=lo(n),a=e?wx(e.floating):!1;if(n===o||a&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Ws(1);const f=Ws(0),p=eo(n);if((p||!p&&!s)&&((Pf(n)!=="body"||km(o))&&(c=_x(n)),eo(n))){const v=Nc(n);u=md(n),f.x=v.x+n.clientLeft,f.y=v.y+n.clientTop}const g=o&&!p&&!s?pB(o,c):Ws(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+g.x,y:r.y*u.y-c.scrollTop*u.y+f.y+g.y}}function aee(t){return Array.from(t.getClientRects())}function lee(t){const e=lo(t),r=_x(t),n=t.ownerDocument.body,i=gi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=gi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Sx(t);const a=-r.scrollTop;return Ts(n).direction==="rtl"&&(o+=gi(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}const WR=25;function cee(t,e){const r=bi(t),n=lo(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const f=yN();(!f||f&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}const u=Sx(n);if(u<=0){const f=n.ownerDocument,p=f.body,g=getComputedStyle(p),v=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,w=Math.abs(n.clientWidth-p.clientWidth-v);w<=WR&&(s-=w)}else u<=WR&&(s+=u);return{width:s,height:o,x:a,y:c}}const uee=new Set(["absolute","fixed"]);function dee(t,e){const r=Nc(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=eo(t)?md(t):Ws(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:o,height:a,x:c,y:u}}function HR(t,e,r){let n;if(e==="viewport")n=cee(t,r);else if(e==="document")n=lee(lo(t));else if(Es(e))n=dee(e,r);else{const i=hB(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Dv(n)}function mB(t,e){const r=il(t);return r===e||!Es(r)||Nd(r)?!1:Ts(r).position==="fixed"||mB(r,e)}function fee(t,e){const r=e.get(t);if(r)return r;let n=kp(t,[],!1).filter(a=>Es(a)&&Pf(a)!=="body"),i=null;const s=Ts(t).position==="fixed";let o=s?il(t):t;for(;Es(o)&&!Nd(o);){const a=Ts(o),c=gN(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&uee.has(i.position)||km(o)&&!c&&mB(t,o))?n=n.filter(f=>f!==o):i=a,o=il(o)}return e.set(t,n),n}function hee(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?wx(e)?[]:fee(e,this._c):[].concat(r),n],a=o[0],c=o.reduce((u,f)=>{const p=HR(e,f,i);return u.top=gi(p.top,u.top),u.right=nl(p.right,u.right),u.bottom=nl(p.bottom,u.bottom),u.left=gi(p.left,u.left),u},HR(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function pee(t){const{width:e,height:r}=fB(t);return{width:e,height:r}}function mee(t,e,r){const n=eo(e),i=lo(e),s=r==="fixed",o=Nc(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Ws(0);function u(){c.x=Sx(i)}if(n||!n&&!s)if((Pf(e)!=="body"||km(i))&&(a=_x(e)),n){const v=Nc(e,!0,s,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else i&&u();s&&!n&&i&&u();const f=i&&!n&&!s?pB(i,a):Ws(0),p=o.left+a.scrollLeft-c.x-f.x,g=o.top+a.scrollTop-c.y-f.y;return{x:p,y:g,width:o.width,height:o.height}}function C_(t){return Ts(t).position==="static"}function GR(t,e){if(!eo(t)||Ts(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return lo(t)===r&&(r=r.ownerDocument.body),r}function gB(t,e){const r=bi(t);if(wx(t))return r;if(!eo(t)){let i=il(t);for(;i&&!Nd(i);){if(Es(i)&&!C_(i))return i;i=il(i)}return r}let n=GR(t,e);for(;n&&QZ(n)&&C_(n);)n=GR(n,e);return n&&Nd(n)&&C_(n)&&!gN(n)?r:n||ree(t)||r}const gee=async function(t){const e=this.getOffsetParent||gB,r=this.getDimensions,n=await r(t.floating);return{reference:mee(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function yee(t){return Ts(t).direction==="rtl"}const vee={convertOffsetParentRelativeRectToViewportRelativeRect:oee,getDocumentElement:lo,getClippingRect:hee,getOffsetParent:gB,getElementRects:gee,getClientRects:aee,getDimensions:pee,getScale:md,isElement:Es,isRTL:yee};function yB(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function xee(t,e){let r=null,n;const i=lo(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:f,top:p,width:g,height:v}=u;if(a||e(),!g||!v)return;const w=ky(p),x=ky(i.clientWidth-(f+g)),_=ky(i.clientHeight-(p+v)),P=ky(f),E={rootMargin:-w+"px "+-x+"px "+-_+"px "+-P+"px",threshold:gi(0,nl(1,c))||1};let R=!0;function N(M){const I=M[0].intersectionRatio;if(I!==c){if(!R)return o();I?o(!1,I):n=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!yB(u,t.getBoundingClientRect())&&o(),R=!1}try{r=new IntersectionObserver(N,{...E,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,E)}r.observe(t)}return o(!0),s}function bee(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=vN(t),f=i||s?[...u?kp(u):[],...kp(e)]:[];f.forEach(P=>{i&&P.addEventListener("scroll",r,{passive:!0}),s&&P.addEventListener("resize",r)});const p=u&&a?xee(u,r):null;let g=-1,v=null;o&&(v=new ResizeObserver(P=>{let[S]=P;S&&S.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=v)==null||E.observe(e)})),r()}),u&&!c&&v.observe(u),v.observe(e));let w,x=c?Nc(t):null;c&&_();function _(){const P=Nc(t);x&&!yB(x,P)&&r(),x=P,w=requestAnimationFrame(_)}return r(),()=>{var P;f.forEach(S=>{i&&S.removeEventListener("scroll",r),s&&S.removeEventListener("resize",r)}),p==null||p(),(P=v)==null||P.disconnect(),v=null,c&&cancelAnimationFrame(w)}}const wee=WZ,_ee=HZ,See=UZ,Eee=KZ,Tee=qZ,KR=BZ,Pee=GZ,Aee=(t,e,r)=>{const n=new Map,i={platform:vee,...r},s={...i.platform,_c:n};return VZ(t,e,{...i,platform:s})};var Cee=typeof document<"u",Nee=function(){},dv=Cee?T.useLayoutEffect:Nee;function Lv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Lv(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!Lv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function vB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function YR(t,e){const r=vB(t);return Math.round(e*r)/r}function N_(t){const e=T.useRef(t);return dv(()=>{e.current=t}),e}function Iee(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[f,p]=T.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,v]=T.useState(n);Lv(g,n)||v(n);const[w,x]=T.useState(null),[_,P]=T.useState(null),S=T.useCallback(U=>{U!==M.current&&(M.current=U,x(U))},[]),E=T.useCallback(U=>{U!==I.current&&(I.current=U,P(U))},[]),R=s||w,N=o||_,M=T.useRef(null),I=T.useRef(null),C=T.useRef(f),j=c!=null,F=N_(c),L=N_(i),V=N_(u),D=T.useCallback(()=>{if(!M.current||!I.current)return;const U={placement:e,strategy:r,middleware:g};L.current&&(U.platform=L.current),Aee(M.current,I.current,U).then(te=>{const Q={...te,isPositioned:V.current!==!1};z.current&&!Lv(C.current,Q)&&(C.current=Q,Nm.flushSync(()=>{p(Q)}))})},[g,e,r,L,V]);dv(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,p(U=>({...U,isPositioned:!1})))},[u]);const z=T.useRef(!1);dv(()=>(z.current=!0,()=>{z.current=!1}),[]),dv(()=>{if(R&&(M.current=R),N&&(I.current=N),R&&N){if(F.current)return F.current(R,N,D);D()}},[R,N,D,F,j]);const H=T.useMemo(()=>({reference:M,floating:I,setReference:S,setFloating:E}),[S,E]),X=T.useMemo(()=>({reference:R,floating:N}),[R,N]),K=T.useMemo(()=>{const U={position:r,left:0,top:0};if(!X.floating)return U;const te=YR(X.floating,f.x),Q=YR(X.floating,f.y);return a?{...U,transform:"translate("+te+"px, "+Q+"px)",...vB(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:te,top:Q}},[r,a,X.floating,f.x,f.y]);return T.useMemo(()=>({...f,update:D,refs:H,elements:X,floatingStyles:K}),[f,D,H,X,K])}const kee=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?KR({element:n.current,padding:i}).fn(r):{}:n?KR({element:n,padding:i}).fn(r):{}}}},Oee=(t,e)=>({...wee(t),options:[t,e]}),jee=(t,e)=>({..._ee(t),options:[t,e]}),Ree=(t,e)=>({...Pee(t),options:[t,e]}),Mee=(t,e)=>({...See(t),options:[t,e]}),Dee=(t,e)=>({...Eee(t),options:[t,e]}),Lee=(t,e)=>({...Tee(t),options:[t,e]}),$ee=(t,e)=>({...kee(t),options:[t,e]});var Fee="Arrow",xB=T.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return h.jsx(Dt.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});xB.displayName=Fee;var Vee=xB;function Bee(t){const[e,r]=T.useState(void 0);return Cn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var xN="Popper",[bB,Ex]=Im(xN),[Uee,wB]=bB(xN),_B=t=>{const{__scopePopper:e,children:r}=t,[n,i]=T.useState(null);return h.jsx(Uee,{scope:e,anchor:n,onAnchorChange:i,children:r})};_B.displayName=xN;var SB="PopperAnchor",EB=T.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=wB(SB,r),o=T.useRef(null),a=dr(e,o),c=T.useRef(null);return T.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:h.jsx(Dt.div,{...i,ref:a})});EB.displayName=SB;var bN="PopperContent",[qee,zee]=bB(bN),TB=T.forwardRef((t,e)=>{var he,Te,ue,ve,Pe,ae;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...x}=t,_=wB(bN,r),[P,S]=T.useState(null),E=dr(e,Xe=>S(Xe)),[R,N]=T.useState(null),M=Bee(R),I=(M==null?void 0:M.width)??0,C=(M==null?void 0:M.height)??0,j=n+(s!=="center"?"-"+s:""),F=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},L=Array.isArray(u)?u:[u],V=L.length>0,D={padding:F,boundary:L.filter(Hee),altBoundary:V},{refs:z,floatingStyles:H,placement:X,isPositioned:K,middlewareData:U}=Iee({strategy:"fixed",placement:j,whileElementsMounted:(...Xe)=>bee(...Xe,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[Oee({mainAxis:i+C,alignmentAxis:o}),c&&jee({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Ree():void 0,...D}),c&&Mee({...D}),Dee({...D,apply:({elements:Xe,rects:de,availableWidth:xe,availableHeight:ke})=>{const{width:Re,height:dt}=de.reference,ct=Xe.floating.style;ct.setProperty("--radix-popper-available-width",`${xe}px`),ct.setProperty("--radix-popper-available-height",`${ke}px`),ct.setProperty("--radix-popper-anchor-width",`${Re}px`),ct.setProperty("--radix-popper-anchor-height",`${dt}px`)}}),R&&$ee({element:R,padding:a}),Gee({arrowWidth:I,arrowHeight:C}),g&&Lee({strategy:"referenceHidden",...D})]}),[te,Q]=CB(X),W=Ac(w);Cn(()=>{K&&(W==null||W())},[K,W]);const Z=(he=U.arrow)==null?void 0:he.x,re=(Te=U.arrow)==null?void 0:Te.y,me=((ue=U.arrow)==null?void 0:ue.centerOffset)!==0,[Ee,je]=T.useState();return Cn(()=>{P&&je(window.getComputedStyle(P).zIndex)},[P]),h.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:K?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(ve=U.transformOrigin)==null?void 0:ve.x,(Pe=U.transformOrigin)==null?void 0:Pe.y].join(" "),...((ae=U.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(qee,{scope:r,placedSide:te,onArrowChange:N,arrowX:Z,arrowY:re,shouldHideArrow:me,children:h.jsx(Dt.div,{"data-side":te,"data-align":Q,...x,ref:E,style:{...x.style,animation:K?void 0:"none"}})})})});TB.displayName=bN;var PB="PopperArrow",Wee={top:"bottom",right:"left",bottom:"top",left:"right"},AB=T.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=zee(PB,n),o=Wee[s.placedSide];return h.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:h.jsx(Vee,{...i,ref:r,style:{...i.style,display:"block"}})})});AB.displayName=PB;function Hee(t){return t!==null}var Gee=t=>({name:"transformOrigin",options:t,fn(e){var _,P,S;const{placement:r,rects:n,middlewareData:i}=e,o=((_=i.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,f]=CB(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(((P=i.arrow)==null?void 0:P.x)??0)+a/2,v=(((S=i.arrow)==null?void 0:S.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=o?p:`${g}px`,x=`${-c}px`):u==="top"?(w=o?p:`${g}px`,x=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=o?p:`${v}px`):u==="left"&&(w=`${n.floating.width+c}px`,x=o?p:`${v}px`),{data:{x:w,y:x}}}});function CB(t){const[e,r="center"]=t.split("-");return[e,r]}var NB=_B,IB=EB,kB=TB,OB=AB,jB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Kee="VisuallyHidden",RB=T.forwardRef((t,e)=>h.jsx(Dt.span,{...t,ref:e,style:{...jB,...t.style}}));RB.displayName=Kee;var Yee=RB,[Tx,oOe]=Im("Tooltip",[Ex]),Px=Ex(),MB="TooltipProvider",Xee=700,_P="tooltip.open",[Qee,wN]=Tx(MB),DB=t=>{const{__scopeTooltip:e,delayDuration:r=Xee,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=T.useRef(!0),a=T.useRef(!1),c=T.useRef(0);return T.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),h.jsx(Qee,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:T.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:T.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:s})};DB.displayName=MB;var Op="Tooltip",[Jee,Om]=Tx(Op),LB=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,c=wN(Op,t.__scopeTooltip),u=Px(e),[f,p]=T.useState(null),g=vc(),v=T.useRef(0),w=o??c.disableHoverableContent,x=a??c.delayDuration,_=T.useRef(!1),[P,S]=Ov({prop:n,defaultProp:i??!1,onChange:I=>{I?(c.onOpen(),document.dispatchEvent(new CustomEvent(_P))):c.onClose(),s==null||s(I)},caller:Op}),E=T.useMemo(()=>P?_.current?"delayed-open":"instant-open":"closed",[P]),R=T.useCallback(()=>{window.clearTimeout(v.current),v.current=0,_.current=!1,S(!0)},[S]),N=T.useCallback(()=>{window.clearTimeout(v.current),v.current=0,S(!1)},[S]),M=T.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{_.current=!0,S(!0),v.current=0},x)},[x,S]);return T.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),h.jsx(NB,{...u,children:h.jsx(Jee,{scope:e,contentId:g,open:P,stateAttribute:E,trigger:f,onTriggerChange:p,onTriggerEnter:T.useCallback(()=>{c.isOpenDelayedRef.current?M():R()},[c.isOpenDelayedRef,M,R]),onTriggerLeave:T.useCallback(()=>{w?N():(window.clearTimeout(v.current),v.current=0)},[N,w]),onOpen:R,onClose:N,disableHoverableContent:w,children:r})})};LB.displayName=Op;var SP="TooltipTrigger",$B=T.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Om(SP,r),s=wN(SP,r),o=Px(r),a=T.useRef(null),c=dr(e,a,i.onTriggerChange),u=T.useRef(!1),f=T.useRef(!1),p=T.useCallback(()=>u.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),h.jsx(IB,{asChild:!0,...o,children:h.jsx(Dt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Ct(t.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ct(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Ct(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ct(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ct(t.onBlur,i.onClose),onClick:Ct(t.onClick,i.onClose)})})});$B.displayName=SP;var _N="TooltipPortal",[Zee,ete]=Tx(_N,{forceMount:void 0}),FB=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:i}=t,s=Om(_N,e);return h.jsx(Zee,{scope:e,forceMount:r,children:h.jsx(Ef,{present:r||s.open,children:h.jsx(hx,{asChild:!0,container:i,children:n})})})};FB.displayName=_N;var Id="TooltipContent",VB=T.forwardRef((t,e)=>{const r=ete(Id,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=Om(Id,t.__scopeTooltip);return h.jsx(Ef,{present:n||o.open,children:o.disableHoverableContent?h.jsx(BB,{side:i,...s,ref:e}):h.jsx(tte,{side:i,...s,ref:e})})}),tte=T.forwardRef((t,e)=>{const r=Om(Id,t.__scopeTooltip),n=wN(Id,t.__scopeTooltip),i=T.useRef(null),s=dr(e,i),[o,a]=T.useState(null),{trigger:c,onClose:u}=r,f=i.current,{onPointerInTransitChange:p}=n,g=T.useCallback(()=>{a(null),p(!1)},[p]),v=T.useCallback((w,x)=>{const _=w.currentTarget,P={x:w.clientX,y:w.clientY},S=ote(P,_.getBoundingClientRect()),E=ate(P,S),R=lte(x.getBoundingClientRect()),N=ute([...E,...R]);a(N),p(!0)},[p]);return T.useEffect(()=>()=>g(),[g]),T.useEffect(()=>{if(c&&f){const w=_=>v(_,f),x=_=>v(_,c);return c.addEventListener("pointerleave",w),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",w),f.removeEventListener("pointerleave",x)}}},[c,f,v,g]),T.useEffect(()=>{if(o){const w=x=>{const _=x.target,P={x:x.clientX,y:x.clientY},S=(c==null?void 0:c.contains(_))||(f==null?void 0:f.contains(_)),E=!cte(P,o);S?g():E&&(g(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,f,o,u,g]),h.jsx(BB,{...t,ref:s})}),[rte,nte]=Tx(Op,{isInside:!1}),ite=fQ("TooltipContent"),BB=T.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=Om(Id,r),u=Px(r),{onClose:f}=c;return T.useEffect(()=>(document.addEventListener(_P,f),()=>document.removeEventListener(_P,f)),[f]),T.useEffect(()=>{if(c.trigger){const p=g=>{const v=g.target;v!=null&&v.contains(c.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,f]),h.jsx(fx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:h.jsxs(kB,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(ite,{children:n}),h.jsx(rte,{scope:r,isInside:!0,children:h.jsx(Yee,{id:c.contentId,role:"tooltip",children:i||n})})]})})});VB.displayName=Id;var UB="TooltipArrow",ste=T.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Px(r);return nte(UB,r).isInside?null:h.jsx(OB,{...i,...n,ref:e})});ste.displayName=UB;function ote(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ate(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function lte(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function cte(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],u=a.x,f=a.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-u)*(n-f)/(g-f)+u&&(i=!i)}return i}function ute(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),dte(e)}function dte(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var fte=DB,hte=LB,pte=$B,mte=FB,qB=VB;const gte=fte,yte=hte,vte=pte,zB=T.forwardRef(({className:t,sideOffset:e=4,...r},n)=>h.jsx(mte,{children:h.jsx(qB,{ref:n,sideOffset:e,className:Se("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));zB.displayName=qB.displayName;const xte="sidebar_state",bte=3600*24*7,wte="16rem",_te="18rem",Ste="3rem",Ete="b",WB=T.createContext(null);function Ax(){const t=T.useContext(WB);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const HB=T.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:i,children:s,...o},a)=>{const c=gQ(),[u,f]=T.useState(!1),[p,g]=T.useState(t),v=e??p,w=T.useCallback(S=>{const E=typeof S=="function"?S(v):S;r?r(E):g(E),document.cookie=`${xte}=${E}; path=/; max-age=${bte}`},[r,v]),x=T.useCallback(()=>c?f(S=>!S):w(S=>!S),[c,w,f]);T.useEffect(()=>{const S=E=>{E.key===Ete&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),x())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[x]);const _=v?"expanded":"collapsed",P=T.useMemo(()=>({state:_,open:v,setOpen:w,isMobile:c,openMobile:u,setOpenMobile:f,toggleSidebar:x}),[_,v,w,c,u,f,x]);return h.jsx(WB.Provider,{value:P,children:h.jsx(gte,{delayDuration:0,children:h.jsx("div",{style:{"--sidebar-width":wte,"--sidebar-width-icon":Ste,...i},className:Se("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:a,...o,children:s})})})});HB.displayName="SidebarProvider";const GB=T.forwardRef(({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:i,...s},o)=>{const{isMobile:a,state:c,openMobile:u,setOpenMobile:f}=Ax();return r==="none"?h.jsx("div",{className:Se("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...s,children:i}):a?h.jsx(EZ,{open:u,onOpenChange:f,...s,children:h.jsx(aB,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":_te},side:t,children:h.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):h.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground xl:block","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":e,"data-side":t,children:[h.jsx("div",{className:Se("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),h.jsx("div",{className:Se("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear xl:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:h.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});GB.displayName="Sidebar";const Tte=T.forwardRef(({className:t,onClick:e,...r},n)=>{const{toggleSidebar:i}=Ax();return h.jsxs(Ie,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Se("h-7 w-7",t),onClick:s=>{e==null||e(s),i()},...r,children:[h.jsx(WX,{}),h.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Tte.displayName="SidebarTrigger";const Pte=T.forwardRef(({className:t,...e},r)=>{const{toggleSidebar:n}=Ax();return h.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Se("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});Pte.displayName="SidebarRail";const Ate=T.forwardRef(({className:t,...e},r)=>h.jsx("main",{ref:r,className:Se("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));Ate.displayName="SidebarInset";const Cte=T.forwardRef(({className:t,...e},r)=>h.jsx(fn,{ref:r,"data-sidebar":"input",className:Se("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));Cte.displayName="SidebarInput";const KB=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,"data-sidebar":"header",className:Se("flex flex-col gap-2 p-2",t),...e}));KB.displayName="SidebarHeader";const YB=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,"data-sidebar":"footer",className:Se("flex flex-col gap-2 p-2",t),...e}));YB.displayName="SidebarFooter";const Nte=T.forwardRef(({className:t,...e},r)=>h.jsx(N6,{ref:r,"data-sidebar":"separator",className:Se("mx-2 w-auto bg-sidebar-border",t),...e}));Nte.displayName="SidebarSeparator";const XB=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,"data-sidebar":"content",className:Se("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));XB.displayName="SidebarContent";const QB=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,"data-sidebar":"group",className:Se("relative flex w-full min-w-0 flex-col p-2",t),...e}));QB.displayName="SidebarGroup";const JB=T.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?bf:"div";return h.jsx(i,{ref:n,"data-sidebar":"group-label",className:Se("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});JB.displayName="SidebarGroupLabel";const Ite=T.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?bf:"button";return h.jsx(i,{ref:n,"data-sidebar":"group-action",className:Se("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});Ite.displayName="SidebarGroupAction";const ZB=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,"data-sidebar":"group-content",className:Se("w-full text-sm",t),...e}));ZB.displayName="SidebarGroupContent";const eU=T.forwardRef(({className:t,...e},r)=>h.jsx("ul",{ref:r,"data-sidebar":"menu",className:Se("flex w-full min-w-0 flex-col gap-1",t),...e}));eU.displayName="SidebarMenu";const tU=T.forwardRef(({className:t,...e},r)=>h.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Se("group/menu-item relative",t),...e}));tU.displayName="SidebarMenuItem";const kte=wf("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),rU=T.forwardRef(({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:i,className:s,...o},a)=>{const c=t?bf:"button",{isMobile:u,state:f}=Ax(),p=h.jsx(c,{ref:a,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:Se(kte({variant:r,size:n}),s),...o});return i?(typeof i=="string"&&(i={children:i}),h.jsxs(yte,{children:[h.jsx(vte,{asChild:!0,children:p}),h.jsx(zB,{side:"right",align:"center",hidden:f!=="collapsed"||u,...i})]})):p});rU.displayName="SidebarMenuButton";const Ote=T.forwardRef(({className:t,asChild:e=!1,showOnHover:r=!1,...n},i)=>{const s=e?bf:"button";return h.jsx(s,{ref:i,"data-sidebar":"menu-action",className:Se("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});Ote.displayName="SidebarMenuAction";const jte=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Se("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));jte.displayName="SidebarMenuBadge";const Rte=T.forwardRef(({className:t,showIcon:e=!1,...r},n)=>{const i=T.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return h.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Se("flex h-8 items-center gap-2 rounded-md px-2",t),...r,children:[e&&h.jsx($R,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),h.jsx($R,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});Rte.displayName="SidebarMenuSkeleton";const Mte=T.forwardRef(({className:t,...e},r)=>h.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Se("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));Mte.displayName="SidebarMenuSub";const Dte=T.forwardRef(({...t},e)=>h.jsx("li",{ref:e,...t}));Dte.displayName="SidebarMenuSubItem";const Lte=T.forwardRef(({asChild:t=!1,size:e="md",isActive:r,className:n,...i},s)=>{const o=t?bf:"a";return h.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":e,"data-active":r,className:Se("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});Lte.displayName="SidebarMenuSubButton";const nU=T.createContext(),fr=()=>{const t=T.useContext(nU);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},$te={en:{"nav.businessProfile":"Business Profile","nav.personas":"Avatars","nav.prompts":"Prompts","nav.competitors":"Competitors","nav.analytics":"Analytics & Insights","nav.profile":"Profile & Usage","nav.platform":"Platform","welcome.title":"Welcome to Mole.AI","welcome.subtitle":"Let's customize the platform for your business.","welcome.description":"Answer a few quick questions so we can tailor insights and generate an avatar that reflects your ideal customer.","welcome.start":"Start Setup","welcome.profile.title":"Let's personalize your experience","welcome.profile.subtitle":"Tell us your name and preferred language to get started.","welcome.profile.nameLabel":"First Name *","welcome.profile.namePlaceholder":"e.g., Sarah","welcome.profile.languageLabel":"Preferred Language","welcome.profile.english":"English","welcome.profile.hebrew":"","welcome.profile.englishDescription":"Keep the interface in English.","welcome.profile.hebrewDescription":"  .","welcome.profile.businessFallbackName":"Unnamed business","welcome.profile.continue":"Continue","welcome.profile.saving":"Saving your preferences...","welcome.business.title":"Tell us about your business","welcome.business.subtitle":"We use this information to personalize AI research and messaging.","welcome.business.saveAndContinue":"Save & continue","welcome.business.saving":"Saving business profile...","welcome.persona.title":"Design your first avatar","welcome.persona.subtitle":"Describe your ideal customer so we can craft AI prompts and insights.","welcome.personaIntro.title":"Meet your first avatar","welcome.personaIntro.subtitle":"We use your business details to craft tailored personas.","welcome.personaIntro.description":"Great personas help Mole.AI produce sharper insights. Take a moment to get ready before we ask about your ideal customer.","welcome.personaIntro.cta":"Start persona setup","welcome.personaIntro.back":"Review business details","welcome.meetPersona.title":"Meet {name}","welcome.meetPersona.subtitle":"Here's your AI-generated customer avatar","welcome.businessReview.title":"Review Business Details","welcome.businessReview.subtitle":"Please review your business information before continuing","welcome.persona.motivations":"Key Motivations","welcome.persona.backstory":"Background Story","welcome.creating":"Creating your setup...","welcome.finishSetup":"Create Avatar & Finish","welcome.success.title":"You're all set!","welcome.success.subtitle":"Your business profile and first avatar are ready.","welcome.success.message":"We've saved your business profile and created your first avatar. You can always edit or add more later from the Avatars page.","welcome.enterApp":"Enter Mole.AI","welcome.errors.businessName":"     .","welcome.errors.description":"         .","welcome.errors.industry":"      .","welcome.errors.productsServices":"     .","welcome.errors.targetMarket":"     .","welcome.errors.competitors":"    .","welcome.errors.personaName":"     .","welcome.errors.personaRole":"        .","welcome.errors.personaAge":"   .","welcome.errors.personaGoals":"     .","welcome.errors.personaPainPoints":"       .","welcome.errors.personaLifestyle":"      .","welcome.errors.personaMotivations":"     .","welcome.errors.personaBackstory":"    .","welcome.errors.saving":"  .   .","welcome.errors.profileName":"          .","welcome.errors.profileSubmit":"  .   .","layout.businessFallback":"My Business","layout.businessLoading":"Loading businesses...","layout.businessUnavailable":"No businesses available","layout.businessManageCaption":"Manage businesses","placeholder.businessName":"Your company name","placeholder.industry":"e.g., Technology, Healthcare, Finance","placeholder.phone":"e.g., 0501234567","placeholder.description":"Describe what your company does, its mission, and key value propositions","placeholder.productsServices":"List your main products and services","placeholder.targetMarket":"Describe your ideal customers and target demographics","placeholder.addCompetitor":"Add competitor name","personas.title":"Customer Avatars","personas.subtitle":"AI-generated profiles for market research","personas.generateAI":"Generate AI Avatars","personas.createManual":"Create Manual Avatar","personas.noPersonas":"No Avatars Yet","personas.createFirst":"Create your first customer avatar to start analyzing market perception","personas.generateWith":"Generate with AI","personas.createManually":"Create Manually","personas.businessRequired":"Business Profile Required","personas.setupFirst":"Please set up your business profile first to create AI-powered avatars.","personas.setupProfile":"Set Up Business Profile","personas.edit":"Edit","personas.delete":"Delete","personas.goals":"Goals","personas.painPoints":"Pain Points","personas.lifestyle":"Lifestyle","personas.years":"Age","prompts.title":"Prompt History","prompts.subtitle":"Track AI queries and analyze responses","prompts.totalPrompts":"Total Prompts","prompts.completed":"Completed","prompts.pending":"Pending","prompts.brandMentions":"Brand Mentions","prompts.mentions":"Mentions","prompts.sendNew":"Send New Prompt","prompts.recentPrompts":"Recent Prompts","prompts.noPrompts":"No Prompts Sent Yet","prompts.sendFirst":"Send your first prompt to start analyzing AI responses","prompts.sendFirstBtn":"Send First Prompt","prompts.noPersonas":"No Avatars Available","prompts.createPersonasFirst":"You need to create avatars first before sending prompts to AI tools.","prompts.createPersonas":"Create Avatars","competitors.title":"Competitor Analysis","competitors.subtitle":"Compare your brand against competitors","competitors.manage":"Manage Competitors","competitors.mentionComparison":"Mention Comparison","competitors.marketShare":"Market Share of Mentions","competitors.current":"Current Competitors","competitors.addCompetitor":"Add competitor","competitors.noCompetitors":"No competitors added yet","competitors.saveChanges":"Save Changes","competitors.saving":"Saving...","competitors.updated":"Competitors updated successfully!","competitors.noData":"No data available yet. Send some prompts to see competitor analysis.","competitors.businessRequired":"Business Profile Required","competitors.setupRequired":"Please set up your business profile and add competitors to view this analysis.","competitors.thisWeek":"This Week","competitors.lastWeek":"Last Week","competitors.last7Days":"Last 7 Days","competitors.last14Days":"Last 14 Days","competitors.last30Days":"Last 30 Days","competitors.thisMonth":"This Month","competitors.lastMonth":"Last Month","competitors.customRange":"Custom Range","analytics.title":"Analytics & Insights","analytics.subtitle":"AI-powered brand perception analysis","analytics.totalMentions":"Total Mentions","analytics.mentionShare":"Mention Share","analytics.avgQuery":"Avg per Query","analytics.brandScore":"Brand Score","analytics.vsCompetitors":"vs competitors","analytics.mentionsPerPrompt":"mentions per prompt","analytics.outOf100":"out of 100","analytics.vsLastWeek":"+12% vs last week","analytics.mentionTrends":"Mention Trends","analytics.sentimentAnalysis":"Sentiment Analysis","analytics.keyThemes":"Key Themes","analytics.aiInsights":"AI Insights","analytics.refreshInsights":"Refresh Insights","analytics.analyzing":"Analyzing your brand data...","analytics.noTrend":"No trend data available yet","analytics.positive":"Positive","analytics.neutral":"Neutral","analytics.negative":"Negative","analytics.mentions":"mentions","analytics.setupRequired":"Setup Required","analytics.setupMessage":"Please set up your business profile and send some prompts to view analytics.","analytics.noData":"No Data Yet","analytics.noDataMessage":"Send some prompts from your avatars to start seeing analytics and insights.","analytics.noSentimentData":"No Sentiment Data Available","analytics.noSentimentDataMessage":"Sentiment analysis data will appear here after running prompts with sentiment analysis.","profile.title":"Account Overview","profile.subtitle":"Review your businesses and track prompt usage in one place.","profile.refresh":"Refresh Data","profile.businessesSection":"Businesses","profile.primaryLabel":"Primary","profile.additionalLabel":"Additional","profile.primaryBusinessSection":"Primary Business","profile.secondaryBusinessesSection":"Secondary Businesses","profile.businessesEmpty":"No businesses found for this account yet.","profile.usageSection":"Usage Summary","profile.maxPrompts":"Plan Limit","profile.monthlyPrompts":"Prompts This Month","profile.totalPrompts":"All-Time Prompts","profile.remainingPrompts":"Remaining This Month","profile.noUsage":"Usage metrics are not available yet.","profile.loadingError":"We could not load your profile details.","profile.retry":"Try Again","profile.missingUser":"Sign in to view your profile information.","business.title":"Business Profile","business.subtitle":"Define your brand foundation for AI analysis","business.companyInfo":"Company Information","business.createNew":"Create New Business","business.create":"Create Business","business.creating":"Creating...","business.businessName":"Business Name","business.businessNameRequired":"Business name is required","business.industry":"Industry","business.industryRequired":"Industry is required","business.description":"Description","business.descriptionRequired":"Description is required","business.phone":"Phone","business.targetMarket":"Target Market","business.targetMarketRequired":"Target market is required","business.productsServices":"Products/Services","business.productsServicesRequired":"At least one product/service is required","business.competitors":"Competitors","business.addCompetitor":"Add Competitor","business.competitorsRequired":"At least one competitor is required","business.pleaseFillRequiredFields":"Please fill in all required fields","business.createError":"Failed to create business. Please try again.","business.saving":"Saving...","business.update":"Update Business","business.profileSaved":"Business profile saved successfully","validation.required":"This field is required","validation.email":"Please enter a valid email address","validation.emailRequired":"Email is required","validation.password":"Password must be at least 6 characters","validation.passwordRequired":"Password is required","validation.passwordMismatch":"Passwords do not match","validation.confirmPasswordRequired":"Please confirm your password","validation.nameRequired":"Name is required","validation.jobTitleRequired":"Job title is required","validation.ageRequired":"Age is required","validation.ageInvalid":"Please enter a valid age (1-120)","validation.personaNameRequired":"  ","validation.personaRoleRequired":"  ","validation.promptTextRequired":"Prompt text is required","validation.personaSelectionRequired":"Please select a persona","validation.phoneInvalid":"Please enter a valid phone number","common.cancel":"Cancel","common.save":"Save","common.create":"Create","common.update":"Update","common.edit":"Edit","common.delete":"Delete","common.view":"View","common.send":"Send","common.loading":"","common.error":"Error","common.success":"Success","common.close":"Close","common.back":"Back","common.next":"Next","common.previous":"Previous","common.search":"Search","common.filter":"Filter","common.all":"All","common.name":"Name","common.date":"Date","common.status":"Status","common.actions":"Actions","status.pending":"Pending","status.analyzing":"Analyzing","status.completed":"Completed","status.error":"Error"},he:{"nav.businessProfile":" ","nav.personas":"","nav.prompts":"","nav.competitors":"","nav.analytics":" ","nav.profile":" ","nav.platform":"","welcome.title":"  -Mole.AI","welcome.subtitle":"     .","welcome.description":"              .","welcome.start":" ","welcome.profile.title":"   ","welcome.profile.subtitle":"        .","welcome.profile.nameLabel":"  *","welcome.profile.namePlaceholder":", ","welcome.profile.languageLabel":" ","welcome.profile.english":"English","welcome.profile.hebrew":"","welcome.profile.englishDescription":"   .","welcome.profile.hebrewDescription":"   .","welcome.profile.businessFallbackName":"  ","welcome.profile.continue":"","welcome.profile.saving":"  ...","welcome.business.title":"    ","welcome.business.subtitle":"        -AI .","welcome.business.saveAndContinue":" ","welcome.business.saving":"   ...","welcome.persona.title":"    ","welcome.persona.subtitle":"        .","welcome.personaIntro.title":"    ","welcome.personaIntro.subtitle":"       .","welcome.personaIntro.description":"   -Mole.AI   .         .","welcome.personaIntro.cta":"  ","welcome.personaIntro.back":"  ","welcome.meetPersona.title":"  {name}","welcome.meetPersona.subtitle":"      ","welcome.businessReview.title":"  ","welcome.businessReview.subtitle":"       ","welcome.persona.motivations":" ","welcome.persona.backstory":"  ","welcome.creating":"  ...","welcome.finishSetup":"  ","welcome.success.title":" !","welcome.success.subtitle":"    .","welcome.success.message":"    !      .        .","welcome.enterApp":" -Mole.AI","welcome.errors.businessName":"      .","welcome.errors.description":"        .","welcome.errors.industry":"     .","welcome.errors.productsServices":"     .","welcome.errors.targetMarket":"     .","welcome.errors.competitors":"    .","welcome.errors.personaName":"     .","welcome.errors.personaRole":"        .","welcome.errors.personaAge":"    .","welcome.errors.personaGoals":"     .","welcome.errors.personaPainPoints":"      .","welcome.errors.personaLifestyle":"      .","welcome.errors.personaMotivations":"     .","welcome.errors.personaBackstory":"     .","welcome.errors.saving":"   .  .","welcome.errors.profileName":"       .","welcome.errors.profileSubmit":"   .  .","layout.businessFallback":" ","layout.businessLoading":" ...","layout.businessUnavailable":"  ","layout.businessManageCaption":" ","business.title":" ","placeholder.businessName":"  ","placeholder.industry":", , , ","placeholder.phone":": 0501234567","placeholder.description":"    ,     ","placeholder.productsServices":"     ","placeholder.targetMarket":"        ","placeholder.addCompetitor":"  ","personas.title":"  ","personas.subtitle":"   AI  ","personas.generateAI":"   AI","personas.createManual":"  ","personas.noPersonas":"  ","personas.createFirst":"          ","personas.generateWith":"  AI","personas.createManually":" ","personas.businessRequired":"  ","personas.setupFirst":"           AI.","personas.setupProfile":"  ","personas.edit":"","personas.delete":"","personas.goals":"","personas.painPoints":" ","personas.lifestyle":" ","personas.years":"","prompts.title":" ","prompts.subtitle":"   AI  ","prompts.totalPrompts":" ","prompts.completed":"","prompts.pending":"","prompts.brandMentions":" ","prompts.mentions":"","prompts.sendNew":"  ","prompts.recentPrompts":" ","prompts.noPrompts":"   ","prompts.sendFirst":"         AI","prompts.sendFirstBtn":"  ","prompts.noPersonas":"  ","prompts.createPersonasFirst":"        AI.","prompts.createPersonas":" ","competitors.title":" ","competitors.subtitle":"     ","competitors.manage":" ","competitors.mentionComparison":" ","competitors.marketShare":"   ","competitors.current":" ","competitors.addCompetitor":" ","competitors.noCompetitors":"   ","competitors.saveChanges":" ","competitors.saving":"...","competitors.updated":"  !","competitors.noData":"   .      .","competitors.businessRequired":"  ","competitors.setupRequired":"           .","competitors.thisWeek":"","competitors.lastWeek":" ","competitors.last7Days":"7  ","competitors.last14Days":"14  ","competitors.last30Days":"30  ","competitors.thisMonth":"","competitors.lastMonth":" ","competitors.customRange":"  ","analytics.title":" ","analytics.subtitle":"    AI","analytics.totalMentions":" ","analytics.mentionShare":" ","analytics.avgQuery":" ","analytics.brandScore":" ","analytics.vsCompetitors":" ","analytics.mentionsPerPrompt":" ","analytics.outOf100":" 100","analytics.vsLastWeek":"+12%   ","analytics.mentionTrends":" ","analytics.sentimentAnalysis":" ","analytics.keyThemes":" ","analytics.aiInsights":" AI","analytics.refreshInsights":" ","analytics.analyzing":"    ...","analytics.noTrend":"    ","analytics.positive":"","analytics.neutral":"","analytics.negative":"","analytics.mentions":"","analytics.setupRequired":" ","analytics.setupMessage":"          .","analytics.noData":"  ","analytics.noDataMessage":"        .","analytics.noSentimentData":"   ","analytics.noSentimentDataMessage":"          .","profile.title":" ","profile.subtitle":"        .","profile.refresh":" ","profile.businessesSection":"","profile.primaryLabel":"","profile.additionalLabel":"","profile.primaryBusinessSection":" ","profile.secondaryBusinessesSection":" ","profile.businessesEmpty":"    .","profile.usageSection":" ","profile.maxPrompts":" ","profile.monthlyPrompts":" ","profile.totalPrompts":" ","profile.remainingPrompts":" ","profile.noUsage":"    .","profile.loadingError":"     .","profile.retry":" ","profile.missingUser":"     .","business.title":" ","business.subtitle":"      AI","business.companyInfo":"  ","business.createNew":"  ","business.create":" ","business.creating":"...","business.businessName":" ","business.businessNameRequired":"  ","business.industry":"","business.industryRequired":" ","business.description":"","business.descriptionRequired":" ","business.phone":"","business.targetMarket":" ","business.targetMarketRequired":"  ","business.productsServices":"/","business.productsServicesRequired":"     ","business.competitors":"","business.addCompetitor":" ","business.competitorsRequired":"   ","business.pleaseFillRequiredFields":"     ","business.createError":"  .   .","business.saving":"...","business.update":" ","business.profileSaved":"   ","validation.required":"  ","validation.email":"    ","validation.emailRequired":" ","validation.password":"    6 ","validation.passwordRequired":" ","validation.passwordMismatch":"  ","validation.confirmPasswordRequired":"   ","validation.nameRequired":" ","validation.jobTitleRequired":" ","validation.ageRequired":" ","validation.ageInvalid":"    (1-120)","validation.personaNameRequired":"  ","validation.personaRoleRequired":"  ","validation.promptTextRequired":"  ","validation.personaSelectionRequired":"  ","validation.phoneInvalid":"    ","common.cancel":"","common.save":"","common.create":"","common.update":"","common.edit":"","common.delete":"","common.view":"","common.send":"","common.loading":"...","common.error":"","common.success":"","common.close":"","common.back":"","common.next":"","common.previous":"","common.search":"","common.filter":"","common.all":"","common.name":"","common.date":"","common.status":"","common.actions":"","status.pending":"","status.analyzing":"","status.completed":"","status.error":""}};function fv({children:t}){const[e,r]=T.useState(()=>typeof window>"u"?"en":localStorage.getItem("app-language")||"en"),[n,i]=T.useState(()=>e==="he"?"rtl":"ltr"),[s,o]=T.useState(()=>typeof window>"u"?!1:localStorage.getItem("language-locked")==="true");T.useEffect(()=>{localStorage.setItem("app-language",e);const p=e==="he"?"rtl":"ltr";i(p),document.documentElement.setAttribute("dir",p),document.documentElement.setAttribute("lang",e)},[e]);const a=(p,g)=>{var w;return((w=$te[e])==null?void 0:w[p])||g||p},c=n==="rtl",u=e==="he",f=()=>{o(!0),typeof window<"u"&&localStorage.setItem("language-locked","true")};return h.jsx(nU.Provider,{value:{language:e,setLanguage:r,direction:n,isRTL:c,isHebrew:u,languageLocked:s,lockLanguage:f,t:a},children:t})}const Fte=[{id:"1",business_name:"TechCorp Solutions",description:"Leading technology solutions provider specializing in AI and automation",products_services:"AI consulting, automation services, cloud solutions, data analytics",target_market:"Mid to large enterprises, startups, government agencies",competitors:["TechGiant Inc","InnovateNow","FutureTech"],industry:"Technology",website:"https://techcorp.com",created_date:new Date().toISOString(),updated_date:new Date().toISOString()}],Vte=[{id:"1",name:"Sarah Chen",age:"32",job_title:"CTO",lifestyle:"Tech-savvy, works long hours, values efficiency",goals:"Scale technology infrastructure, improve team productivity",pain_points:"Legacy systems, integration challenges, budget constraints",motivations:"Innovation, competitive advantage, team growth",purchasing_habits:"Research-heavy, ROI-focused, prefers demos",backstory:"Started as a developer, moved up through technical leadership roles",avatar_url:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",prompt_template:"As a CTO at a growing company, I need to understand how [PRODUCT/SERVICE] can help us scale our technology infrastructure while maintaining security and performance standards.",is_ai_generated:!0,created_date:new Date().toISOString(),updated_date:new Date().toISOString()},{id:"2",name:"Michael Rodriguez",age:"28",job_title:"Product Manager",lifestyle:"Data-driven, collaborative, customer-focused",goals:"Improve user experience, increase product adoption",pain_points:"Limited user feedback, unclear market needs",motivations:"User satisfaction, product success, career growth",purchasing_habits:"Trial-based, feature comparison, team consensus",backstory:"MBA graduate with 5 years in product management",avatar_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",prompt_template:"As a Product Manager, I'm evaluating solutions that can help us better understand our users and improve our product roadmap. What insights can you provide about [TOPIC]?",is_ai_generated:!0,created_date:new Date().toISOString(),updated_date:new Date().toISOString()}],Bte=[],Vi={BUSINESS_PROFILES:"mole_ai_business_profiles",PERSONAS:"mole_ai_personas",PROMPTS:"mole_ai_prompts"},xc=t=>{try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading from localStorage:",e),[]}},sp=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error("Error writing to localStorage:",r)}},Ute=()=>{xc(Vi.BUSINESS_PROFILES).length||sp(Vi.BUSINESS_PROFILES,Fte),xc(Vi.PERSONAS).length||sp(Vi.PERSONAS,Vte),xc(Vi.PROMPTS).length||sp(Vi.PROMPTS,Bte)},qte=()=>{};var XR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},zte=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],a=t[r++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,v=u&63;c||(v=64,o||(g=64)),n.push(r[f],r[p],r[g],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw new Wte;const g=s<<2|a>>4;if(n.push(g),u!==64){const v=a<<4&240|u>>2;if(n.push(v),p!==64){const w=u<<6&192|p;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hte=function(t){const e=iU(t);return sU.encodeByteArray(e,!0)},$v=function(t){return Hte(t).replace(/\./g,"")},oU=function(t){try{return sU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kte=()=>Gte().__FIREBASE_DEFAULTS__,Yte=()=>{if(typeof process>"u"||typeof XR>"u")return;const t=XR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oU(t[1]);return e&&JSON.parse(e)},Cx=()=>{try{return qte()||Kte()||Yte()||Xte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aU=t=>{var e,r;return(r=(e=Cx())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},Qte=t=>{const e=aU(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},lU=()=>{var t;return(t=Cx())==null?void 0:t.config},cU=t=>{var e;return(e=Cx())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uU(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$v(JSON.stringify(r)),$v(JSON.stringify(o)),""].join(".")}const op={};function ere(){const t={prod:[],emulator:[]};for(const e of Object.keys(op))op[e]?t.emulator.push(e):t.prod.push(e);return t}function tre(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let QR=!1;function dU(t,e){if(typeof window>"u"||typeof document>"u"||!Af(window.location.host)||op[t]===e||op[t]||QR)return;op[t]=e;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",s=ere().prod.length>0;function o(){const g=document.getElementById(n);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{QR=!0,o()},g}function f(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=tre(n),v=r("text"),w=document.getElementById(v)||document.createElement("span"),x=r("learnmore"),_=document.getElementById(x)||document.createElement("a"),P=r("preprendIcon"),S=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const E=g.element;a(E),f(_,x);const R=u();c(S,P),E.append(S,w,_,R),document.body.appendChild(E)}s?(w.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rre(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function nre(){var e;const t=(e=Cx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ire(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sre(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ore(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function are(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lre(){return!nre()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cre(){try{return typeof indexedDB=="object"}catch{return!1}}function ure(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dre="FirebaseError";class sa extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=dre,Object.setPrototypeOf(this,sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jm.prototype.create)}}class jm{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fre(s,n):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new sa(i,a,n)}}function fre(t,e){return t.replace(hre,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const hre=/\{\$([^}]+)}/g;function pre(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ic(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(JR(s)&&JR(o)){if(!Ic(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function JR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Yh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xh(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function mre(t,e){const r=new gre(t,e);return r.subscribe.bind(r)}class gre{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");yre(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=I_),i.error===void 0&&(i.error=I_),i.complete===void 0&&(i.complete=I_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yre(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function I_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t){return t&&t._delegate?t._delegate:t}class kc{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Jte;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bre(e))try{this.getOrInitializeService({instanceIdentifier:Zl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Zl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zl){return this.instances.has(e)}getOptions(e=Zl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);n===a&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:xre(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Zl){return this.component?this.component.multipleInstances?e:Zl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xre(t){return t===Zl?void 0:t}function bre(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new vre(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gt||(gt={}));const _re={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},Sre=gt.INFO,Ere={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},Tre=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Ere[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class SN{constructor(e){this.name=e,this._logLevel=Sre,this._logHandler=Tre,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_re[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const Pre=(t,e)=>e.some(r=>t instanceof r);let ZR,e2;function Are(){return ZR||(ZR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cre(){return e2||(e2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fU=new WeakMap,EP=new WeakMap,hU=new WeakMap,k_=new WeakMap,EN=new WeakMap;function Nre(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(Ka(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&fU.set(r,t)}).catch(()=>{}),EN.set(e,t),e}function Ire(t){if(EP.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});EP.set(t,e)}let TP={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return EP.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hU.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ka(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kre(t){TP=t(TP)}function Ore(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(O_(this),e,...r);return hU.set(n,e.sort?e.sort():[e]),Ka(n)}:Cre().includes(t)?function(...e){return t.apply(O_(this),e),Ka(fU.get(this))}:function(...e){return Ka(t.apply(O_(this),e))}}function jre(t){return typeof t=="function"?Ore(t):(t instanceof IDBTransaction&&Ire(t),Pre(t,Are())?new Proxy(t,TP):t)}function Ka(t){if(t instanceof IDBRequest)return Nre(t);if(k_.has(t))return k_.get(t);const e=jre(t);return e!==t&&(k_.set(t,e),EN.set(e,t)),e}const O_=t=>EN.get(t);function Rre(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ka(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Ka(o.result),c.oldVersion,c.newVersion,Ka(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Mre=["get","getKey","getAll","getAllKeys","count"],Dre=["put","add","delete","clear"],j_=new Map;function t2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(j_.get(e))return j_.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Dre.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Mre.includes(r)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),i&&c.done]))[0]};return j_.set(e,s),s}kre(t=>({...t,get:(e,r,n)=>t2(e,r)||t.get(e,r,n),has:(e,r)=>!!t2(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if($re(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function $re(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const PP="@firebase/app",r2="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new SN("@firebase/app"),Fre="@firebase/app-compat",Vre="@firebase/analytics-compat",Bre="@firebase/analytics",Ure="@firebase/app-check-compat",qre="@firebase/app-check",zre="@firebase/auth",Wre="@firebase/auth-compat",Hre="@firebase/database",Gre="@firebase/data-connect",Kre="@firebase/database-compat",Yre="@firebase/functions",Xre="@firebase/functions-compat",Qre="@firebase/installations",Jre="@firebase/installations-compat",Zre="@firebase/messaging",ene="@firebase/messaging-compat",tne="@firebase/performance",rne="@firebase/performance-compat",nne="@firebase/remote-config",ine="@firebase/remote-config-compat",sne="@firebase/storage",one="@firebase/storage-compat",ane="@firebase/firestore",lne="@firebase/ai",cne="@firebase/firestore-compat",une="firebase",dne="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="[DEFAULT]",fne={[PP]:"fire-core",[Fre]:"fire-core-compat",[Bre]:"fire-analytics",[Vre]:"fire-analytics-compat",[qre]:"fire-app-check",[Ure]:"fire-app-check-compat",[zre]:"fire-auth",[Wre]:"fire-auth-compat",[Hre]:"fire-rtdb",[Gre]:"fire-data-connect",[Kre]:"fire-rtdb-compat",[Yre]:"fire-fn",[Xre]:"fire-fn-compat",[Qre]:"fire-iid",[Jre]:"fire-iid-compat",[Zre]:"fire-fcm",[ene]:"fire-fcm-compat",[tne]:"fire-perf",[rne]:"fire-perf-compat",[nne]:"fire-rc",[ine]:"fire-rc-compat",[sne]:"fire-gcs",[one]:"fire-gcs-compat",[ane]:"fire-fst",[cne]:"fire-fst-compat",[lne]:"fire-vertex","fire-js":"fire-js",[une]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map,hne=new Map,CP=new Map;function n2(t,e){try{t.container.addComponent(e)}catch(r){Go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function kd(t){const e=t.name;if(CP.has(e))return Go.debug(`There were multiple attempts to register component ${e}.`),!1;CP.set(e,t);for(const r of Fv.values())n2(r,t);for(const r of hne.values())n2(r,t);return!0}function TN(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Bi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ya=new jm("app","Firebase",pne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new kc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=dne;function pU(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:AP,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Ya.create("bad-app-name",{appName:String(i)});if(r||(r=lU()),!r)throw Ya.create("no-options");const s=Fv.get(i);if(s){if(Ic(r,s.options)&&Ic(n,s.config))return s;throw Ya.create("duplicate-app",{appName:i})}const o=new wre(i);for(const c of CP.values())o.addComponent(c);const a=new mne(r,n,o);return Fv.set(i,a),a}function mU(t=AP){const e=Fv.get(t);if(!e&&t===AP&&lU())return pU();if(!e)throw Ya.create("no-app",{appName:t});return e}function Xa(t,e,r){let n=fne[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Go.warn(o.join(" "));return}kd(new kc(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gne="firebase-heartbeat-database",yne=1,jp="firebase-heartbeat-store";let R_=null;function gU(){return R_||(R_=Rre(gne,yne,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jp)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ya.create("idb-open",{originalErrorMessage:t.message})})),R_}async function vne(t){try{const r=(await gU()).transaction(jp),n=await r.objectStore(jp).get(yU(t));return await r.done,n}catch(e){if(e instanceof sa)Go.warn(e.message);else{const r=Ya.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Go.warn(r.message)}}}async function i2(t,e){try{const n=(await gU()).transaction(jp,"readwrite");await n.objectStore(jp).put(e,yU(t)),await n.done}catch(r){if(r instanceof sa)Go.warn(r.message);else{const n=Ya.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Go.warn(n.message)}}}function yU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xne=1024,bne=30;class wne{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Sne(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>bne){const o=Ene(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Go.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=s2(),{heartbeatsToSend:n,unsentEntries:i}=_ne(this._heartbeatsCache.heartbeats),s=$v(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Go.warn(r),""}}}function s2(){return new Date().toISOString().substring(0,10)}function _ne(t,e=xne){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),o2(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),o2(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Sne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cre()?ure().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await vne(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return i2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return i2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function o2(t){return $v(JSON.stringify({version:2,heartbeats:t})).length}function Ene(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tne(t){kd(new kc("platform-logger",e=>new Lre(e),"PRIVATE")),kd(new kc("heartbeat",e=>new wne(e),"PRIVATE")),Xa(PP,r2,t),Xa(PP,r2,"esm2020"),Xa("fire-js","")}Tne("");var a2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qa,vU;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function j(){}j.prototype=C.prototype,I.D=C.prototype,I.prototype=new j,I.prototype.constructor=I,I.C=function(F,L,V){for(var D=Array(arguments.length-2),z=2;z<arguments.length;z++)D[z-2]=arguments[z];return C.prototype[L].apply(F,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,C,j){j||(j=0);var F=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)F[L]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(L=0;16>L;++L)F[L]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=I.g[0],j=I.g[1],L=I.g[2];var V=I.g[3],D=C+(V^j&(L^V))+F[0]+3614090360&4294967295;C=j+(D<<7&4294967295|D>>>25),D=V+(L^C&(j^L))+F[1]+3905402710&4294967295,V=C+(D<<12&4294967295|D>>>20),D=L+(j^V&(C^j))+F[2]+606105819&4294967295,L=V+(D<<17&4294967295|D>>>15),D=j+(C^L&(V^C))+F[3]+3250441966&4294967295,j=L+(D<<22&4294967295|D>>>10),D=C+(V^j&(L^V))+F[4]+4118548399&4294967295,C=j+(D<<7&4294967295|D>>>25),D=V+(L^C&(j^L))+F[5]+1200080426&4294967295,V=C+(D<<12&4294967295|D>>>20),D=L+(j^V&(C^j))+F[6]+2821735955&4294967295,L=V+(D<<17&4294967295|D>>>15),D=j+(C^L&(V^C))+F[7]+4249261313&4294967295,j=L+(D<<22&4294967295|D>>>10),D=C+(V^j&(L^V))+F[8]+1770035416&4294967295,C=j+(D<<7&4294967295|D>>>25),D=V+(L^C&(j^L))+F[9]+2336552879&4294967295,V=C+(D<<12&4294967295|D>>>20),D=L+(j^V&(C^j))+F[10]+4294925233&4294967295,L=V+(D<<17&4294967295|D>>>15),D=j+(C^L&(V^C))+F[11]+2304563134&4294967295,j=L+(D<<22&4294967295|D>>>10),D=C+(V^j&(L^V))+F[12]+1804603682&4294967295,C=j+(D<<7&4294967295|D>>>25),D=V+(L^C&(j^L))+F[13]+4254626195&4294967295,V=C+(D<<12&4294967295|D>>>20),D=L+(j^V&(C^j))+F[14]+2792965006&4294967295,L=V+(D<<17&4294967295|D>>>15),D=j+(C^L&(V^C))+F[15]+1236535329&4294967295,j=L+(D<<22&4294967295|D>>>10),D=C+(L^V&(j^L))+F[1]+4129170786&4294967295,C=j+(D<<5&4294967295|D>>>27),D=V+(j^L&(C^j))+F[6]+3225465664&4294967295,V=C+(D<<9&4294967295|D>>>23),D=L+(C^j&(V^C))+F[11]+643717713&4294967295,L=V+(D<<14&4294967295|D>>>18),D=j+(V^C&(L^V))+F[0]+3921069994&4294967295,j=L+(D<<20&4294967295|D>>>12),D=C+(L^V&(j^L))+F[5]+3593408605&4294967295,C=j+(D<<5&4294967295|D>>>27),D=V+(j^L&(C^j))+F[10]+38016083&4294967295,V=C+(D<<9&4294967295|D>>>23),D=L+(C^j&(V^C))+F[15]+3634488961&4294967295,L=V+(D<<14&4294967295|D>>>18),D=j+(V^C&(L^V))+F[4]+3889429448&4294967295,j=L+(D<<20&4294967295|D>>>12),D=C+(L^V&(j^L))+F[9]+568446438&4294967295,C=j+(D<<5&4294967295|D>>>27),D=V+(j^L&(C^j))+F[14]+3275163606&4294967295,V=C+(D<<9&4294967295|D>>>23),D=L+(C^j&(V^C))+F[3]+4107603335&4294967295,L=V+(D<<14&4294967295|D>>>18),D=j+(V^C&(L^V))+F[8]+1163531501&4294967295,j=L+(D<<20&4294967295|D>>>12),D=C+(L^V&(j^L))+F[13]+2850285829&4294967295,C=j+(D<<5&4294967295|D>>>27),D=V+(j^L&(C^j))+F[2]+4243563512&4294967295,V=C+(D<<9&4294967295|D>>>23),D=L+(C^j&(V^C))+F[7]+1735328473&4294967295,L=V+(D<<14&4294967295|D>>>18),D=j+(V^C&(L^V))+F[12]+2368359562&4294967295,j=L+(D<<20&4294967295|D>>>12),D=C+(j^L^V)+F[5]+4294588738&4294967295,C=j+(D<<4&4294967295|D>>>28),D=V+(C^j^L)+F[8]+2272392833&4294967295,V=C+(D<<11&4294967295|D>>>21),D=L+(V^C^j)+F[11]+1839030562&4294967295,L=V+(D<<16&4294967295|D>>>16),D=j+(L^V^C)+F[14]+4259657740&4294967295,j=L+(D<<23&4294967295|D>>>9),D=C+(j^L^V)+F[1]+2763975236&4294967295,C=j+(D<<4&4294967295|D>>>28),D=V+(C^j^L)+F[4]+1272893353&4294967295,V=C+(D<<11&4294967295|D>>>21),D=L+(V^C^j)+F[7]+4139469664&4294967295,L=V+(D<<16&4294967295|D>>>16),D=j+(L^V^C)+F[10]+3200236656&4294967295,j=L+(D<<23&4294967295|D>>>9),D=C+(j^L^V)+F[13]+681279174&4294967295,C=j+(D<<4&4294967295|D>>>28),D=V+(C^j^L)+F[0]+3936430074&4294967295,V=C+(D<<11&4294967295|D>>>21),D=L+(V^C^j)+F[3]+3572445317&4294967295,L=V+(D<<16&4294967295|D>>>16),D=j+(L^V^C)+F[6]+76029189&4294967295,j=L+(D<<23&4294967295|D>>>9),D=C+(j^L^V)+F[9]+3654602809&4294967295,C=j+(D<<4&4294967295|D>>>28),D=V+(C^j^L)+F[12]+3873151461&4294967295,V=C+(D<<11&4294967295|D>>>21),D=L+(V^C^j)+F[15]+530742520&4294967295,L=V+(D<<16&4294967295|D>>>16),D=j+(L^V^C)+F[2]+3299628645&4294967295,j=L+(D<<23&4294967295|D>>>9),D=C+(L^(j|~V))+F[0]+4096336452&4294967295,C=j+(D<<6&4294967295|D>>>26),D=V+(j^(C|~L))+F[7]+1126891415&4294967295,V=C+(D<<10&4294967295|D>>>22),D=L+(C^(V|~j))+F[14]+2878612391&4294967295,L=V+(D<<15&4294967295|D>>>17),D=j+(V^(L|~C))+F[5]+4237533241&4294967295,j=L+(D<<21&4294967295|D>>>11),D=C+(L^(j|~V))+F[12]+1700485571&4294967295,C=j+(D<<6&4294967295|D>>>26),D=V+(j^(C|~L))+F[3]+2399980690&4294967295,V=C+(D<<10&4294967295|D>>>22),D=L+(C^(V|~j))+F[10]+4293915773&4294967295,L=V+(D<<15&4294967295|D>>>17),D=j+(V^(L|~C))+F[1]+2240044497&4294967295,j=L+(D<<21&4294967295|D>>>11),D=C+(L^(j|~V))+F[8]+1873313359&4294967295,C=j+(D<<6&4294967295|D>>>26),D=V+(j^(C|~L))+F[15]+4264355552&4294967295,V=C+(D<<10&4294967295|D>>>22),D=L+(C^(V|~j))+F[6]+2734768916&4294967295,L=V+(D<<15&4294967295|D>>>17),D=j+(V^(L|~C))+F[13]+1309151649&4294967295,j=L+(D<<21&4294967295|D>>>11),D=C+(L^(j|~V))+F[4]+4149444226&4294967295,C=j+(D<<6&4294967295|D>>>26),D=V+(j^(C|~L))+F[11]+3174756917&4294967295,V=C+(D<<10&4294967295|D>>>22),D=L+(C^(V|~j))+F[2]+718787259&4294967295,L=V+(D<<15&4294967295|D>>>17),D=j+(V^(L|~C))+F[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+V&4294967295}n.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var j=C-this.blockSize,F=this.B,L=this.h,V=0;V<C;){if(L==0)for(;V<=j;)i(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<C;)if(F[L++]=I.charCodeAt(V++),L==this.blockSize){i(this,F),L=0;break}}else for(;V<C;)if(F[L++]=I[V++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=C},n.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var j=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=j&255,j/=256;for(this.u(I),I=Array(16),C=j=0;4>C;++C)for(var F=0;32>F;F+=8)I[j++]=this.g[C]>>>F&255;return I};function s(I,C){var j=a;return Object.prototype.hasOwnProperty.call(j,I)?j[I]:j[I]=C(I)}function o(I,C){this.h=C;for(var j=[],F=!0,L=I.length-1;0<=L;L--){var V=I[L]|0;F&&V==C||(j[L]=V,F=!1)}this.g=j}var a={};function c(I){return-128<=I&&128>I?s(I,function(C){return new o([C|0],0>C?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return _(u(-I));for(var C=[],j=1,F=0;I>=j;F++)C[F]=I/j|0,j*=4294967296;return new o(C,0)}function f(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return _(f(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=u(Math.pow(C,8)),F=p,L=0;L<I.length;L+=8){var V=Math.min(8,I.length-L),D=parseInt(I.substring(L,L+V),C);8>V?(V=u(Math.pow(C,V)),F=F.j(V).add(u(D))):(F=F.j(j),F=F.add(u(D)))}return F}var p=c(0),g=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-_(this).m();for(var I=0,C=1,j=0;j<this.g.length;j++){var F=this.i(j);I+=(0<=F?F:4294967296+F)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(x(this))return"-"+_(this).toString(I);for(var C=u(Math.pow(I,6)),j=this,F="";;){var L=R(j,C).g;j=P(j,L.j(C));var V=((0<j.g.length?j.g[0]:j.h)>>>0).toString(I);if(j=L,w(j))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=P(this,I),x(I)?-1:w(I)?0:1};function _(I){for(var C=I.g.length,j=[],F=0;F<C;F++)j[F]=~I.g[F];return new o(j,~I.h).add(g)}t.abs=function(){return x(this)?_(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),j=[],F=0,L=0;L<=C;L++){var V=F+(this.i(L)&65535)+(I.i(L)&65535),D=(V>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);F=D>>>16,V&=65535,D&=65535,j[L]=D<<16|V}return new o(j,j[j.length-1]&-2147483648?-1:0)};function P(I,C){return I.add(_(C))}t.j=function(I){if(w(this)||w(I))return p;if(x(this))return x(I)?_(this).j(_(I)):_(_(this).j(I));if(x(I))return _(this.j(_(I)));if(0>this.l(v)&&0>I.l(v))return u(this.m()*I.m());for(var C=this.g.length+I.g.length,j=[],F=0;F<2*C;F++)j[F]=0;for(F=0;F<this.g.length;F++)for(var L=0;L<I.g.length;L++){var V=this.i(F)>>>16,D=this.i(F)&65535,z=I.i(L)>>>16,H=I.i(L)&65535;j[2*F+2*L]+=D*H,S(j,2*F+2*L),j[2*F+2*L+1]+=V*H,S(j,2*F+2*L+1),j[2*F+2*L+1]+=D*z,S(j,2*F+2*L+1),j[2*F+2*L+2]+=V*z,S(j,2*F+2*L+2)}for(F=0;F<C;F++)j[F]=j[2*F+1]<<16|j[2*F];for(F=C;F<2*C;F++)j[F]=0;return new o(j,0)};function S(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function E(I,C){this.g=I,this.h=C}function R(I,C){if(w(C))throw Error("division by zero");if(w(I))return new E(p,p);if(x(I))return C=R(_(I),C),new E(_(C.g),_(C.h));if(x(C))return C=R(I,_(C)),new E(_(C.g),C.h);if(30<I.g.length){if(x(I)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var j=g,F=C;0>=F.l(I);)j=N(j),F=N(F);var L=M(j,1),V=M(F,1);for(F=M(F,2),j=M(j,2);!w(F);){var D=V.add(F);0>=D.l(I)&&(L=L.add(j),V=D),F=M(F,1),j=M(j,1)}return C=P(I,L.j(C)),new E(L,C)}for(L=p;0<=I.l(C);){for(j=Math.max(1,Math.floor(I.m()/C.m())),F=Math.ceil(Math.log(j)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=u(j),D=V.j(C);x(D)||0<D.l(I);)j-=F,V=u(j),D=V.j(C);w(V)&&(V=g),L=L.add(V),I=P(I,D)}return new E(L,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),j=[],F=0;F<C;F++)j[F]=this.i(F)&I.i(F);return new o(j,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),j=[],F=0;F<C;F++)j[F]=this.i(F)|I.i(F);return new o(j,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),j=[],F=0;F<C;F++)j[F]=this.i(F)^I.i(F);return new o(j,this.h^I.h)};function N(I){for(var C=I.g.length+1,j=[],F=0;F<C;F++)j[F]=I.i(F)<<1|I.i(F-1)>>>31;return new o(j,I.h)}function M(I,C){var j=C>>5;C%=32;for(var F=I.g.length-j,L=[],V=0;V<F;V++)L[V]=0<C?I.i(V+j)>>>C|I.i(V+j+1)<<32-C:I.i(V+j);return new o(L,I.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,vU=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Qa=o}).apply(typeof a2<"u"?a2:typeof self<"u"?self:typeof window<"u"?window:{});var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xU,Qh,bU,hv,NP,wU,_U,SU;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,k,$){return y==Array.prototype||y==Object.prototype||(y[k]=$.value),y};function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oy=="object"&&Oy];for(var k=0;k<y.length;++k){var $=y[k];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var n=r(this);function i(y,k){if(k)e:{var $=n;y=y.split(".");for(var q=0;q<y.length-1;q++){var ne=y[q];if(!(ne in $))break e;$=$[ne]}y=y[y.length-1],q=$[y],k=k(q),k!=q&&k!=null&&e($,y,{configurable:!0,writable:!0,value:k})}}function s(y,k){y instanceof String&&(y+="");var $=0,q=!1,ne={next:function(){if(!q&&$<y.length){var le=$++;return{value:k(le,y[le]),done:!1}}return q=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}i("Array.prototype.values",function(y){return y||function(){return s(this,function(k,$){return $})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(y){var k=typeof y;return k=k!="object"?k:y?Array.isArray(y)?"array":k:"null",k=="array"||k=="object"&&typeof y.length=="number"}function u(y){var k=typeof y;return k=="object"&&y!=null||k=="function"}function f(y,k,$){return y.call.apply(y.bind,arguments)}function p(y,k,$){if(!y)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,q),y.apply(k,ne)}}return function(){return y.apply(k,arguments)}}function g(y,k,$){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function v(y,k){var $=Array.prototype.slice.call(arguments,1);return function(){var q=$.slice();return q.push.apply(q,arguments),y.apply(this,q)}}function w(y,k){function $(){}$.prototype=k.prototype,y.aa=k.prototype,y.prototype=new $,y.prototype.constructor=y,y.Qb=function(q,ne,le){for(var Ne=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)Ne[Rt-2]=arguments[Rt];return k.prototype[ne].apply(q,Ne)}}function x(y){const k=y.length;if(0<k){const $=Array(k);for(let q=0;q<k;q++)$[q]=y[q];return $}return[]}function _(y,k){for(let $=1;$<arguments.length;$++){const q=arguments[$];if(c(q)){const ne=y.length||0,le=q.length||0;y.length=ne+le;for(let Ne=0;Ne<le;Ne++)y[ne+Ne]=q[Ne]}else y.push(q)}}class P{constructor(k,$){this.i=k,this.j=$,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function S(y){return/^[\s\xa0]*$/.test(y)}function E(){var y=a.navigator;return y&&(y=y.userAgent)?y:""}function R(y){return R[" "](y),y}R[" "]=function(){};var N=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(y,k,$){for(const q in y)k.call($,y[q],q,y)}function I(y,k){for(const $ in y)k.call(void 0,y[$],$,y)}function C(y){const k={};for(const $ in y)k[$]=y[$];return k}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(y,k){let $,q;for(let ne=1;ne<arguments.length;ne++){q=arguments[ne];for($ in q)y[$]=q[$];for(let le=0;le<j.length;le++)$=j[le],Object.prototype.hasOwnProperty.call(q,$)&&(y[$]=q[$])}}function L(y){var k=1;y=y.split(":");const $=[];for(;0<k&&y.length;)$.push(y.shift()),k--;return y.length&&$.push(y.join(":")),$}function V(y){a.setTimeout(()=>{throw y},0)}function D(){var y=te;let k=null;return y.g&&(k=y.g,y.g=y.g.next,y.g||(y.h=null),k.next=null),k}class z{constructor(){this.h=this.g=null}add(k,$){const q=H.get();q.set(k,$),this.h?this.h.next=q:this.g=q,this.h=q}}var H=new P(()=>new X,y=>y.reset());class X{constructor(){this.next=this.g=this.h=null}set(k,$){this.h=k,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let K,U=!1,te=new z,Q=()=>{const y=a.Promise.resolve(void 0);K=()=>{y.then(W)}};var W=()=>{for(var y;y=D();){try{y.h.call(y.g)}catch($){V($)}var k=H;k.j(y),100>k.h&&(k.h++,y.next=k.g,k.g=y)}U=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(y,k){this.type=y,this.g=this.target=k,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var me=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var y=!1,k=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const $=()=>{};a.addEventListener("test",$,k),a.removeEventListener("test",$,k)}catch{}return y})();function Ee(y,k){if(re.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var $=this.type=y.type,q=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=k,k=y.relatedTarget){if(N){e:{try{R(k.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(k=null)}}else $=="mouseover"?k=y.fromElement:$=="mouseout"&&(k=y.toElement);this.relatedTarget=k,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:je[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Ee.aa.h.call(this)}}w(Ee,re);var je={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Te=0;function ue(y,k,$,q,ne){this.listener=y,this.proxy=null,this.src=k,this.type=$,this.capture=!!q,this.ha=ne,this.key=++Te,this.da=this.fa=!1}function ve(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Pe(y){this.src=y,this.g={},this.h=0}Pe.prototype.add=function(y,k,$,q,ne){var le=y.toString();y=this.g[le],y||(y=this.g[le]=[],this.h++);var Ne=Xe(y,k,q,ne);return-1<Ne?(k=y[Ne],$||(k.fa=!1)):(k=new ue(k,this.src,le,!!q,ne),k.fa=$,y.push(k)),k};function ae(y,k){var $=k.type;if($ in y.g){var q=y.g[$],ne=Array.prototype.indexOf.call(q,k,void 0),le;(le=0<=ne)&&Array.prototype.splice.call(q,ne,1),le&&(ve(k),y.g[$].length==0&&(delete y.g[$],y.h--))}}function Xe(y,k,$,q){for(var ne=0;ne<y.length;++ne){var le=y[ne];if(!le.da&&le.listener==k&&le.capture==!!$&&le.ha==q)return ne}return-1}var de="closure_lm_"+(1e6*Math.random()|0),xe={};function ke(y,k,$,q,ne){if(Array.isArray(k)){for(var le=0;le<k.length;le++)ke(y,k[le],$,q,ne);return null}return $=On($),y&&y[he]?y.K(k,$,u(q)?!!q.capture:!1,ne):Re(y,k,$,!1,q,ne)}function Re(y,k,$,q,ne,le){if(!k)throw Error("Invalid event type");var Ne=u(ne)?!!ne.capture:!!ne,Rt=_r(y);if(Rt||(y[de]=Rt=new Pe(y)),$=Rt.add(k,$,q,Ne,le),$.proxy)return $;if(q=dt(),$.proxy=q,q.src=y,q.listener=$,y.addEventListener)me||(ne=Ne),ne===void 0&&(ne=!1),y.addEventListener(k.toString(),q,ne);else if(y.attachEvent)y.attachEvent(Lt(k.toString()),q);else if(y.addListener&&y.removeListener)y.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return $}function dt(){function y($){return k.call(y.src,y.listener,$)}const k=or;return y}function ct(y,k,$,q,ne){if(Array.isArray(k))for(var le=0;le<k.length;le++)ct(y,k[le],$,q,ne);else q=u(q)?!!q.capture:!!q,$=On($),y&&y[he]?(y=y.i,k=String(k).toString(),k in y.g&&(le=y.g[k],$=Xe(le,$,q,ne),-1<$&&(ve(le[$]),Array.prototype.splice.call(le,$,1),le.length==0&&(delete y.g[k],y.h--)))):y&&(y=_r(y))&&(k=y.g[k.toString()],y=-1,k&&(y=Xe(k,$,q,ne)),($=-1<y?k[y]:null)&&kt($))}function kt(y){if(typeof y!="number"&&y&&!y.da){var k=y.src;if(k&&k[he])ae(k.i,y);else{var $=y.type,q=y.proxy;k.removeEventListener?k.removeEventListener($,q,y.capture):k.detachEvent?k.detachEvent(Lt($),q):k.addListener&&k.removeListener&&k.removeListener(q),($=_r(k))?(ae($,y),$.h==0&&($.src=null,k[de]=null)):ve(y)}}}function Lt(y){return y in xe?xe[y]:xe[y]="on"+y}function or(y,k){if(y.da)y=!0;else{k=new Ee(k,this);var $=y.listener,q=y.ha||y.src;y.fa&&kt(y),y=$.call(q,k)}return y}function _r(y){return y=y[de],y instanceof Pe?y:null}var kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function On(y){return typeof y=="function"?y:(y[kn]||(y[kn]=function(k){return y.handleEvent(k)}),y[kn])}function Gt(){Z.call(this),this.i=new Pe(this),this.M=this,this.F=null}w(Gt,Z),Gt.prototype[he]=!0,Gt.prototype.removeEventListener=function(y,k,$,q){ct(this,y,k,$,q)};function er(y,k){var $,q=y.F;if(q)for($=[];q;q=q.F)$.push(q);if(y=y.M,q=k.type||k,typeof k=="string")k=new re(k,y);else if(k instanceof re)k.target=k.target||y;else{var ne=k;k=new re(q,y),F(k,ne)}if(ne=!0,$)for(var le=$.length-1;0<=le;le--){var Ne=k.g=$[le];ne=jn(Ne,q,!0,k)&&ne}if(Ne=k.g=y,ne=jn(Ne,q,!0,k)&&ne,ne=jn(Ne,q,!1,k)&&ne,$)for(le=0;le<$.length;le++)Ne=k.g=$[le],ne=jn(Ne,q,!1,k)&&ne}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var y=this.i,k;for(k in y.g){for(var $=y.g[k],q=0;q<$.length;q++)ve($[q]);delete y.g[k],y.h--}}this.F=null},Gt.prototype.K=function(y,k,$,q){return this.i.add(String(y),k,!1,$,q)},Gt.prototype.L=function(y,k,$,q){return this.i.add(String(y),k,!0,$,q)};function jn(y,k,$,q){if(k=y.i.g[String(k)],!k)return!0;k=k.concat();for(var ne=!0,le=0;le<k.length;++le){var Ne=k[le];if(Ne&&!Ne.da&&Ne.capture==$){var Rt=Ne.listener,jr=Ne.ha||Ne.src;Ne.fa&&ae(y.i,Ne),ne=Rt.call(jr,q)!==!1&&ne}}return ne&&!q.defaultPrevented}function Si(y,k,$){if(typeof y=="function")$&&(y=g(y,$));else if(y&&typeof y.handleEvent=="function")y=g(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:a.setTimeout(y,k||0)}function rn(y){y.g=Si(()=>{y.g=null,y.i&&(y.i=!1,rn(y))},y.l);const k=y.h;y.h=null,y.m.apply(null,k)}class Qe extends Z{constructor(k,$){super(),this.m=k,this.l=$,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:rn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(y){Z.call(this),this.h=y,this.g={}}w(Ze,Z);var Kt=[];function it(y){M(y.g,function(k,$){this.g.hasOwnProperty($)&&kt(k)},y),y.g={}}Ze.prototype.N=function(){Ze.aa.N.call(this),it(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fe=a.JSON.stringify,we=a.JSON.parse,Ue=class{stringify(y){return a.JSON.stringify(y,void 0)}parse(y){return a.JSON.parse(y,void 0)}};function Yt(){}Yt.prototype.h=null;function nt(y){return y.h||(y.h=y.i())}function zn(){}var Bt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nn(){re.call(this,"d")}w(nn,re);function Sr(){re.call(this,"c")}w(Sr,re);var Ei={},Kf=null;function Sl(){return Kf=Kf||new Gt}Ei.La="serverreachability";function Yf(y){re.call(this,Ei.La,y)}w(Yf,re);function fo(y){const k=Sl();er(k,new Yf(k))}Ei.STAT_EVENT="statevent";function Xf(y,k){re.call(this,Ei.STAT_EVENT,y),this.stat=k}w(Xf,re);function gr(y){const k=Sl();er(k,new Xf(k,y))}Ei.Ma="timingevent";function ru(y,k){re.call(this,Ei.Ma,y),this.size=k}w(ru,re);function Xi(y,k){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){y()},k)}function El(){this.g=!0}El.prototype.xa=function(){this.g=!1};function Tl(y,k,$,q,ne,le){y.info(function(){if(y.g)if(le)for(var Ne="",Rt=le.split("&"),jr=0;jr<Rt.length;jr++){var xt=Rt[jr].split("=");if(1<xt.length){var Hr=xt[0];xt=xt[1];var Er=Hr.split("_");Ne=2<=Er.length&&Er[1]=="type"?Ne+(Hr+"="+xt+"&"):Ne+(Hr+"=redacted&")}}else Ne=null;else Ne=le;return"XMLHTTP REQ ("+q+") [attempt "+ne+"]: "+k+`
`+$+`
`+Ne})}function nu(y,k,$,q,ne,le,Ne){y.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ne+"]: "+k+`
`+$+`
`+le+" "+Ne})}function Qi(y,k,$,q){y.info(function(){return"XMLHTTP TEXT ("+k+"): "+$b(y,$)+(q?" "+q:"")})}function Qf(y,k){y.info(function(){return"TIMEOUT: "+k})}El.prototype.info=function(){};function $b(y,k){if(!y.g)return k;if(!k)return null;try{var $=JSON.parse(k);if($){for(y=0;y<$.length;y++)if(Array.isArray($[y])){var q=$[y];if(!(2>q.length)){var ne=q[1];if(Array.isArray(ne)&&!(1>ne.length)){var le=ne[0];if(le!="noop"&&le!="stop"&&le!="close")for(var Ne=1;Ne<ne.length;Ne++)ne[Ne]=""}}}}return fe($)}catch{return k}}var iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ag={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ji;function Pl(){}w(Pl,Yt),Pl.prototype.g=function(){return new XMLHttpRequest},Pl.prototype.i=function(){return{}},Ji=new Pl;function Zi(y,k,$,q){this.j=y,this.i=k,this.l=$,this.R=q||1,this.U=new Ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lg}function lg(){this.i=null,this.g="",this.h=!1}var Jf={},su={};function ou(y,k,$){y.L=1,y.v=ma(oi(k)),y.m=$,y.P=!0,Zf(y,null)}function Zf(y,k){y.F=Date.now(),Ut(y),y.A=oi(y.v);var $=y.A,q=y.R;Array.isArray(q)||(q=[String(q)]),ya($.i,"t",q),y.C=0,$=y.j.J,y.h=new lg,y.g=Pg(y.j,$?k:null,!y.m),0<y.O&&(y.M=new Qe(g(y.Y,y,y.g),y.O)),k=y.U,$=y.g,q=y.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(Kt[0]=ne.toString()),ne=Kt);for(var le=0;le<ne.length;le++){var Ne=ke($,ne[le],q||k.handleEvent,!1,k.h||k);if(!Ne)break;k.g[Ne.key]=Ne}k=y.H?C(y.H):{},y.m?(y.u||(y.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,k)):(y.u="GET",y.g.ea(y.A,y.u,null,k)),fo(),Tl(y.i,y.u,y.A,y.l,y.R,y.m)}Zi.prototype.ca=function(y){y=y.target;const k=this.M;k&&Hn(y)==3?k.j():this.Y(y)},Zi.prototype.Y=function(y){try{if(y==this.g)e:{const Er=Hn(this.g);var k=this.g.Ba();const Ai=this.g.Z();if(!(3>Er)&&(Er!=3||this.g&&(this.h.h||this.g.oa()||sh(this.g)))){this.J||Er!=4||k==7||(k==8||0>=Ai?fo(3):fo(2)),Al(this);var $=this.g.Z();this.X=$;t:if(cg(this)){var q=sh(this.g);y="";var ne=q.length,le=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ti(this),da(this);var Ne="";break t}this.h.i=new a.TextDecoder}for(k=0;k<ne;k++)this.h.h=!0,y+=this.h.i.decode(q[k],{stream:!(le&&k==ne-1)});q.length=0,this.h.g+=y,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=$==200,nu(this.i,this.u,this.A,this.l,this.R,Er,$),this.o){if(this.T&&!this.K){t:{if(this.g){var Rt,jr=this.g;if((Rt=jr.g?jr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Rt)){var xt=Rt;break t}}xt=null}if($=xt)Qi(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eh(this,$);else{this.o=!1,this.s=3,gr(12),Ti(this),da(this);break e}}if(this.P){$=!0;let li;for(;!this.J&&this.C<Ne.length;)if(li=Fb(this,Ne),li==su){Er==4&&(this.s=4,gr(14),$=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(li==Jf){this.s=4,gr(15),Qi(this.i,this.l,Ne,"[Invalid Chunk]"),$=!1;break}else Qi(this.i,this.l,li,null),eh(this,li);if(cg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Er!=4||Ne.length!=0||this.h.h||(this.s=1,gr(16),$=!1),this.o=this.o&&$,!$)Qi(this.i,this.l,Ne,"[Invalid Chunked Response]"),Ti(this),da(this);else if(0<Ne.length&&!this.W){this.W=!0;var Hr=this.j;Hr.g==this&&Hr.ba&&!Hr.M&&(Hr.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),ah(Hr),Hr.M=!0,gr(11))}}else Qi(this.i,this.l,Ne,null),eh(this,Ne);Er==4&&Ti(this),this.o&&!this.J&&(Er==4?yu(this.j,this):(this.o=!1,Ut(this)))}else fu(this.g),$==400&&0<Ne.indexOf("Unknown SID")?(this.s=3,gr(12)):(this.s=0,gr(13)),Ti(this),da(this)}}}catch{}finally{}};function cg(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function Fb(y,k){var $=y.C,q=k.indexOf(`
`,$);return q==-1?su:($=Number(k.substring($,q)),isNaN($)?Jf:(q+=1,q+$>k.length?su:(k=k.slice(q,q+$),y.C=q+$,k)))}Zi.prototype.cancel=function(){this.J=!0,Ti(this)};function Ut(y){y.S=Date.now()+y.I,ug(y,y.I)}function ug(y,k){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Xi(g(y.ba,y),k)}function Al(y){y.B&&(a.clearTimeout(y.B),y.B=null)}Zi.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(Qf(this.i,this.A),this.L!=2&&(fo(),gr(17)),Ti(this),this.s=2,da(this)):ug(this,this.S-y)};function da(y){y.j.G==0||y.J||yu(y.j,y)}function Ti(y){Al(y);var k=y.M;k&&typeof k.ma=="function"&&k.ma(),y.M=null,it(y.U),y.g&&(k=y.g,y.g=null,k.abort(),k.ma())}function eh(y,k){try{var $=y.j;if($.G!=0&&($.g==y||Rn($.h,y))){if(!y.K&&Rn($.h,y)&&$.G==3){try{var q=$.Da.g.parse(k)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ne=q;if(ne[0]==0){e:if(!$.u){if($.g)if($.g.F+3e3<y.F)gu($),is($);else break e;mu($),gr(18)}}else $.za=ne[1],0<$.za-$.T&&37500>ne[2]&&$.F&&$.v==0&&!$.C&&($.C=Xi(g($.Za,$),6e3));if(1>=fg($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else yo($,11)}else if((y.K||$.g==y)&&gu($),!S(k))for(ne=$.Da.g.parse(k),k=0;k<ne.length;k++){let xt=ne[k];if($.T=xt[0],xt=xt[1],$.G==2)if(xt[0]=="c"){$.K=xt[1],$.ia=xt[2];const Hr=xt[3];Hr!=null&&($.la=Hr,$.j.info("VER="+$.la));const Er=xt[4];Er!=null&&($.Aa=Er,$.j.info("SVER="+$.Aa));const Ai=xt[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(q=1.5*Ai,$.L=q,$.j.info("backChannelRequestTimeoutMs_="+q)),q=$;const li=y.g;if(li){const Rl=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rl){var le=q.h;le.g||Rl.indexOf("spdy")==-1&&Rl.indexOf("quic")==-1&&Rl.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(th(le,le.h),le.h=null))}if(q.D){const xu=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;xu&&(q.ya=xu,Ft(q.I,q.D,xu))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-y.F,$.j.info("Handshake RTT: "+$.R+"ms")),q=$;var Ne=y;if(q.qa=Tg(q,q.J?q.ia:null,q.W),Ne.K){hg(q.h,Ne);var Rt=Ne,jr=q.L;jr&&(Rt.I=jr),Rt.B&&(Al(Rt),Ut(Rt)),q.g=Ne}else jl(q);0<$.i.length&&js($)}else xt[0]!="stop"&&xt[0]!="close"||yo($,7);else $.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?yo($,7):on($):xt[0]!="noop"&&$.l&&$.l.ta(xt),$.v=0)}}fo(4)}catch{}}var dg=class{constructor(y,k){this.g=y,this.map=k}};function Cl(y){this.l=y||10,a.PerformanceNavigationTiming?(y=a.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function si(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function fg(y){return y.h?1:y.g?y.g.size:0}function Rn(y,k){return y.h?y.h==k:y.g?y.g.has(k):!1}function th(y,k){y.g?y.g.add(k):y.h=k}function hg(y,k){y.h&&y.h==k?y.h=null:y.g&&y.g.has(k)&&y.g.delete(k)}Cl.prototype.cancel=function(){if(this.i=pg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function pg(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let k=y.i;for(const $ of y.g.values())k=k.concat($.D);return k}return x(y.i)}function au(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(c(y)){for(var k=[],$=y.length,q=0;q<$;q++)k.push(y[q]);return k}k=[],$=0;for(q in y)k[$++]=y[q];return k}function lu(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(c(y)||typeof y=="string"){var k=[];y=y.length;for(var $=0;$<y;$++)k.push($);return k}k=[],$=0;for(const q in y)k[$++]=q;return k}}}function fa(y,k){if(y.forEach&&typeof y.forEach=="function")y.forEach(k,void 0);else if(c(y)||typeof y=="string")Array.prototype.forEach.call(y,k,void 0);else for(var $=lu(y),q=au(y),ne=q.length,le=0;le<ne;le++)k.call(void 0,q[le],$&&$[le],y)}var Nl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vb(y,k){if(y){y=y.split("&");for(var $=0;$<y.length;$++){var q=y[$].indexOf("="),ne=null;if(0<=q){var le=y[$].substring(0,q);ne=y[$].substring(q+1)}else le=y[$];k(le,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function ho(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof ho){this.h=y.h,Il(this,y.j),this.o=y.o,this.g=y.g,ha(this,y.s),this.l=y.l;var k=y.i,$=new Is;$.i=k.i,k.g&&($.g=new Map(k.g),$.h=k.h),pa(this,$),this.m=y.m}else y&&(k=String(y).match(Nl))?(this.h=!1,Il(this,k[1]||"",!0),this.o=yt(k[2]||""),this.g=yt(k[3]||"",!0),ha(this,k[4]),this.l=yt(k[5]||"",!0),pa(this,k[6]||"",!0),this.m=yt(k[7]||"")):(this.h=!1,this.i=new Is(null,this.h))}ho.prototype.toString=function(){var y=[],k=this.j;k&&y.push(ga(k,cu,!0),":");var $=this.g;return($||k=="file")&&(y.push("//"),(k=this.o)&&y.push(ga(k,cu,!0),"@"),y.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$=this.s,$!=null&&y.push(":",String($))),($=this.l)&&(this.g&&$.charAt(0)!="/"&&y.push("/"),y.push(ga($,$.charAt(0)=="/"?yg:gg,!0))),($=this.i.toString())&&y.push("?",$),($=this.m)&&y.push("#",ga($,rh)),y.join("")};function oi(y){return new ho(y)}function Il(y,k,$){y.j=$?yt(k,!0):k,y.j&&(y.j=y.j.replace(/:$/,""))}function ha(y,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);y.s=k}else y.s=null}function pa(y,k,$){k instanceof Is?(y.i=k,ks(y.i,y.h)):($||(k=ga(k,vg)),y.i=new Is(k,y.h))}function Ft(y,k,$){y.i.set(k,$)}function ma(y){return Ft(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function yt(y,k){return y?k?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function ga(y,k,$){return typeof y=="string"?(y=encodeURI(y).replace(k,mg),$&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function mg(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var cu=/[#\/\?@]/g,gg=/[#\?:]/g,yg=/[#\?]/g,vg=/[#\?@]/g,rh=/#/g;function Is(y,k){this.h=this.g=null,this.i=y||null,this.j=!!k}function sn(y){y.g||(y.g=new Map,y.h=0,y.i&&Vb(y.i,function(k,$){y.add(decodeURIComponent(k.replace(/\+/g," ")),$)}))}t=Is.prototype,t.add=function(y,k){sn(this),this.i=null,y=Pi(this,y);var $=this.g.get(y);return $||this.g.set(y,$=[]),$.push(k),this.h+=1,this};function es(y,k){sn(y),k=Pi(y,k),y.g.has(k)&&(y.i=null,y.h-=y.g.get(k).length,y.g.delete(k))}function ts(y,k){return sn(y),k=Pi(y,k),y.g.has(k)}t.forEach=function(y,k){sn(this),this.g.forEach(function($,q){$.forEach(function(ne){y.call(k,ne,q,this)},this)},this)},t.na=function(){sn(this);const y=Array.from(this.g.values()),k=Array.from(this.g.keys()),$=[];for(let q=0;q<k.length;q++){const ne=y[q];for(let le=0;le<ne.length;le++)$.push(k[q])}return $},t.V=function(y){sn(this);let k=[];if(typeof y=="string")ts(this,y)&&(k=k.concat(this.g.get(Pi(this,y))));else{y=Array.from(this.g.values());for(let $=0;$<y.length;$++)k=k.concat(y[$])}return k},t.set=function(y,k){return sn(this),this.i=null,y=Pi(this,y),ts(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[k]),this.h+=1,this},t.get=function(y,k){return y?(y=this.V(y),0<y.length?String(y[0]):k):k};function ya(y,k,$){es(y,k),0<$.length&&(y.i=null,y.g.set(Pi(y,k),x($)),y.h+=$.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],k=Array.from(this.g.keys());for(var $=0;$<k.length;$++){var q=k[$];const le=encodeURIComponent(String(q)),Ne=this.V(q);for(q=0;q<Ne.length;q++){var ne=le;Ne[q]!==""&&(ne+="="+encodeURIComponent(String(Ne[q]))),y.push(ne)}}return this.i=y.join("&")};function Pi(y,k){return k=String(k),y.j&&(k=k.toLowerCase()),k}function ks(y,k){k&&!y.j&&(sn(y),y.i=null,y.g.forEach(function($,q){var ne=q.toLowerCase();q!=ne&&(es(this,q),ya(this,ne,$))},y)),y.j=k}function Bb(y,k){const $=new El;if(a.Image){const q=new Image;q.onload=v(Wn,$,"TestLoadImage: loaded",!0,k,q),q.onerror=v(Wn,$,"TestLoadImage: error",!1,k,q),q.onabort=v(Wn,$,"TestLoadImage: abort",!1,k,q),q.ontimeout=v(Wn,$,"TestLoadImage: timeout",!1,k,q),a.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=y}else k(!1)}function xg(y,k){const $=new El,q=new AbortController,ne=setTimeout(()=>{q.abort(),Wn($,"TestPingServer: timeout",!1,k)},1e4);fetch(y,{signal:q.signal}).then(le=>{clearTimeout(ne),le.ok?Wn($,"TestPingServer: ok",!0,k):Wn($,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ne),Wn($,"TestPingServer: error",!1,k)})}function Wn(y,k,$,q,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),q($)}catch{}}function Ub(){this.g=new Ue}function bg(y,k,$){const q=$||"";try{fa(y,function(ne,le){let Ne=ne;u(ne)&&(Ne=fe(ne)),k.push(q+le+"="+encodeURIComponent(Ne))})}catch(ne){throw k.push(q+"type="+encodeURIComponent("_badmap")),ne}}function po(y){this.l=y.Ub||null,this.j=y.eb||!1}w(po,Yt),po.prototype.g=function(){return new kl(this.l,this.j)},po.prototype.i=(function(y){return function(){return y}})({});function kl(y,k){Gt.call(this),this.D=y,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(kl,Gt),t=kl.prototype,t.open=function(y,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=k,this.readyState=1,ns(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(k.body=y),(this.D||a).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wg(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function wg(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var k=y.value?y.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!y.done}))&&(this.response=this.responseText+=k)}y.done?rs(this):ns(this),this.readyState==3&&wg(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,rs(this))},t.Qa=function(y){this.g&&(this.response=y,rs(this))},t.ga=function(){this.g&&rs(this)};function rs(y){y.readyState=4,y.l=null,y.j=null,y.v=null,ns(y)}t.setRequestHeader=function(y,k){this.u.append(y,k)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],k=this.h.entries();for(var $=k.next();!$.done;)$=$.value,y.push($[0]+": "+$[1]),$=k.next();return y.join(`\r
`)};function ns(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function mo(y){let k="";return M(y,function($,q){k+=q,k+=":",k+=$,k+=`\r
`}),k}function va(y,k,$){e:{for(q in $){var q=!1;break e}q=!0}q||($=mo($),typeof y=="string"?$!=null&&encodeURIComponent(String($)):Ft(y,k,$))}function tr(y){Gt.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(tr,Gt);var qb=/^https?$/i,nh=["POST","PUT"];t=tr.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,k,$,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);k=k?k.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ji.g(),this.v=this.o?nt(this.o):nt(Ji),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(k,String(y),!0),this.B=!1}catch(le){Ol(this,le);return}if(y=$||"",$=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ne in q)$.set(ne,q[ne]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const le of q.keys())$.set(le,q.get(le));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from($.keys()).find(le=>le.toLowerCase()=="content-type"),ne=a.FormData&&y instanceof a.FormData,!(0<=Array.prototype.indexOf.call(nh,k,void 0))||q||ne||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ne]of $)this.g.setRequestHeader(le,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{du(this),this.u=!0,this.g.send(y),this.u=!1}catch(le){Ol(this,le)}};function Ol(y,k){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=k,y.m=5,uu(y),ai(y)}function uu(y){y.A||(y.A=!0,er(y,"complete"),er(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,er(this,"complete"),er(this,"abort"),ai(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),tr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ih(this):this.bb())},t.bb=function(){ih(this)};function ih(y){if(y.h&&typeof o<"u"&&(!y.v[1]||Hn(y)!=4||y.Z()!=2)){if(y.u&&Hn(y)==4)Si(y.Ea,0,y);else if(er(y,"readystatechange"),Hn(y)==4){y.h=!1;try{const Ne=y.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var $;if(!($=k)){var q;if(q=Ne===0){var ne=String(y.D).match(Nl)[1]||null;!ne&&a.self&&a.self.location&&(ne=a.self.location.protocol.slice(0,-1)),q=!qb.test(ne?ne.toLowerCase():"")}$=q}if($)er(y,"complete"),er(y,"success");else{y.m=6;try{var le=2<Hn(y)?y.g.statusText:""}catch{le=""}y.l=le+" ["+y.Z()+"]",uu(y)}}finally{ai(y)}}}}function ai(y,k){if(y.g){du(y);const $=y.g,q=y.v[0]?()=>{}:null;y.g=null,y.v=null,k||er(y,"ready");try{$.onreadystatechange=q}catch{}}}function du(y){y.I&&(a.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function Hn(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var k=this.g.responseText;return y&&k.indexOf(y)==0&&(k=k.substring(y.length)),we(k)}};function sh(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function fu(y){const k={};y=(y.g&&2<=Hn(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<y.length;q++){if(S(y[q]))continue;var $=L(y[q]);const ne=$[0];if($=$[1],typeof $!="string")continue;$=$.trim();const le=k[ne]||[];k[ne]=le,le.push($)}I(k,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(y,k,$){return $&&$.internalChannelParams&&$.internalChannelParams[y]||k}function oh(y){this.Aa=0,this.i=[],this.j=new El,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,y),this.cb=Os("retryDelaySeedMs",1e4,y),this.Wa=Os("forwardChannelMaxRetries",2,y),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Cl(y&&y.concurrentRequestLimit),this.Da=new Ub,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=oh.prototype,t.la=8,t.G=1,t.connect=function(y,k,$,q){gr(0),this.W=y,this.H=k||{},$&&q!==void 0&&(this.H.OSID=$,this.H.OAID=q),this.F=this.X,this.I=Tg(this,null,this.W),js(this)};function on(y){if(hu(y),y.G==3){var k=y.U++,$=oi(y.I);if(Ft($,"SID",y.K),Ft($,"RID",k),Ft($,"TYPE","terminate"),go(y,$),k=new Zi(y,y.j,k),k.L=2,k.v=ma(oi($)),$=!1,a.navigator&&a.navigator.sendBeacon)try{$=a.navigator.sendBeacon(k.v.toString(),"")}catch{}!$&&a.Image&&(new Image().src=k.v,$=!0),$||(k.g=Pg(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Ut(k)}Eg(y)}function is(y){y.g&&(ah(y),y.g.cancel(),y.g=null)}function hu(y){is(y),y.u&&(a.clearTimeout(y.u),y.u=null),gu(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&a.clearTimeout(y.s),y.s=null)}function js(y){if(!si(y.h)&&!y.s){y.s=!0;var k=y.Ga;K||Q(),U||(K(),U=!0),te.add(k,y),y.B=0}}function zb(y,k){return fg(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=k.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Xi(g(y.Ga,y,k),Sg(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const ne=new Zi(this,this.j,y);let le=this.o;if(this.S&&(le?(le=C(le),F(le,this.S)):le=this.S),this.m!==null||this.O||(ne.H=le,le=null),this.P)e:{for(var k=0,$=0;$<this.i.length;$++){t:{var q=this.i[$];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(k+=q,4096<k){k=$;break e}if(k===4096||$===this.i.length-1){k=$+1;break e}}k=1e3}else k=1e3;k=xa(this,ne,k),$=oi(this.I),Ft($,"RID",y),Ft($,"CVER",22),this.D&&Ft($,"X-HTTP-Session-Id",this.D),go(this,$),le&&(this.O?k="headers="+encodeURIComponent(String(mo(le)))+"&"+k:this.m&&va($,this.m,le)),th(this.h,ne),this.Ua&&Ft($,"TYPE","init"),this.P?(Ft($,"$req",k),Ft($,"SID","null"),ne.T=!0,ou(ne,$,null)):ou(ne,$,k),this.G=2}}else this.G==3&&(y?pu(this,y):this.i.length==0||si(this.h)||pu(this))};function pu(y,k){var $;k?$=k.l:$=y.U++;const q=oi(y.I);Ft(q,"SID",y.K),Ft(q,"RID",$),Ft(q,"AID",y.T),go(y,q),y.m&&y.o&&va(q,y.m,y.o),$=new Zi(y,y.j,$,y.B+1),y.m===null&&($.H=y.o),k&&(y.i=k.D.concat(y.i)),k=xa(y,$,1e3),$.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),th(y.h,$),ou($,q,k)}function go(y,k){y.H&&M(y.H,function($,q){Ft(k,q,$)}),y.l&&fa({},function($,q){Ft(k,q,$)})}function xa(y,k,$){$=Math.min(y.i.length,$);var q=y.l?g(y.l.Na,y.l,y):null;e:{var ne=y.i;let le=-1;for(;;){const Ne=["count="+$];le==-1?0<$?(le=ne[0].g,Ne.push("ofs="+le)):le=0:Ne.push("ofs="+le);let Rt=!0;for(let jr=0;jr<$;jr++){let xt=ne[jr].g;const Hr=ne[jr].map;if(xt-=le,0>xt)le=Math.max(0,ne[jr].g-100),Rt=!1;else try{bg(Hr,Ne,"req"+xt+"_")}catch{q&&q(Hr)}}if(Rt){q=Ne.join("&");break e}}}return y=y.i.splice(0,$),k.D=y,q}function jl(y){if(!y.g&&!y.u){y.Y=1;var k=y.Fa;K||Q(),U||(K(),U=!0),te.add(k,y),y.v=0}}function mu(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Xi(g(y.Fa,y),Sg(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,_g(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Xi(g(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gr(10),is(this),_g(this))};function ah(y){y.A!=null&&(a.clearTimeout(y.A),y.A=null)}function _g(y){y.g=new Zi(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var k=oi(y.qa);Ft(k,"RID","rpc"),Ft(k,"SID",y.K),Ft(k,"AID",y.T),Ft(k,"CI",y.F?"0":"1"),!y.F&&y.ja&&Ft(k,"TO",y.ja),Ft(k,"TYPE","xmlhttp"),go(y,k),y.m&&y.o&&va(k,y.m,y.o),y.L&&(y.g.I=y.L);var $=y.g;y=y.ia,$.L=1,$.v=ma(oi(k)),$.m=null,$.P=!0,Zf($,y)}t.Za=function(){this.C!=null&&(this.C=null,is(this),mu(this),gr(19))};function gu(y){y.C!=null&&(a.clearTimeout(y.C),y.C=null)}function yu(y,k){var $=null;if(y.g==k){gu(y),ah(y),y.g=null;var q=2}else if(Rn(y.h,k))$=k.D,hg(y.h,k),q=1;else return;if(y.G!=0){if(k.o)if(q==1){$=k.m?k.m.length:0,k=Date.now()-k.F;var ne=y.B;q=Sl(),er(q,new ru(q,$)),js(y)}else jl(y);else if(ne=k.s,ne==3||ne==0&&0<k.X||!(q==1&&zb(y,k)||q==2&&mu(y)))switch($&&0<$.length&&(k=y.h,k.i=k.i.concat($)),ne){case 1:yo(y,5);break;case 4:yo(y,10);break;case 3:yo(y,6);break;default:yo(y,2)}}}function Sg(y,k){let $=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||($*=2),$*k}function yo(y,k){if(y.j.info("Error code "+k),k==2){var $=g(y.fb,y),q=y.Xa;const ne=!q;q=new ho(q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Il(q,"https"),ma(q),ne?Bb(q.toString(),$):xg(q.toString(),$)}else gr(2);y.G=0,y.l&&y.l.sa(k),Eg(y),hu(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),gr(2)):(this.j.info("Failed to ping google.com"),gr(1))};function Eg(y){if(y.G=0,y.ka=[],y.l){const k=pg(y.h);(k.length!=0||y.i.length!=0)&&(_(y.ka,k),_(y.ka,y.i),y.h.i.length=0,x(y.i),y.i.length=0),y.l.ra()}}function Tg(y,k,$){var q=$ instanceof ho?oi($):new ho($);if(q.g!="")k&&(q.g=k+"."+q.g),ha(q,q.s);else{var ne=a.location;q=ne.protocol,k=k?k+"."+ne.hostname:ne.hostname,ne=+ne.port;var le=new ho(null);q&&Il(le,q),k&&(le.g=k),ne&&ha(le,ne),$&&(le.l=$),q=le}return $=y.D,k=y.ya,$&&k&&Ft(q,$,k),Ft(q,"VER",y.la),go(y,q),q}function Pg(y,k,$){if(k&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=y.Ca&&!y.pa?new tr(new po({eb:$})):new tr(y.pa),k.Ha(y.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lh(){}t=lh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vu(){}vu.prototype.g=function(y,k){return new Mn(y,k)};function Mn(y,k){Gt.call(this),this.g=new oh(k),this.l=y,this.h=k&&k.messageUrlParams||null,y=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(y?y["X-WebChannel-Content-Type"]=k.messageContentType:y={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(y?y["X-WebChannel-Client-Profile"]=k.va:y={"X-WebChannel-Client-Profile":k.va}),this.g.S=y,(y=k&&k.Sb)&&!S(y)&&(this.g.m=y),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!S(k)&&(this.g.D=k,y=this.h,y!==null&&k in y&&(y=this.h,k in y&&delete y[k])),this.j=new Rs(this)}w(Mn,Gt),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){on(this.g)},Mn.prototype.o=function(y){var k=this.g;if(typeof y=="string"){var $={};$.__data__=y,y=$}else this.u&&($={},$.__data__=fe(y),y=$);k.i.push(new dg(k.Ya++,y)),k.G==3&&js(k)},Mn.prototype.N=function(){this.g.l=null,delete this.j,on(this.g),delete this.g,Mn.aa.N.call(this)};function Ag(y){nn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var k=y.__sm__;if(k){e:{for(const $ in k){y=$;break e}y=void 0}(this.i=y)&&(y=this.i,k=k!==null&&y in k?k[y]:void 0),this.data=k}else this.data=y}w(Ag,nn);function Cg(){Sr.call(this),this.status=1}w(Cg,Sr);function Rs(y){this.g=y}w(Rs,lh),Rs.prototype.ua=function(){er(this.g,"a")},Rs.prototype.ta=function(y){er(this.g,new Ag(y))},Rs.prototype.sa=function(y){er(this.g,new Cg)},Rs.prototype.ra=function(){er(this.g,"b")},vu.prototype.createWebChannel=vu.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,SU=function(){return new vu},_U=function(){return Sl()},wU=Ei,NP={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,hv=iu,ag.COMPLETE="complete",bU=ag,zn.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,Qh=zn,tr.prototype.listenOnce=tr.prototype.L,tr.prototype.getLastError=tr.prototype.Ka,tr.prototype.getLastErrorCode=tr.prototype.Ba,tr.prototype.getStatus=tr.prototype.Z,tr.prototype.getResponseJson=tr.prototype.Oa,tr.prototype.getResponseText=tr.prototype.oa,tr.prototype.send=tr.prototype.ea,tr.prototype.setWithCredentials=tr.prototype.Ha,xU=tr}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});const l2="@firebase/firestore",c2="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new SN("@firebase/firestore");function Xu(){return Oc.logLevel}function Me(t,...e){if(Oc.logLevel<=gt.DEBUG){const r=e.map(PN);Oc.debug(`Firestore (${Nf}): ${t}`,...r)}}function Ko(t,...e){if(Oc.logLevel<=gt.ERROR){const r=e.map(PN);Oc.error(`Firestore (${Nf}): ${t}`,...r)}}function jc(t,...e){if(Oc.logLevel<=gt.WARN){const r=e.map(PN);Oc.warn(`Firestore (${Nf}): ${t}`,...r)}}function PN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,EU(t,n,r)}function EU(t,e,r){let n=`FIRESTORE (${Nf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ko(n),new Error(n)}function ur(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||EU(e,i,n)}function wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends sa{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(bn.UNAUTHENTICATED)))}shutdown(){}}class Pne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Ane{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ur(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ja,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},a=c=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>a(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ja)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ur(typeof n.accessToken=="string",31837,{l:n}),new TU(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ur(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class Cne{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nne{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Cne(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class u2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ine{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ur(this.o===void 0,3512);const n=s=>{s.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new u2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(ur(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new u2(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=kne(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function vt(t,e){return t<e?-1:t>e?1:0}function IP(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return M_(i)===M_(s)?vt(i,s):M_(i)?1:-1}return vt(t.length,e.length)}const One=55296,jne=57343;function M_(t){const e=t.charCodeAt(0);return e>=One&&e<=jne}function Od(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="__name__";class Fs{constructor(e,r,n){r===void 0?r=0:r>e.length&&at(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&at(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=Fs.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return vt(e.length,r.length)}static compareSegments(e,r){const n=Fs.isNumericId(e),i=Fs.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Fs.extractNumericId(e).compare(Fs.extractNumericId(r)):IP(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qa.fromString(e.substring(4,e.length-2))}}class Zt extends Fs{construct(e,r,n){return new Zt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new qe(Ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Zt(r)}static emptyPath(){return new Zt([])}}const Rne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends Fs{construct(e,r,n){return new En(e,r,n)}static isValidIdentifier(e){return Rne.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d2}static keyField(){return new En([d2])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new qe(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new qe(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new qe(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(n+=a,i++):(s(),i++)}if(s(),o)throw new qe(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(r)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Zt.fromString(e))}static fromName(e){return new He(Zt.fromString(e).popFirst(5))}static empty(){return new He(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Zt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t,e,r){if(!r)throw new qe(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CU(t,e,r,n){if(e===!0&&n===!0)throw new qe(Ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function f2(t){if(!He.isDocumentKey(t))throw new qe(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function h2(t){if(He.isDocumentKey(t))throw new qe(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mne(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Dne(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":at(12329,{type:typeof t})}function jd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qe(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Dne(t);throw new qe(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,e){const r={typeString:t};return e&&(r.value=e),r}function Mm(t,e){if(!Mne(t))throw new qe(Ce.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new qe(Ce.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=-62135596800,m2=1e6;class br{static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*m2);return new br(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new qe(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new qe(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<p2)throw new qe(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m2}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:br._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mm(e,br._jsonSchema))return new br(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}br._jsonSchemaVersion="firestore/timestamp/1.0",br._jsonSchema={type:Ir("string",br._jsonSchemaVersion),seconds:Ir("number"),nanoseconds:Ir("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{static fromTimestamp(e){return new st(e)}static min(){return new st(new br(0,0))}static max(){return new st(new br(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=-1;function Lne(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(n===1e9?new br(r+1,0):new br(r,n));return new sl(i,He.empty(),e)}function $ne(t){return new sl(t.readTime,t.key,Rp)}class sl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new sl(st.min(),He.empty(),Rp)}static max(){return new sl(st.max(),He.empty(),Rp)}}function Fne(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=He.comparator(t.documentKey,e.documentKey),r!==0?r:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==Vne)throw t;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&at(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pe(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof pe?r:pe.resolve(r)}catch(r){return pe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):pe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):pe.reject(r)}static resolve(e){return new pe(((r,n)=>{r(e)}))}static reject(e){return new pe(((r,n)=>{n(e)}))}static waitFor(e){return new pe(((r,n)=>{let i=0,s=0,o=!1;e.forEach((a=>{++i,a.next((()=>{++s,o&&s===i&&r()}),(c=>n(c)))})),o=!0,s===i&&r()}))}static or(e){let r=pe.resolve(!1);for(const n of e)r=r.next((i=>i?pe.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new pe(((n,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;r(e[u]).next((f=>{o[u]=f,++a,a===s&&n(o)}),(f=>i(f)))}}))}static doWhile(e,r){return new pe(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}function Une(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function If(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qne=-1;function Ox(t){return t==null}function kP(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="";function zne(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=g2(e)),e=Wne(t.get(r),e);return g2(e)}function Wne(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case NU:r+="";break;default:r+=s}}return r}function g2(t){return t+NU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Dm(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Hne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,r){this.comparator=e,this.root=r||dn.EMPTY}insert(e,r){return new wr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jy(this.root,e,this.comparator,!1)}getReverseIterator(){return new jy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jy(this.root,e,this.comparator,!0)}}class jy{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??dn.RED,this.left=i??dn.EMPTY,this.right=s??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new dn(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return dn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw at(43730,{key:this.key,value:this.value});if(this.right.isRed())throw at(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw at(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw at(57766)}get value(){throw at(16141)}get color(){throw at(16727)}get left(){throw at(29726)}get right(){throw at(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new dn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.comparator=e,this.data=new wr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new v2(this.data.getIterator())}getIteratorFrom(e){return new v2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Ur)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Ur(this.comparator);return r.data=e,r}}class v2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new za([])}unionWith(e){let r=new Ur(En.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new za(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Od(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new IU("Invalid base64 string: "+s):s}})(e);return new en(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new en(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const Gne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ol(t){if(ur(!!t,39018),typeof t=="string"){let e=0;const r=Gne.exec(t);if(ur(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:xr(t.seconds),nanos:xr(t.nanos)}}function xr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function al(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="server_timestamp",OU="__type__",jU="__previous_value__",RU="__local_write_time__";function AN(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[OU])==null?void 0:n.stringValue)===kU}function jx(t){const e=t.mapValue.fields[jU];return AN(e)?jx(e):e}function Mp(t){const e=ol(t.mapValue.fields[RU].timestampValue);return new br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{constructor(e,r,n,i,s,o,a,c,u,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=f}}const Vv="(default)";class Rd{constructor(e,r){this.projectId=e,this.database=r||Vv}static empty(){return new Rd("","")}get isDefaultDatabase(){return this.database===Vv}isEqual(e){return e instanceof Rd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yne="__type__",Xne="__max__",Ry={mapValue:{}},Qne="__vector__",OP="value";function ll(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?AN(t)?4:Zne(t)?9007199254740991:Jne(t)?10:11:at(28295,{value:t})}function to(t,e){if(t===e)return!0;const r=ll(t);if(r!==ll(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mp(t).isEqual(Mp(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ol(i.timestampValue),a=ol(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return al(i.bytesValue).isEqual(al(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return xr(i.geoPointValue.latitude)===xr(s.geoPointValue.latitude)&&xr(i.geoPointValue.longitude)===xr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return xr(i.integerValue)===xr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=xr(i.doubleValue),a=xr(s.doubleValue);return o===a?kP(o)===kP(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return Od(t.arrayValue.values||[],e.arrayValue.values||[],to);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(y2(o)!==y2(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!to(o[c],a[c])))return!1;return!0})(t,e);default:return at(52216,{left:t})}}function Dp(t,e){return(t.values||[]).find((r=>to(r,e)))!==void 0}function Md(t,e){if(t===e)return 0;const r=ll(t),n=ll(e);if(r!==n)return vt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const a=xr(s.integerValue||s.doubleValue),c=xr(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return x2(t.timestampValue,e.timestampValue);case 4:return x2(Mp(t),Mp(e));case 5:return IP(t.stringValue,e.stringValue);case 6:return(function(s,o){const a=al(s),c=al(o);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const f=vt(a[u],c[u]);if(f!==0)return f}return vt(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const a=vt(xr(s.latitude),xr(o.latitude));return a!==0?a:vt(xr(s.longitude),xr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return b2(t.arrayValue,e.arrayValue);case 10:return(function(s,o){var g,v,w,x;const a=s.fields||{},c=o.fields||{},u=(g=a[OP])==null?void 0:g.arrayValue,f=(v=c[OP])==null?void 0:v.arrayValue,p=vt(((w=u==null?void 0:u.values)==null?void 0:w.length)||0,((x=f==null?void 0:f.values)==null?void 0:x.length)||0);return p!==0?p:b2(u,f)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===Ry.mapValue&&o===Ry.mapValue)return 0;if(s===Ry.mapValue)return 1;if(o===Ry.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const g=IP(c[p],f[p]);if(g!==0)return g;const v=Md(a[c[p]],u[f[p]]);if(v!==0)return v}return vt(c.length,f.length)})(t.mapValue,e.mapValue);default:throw at(23264,{he:r})}}function x2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const r=ol(t),n=ol(e),i=vt(r.seconds,n.seconds);return i!==0?i:vt(r.nanos,n.nanos)}function b2(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Md(r[i],n[i]);if(s)return s}return vt(r.length,n.length)}function Dd(t){return jP(t)}function jP(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=ol(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return al(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return He.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=jP(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${jP(r.fields[o])}`;return i+"}"})(t.mapValue):at(61005,{value:t})}function pv(t){switch(ll(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jx(t);return e?16+pv(e):16;case 5:return 2*t.stringValue.length;case 6:return al(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+pv(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Dm(n.fields,((s,o)=>{i+=s.length+pv(o)})),i})(t.mapValue);default:throw at(13486,{value:t})}}function RP(t){return!!t&&"integerValue"in t}function CN(t){return!!t&&"arrayValue"in t}function w2(t){return!!t&&"nullValue"in t}function _2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function D_(t){return!!t&&"mapValue"in t}function Jne(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[Yne])==null?void 0:n.stringValue)===Qne}function ap(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Dm(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=ap(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ap(t.arrayValue.values[r]);return e}return{...t}}function Zne(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Xne}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.value=e}static empty(){return new Us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!D_(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ap(r)}setAll(e){let r=En.emptyPath(),n={},i=[];e.forEach(((o,a)=>{if(!r.isImmediateParentOf(a)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=a.popLast()}o?n[a.lastSegment()]=ap(o):i.push(a.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());D_(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return to(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];D_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Dm(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new Us(ap(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,r,n,i,s,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wn(e,0,st.min(),st.min(),st.min(),Us.empty(),0)}static newFoundDocument(e,r,n,i){return new wn(e,1,r,st.min(),n,i,0)}static newNoDocument(e,r){return new wn(e,2,r,st.min(),st.min(),Us.empty(),0)}static newUnknownDocument(e,r){return new wn(e,3,r,st.min(),st.min(),Us.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,r){this.position=e,this.inclusive=r}}function S2(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=He.comparator(He.fromName(o.referenceValue),r.key):n=Md(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function E2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!to(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,r="asc"){this.field=e,this.dir=r}}function eie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{}class Fr extends MU{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new rie(e,r,n):r==="array-contains"?new sie(e,n):r==="in"?new oie(e,n):r==="not-in"?new aie(e,n):r==="array-contains-any"?new lie(e,n):new Fr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new nie(e,n):new iie(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Md(r,this.value)):r!==null&&ll(this.value)===ll(r)&&this.matchesComparison(Md(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ro extends MU{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new ro(e,r)}matches(e){return DU(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DU(t){return t.op==="and"}function LU(t){return tie(t)&&DU(t)}function tie(t){for(const e of t.filters)if(e instanceof ro)return!1;return!0}function MP(t){if(t instanceof Fr)return t.field.canonicalString()+t.op.toString()+Dd(t.value);if(LU(t))return t.filters.map((e=>MP(e))).join(",");{const e=t.filters.map((r=>MP(r))).join(",");return`${t.op}(${e})`}}function $U(t,e){return t instanceof Fr?(function(n,i){return i instanceof Fr&&n.op===i.op&&n.field.isEqual(i.field)&&to(n.value,i.value)})(t,e):t instanceof ro?(function(n,i){return i instanceof ro&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,o,a)=>s&&$U(o,i.filters[a])),!0):!1})(t,e):void at(19439)}function FU(t){return t instanceof Fr?(function(r){return`${r.field.canonicalString()} ${r.op} ${Dd(r.value)}`})(t):t instanceof ro?(function(r){return r.op.toString()+" {"+r.getFilters().map(FU).join(" ,")+"}"})(t):"Filter"}class rie extends Fr{constructor(e,r,n){super(e,r,n),this.key=He.fromName(n.referenceValue)}matches(e){const r=He.comparator(e.key,this.key);return this.matchesComparison(r)}}class nie extends Fr{constructor(e,r){super(e,"in",r),this.keys=VU("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class iie extends Fr{constructor(e,r){super(e,"not-in",r),this.keys=VU("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function VU(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((n=>He.fromName(n.referenceValue)))}class sie extends Fr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return CN(r)&&Dp(r.arrayValue,this.value)}}class oie extends Fr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Dp(this.value.arrayValue,r)}}class aie extends Fr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Dp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Dp(this.value.arrayValue,r)}}class lie extends Fr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!CN(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Dp(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cie{constructor(e,r=null,n=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function T2(t,e=null,r=[],n=[],i=null,s=null,o=null){return new cie(t,e,r,n,i,s,o)}function NN(t){const e=wt(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>MP(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),Ox(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Dd(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Dd(n))).join(",")),e.Te=r}return e.Te}function IN(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!eie(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!$U(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E2(t.startAt,e.startAt)&&E2(t.endAt,e.endAt)}function DP(t){return He.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,r=null,n=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uie(t,e,r,n,i,s,o,a){return new Rx(t,e,r,n,i,s,o,a)}function kN(t){return new Rx(t)}function P2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function die(t){return t.collectionGroup!==null}function lp(t){const e=wt(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ur(En.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Uv(s,n))})),r.has(En.keyField().canonicalString())||e.Ie.push(new Uv(En.keyField(),n))}return e.Ie}function Hs(t){const e=wt(t);return e.Ee||(e.Ee=fie(e,lp(t))),e.Ee}function fie(t,e){if(t.limitType==="F")return T2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Uv(i.field,s)}));const r=t.endAt?new Bv(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Bv(t.startAt.position,t.startAt.inclusive):null;return T2(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function LP(t,e,r){return new Rx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Mx(t,e){return IN(Hs(t),Hs(e))&&t.limitType===e.limitType}function BU(t){return`${NN(Hs(t))}|lt:${t.limitType}`}function Qu(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>FU(i))).join(", ")}]`),Ox(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Dd(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Dd(i))).join(",")),`Target(${n})`})(Hs(t))}; limitType=${t.limitType})`}function Dx(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):He.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of lp(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,a,c){const u=S2(o,a,c);return o.inclusive?u<=0:u<0})(n.startAt,lp(n),i)||n.endAt&&!(function(o,a,c){const u=S2(o,a,c);return o.inclusive?u>=0:u>0})(n.endAt,lp(n),i))})(t,e)}function hie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UU(t){return(e,r)=>{let n=!1;for(const i of lp(t)){const s=pie(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function pie(t,e,r){const n=t.field.isKeyField()?He.comparator(e.key,r.key):(function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Md(c,u):at(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return at(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Dm(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return Hne(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mie=new wr(He.comparator);function cl(){return mie}const qU=new wr(He.comparator);function Jh(...t){let e=qU;for(const r of t)e=e.insert(r.key,r);return e}function gie(t){let e=qU;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function cc(){return cp()}function zU(){return cp()}function cp(){return new zc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const yie=new Ur(He.comparator);function St(...t){let e=yie;for(const r of t)e=e.add(r);return e}const vie=new Ur(vt);function xie(){return vie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bie(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kP(e)?"-0":e}}function wie(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this._=void 0}}function _ie(t,e,r){return t instanceof $P?(function(i,s){const o={fields:{[OU]:{stringValue:kU},[RU]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&AN(s)&&(s=jx(s)),s&&(o.fields[jU]=s),{mapValue:o}})(r,e):t instanceof qv?WU(t,e):t instanceof zv?HU(t,e):(function(i,s){const o=Eie(i,s),a=A2(o)+A2(i.Ae);return RP(o)&&RP(i.Ae)?wie(a):bie(i.serializer,a)})(t,e)}function Sie(t,e,r){return t instanceof qv?WU(t,e):t instanceof zv?HU(t,e):r}function Eie(t,e){return t instanceof FP?(function(n){return RP(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class $P extends Lx{}class qv extends Lx{constructor(e){super(),this.elements=e}}function WU(t,e){const r=GU(e);for(const n of t.elements)r.some((i=>to(i,n)))||r.push(n);return{arrayValue:{values:r}}}class zv extends Lx{constructor(e){super(),this.elements=e}}function HU(t,e){let r=GU(e);for(const n of t.elements)r=r.filter((i=>!to(i,n)));return{arrayValue:{values:r}}}class FP extends Lx{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function A2(t){return xr(t.integerValue||t.doubleValue)}function GU(t){return CN(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Tie(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof qv&&i instanceof qv||n instanceof zv&&i instanceof zv?Od(n.elements,i.elements,to):n instanceof FP&&i instanceof FP?to(n.Ae,i.Ae):n instanceof $P&&i instanceof $P})(t.transform,e.transform)}class bc{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new bc}static exists(e){return new bc(void 0,e)}static updateTime(e){return new bc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ON{}function KU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Aie(t.key,bc.none()):new jN(t.key,t.data,bc.none());{const r=t.data,n=Us.empty();let i=new Ur(En.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new $x(t.key,n,new za(i.toArray()),bc.none())}}function Pie(t,e,r){t instanceof jN?(function(i,s,o){const a=i.value.clone(),c=N2(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,r):t instanceof $x?(function(i,s,o){if(!mv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=N2(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(YU(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function up(t,e,r,n){return t instanceof jN?(function(s,o,a,c){if(!mv(s.precondition,o))return a;const u=s.value.clone(),f=I2(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,r,n):t instanceof $x?(function(s,o,a,c){if(!mv(s.precondition,o))return a;const u=I2(s.fieldTransforms,c,o),f=o.data;return f.setAll(YU(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(s,o,a){return mv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,r)}function C2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Od(n,i,((s,o)=>Tie(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jN extends ON{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $x extends ON{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function YU(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function N2(t,e,r){const n=new Map;ur(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);n.set(s.field,Sie(o,a,r[i]))}return n}function I2(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,_ie(s,o,e))}return n}class Aie extends ON{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Pie(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=up(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=up(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=zU();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=r.has(i.key)?null:a;const c=KU(o,a);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(st.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),St())}isEqual(e){return this.batchId===e.batchId&&Od(this.mutations,e.mutations,((r,n)=>C2(r,n)))&&Od(this.baseMutations,e.baseMutations,((r,n)=>C2(r,n)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iie{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr,bt;function XU(t){if(t===void 0)return Ko("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case Pr.OK:return Ce.OK;case Pr.CANCELLED:return Ce.CANCELLED;case Pr.UNKNOWN:return Ce.UNKNOWN;case Pr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Pr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Pr.INTERNAL:return Ce.INTERNAL;case Pr.UNAVAILABLE:return Ce.UNAVAILABLE;case Pr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Pr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Pr.NOT_FOUND:return Ce.NOT_FOUND;case Pr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Pr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Pr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Pr.ABORTED:return Ce.ABORTED;case Pr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Pr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Pr.DATA_LOSS:return Ce.DATA_LOSS;default:return at(39323,{code:t})}}(bt=Pr||(Pr={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kie(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie=new Qa([4294967295,4294967295],0);function k2(t){const e=kie().encode(t),r=new vU;return r.update(e),new Uint8Array(r.digest())}function O2(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qa([r,n],0),new Qa([i,s],0)]}class RN{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Zh(`Invalid padding: ${r}`);if(n<0)throw new Zh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Zh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Zh(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Qa.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Qa.fromNumber(n)));return i.compare(Oie)===1&&(i=new Qa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=k2(e),[n,i]=O2(r);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new RN(s,i,r);return n.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const r=k2(e),[n,i]=O2(r);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Zh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Lm.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Fx(st.min(),i,new wr(vt),cl(),St())}}class Lm{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Lm(n,r,St(),St(),St())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class QU{constructor(e,r){this.targetId=e,this.Ce=r}}class JU{constructor(e,r,n=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class j2{constructor(){this.ve=0,this.Fe=R2(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=St(),r=St(),n=St();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:at(38017,{changeType:s})}})),new Lm(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=R2()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ur(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jie{constructor(e){this.Ge=e,this.ze=new Map,this.je=cl(),this.Je=My(),this.He=My(),this.Ye=new wr(vt)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:at(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(DP(s))if(n===0){const o=new He(s.path);this.et(r,o,wn.newNoDocument(o,st.min()))}else ur(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,a;try{o=al(n).toUint8Array()}catch(c){if(c instanceof IU)return jc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new RN(o,i,s)}catch(c){return jc(c instanceof Zh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(r,s,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((s,o)=>{const a=this.ot(o);if(a){if(s.current&&DP(a.target)){const c=new He(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,wn.newNoDocument(c,e))}s.Be&&(r.set(o,s.ke()),s.qe())}}));let n=St();this.He.forEach(((s,o)=>{let a=!0;o.forEachWhile((c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(n=n.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new Fx(e,r,this.Ye,this.je,n);return this.je=cl(),this.Je=My(),this.He=My(),this.Ye=new wr(vt),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new j2,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Ur(vt),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Ur(vt),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Me("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j2),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function My(){return new wr(He.comparator)}function R2(){return new wr(He.comparator)}const Rie={asc:"ASCENDING",desc:"DESCENDING"},Mie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Die={and:"AND",or:"OR"};class Lie{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function VP(t,e){return t.useProto3Json||Ox(e)?e:{value:e}}function $ie(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fie(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gd(t){return ur(!!t,49232),st.fromTimestamp((function(r){const n=ol(r);return new br(n.seconds,n.nanos)})(t))}function Vie(t,e){return BP(t,e).canonicalString()}function BP(t,e){const r=(function(i){return new Zt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function ZU(t){const e=Zt.fromString(t);return ur(iq(e),10190,{key:e.toString()}),e}function L_(t,e){const r=ZU(e);if(r.get(1)!==t.databaseId.projectId)throw new qe(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new qe(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new He(tq(r))}function eq(t,e){return Vie(t.databaseId,e)}function Bie(t){const e=ZU(t);return e.length===4?Zt.emptyPath():tq(e)}function M2(t){return new Zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tq(t){return ur(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Uie(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:at(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(u,f){return u.useProto3Json?(ur(f===void 0||typeof f=="string",58123),en.fromBase64String(f||"")):(ur(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),en.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const f=u.code===void 0?Ce.UNKNOWN:XU(u.code);return new qe(f,u.message||"")})(o);r=new JU(n,i,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=L_(t,n.document.name),s=gd(n.document.updateTime),o=n.document.createTime?gd(n.document.createTime):st.min(),a=new Us({mapValue:{fields:n.document.fields}}),c=wn.newFoundDocument(i,s,o,a),u=n.targetIds||[],f=n.removedTargetIds||[];r=new gv(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=L_(t,n.document),s=n.readTime?gd(n.readTime):st.min(),o=wn.newNoDocument(i,s),a=n.removedTargetIds||[];r=new gv([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=L_(t,n.document),s=n.removedTargetIds||[];r=new gv([],s,i,null)}else{if(!("filter"in e))return at(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new Iie(i,s),a=n.targetId;r=new QU(a,o)}}return r}function qie(t,e){return{documents:[eq(t,e.path)]}}function zie(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=eq(t,i);const s=(function(u){if(u.length!==0)return nq(ro.create(u,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const o=(function(u){if(u.length!==0)return u.map((f=>(function(g){return{field:Ju(g.field),direction:Gie(g.dir)}})(f)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=VP(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:r,parent:i}}function Wie(t){let e=Bie(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ur(n===1,65062);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];r.where&&(s=(function(p){const g=rq(p);return g instanceof ro&&LU(g)?g.getFilters():[g]})(r.where));let o=[];r.orderBy&&(o=(function(p){return p.map((g=>(function(w){return new Uv(Zu(w.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(g)))})(r.orderBy));let a=null;r.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,Ox(g)?null:g})(r.limit));let c=null;r.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new Bv(v,g)})(r.startAt));let u=null;return r.endAt&&(u=(function(p){const g=!p.before,v=p.values||[];return new Bv(v,g)})(r.endAt)),uie(e,i,o,s,a,"F",c,u)}function Hie(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function rq(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Zu(r.unaryFilter.field);return Fr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Zu(r.unaryFilter.field);return Fr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zu(r.unaryFilter.field);return Fr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zu(r.unaryFilter.field);return Fr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return at(61313);default:return at(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Fr.create(Zu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return at(58110);default:return at(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return ro.create(r.compositeFilter.filters.map((n=>rq(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return at(1026)}})(r.compositeFilter.op))})(t):at(30097,{filter:t})}function Gie(t){return Rie[t]}function Kie(t){return Mie[t]}function Yie(t){return Die[t]}function Ju(t){return{fieldPath:t.canonicalString()}}function Zu(t){return En.fromServerFormat(t.fieldPath)}function nq(t){return t instanceof Fr?(function(r){if(r.op==="=="){if(_2(r.value))return{unaryFilter:{field:Ju(r.field),op:"IS_NAN"}};if(w2(r.value))return{unaryFilter:{field:Ju(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(_2(r.value))return{unaryFilter:{field:Ju(r.field),op:"IS_NOT_NAN"}};if(w2(r.value))return{unaryFilter:{field:Ju(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ju(r.field),op:Kie(r.op),value:r.value}}})(t):t instanceof ro?(function(r){const n=r.getFilters().map((i=>nq(i)));return n.length===1?n[0]:{compositeFilter:{op:Yie(r.op),filters:n}}})(t):at(54877,{filter:t})}function iq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,r,n,i,s=st.min(),o=st.min(),a=en.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(e){this.yt=e}}function Qie(t){const e=Wie({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?LP(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(){this.Cn=new Zie}addToCollectionParentIndex(e,r){return this.Cn.add(r),pe.resolve()}getCollectionParents(e,r){return pe.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return pe.resolve()}deleteFieldIndex(e,r){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,r){return pe.resolve()}getDocumentsMatchingTarget(e,r){return pe.resolve(null)}getIndexType(e,r){return pe.resolve(0)}getFieldIndexes(e,r){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,r){return pe.resolve(sl.min())}getMinOffsetFromCollectionGroup(e,r){return pe.resolve(sl.min())}updateCollectionGroup(e,r,n){return pe.resolve()}updateIndexEntries(e,r){return pe.resolve()}}class Zie{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Ur(Zt.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ur(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sq=41943040;class ti{static withCacheSize(e){return new ti(e,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(sq,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ld(0)}static cr(){return new Ld(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="LruGarbageCollector",ese=1048576;function $2([t,e],[r,n]){const i=vt(t,r);return i===0?vt(e,n):i}class tse{constructor(e){this.Ir=e,this.buffer=new Ur($2),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();$2(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class rse{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Me(L2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){If(r)?Me(L2,"Ignoring IndexedDB error during garbage collection: ",r):await Ix(r)}await this.Vr(3e5)}))}}class nse{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return pe.resolve(kx.ce);const n=new tse(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(D2)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D2):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,o,a,c,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,a=Date.now(),this.removeTargets(e,n,r)))).next((p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(u=Date.now(),Xu()<=gt.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-f}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function ise(t,e){return new nse(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sse{constructor(){this.changes=new zc((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?pe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&up(n.mutation,i,za.empty(),br.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,St()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=St()){const i=cc();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let o=Jh();return s.forEach(((a,c)=>{o=o.insert(a,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=cc();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,St())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,a)=>{r.set(o,a)}))}))}computeViews(e,r,n,i){let s=cl();const o=cp(),a=(function(){return cp()})();return r.forEach(((c,u)=>{const f=n.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof $x)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),up(f.mutation,u,f.mutation.getFieldMask(),br.now())):o.set(u.key,za.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((u,f)=>o.set(u,f))),r.forEach(((u,f)=>a.set(u,new ose(f,o.get(u)??null)))),a)))}recalculateAndSaveOverlays(e,r){const n=cp();let i=new wr(((o,a)=>o-a)),s=St();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const a of o)a.keys().forEach((c=>{const u=r.get(c);if(u===null)return;let f=n.get(c)||za.empty();f=a.applyToLocalView(u,f),n.set(c,f);const p=(i.get(a.batchId)||St()).add(c);i=i.insert(a.batchId,p)}))})).next((()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,f=c.value,p=zU();f.forEach((g=>{if(!s.has(g)){const v=KU(r.get(g),n.get(g));v!==null&&p.set(g,v),s=s.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return pe.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return He.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):die(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):pe.resolve(cc());let a=Rp,c=s;return o.next((u=>pe.forEach(u,((f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(f)?pe.resolve():this.remoteDocumentCache.getEntry(e,f).next((g=>{c=c.insert(f,g)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,c,u,St()))).next((f=>({batchId:a,changes:gie(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new He(r)).next((n=>{let i=Jh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=Jh();return this.indexManager.getCollectionParents(e,s).next((a=>pe.forEach(a,(c=>{const u=(function(p,g){return new Rx(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next((f=>{f.forEach(((p,g)=>{o=o.insert(p,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((o=>{s.forEach(((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,wn.newInvalidDocument(f)))}));let a=Jh();return o.forEach(((c,u)=>{const f=s.get(c);f!==void 0&&up(f.mutation,u,za.empty(),br.now()),Dx(r,u)&&(a=a.insert(c,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return pe.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:gd(i.createTime)}})(r)),pe.resolve()}getNamedQuery(e,r){return pe.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:Qie(i.bundledQuery),readTime:gd(i.readTime)}})(r)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(){this.overlays=new wr(He.comparator),this.qr=new Map}getOverlay(e,r){return pe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=cc();return pe.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.St(e,r,s)})),pe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(n)),pe.resolve()}getOverlaysForCollection(e,r,n){const i=cc(),s=r.length+1,o=new He(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>n&&i.set(c.getKey(),c)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new wr(((u,f)=>u-f));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let f=s.get(u.largestBatchId);f===null&&(f=cc(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=cc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,f)=>a.set(u,f))),!(a.size()>=i)););return pe.resolve(a)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Nie(r,n));let s=this.qr.get(r);s===void 0&&(s=St(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.Qr=new Ur(Qr.$r),this.Ur=new Ur(Qr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Qr(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new Qr(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new He(new Zt([])),n=new Qr(r,e),i=new Qr(r,e+1),s=[];return this.Ur.forEachInRange([n,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new He(new Zt([])),n=new Qr(r,e),i=new Qr(r,e+1);let s=St();return this.Ur.forEachInRange([n,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const r=new Qr(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Qr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return He.comparator(e.key,r.key)||vt(e.Yr,r.Yr)}static Kr(e,r){return vt(e.Yr,r.Yr)||He.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dse{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ur(Qr.$r)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Cie(s,r,n,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Qr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return pe.resolve(o)}lookupMutationBatch(e,r){return pe.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?qne:this.tr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Qr(r,0),i=new Qr(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],(o=>{const a=this.Xr(o.Yr);s.push(a)})),pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ur(vt);return r.forEach((i=>{const s=new Qr(i,0),o=new Qr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(a=>{n=n.add(a.Yr)}))})),pe.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;He.isDocumentKey(s)||(s=s.child(""));const o=new Qr(new He(s),0);let a=new Ur(vt);return this.Zr.forEachWhile((c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)}),o),pe.resolve(this.ti(a))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){ur(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return pe.forEach(r.mutations,(i=>{const s=new Qr(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new Qr(r,0),i=this.Zr.firstAfterOrEqual(n);return pe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(e){this.ri=e,this.docs=(function(){return new wr(He.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return pe.resolve(n?n.document.mutableCopy():wn.newInvalidDocument(r))}getEntries(e,r){let n=cl();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():wn.newInvalidDocument(i))})),pe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=cl();const o=r.path,a=new He(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Fne($ne(f),n)<=0||(i.has(f.key)||Dx(r,f))&&(s=s.insert(f.key,f.mutableCopy()))}return pe.resolve(s)}getAllFromCollectionGroup(e,r,n,i){at(9500)}ii(e,r){return pe.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new hse(this)}getSize(e){return pe.resolve(this.size)}}class hse extends sse{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),pe.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(e){this.persistence=e,this.si=new zc((r=>NN(r)),IN),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.oi=0,this._i=new MN,this.targetCount=0,this.ai=Ld.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),pe.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Ld(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,pe.resolve()}updateTargetData(e,r){return this.Pr(r),pe.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),pe.waitFor(s).next((()=>i))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return pe.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),pe.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),pe.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),pe.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return pe.resolve(n)}containsKey(e,r){return pe.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,r){this.ui={},this.overlays={},this.ci=new kx(0),this.li=!1,this.li=!0,this.hi=new use,this.referenceDelegate=e(this),this.Pi=new pse(this),this.indexManager=new Jie,this.remoteDocumentCache=(function(i){return new fse(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new Xie(r),this.Ii=new lse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new cse,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new dse(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Me("MemoryPersistence","Starting transaction:",e);const i=new mse(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,r){return pe.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class mse extends Bne{constructor(e){super(),this.currentSequenceNumber=e}}class DN{constructor(e){this.persistence=e,this.Ri=new MN,this.Vi=null}static mi(e){return new DN(e)}get fi(){if(this.Vi)return this.Vi;throw at(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),pe.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),pe.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),pe.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.fi,(n=>{const i=He.fromPath(n);return this.gi(e,i).next((s=>{s||r.removeEntry(i,st.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return pe.or([()=>pe.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Wv{constructor(e,r){this.persistence=e,this.pi=new zc((n=>zne(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=ise(this,r)}static mi(e,r){return new Wv(e,r)}Ei(){}di(e){return pe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return pe.forEach(this.pi,((n,i)=>this.br(e,n,i).next((s=>s?pe.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,r).next((a=>{a||(n++,s.removeEntry(o,st.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),pe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),pe.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=pv(e.data.value)),r}br(e,r,n){return pe.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return pe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=St(),i=St();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new LN(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lre()?8:Une(Nn())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,r,i,n).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new gse;return this.Ss(e,r,o).next((a=>{if(s.result=a,this.Vs)return this.bs(e,r,o,a.size)}))})).next((()=>s.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(Xu()<=gt.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",Qu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pe.resolve()):(Xu()<=gt.DEBUG&&Me("QueryEngine","Query:",Qu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Xu()<=gt.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",Qu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hs(r))):pe.resolve())}ys(e,r){if(P2(r))return pe.resolve(null);let n=Hs(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=LP(r,null,"F"),n=Hs(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const o=St(...s);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,n).next((c=>{const u=this.Ds(r,a);return this.Cs(r,u,o,c.readTime)?this.ys(e,LP(r,null,"F")):this.vs(e,u,r,c)}))))})))))}ws(e,r,n,i){return P2(r)||i.isEqual(st.min())?pe.resolve(null):this.ps.getDocuments(e,n).next((s=>{const o=this.Ds(r,s);return this.Cs(r,o,n,i)?pe.resolve(null):(Xu()<=gt.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qu(r)),this.vs(e,o,r,Lne(i,Rp)).next((a=>a)))}))}Ds(e,r){let n=new Ur(UU(e));return r.forEach(((i,s)=>{Dx(e,s)&&(n=n.add(s))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return Xu()<=gt.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",Qu(r)),this.ps.getDocumentsMatchingQuery(e,r,sl.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="LocalStore",vse=3e8;class xse{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new wr(vt),this.xs=new zc((s=>NN(s)),IN),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ase(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function bse(t,e,r,n){return new xse(t,e,r,n)}async function aq(t,e){const r=wt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const o=[],a=[];let c=St();for(const u of i){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return r.localDocuments.getDocuments(n,c).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function lq(t){const e=wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function wse(t,e){const r=wt(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const a=[];e.targetChanges.forEach(((f,p)=>{const g=i.get(p);if(!g)return;a.push(r.Pi.removeMatchingKeys(s,f.removedDocuments,p).next((()=>r.Pi.addMatchingKeys(s,f.addedDocuments,p))));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(en.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,n)),i=i.insert(p,v),(function(x,_,P){return x.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=vse?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(g,v,f)&&a.push(r.Pi.updateTargetData(s,v))}));let c=cl(),u=St();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(s,f))})),a.push(_se(s,o,e.documentUpdates).next((f=>{c=f.ks,u=f.qs}))),!n.isEqual(st.min())){const f=r.Pi.getLastRemoteSnapshotVersion(s).next((p=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n)));a.push(f)}return pe.waitFor(a).next((()=>o.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,c,u))).next((()=>c))})).then((s=>(r.Ms=i,s)))}function _se(t,e,r){let n=St(),i=St();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let o=cl();return r.forEach(((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(st.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Me($N,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function Sse(t,e){const r=wt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((s=>s?(i=s,pe.resolve(i)):r.Pi.allocateTargetId(n).next((o=>(i=new Wa(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function UP(t,e,r){const n=wt(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!If(o))throw o;Me($N,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function F2(t,e,r){const n=wt(t);let i=st.min(),s=St();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,u,f){const p=wt(c),g=p.xs.get(f);return g!==void 0?pe.resolve(p.Ms.get(g)):p.Pi.getTargetData(u,f)})(n,o,Hs(e)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,a.targetId).next((c=>{s=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:st.min(),r?s:St()))).next((a=>(Ese(n,hie(e),a),{documents:a,Qs:s})))))}function Ese(t,e,r){let n=t.Os.get(e)||st.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.Os.set(e,n)}class V2{constructor(){this.activeTargetIds=xie()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tse{constructor(){this.Mo=new V2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V2,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pse{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="ConnectivityMonitor";class U2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Me(B2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Me(B2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy=null;function qP(){return Dy===null?Dy=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dy++,"0x"+Dy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="RestConnection",Ase={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cse{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Vv?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const o=qP(),a=this.zo(e,r.toUriEncodedString());Me($_,`Sending RPC '${e}' ${o}:`,a,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(a),f=Af(u);return this.Jo(e,a,c,n,f).then((p=>(Me($_,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw jc($_,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",n),p}))}Ho(e,r,n,i,s,o){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,s)=>e[s]=i)),n&&n.headers.forEach(((i,s)=>e[s]=i))}zo(e,r){const n=Ase[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nse{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class Ise extends Cse{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const o=qP();return new Promise(((a,c)=>{const u=new xU;u.setWithCredentials(!0),u.listenOnce(bU.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case hv.NO_ERROR:const p=u.getResponseJson();Me(vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case hv.TIMEOUT:Me(vn,`RPC '${e}' ${o} timed out`),c(new qe(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case hv.HTTP_ERROR:const g=u.getStatus();if(Me(vn,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const x=(function(P){const S=P.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(S)>=0?S:Ce.UNKNOWN})(w.status);c(new qe(x,w.message))}else c(new qe(Ce.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new qe(Ce.UNAVAILABLE,"Connection failed."));break;default:at(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Me(vn,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);Me(vn,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",f,n,15)}))}T_(e,r,n){const i=qP(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=SU(),a=_U(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const f=s.join("");Me(vn,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=o.createWebChannel(f,c);this.I_(p);let g=!1,v=!1;const w=new Nse({Yo:_=>{v?Me(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(g||(Me(vn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Me(vn,`RPC '${e}' stream ${i} sending:`,_),p.send(_))},Zo:()=>p.close()}),x=(_,P,S)=>{_.listen(P,(E=>{try{S(E)}catch(R){setTimeout((()=>{throw R}),0)}}))};return x(p,Qh.EventType.OPEN,(()=>{v||(Me(vn,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),x(p,Qh.EventType.CLOSE,(()=>{v||(v=!0,Me(vn,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),x(p,Qh.EventType.ERROR,(_=>{v||(v=!0,jc(vn,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),w.a_(new qe(Ce.UNAVAILABLE,"The operation could not be completed")))})),x(p,Qh.EventType.MESSAGE,(_=>{var P;if(!v){const S=_.data[0];ur(!!S,16349);const E=S,R=(E==null?void 0:E.error)||((P=E[0])==null?void 0:P.error);if(R){Me(vn,`RPC '${e}' stream ${i} received error:`,R);const N=R.status;let M=(function(j){const F=Pr[j];if(F!==void 0)return XU(F)})(N),I=R.message;M===void 0&&(M=Ce.INTERNAL,I="Unknown error status: "+N+" with message "+R.message),v=!0,w.a_(new qe(M,I)),p.close()}else Me(vn,`RPC '${e}' stream ${i} received:`,S),w.u_(S)}})),x(a,wU.STAT_EVENT,(_=>{_.stat===NP.PROXY?Me(vn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===NP.NOPROXY&&Me(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function F_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t){return new Lie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="PersistentStream";class kse{constructor(e,r,n,i,s,o,a,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uq(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Ce.RESOURCE_EXHAUSTED?(Ko(r.toString()),Ko("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new qe(Ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Me(q2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(Me(q2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ose extends kse{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Uie(this.serializer,e),n=(function(s){if(!("targetChange"in s))return st.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?st.min():o.readTime?gd(o.readTime):st.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=M2(this.serializer),r.addTarget=(function(s,o){let a;const c=o.target;if(a=DP(c)?{documents:qie(s,c)}:{query:zie(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Fie(s,o.resumeToken);const u=VP(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(st.min())>0){a.readTime=$ie(s,o.snapshotVersion.toTimestamp());const u=VP(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const n=Hie(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=M2(this.serializer),r.removeTarget=e,this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jse{}class Rse extends jse{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new qe(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,BP(r,n),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qe(Ce.UNKNOWN,s.toString())}))}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,BP(r,n),i,o,a,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(Ce.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Mse{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ko(r),this.aa=!1):Me("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="RemoteStore";class Dse{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{Fm(this)&&(Me($d,"Restarting streams for network reachability change."),await(async function(c){const u=wt(c);u.Ea.add(4),await $m(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Vx(u)})(this))}))})),this.Ra=new Mse(n,i)}}async function Vx(t){if(Fm(t))for(const e of t.da)await e(!0)}async function $m(t){for(const e of t.da)await e(!1)}function dq(t,e){const r=wt(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),UN(r)?BN(r):kf(r).O_()&&VN(r,e))}function FN(t,e){const r=wt(t),n=kf(r);r.Ia.delete(e),n.O_()&&fq(r,e),r.Ia.size===0&&(n.O_()?n.L_():Fm(r)&&r.Ra.set("Unknown"))}function VN(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}kf(t).Y_(e)}function fq(t,e){t.Va.Ue(e),kf(t).Z_(e)}function BN(t){t.Va=new jie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),kf(t).start(),t.Ra.ua()}function UN(t){return Fm(t)&&!kf(t).x_()&&t.Ia.size>0}function Fm(t){return wt(t).Ea.size===0}function hq(t){t.Va=void 0}async function Lse(t){t.Ra.set("Online")}async function $se(t){t.Ia.forEach(((e,r)=>{VN(t,e)}))}async function Fse(t,e){hq(t),UN(t)?(t.Ra.ha(e),BN(t)):t.Ra.set("Unknown")}async function Vse(t,e,r){if(t.Ra.set("Online"),e instanceof JU&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(n){Me($d,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await z2(t,n)}else if(e instanceof gv?t.Va.Ze(e):e instanceof QU?t.Va.st(e):t.Va.tt(e),!r.isEqual(st.min()))try{const n=await lq(t.localStore);r.compareTo(n)>=0&&await(function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(u);f&&s.Ia.set(u,f.withResumeToken(c.resumeToken,o))}})),a.targetMismatches.forEach(((c,u)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(en.EMPTY_BYTE_STRING,f.snapshotVersion)),fq(s,c);const p=new Wa(f.target,c,u,f.sequenceNumber);VN(s,p)})),s.remoteSyncer.applyRemoteEvent(a)})(t,r)}catch(n){Me($d,"Failed to raise snapshot:",n),await z2(t,n)}}async function z2(t,e,r){if(!If(e))throw e;t.Ea.add(1),await $m(t),t.Ra.set("Offline"),r||(r=()=>lq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Me($d,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Vx(t)}))}async function W2(t,e){const r=wt(t);r.asyncQueue.verifyOperationInProgress(),Me($d,"RemoteStore received new credentials");const n=Fm(r);r.Ea.add(3),await $m(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Vx(r)}async function Bse(t,e){const r=wt(t);e?(r.Ea.delete(2),await Vx(r)):e||(r.Ea.add(2),await $m(r),r.Ra.set("Unknown"))}function kf(t){return t.ma||(t.ma=(function(r,n,i){const s=wt(r);return s.sa(),new Ose(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Lse.bind(null,t),t_:$se.bind(null,t),r_:Fse.bind(null,t),H_:Vse.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),UN(t)?BN(t):t.Ra.set("Unknown")):(await t.ma.stop(),hq(t))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,a=new qN(e,r,o,i,s);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pq(t,e){if(Ko("AsyncQueue",`${e}: ${t}`),If(t))return new qe(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{static emptySet(e){return new yd(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||He.comparator(r.key,n.key):(r,n)=>He.comparator(r.key,n.key),this.keyedMap=Jh(),this.sortedSet=new wr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof yd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new yd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.ga=new wr(He.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):at(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Fd{constructor(e,r,n,i,s,o,a,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach((a=>{o.push({type:0,doc:a})})),new Fd(e,r,yd.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Use{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qse{constructor(){this.queries=G2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=wt(r),s=i.queries;i.queries=G2(),s.forEach(((o,a)=>{for(const c of a.Sa)c.onError(n)}))})(this,new qe(Ce.ABORTED,"Firestore shutting down"))}}function G2(){return new zc((t=>BU(t)),Mx)}async function mq(t,e){const r=wt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new Use,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const a=pq(o,`Initialization of query '${Qu(e.query)}' failed`);return void e.onError(a)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&zN(r)}async function gq(t,e){const r=wt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function zse(t,e){const r=wt(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(n=!0);o.wa=i}}n&&zN(r)}function Wse(t,e,r){const n=wt(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function zN(t){t.Ca.forEach((e=>{e.next()}))}var zP,K2;(K2=zP||(zP={})).Ma="default",K2.Cache="cache";class yq{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Fd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Fd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.key=e}}class xq{constructor(e){this.key=e}}class Hse{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=St(),this.mutatedKeys=St(),this.eu=UU(e),this.tu=new yd(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new H2,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const g=i.get(f),v=Dx(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;g&&v?g.data.isEqual(v.data)?w!==x&&(n.track({type:3,doc:v}),_=!0):this.su(g,v)||(n.track({type:2,doc:v}),_=!0,(c&&this.eu(v,c)>0||u&&this.eu(v,u)<0)&&(a=!0)):!g&&v?(n.track({type:0,doc:v}),_=!0):g&&!v&&(n.track({type:1,doc:g}),_=!0,(c||u)&&(a=!0)),_&&(v?(o=o.add(v),s=x?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{tu:o,iu:n,Cs:a,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,p)=>(function(v,w){const x=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at(20277,{Rt:_})}};return x(v)-x(w)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(n),i=i??!1;const a=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new Fd(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new H2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=St(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new xq(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new vq(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=St();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Fd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const WN="SyncEngine";class Gse{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Kse{constructor(e){this.key=e,this.hu=!1}}class Yse{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zc((a=>BU(a)),Mx),this.Iu=new Map,this.Eu=new Set,this.du=new wr(He.comparator),this.Au=new Map,this.Ru=new MN,this.Vu={},this.mu=new Map,this.fu=Ld.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Xse(t,e,r=!0){const n=Eq(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await bq(n,e,r,!0),i}async function Qse(t,e){const r=Eq(t);await bq(r,e,!0,!1)}async function bq(t,e,r,n){const i=await Sse(t.localStore,Hs(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let a;return n&&(a=await Jse(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&dq(t.remoteStore,i),a}async function Jse(t,e,r,n,i){t.pu=(p,g,v)=>(async function(x,_,P,S){let E=_.view.ru(P);E.Cs&&(E=await F2(x.localStore,_.query,!1).then((({documents:I})=>_.view.ru(I,E))));const R=S&&S.targetChanges.get(_.targetId),N=S&&S.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(E,x.isPrimaryClient,R,N);return X2(x,_.targetId,M.au),M.snapshot})(t,p,g,v);const s=await F2(t.localStore,e,!0),o=new Hse(e,s.Qs),a=o.ru(s.documents),c=Lm.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);X2(t,r,u.au);const f=new Gse(e,r,o);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function Zse(t,e,r){const n=wt(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter((o=>!Mx(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await UP(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&FN(n.remoteStore,i.targetId),WP(n,i.targetId)})).catch(Ix)):(WP(n,i.targetId),await UP(n.localStore,i.targetId,!0))}async function eoe(t,e){const r=wt(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),FN(r.remoteStore,n.targetId))}async function wq(t,e){const r=wt(t);try{const n=await wse(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=r.Au.get(s);o&&(ur(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ur(o.hu,14607):i.removedDocuments.size>0&&(ur(o.hu,42227),o.hu=!1))})),await Sq(r,n,e)}catch(n){await Ix(n)}}function Y2(t,e,r){const n=wt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)})),(function(o,a){const c=wt(o);c.onlineState=a;let u=!1;c.queries.forEach(((f,p)=>{for(const g of p.Sa)g.va(a)&&(u=!0)})),u&&zN(c)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function toe(t,e,r){const n=wt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let o=new wr(He.comparator);o=o.insert(s,wn.newNoDocument(s,st.min()));const a=St().add(s),c=new Fx(st.min(),new Map,new wr(vt),o,a);await wq(n,c),n.du=n.du.remove(s),n.Au.delete(e),HN(n)}else await UP(n.localStore,e,!1).then((()=>WP(n,e,r))).catch(Ix)}function WP(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||_q(t,n)}))}function _q(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(FN(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),HN(t))}function X2(t,e,r){for(const n of r)n instanceof vq?(t.Ru.addReference(n.key,e),roe(t,n)):n instanceof xq?(Me(WN,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||_q(t,n.key)):at(19791,{wu:n})}function roe(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Me(WN,"New document in limbo: "+r),t.Eu.add(n),HN(t))}function HN(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new He(Zt.fromString(e)),n=t.fu.next();t.Au.set(n,new Kse(r)),t.du=t.du.insert(r,n),dq(t.remoteStore,new Wa(Hs(kN(r.path)),n,"TargetPurposeLimboResolution",kx.ce))}}async function Sq(t,e,r){const n=wt(t),i=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((a,c)=>{o.push(n.pu(c,e,r).then((u=>{var f;if((u||r)&&n.isPrimaryClient){const p=u?!u.fromCache:(f=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:f.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);const p=LN.As(c.targetId,u);s.push(p)}})))})),await Promise.all(o),n.Pu.H_(i),await(async function(c,u){const f=wt(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>pe.forEach(u,(g=>pe.forEach(g.Es,(v=>f.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>pe.forEach(g.ds,(v=>f.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!If(p))throw p;Me($N,"Failed to update sequence numbers: "+p)}for(const p of u){const g=p.targetId;if(!p.fromCache){const v=f.Ms.get(g),w=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(g,x)}}})(n.localStore,s))}async function noe(t,e){const r=wt(t);if(!r.currentUser.isEqual(e)){Me(WN,"User change. New user:",e.toKey());const n=await aq(r.localStore,e);r.currentUser=e,(function(s,o){s.mu.forEach((a=>{a.forEach((c=>{c.reject(new qe(Ce.CANCELLED,o))}))})),s.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Sq(r,n.Ls)}}function ioe(t,e){const r=wt(t),n=r.Au.get(e);if(n&&n.hu)return St().add(n.key);{let i=St();const s=r.Iu.get(e);if(!s)return i;for(const o of s){const a=r.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function Eq(t){const e=wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ioe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=toe.bind(null,e),e.Pu.H_=zse.bind(null,e.eventManager),e.Pu.yu=Wse.bind(null,e.eventManager),e}class Hv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cq(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return bse(this.persistence,new yse,e.initialUser,this.serializer)}Cu(e){return new oq(DN.mi,this.serializer)}Du(e){return new Tse}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hv.provider={build:()=>new Hv};class soe extends Hv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){ur(this.persistence.referenceDelegate instanceof Wv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new rse(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new oq((n=>Wv.mi(n,r)),this.serializer)}}class HP{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Y2(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=noe.bind(null,this.syncEngine),await Bse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qse})()}createDatastore(e){const r=cq(e.databaseInfo.databaseId),n=(function(s){return new Ise(s)})(e.databaseInfo);return(function(s,o,a,c){return new Rse(s,o,a,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,o,a){return new Dse(n,i,s,o,a)})(this.localStore,this.datastore,e.asyncQueue,(r=>Y2(this.syncEngine,r,0)),(function(){return U2.v()?new U2:new Pse})())}createSyncEngine(e,r){return(function(i,s,o,a,c,u,f){const p=new Yse(i,s,o,a,c,u);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=wt(i);Me($d,"RemoteStore shutting down."),s.Ea.add(5),await $m(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}HP.provider={build:()=>new HP};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ko("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="FirestoreClient";class ooe{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=bn.UNAUTHENTICATED,this.clientId=Nx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async o=>{Me(ul,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(Me(ul,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=pq(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function V_(t,e){t.asyncQueue.verifyOperationInProgress(),Me(ul,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await aq(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Q2(t,e){t.asyncQueue.verifyOperationInProgress();const r=await aoe(t);Me(ul,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>W2(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>W2(e.remoteStore,i))),t._onlineComponents=e}async function aoe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me(ul,"Using user provided OfflineComponentProvider");try{await V_(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ce.FAILED_PRECONDITION||i.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;jc("Error using user provided cache. Falling back to memory cache: "+r),await V_(t,new Hv)}}else Me(ul,"Using default OfflineComponentProvider"),await V_(t,new soe(void 0));return t._offlineComponents}async function loe(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me(ul,"Using user provided OnlineComponentProvider"),await Q2(t,t._uninitializedComponentsProvider._online)):(Me(ul,"Using default OnlineComponentProvider"),await Q2(t,new HP))),t._onlineComponents}async function Pq(t){const e=await loe(t),r=e.eventManager;return r.onListen=Xse.bind(null,e.syncEngine),r.onUnlisten=Zse.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Qse.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=eoe.bind(null,e.syncEngine),r}function coe(t,e,r={}){const n=new Ja;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,c,u){const f=new Tq({next:g=>{f.Nu(),o.enqueueAndForget((()=>gq(s,p)));const v=g.docs.has(a);!v&&g.fromCache?u.reject(new qe(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&c.source==="server"?u.reject(new qe(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new yq(kN(a.path),f,{includeMetadataChanges:!0,qa:!0});return mq(s,p)})(await Pq(t),t.asyncQueue,e,r,n))),n.promise}function uoe(t,e,r={}){const n=new Ja;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,c,u){const f=new Tq({next:g=>{f.Nu(),o.enqueueAndForget((()=>gq(s,p))),g.fromCache&&c.source==="server"?u.reject(new qe(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new yq(a,f,{includeMetadataChanges:!0,qa:!0});return mq(s,p)})(await Pq(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq="firestore.googleapis.com",Z2=!0;class eM{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new qe(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cq,this.ssl=Z2}else this.host=e.host,this.ssl=e.ssl??Z2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ese)throw new qe(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Aq(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new qe(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new qe(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new qe(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bx{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new PU;switch(n.type){case"firstParty":return new Nne(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new qe(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=J2.get(r);n&&(Me("ComponentProvider","Removing Datastore"),J2.delete(r),n.terminate())})(this),Promise.resolve()}}function Nq(t,e,r,n={}){var u;t=jd(t,Bx);const i=Af(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${r}`;i&&(uU(`https://${a}`),dU("Firestore",!0)),s.host!==Cq&&s.host!==a&&jc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:n};if(!Ic(c,o)&&(t._setSettings(c),n.mockUserToken)){let f,p;if(typeof n.mockUserToken=="string")f=n.mockUserToken,p=bn.MOCK_USER;else{f=Zte(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new qe(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new bn(g)}t._authCredentials=new Pne(new TU(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Vm(this.firestore,e,this._query)}}class hn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Mm(r,hn._jsonSchema))return new hn(e,n||null,new He(Zt.fromString(r.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:Ir("string",hn._jsonSchemaVersion),referencePath:Ir("string")};class $o extends Vm{constructor(e,r,n){super(e,r,kN(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new He(e))}withConverter(e){return new $o(this.firestore,e,this._path)}}function Iq(t,e,...r){if(t=Cs(t),AU("collection","path",e),t instanceof Bx){const n=Zt.fromString(e,...r);return h2(n),new $o(t,null,n)}{if(!(t instanceof hn||t instanceof $o))throw new qe(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Zt.fromString(e,...r));return h2(n),new $o(t.firestore,null,n)}}function Wc(t,e,...r){if(t=Cs(t),arguments.length===1&&(e=Nx.newId()),AU("doc","path",e),t instanceof Bx){const n=Zt.fromString(e,...r);return f2(n),new hn(t,null,new He(n))}{if(!(t instanceof hn||t instanceof $o))throw new qe(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Zt.fromString(e,...r));return f2(n),new hn(t.firestore,t instanceof $o?t.converter:null,new He(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="AsyncQueue";class rM{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uq(this,"async_queue_retry"),this._c=()=>{const n=F_();n&&Me(tM,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=F_();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=F_();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Ja;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!If(e))throw e;Me(tM,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Ko("INTERNAL UNHANDLED ERROR: ",nM(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=qN.createAndSchedule(this,e,r,n,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&at(47125,{Pc:nM(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function nM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ux extends Bx{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new rM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rM(e),this._firestoreClient=void 0,await e}}}function kq(t,e){const r=typeof t=="object"?t:mU(),n=typeof t=="string"?t:Vv,i=TN(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=Qte("firestore");s&&Nq(i,...s)}return i}function GN(t){if(t._terminated)throw new qe(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||doe(t),t._firestoreClient}function doe(t){var n,i,s;const e=t._freezeSettings(),r=(function(a,c,u,f){return new Kne(a,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Aq(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ooe(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gs(en.fromBase64String(e))}catch(r){throw new qe(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new gs(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mm(e,gs._jsonSchema))return gs.fromBase64String(e.bytes)}}gs._jsonSchemaVersion="firestore/bytes/1.0",gs._jsonSchema={type:Ir("string",gs._jsonSchemaVersion),bytes:Ir("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new qe(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new qe(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new qe(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fo._jsonSchemaVersion}}static fromJSON(e){if(Mm(e,Fo._jsonSchema))return new Fo(e.latitude,e.longitude)}}Fo._jsonSchemaVersion="firestore/geoPoint/1.0",Fo._jsonSchema={type:Ir("string",Fo._jsonSchemaVersion),latitude:Ir("number"),longitude:Ir("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mm(e,Vo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Vo(e.vectorValues);throw new qe(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vo._jsonSchemaVersion="firestore/vectorValue/1.0",Vo._jsonSchema={type:Ir("string",Vo._jsonSchemaVersion),vectorValues:Ir("object")};const foe=new RegExp("[~\\*/\\[\\]]");function hoe(t,e,r){if(e.search(foe)>=0)throw iM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new KN(...e.split("."))._internalPath}catch{throw iM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function iM(t,e,r,n,i){let s=`Function ${e}() called with invalid data`;s+=". ";let o="";return new qe(Ce.INVALID_ARGUMENT,s+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new poe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(jq("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class poe extends Oq{data(){return super.data()}}function jq(t,e){return typeof e=="string"?hoe(t,e):e instanceof KN?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new qe(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rq{convertValue(e,r="none"){switch(ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(al(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw at(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Dm(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[OP].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>xr(o.doubleValue)));return new Vo(r)}convertGeoPoint(e){return new Fo(xr(e.latitude),xr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=jx(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Mp(e));default:return null}}convertTimestamp(e){const r=ol(e);return new br(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Zt.fromString(e);ur(iq(n),9688,{name:e});const i=new Rd(n.get(1),n.get(3)),s=new He(n.popFirst(5));return i.isEqual(r)||Ko(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}class rd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Za extends Oq{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(jq("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Za._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Za._jsonSchemaVersion="firestore/documentSnapshot/1.0",Za._jsonSchema={type:Ir("string",Za._jsonSchemaVersion),bundleSource:Ir("string","DocumentSnapshot"),bundleName:Ir("string"),bundle:Ir("string")};class dp extends Za{data(e={}){return super.data(e)}}class wc{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new rd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new dp(this._firestore,this._userDataWriter,n.key,n,new rd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new qe(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const c=new dp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const c=new dp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:goe(a.type),doc:c,oldIndex:u,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function goe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){t=jd(t,hn);const e=jd(t.firestore,Ux);return coe(GN(e),t._key).then((r=>yoe(e,t,r)))}wc._jsonSchemaVersion="firestore/querySnapshot/1.0",wc._jsonSchema={type:Ir("string",wc._jsonSchemaVersion),bundleSource:Ir("string","QuerySnapshot"),bundleName:Ir("string"),bundle:Ir("string")};class Mq extends Rq{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,r)}}function Dq(t){t=jd(t,Vm);const e=jd(t.firestore,Ux),r=GN(e),n=new Mq(e);return moe(t._query),uoe(r,t._query).then((i=>new wc(e,n,t,i)))}function yoe(t,e,r){const n=r.docs.get(e._key),i=new Mq(t);return new Za(t,i,e._key,n,new rd(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Nf=i})(Cf),kd(new kc("firestore",((n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),a=new Ux(new Ane(n.getProvider("auth-internal")),new Ine(o,n.getProvider("app-check-internal")),(function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new qe(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rd(u.options.projectId,f)})(o,i),o);return s={useFetchStreams:r,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),Xa(l2,c2,e),Xa(l2,c2,"esm2020")})();const voe=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Rq,Bytes:gs,CollectionReference:$o,DocumentReference:hn,DocumentSnapshot:Za,FieldPath:KN,Firestore:Ux,FirestoreError:qe,GeoPoint:Fo,Query:Vm,QueryDocumentSnapshot:dp,QuerySnapshot:wc,SnapshotMetadata:rd,Timestamp:br,VectorValue:Vo,_AutoId:Nx,_ByteString:en,_DatabaseId:Rd,_DocumentKey:He,_EmptyAuthCredentialsProvider:PU,_FieldPath:En,_cast:jd,_logWarn:jc,_validateIsNotUsedTogether:CU,collection:Iq,connectFirestoreEmulator:Nq,doc:Wc,ensureFirestoreConfigured:GN,getDoc:Hc,getDocs:Dq,getFirestore:kq},Symbol.toStringTag,{value:"Module"}));var xoe="firebase",boe="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa(xoe,boe,"app");function Lq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const woe=Lq,$q=new jm("auth","Firebase",Lq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new SN("@firebase/auth");function _oe(t,...e){Gv.logLevel<=gt.WARN&&Gv.warn(`Auth (${Cf}): ${t}`,...e)}function yv(t,...e){Gv.logLevel<=gt.ERROR&&Gv.error(`Auth (${Cf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,...e){throw XN(t,...e)}function bs(t,...e){return XN(t,...e)}function YN(t,e,r){const n={...woe(),[e]:r};return new jm("auth","Firebase",n).create(e,{appName:t.name})}function el(t){return YN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Soe(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Hi(t,"argument-error"),YN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function XN(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return $q.create(t,...e)}function We(t,e,...r){if(!t)throw XN(e,...r)}function Io(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yv(e),new Error(e)}function Yo(t,e){t||Io(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Eoe(){return sM()==="http:"||sM()==="https:"}function sM(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Toe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Eoe()||sre()||"connection"in navigator)?navigator.onLine:!0}function Poe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,r){this.shortDelay=e,this.longDelay=r,Yo(r>e,"Short delay should be less than long delay!"),this.isMobile=rre()||ore()}get(){return Toe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t,e){Yo(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Coe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Noe=new Bm(3e4,6e4);function ml(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function oa(t,e,r,n,i={}){return Vq(t,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const a=Rm({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return ire()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Af(t.emulatorConfig.host)&&(u.credentials="include"),Fq.fetch()(await Bq(t,t.config.apiHost,r,a),u)})}async function Vq(t,e,r){t._canInitEmulator=!1;const n={...Aoe,...e};try{const i=new koe(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ly(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ly(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ly(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ly(t,"user-disabled",o);const f=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw YN(t,f,u);Hi(t,f)}}catch(i){if(i instanceof sa)throw i;Hi(t,"network-request-failed",{message:String(i)})}}async function qx(t,e,r,n,i={}){const s=await oa(t,e,r,n,i);return"mfaPendingCredential"in s&&Hi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Bq(t,e,r,n){const i=`${e}${r}?${n}`,s=t,o=s.config.emulator?QN(t.config,i):`${t.config.apiScheme}://${i}`;return Coe.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Ioe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class koe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(bs(this.auth,"network-request-failed")),Noe.get())})}}function Ly(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=bs(t,e,n);return i.customData._tokenResponse=r,i}function oM(t){return t!==void 0&&t.enterprise!==void 0}class Ooe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Ioe(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function joe(t,e){return oa(t,"GET","/v2/recaptchaConfig",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Roe(t,e){return oa(t,"POST","/v1/accounts:delete",e)}async function Yv(t,e){return oa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Moe(t,e=!1){const r=Cs(t),n=await r.getIdToken(e),i=JN(n);We(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:fp(B_(i.auth_time)),issuedAtTime:fp(B_(i.iat)),expirationTime:fp(B_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function B_(t){return Number(t)*1e3}function JN(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return yv("JWT malformed, contained fewer than 3 sections"),null;try{const i=oU(r);return i?JSON.parse(i):(yv("Failed to decode base64 JWT payload"),null)}catch(i){return yv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aM(t){const e=JN(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof sa&&Doe(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Doe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Loe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=fp(this.lastLoginAt),this.creationTime=fp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xv(t){var p;const e=t.auth,r=await t.getIdToken(),n=await Lp(t,Yv(e,{idToken:r}));We(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(p=i.providerUserInfo)!=null&&p.length?Uq(i.providerUserInfo):[],o=Foe(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new GP(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function $oe(t){const e=Cs(t);await Xv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Foe(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Uq(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Voe(t,e){const r=await Vq(t,{},async()=>{const n=Rm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Bq(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:n};return t.emulatorConfig&&Af(t.emulatorConfig.host)&&(c.credentials="include"),Fq.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Boe(t,e){return oa(t,"POST","/v2/accounts:revokeToken",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){We(e.length!==0,"internal-error");const r=aM(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await Voe(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,o=new vd;return n&&(We(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(We(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(We(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vd,this.toJSON())}_performRefresh(){return Io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vs{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Loe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new GP(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Lp(this,this.stsTokenManager.getToken(this.auth,e));return We(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Moe(this,e)}reload(){return $oe(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new vs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Xv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bi(this.auth.app))return Promise.reject(el(this.auth));const e=await this.getIdToken();return await Lp(this,Roe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,o=r.photoURL??void 0,a=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:w,stsTokenManager:x}=r;We(p&&x,e,"internal-error");const _=vd.fromJSON(this.name,x);We(typeof p=="string",e,"internal-error"),Ma(n,e.name),Ma(i,e.name),We(typeof g=="boolean",e,"internal-error"),We(typeof v=="boolean",e,"internal-error"),Ma(s,e.name),Ma(o,e.name),Ma(a,e.name),Ma(c,e.name),Ma(u,e.name),Ma(f,e.name);const P=new vs({uid:p,auth:e,email:i,emailVerified:g,displayName:n,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:_,createdAt:u,lastLoginAt:f});return w&&Array.isArray(w)&&(P.providerData=w.map(S=>({...S}))),c&&(P._redirectEventId=c),P}static async _fromIdTokenResponse(e,r,n=!1){const i=new vd;i.updateFromServerResponse(r);const s=new vs({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Xv(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];We(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Uq(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new vd;a.updateFromIdToken(n);const c=new vs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new GP(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new Map;function ko(t){Yo(t instanceof Function,"Expected a class definition");let e=lM.get(t);return e?(Yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}qq.type="NONE";const cM=qq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t,e,r){return`firebase:${t}:${e}:${r}`}class xd{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=vv(this.userKey,i.apiKey,s),this.fullPersistenceKey=vv("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Yv(this.auth,{idToken:e}).catch(()=>{});return r?vs._fromGetAccountInfoResponse(this.auth,r,e):null}return vs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new xd(ko(cM),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ko(cM);const o=vv(n,e.config.apiKey,e.name);let a=null;for(const u of r)try{const f=await u._get(o);if(f){let p;if(typeof f=="string"){const g=await Yv(e,{idToken:f}).catch(()=>{});if(!g)break;p=await vs._fromGetAccountInfoResponse(e,g,f)}else p=vs._fromJSON(e,f);u!==s&&(a=p),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new xd(s,e,n):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new xd(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yq(e))return"Blackberry";if(Xq(e))return"Webos";if(Wq(e))return"Safari";if((e.includes("chrome/")||Hq(e))&&!e.includes("edge/"))return"Chrome";if(Kq(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function zq(t=Nn()){return/firefox\//i.test(t)}function Wq(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hq(t=Nn()){return/crios\//i.test(t)}function Gq(t=Nn()){return/iemobile/i.test(t)}function Kq(t=Nn()){return/android/i.test(t)}function Yq(t=Nn()){return/blackberry/i.test(t)}function Xq(t=Nn()){return/webos/i.test(t)}function ZN(t=Nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Uoe(t=Nn()){var e;return ZN(t)&&!!((e=window.navigator)!=null&&e.standalone)}function qoe(){return are()&&document.documentMode===10}function Qq(t=Nn()){return ZN(t)||Kq(t)||Xq(t)||Yq(t)||/windows phone/i.test(t)||Gq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t,e=[]){let r;switch(t){case"Browser":r=uM(Nn());break;case"Worker":r=`${uM(Nn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Cf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Woe(t,e={}){return oa(t,"GET","/v2/passwordPolicy",ml(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hoe=6;class Goe{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Hoe,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dM(this),this.idTokenSubscription=new dM(this),this.beforeStateQueue=new zoe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$q,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ko(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await xd.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Yv(this,{idToken:e}),n=await vs._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Bi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Xv(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Poe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bi(this.app))return Promise.reject(el(this));const r=e?Cs(e):null;return r&&We(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bi(this.app)?Promise.reject(el(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bi(this.app)?Promise.reject(el(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ko(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Woe(this),r=new Goe(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jm("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Boe(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ko(e)||this._popupRedirectResolver;We(r,this,"argument-error"),this.redirectPersistenceManager=await xd.create(this,[ko(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&_oe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Gc(t){return Cs(t)}class dM{constructor(e){this.auth=e,this.observer=null,this.addObserver=mre(r=>this.observer=r)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yoe(t){zx=t}function Zq(t){return zx.loadJS(t)}function Xoe(){return zx.recaptchaEnterpriseScript}function Qoe(){return zx.gapiScript}function Joe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Zoe{constructor(){this.enterprise=new eae}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class eae{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const tae="recaptcha-enterprise",ez="NO_RECAPTCHA";class rae{constructor(e){this.type=tae,this.auth=Gc(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{joe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Ooe(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;oM(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(ez)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zoe().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(a=>{if(!r&&oM(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Xoe();c.length!==0&&(c+=a),Zq(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function fM(t,e,r,n=!1,i=!1){const s=new rae(t);let o;if(i)o=ez;else try{o=await s.verify(r)}catch{o=await s.verify(r,!0)}const a={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return n?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function KP(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fM(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await fM(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nae(t,e){const r=TN(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Ic(s,e??{}))return i;Hi(i,"already-initialized")}return r.initialize({options:e})}function iae(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ko);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function sae(t,e,r){const n=Gc(t);We(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=tz(e),{host:o,port:a}=oae(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){We(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),We(Ic(u,n.config.emulator)&&Ic(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,Af(o)?(uU(`${s}//${o}${c}`),dU("Auth",!0)):aae()}function tz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oae(t){const e=tz(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:hM(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:hM(o)}}}function hM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aae(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Io("not implemented")}_getIdTokenResponse(e){return Io("not implemented")}_linkToIdToken(e,r){return Io("not implemented")}_getReauthenticationResolver(e){return Io("not implemented")}}async function lae(t,e){return oa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cae(t,e){return qx(t,"POST","/v1/accounts:signInWithPassword",ml(t,e))}async function uae(t,e){return oa(t,"POST","/v1/accounts:sendOobCode",ml(t,e))}async function dae(t,e){return uae(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fae(t,e){return qx(t,"POST","/v1/accounts:signInWithEmailLink",ml(t,e))}async function hae(t,e){return qx(t,"POST","/v1/accounts:signInWithEmailLink",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends eI{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new $p(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new $p(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return KP(e,r,"signInWithPassword",cae);case"emailLink":return fae(e,{email:this._email,oobCode:this._password});default:Hi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return KP(e,n,"signUpPassword",lae);case"emailLink":return hae(e,{idToken:r,email:this._email,oobCode:this._password});default:Hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t,e){return qx(t,"POST","/v1/accounts:signInWithIdp",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pae="http://localhost";class Rc extends eI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Rc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Hi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const o=new Rc(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return bd(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,bd(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,bd(e,r)}buildRequest(){const e={requestUri:pae,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Rm(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gae(t){const e=Yh(Xh(t)).link,r=e?Yh(Xh(e)).deep_link_id:null,n=Yh(Xh(t)).deep_link_id;return(n?Yh(Xh(n)).link:null)||n||r||e||t}class Wx{constructor(e){const r=Yh(Xh(e)),n=r.apiKey??null,i=r.oobCode??null,s=mae(r.mode??null);We(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=gae(e);try{return new Wx(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this.providerId=Of.PROVIDER_ID}static credential(e,r){return $p._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Wx.parseLink(r);return We(n,"argument-error"),$p._fromEmailAndCode(e,n.code,n.tenantId)}}Of.PROVIDER_ID="password";Of.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Of.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends tI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Um{constructor(){super("facebook.com")}static credential(e){return Rc._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Va.credential(e.oauthAccessToken)}catch{return null}}}Va.FACEBOOK_SIGN_IN_METHOD="facebook.com";Va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Um{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Rc._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return No.credential(r,n)}catch{return null}}}No.GOOGLE_SIGN_IN_METHOD="google.com";No.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Um{constructor(){super("github.com")}static credential(e){return Rc._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ba.credential(e.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Um{constructor(){super("twitter.com")}static credential(e,r){return Rc._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ua.credential(r,n)}catch{return null}}}Ua.TWITTER_SIGN_IN_METHOD="twitter.com";Ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await vs._fromIdTokenResponse(e,n,i),o=pM(n);return new Vd({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=pM(n);return new Vd({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function pM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends sa{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Qv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Qv(e,r,n,i)}}function rz(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qv._fromErrorAndOperation(t,s,e,n):s})}async function yae(t,e,r=!1){const n=await Lp(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Vd._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vae(t,e,r=!1){const{auth:n}=t;if(Bi(n.app))return Promise.reject(el(n));const i="reauthenticate";try{const s=await Lp(t,rz(n,i,e,t),r);We(s.idToken,n,"internal-error");const o=JN(s.idToken);We(o,n,"internal-error");const{sub:a}=o;return We(t.uid===a,n,"user-mismatch"),Vd._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Hi(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(t,e,r=!1){if(Bi(t.app))return Promise.reject(el(t));const n="signIn",i=await rz(t,n,e),s=await Vd._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function xae(t,e){return nz(Gc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bae(t,e,r){var n;We(((n=r.url)==null?void 0:n.length)>0,t,"invalid-continue-uri"),We(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),We(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(We(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(We(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wae(t,e,r){const n=Gc(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){We(a.handleCodeInApp,n,"argument-error"),a&&bae(n,o,a)}s(i,r),await KP(n,i,"getOobCode",dae)}function _ae(t,e){const r=Wx.parseLink(e);return(r==null?void 0:r.operation)==="EMAIL_SIGNIN"}async function Sae(t,e,r){if(Bi(t.app))return Promise.reject(el(t));const n=Cs(t),i=Of.credentialWithLink(e,r||Kv());return We(i._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),xae(n,i)}function Eae(t,e,r,n){return Cs(t).onIdTokenChanged(e,r,n)}function Tae(t,e,r){return Cs(t).beforeAuthStateChanged(e,r)}function Pae(t,e,r,n){return Cs(t).onAuthStateChanged(e,r,n)}function Aae(t){return Cs(t).signOut()}const Jv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Jv,"1"),this.storage.removeItem(Jv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cae=1e3,Nae=10;class sz extends iz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);qoe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Nae):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Cae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}sz.type="LOCAL";const Iae=sz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz extends iz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}oz.type="SESSION";const az=oz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kae(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Hx(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(o).map(async u=>u(r.origin,s)),c=await kae(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=rI("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(){return window}function jae(t){Gs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(){return typeof Gs().WorkerGlobalScope<"u"&&typeof Gs().importScripts=="function"}async function Rae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mae(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Dae(){return lz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz="firebaseLocalStorageDb",Lae=1,Zv="firebaseLocalStorage",uz="fbase_key";class qm{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Gx(t,e){return t.transaction([Zv],e?"readwrite":"readonly").objectStore(Zv)}function $ae(){const t=indexedDB.deleteDatabase(cz);return new qm(t).toPromise()}function YP(){const t=indexedDB.open(cz,Lae);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Zv,{keyPath:uz})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Zv)?e(n):(n.close(),await $ae(),e(await YP()))})})}async function mM(t,e,r){const n=Gx(t,!0).put({[uz]:e,value:r});return new qm(n).toPromise()}async function Fae(t,e){const r=Gx(t,!1).get(e),n=await new qm(r).toPromise();return n===void 0?null:n.value}function gM(t,e){const r=Gx(t,!0).delete(e);return new qm(r).toPromise()}const Vae=800,Bae=3;class dz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await YP(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Bae)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hx._getInstance(Dae()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await Rae(),!this.activeServiceWorker)return;this.sender=new Oae(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Mae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await YP();return await mM(e,Jv,"1"),await gM(e,Jv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>mM(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Fae(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>gM(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Gx(i,!1).getAll();return new qm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dz.type="LOCAL";const Uae=dz;new Bm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t,e){return e?ko(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI extends eI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bd(e,this._buildIdpRequest())}_linkToIdToken(e,r){return bd(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return bd(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function qae(t){return nz(t.auth,new nI(t),t.bypassAuthState)}function zae(t){const{auth:e,user:r}=t;return We(r,e,"internal-error"),vae(r,new nI(t),t.bypassAuthState)}async function Wae(t){const{auth:e,user:r}=t;return We(r,e,"internal-error"),yae(r,new nI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qae;case"linkViaPopup":case"linkViaRedirect":return Wae;case"reauthViaPopup":case"reauthViaRedirect":return zae;default:Hi(this.auth,"internal-error")}}resolve(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hae=new Bm(2e3,1e4);async function Gae(t,e,r){if(Bi(t.app))return Promise.reject(bs(t,"operation-not-supported-in-this-environment"));const n=Gc(t);Soe(t,e,tI);const i=fz(n,r);return new uc(n,"signInViaPopup",e,i).executeNotNull()}class uc extends hz{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,uc.currentPopupAction&&uc.currentPopupAction.cancel(),uc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){Yo(this.filter.length===1,"Popup operations only handle one event");const e=rI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hae.get())};e()}}uc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kae="pendingRedirect",xv=new Map;class Yae extends hz{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=xv.get(this.auth._key());if(!e){try{const n=await Xae(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}xv.set(this.auth._key(),e)}return this.bypassAuthState||xv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xae(t,e){const r=Zae(e),n=Jae(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Qae(t,e){xv.set(t._key(),e)}function Jae(t){return ko(t._redirectPersistence)}function Zae(t){return vv(Kae,t.config.apiKey,t.name)}async function ele(t,e,r=!1){if(Bi(t.app))return Promise.reject(el(t));const n=Gc(t),i=fz(n,e),o=await new Yae(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tle=600*1e3;class rle{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nle(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!pz(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(bs(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tle&&this.cachedEventUids.clear(),this.cachedEventUids.has(yM(e))}saveEventToCache(e){this.cachedEventUids.add(yM(e)),this.lastProcessedEventTime=Date.now()}}function yM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pz({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nle(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pz(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ile(t,e={}){return oa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ole=/^https?/;async function ale(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ile(t);for(const r of e)try{if(lle(r))return}catch{}Hi(t,"unauthorized-domain")}function lle(t){const e=Kv(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!ole.test(r))return!1;if(sle.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cle=new Bm(3e4,6e4);function vM(){const t=Gs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function ule(t){return new Promise((e,r)=>{var i,s,o;function n(){vM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vM(),r(bs(t,"network-request-failed"))},timeout:cle.get()})}if((s=(i=Gs().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Gs().gapi)!=null&&o.load)n();else{const a=Joe("iframefcb");return Gs()[a]=()=>{gapi.load?n():r(bs(t,"network-request-failed"))},Zq(`${Qoe()}?onload=${a}`).catch(c=>r(c))}}).catch(e=>{throw bv=null,e})}let bv=null;function dle(t){return bv=bv||ule(t),bv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fle=new Bm(5e3,15e3),hle="__/auth/iframe",ple="emulator/auth/iframe",mle={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yle(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?QN(e,ple):`https://${t.config.authDomain}/${hle}`,n={apiKey:e.apiKey,appName:t.name,v:Cf},i=gle.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Rm(n).slice(1)}`}async function vle(t){const e=await dle(t),r=Gs().gapi;return We(r,t,"internal-error"),e.open({where:document.body,url:yle(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mle,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=bs(t,"network-request-failed"),a=Gs().setTimeout(()=>{s(o)},fle.get());function c(){Gs().clearTimeout(a),i(n)}n.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ble=500,wle=600,_le="_blank",Sle="http://localhost";class xM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ele(t,e,r,n=ble,i=wle){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const c={...xle,width:n.toString(),height:i.toString(),top:s,left:o},u=Nn().toLowerCase();r&&(a=Hq(u)?_le:r),zq(u)&&(e=e||Sle,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[v,w])=>`${g}${v}=${w},`,"");if(Uoe(u)&&a!=="_self")return Tle(e||"",a),new xM(null);const p=window.open(e||"",a,f);We(p,t,"popup-blocked");try{p.focus()}catch{}return new xM(p)}function Tle(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ple="__/auth/handler",Ale="emulator/auth/handler",Cle=encodeURIComponent("fac");async function bM(t,e,r,n,i,s){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Cf,eventId:i};if(e instanceof tI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pre(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Um){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const c=await t._getAppCheckToken(),u=c?`#${Cle}=${encodeURIComponent(c)}`:"";return`${Nle(t)}?${Rm(a).slice(1)}${u}`}function Nle({config:t}){return t.emulator?QN(t,Ale):`https://${t.authDomain}/${Ple}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="webStorageSupport";class Ile{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=az,this._completeRedirectFn=ele,this._overrideRedirectResult=Qae}async _openPopup(e,r,n,i){var o;Yo((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await bM(e,r,n,Kv(),i);return Ele(e,s,rI())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await bM(e,r,n,Kv(),i);return jae(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Yo(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await vle(e),n=new rle(e);return r.register("authEvent",i=>(We(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(U_,{type:U_},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[U_];s!==void 0&&r(!!s),Hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=ale(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Qq()||Wq()||ZN()}}const kle=Ile;var wM="@firebase/auth",_M="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ole{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rle(t){kd(new kc("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;We(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jq(t)},u=new Koe(n,i,s,c);return iae(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),kd(new kc("auth-internal",e=>{const r=Gc(e.getProvider("auth").getImmediate());return(n=>new Ole(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(wM,_M,jle(t)),Xa(wM,_M,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mle=300,Dle=cU("authIdTokenMaxAge")||Mle;let SM=null;const Lle=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Dle)return;const i=r==null?void 0:r.token;SM!==i&&(SM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $le(t=mU()){const e=TN(t,"auth");if(e.isInitialized())return e.getImmediate();const r=nae(t,{popupRedirectResolver:kle,persistence:[Uae,Iae,az]}),n=cU("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=Lle(s.toString());Tae(r,o,()=>o(r.currentUser)),Eae(r,a=>o(a))}}const i=aU("auth");return i&&sae(r,`http://${i}`),r}function Fle(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Yoe({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=bs("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",Fle().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rle("Browser");const Vle={apiKey:"AIzaSyDJ3Vc4XIYZRSmrv1xQWSeilUBWevW8fqw",authDomain:"moleai-testing.firebaseapp.com",projectId:"moleai-testing",storageBucket:"moleai-testing.firebasestorage.app",messagingSenderId:"1000623741758",appId:"1:1000623741758:web:fcf435d06a664faee72a6f"},mz=pU(Vle),Kc=kq(mz),Oo=$le(mz),gz=new No,Ble=Object.freeze(Object.defineProperty({__proto__:null,auth:Oo,db:Kc,googleProvider:gz},Symbol.toStringTag,{value:"Module"})),Ule=async()=>{try{const t=Oo.currentUser;return t?await t.getIdToken():null}catch(t){return console.error("Error getting auth token:",t),null}},yz=async()=>{const t=await Ule(),e={"Content-Type":"application/json",Accept:"application/json"};return t&&(e.Authorization=`Bearer ${t}`),e},qle=()=>{const t=Oo.currentUser;return t?t.uid:null},zle="https://us-central1-moleai-testing.cloudfunctions.net",$n=async(t,e="GET",r=null)=>{var n;try{const i=t.startsWith("http")?t:`${zle}${t}`,s=await yz(),o={method:e,headers:s};r&&(e==="POST"||e==="PUT"||e==="PATCH")&&(o.body=JSON.stringify(r));const a=await fetch(i,o),c=a.headers.get("content-length");if(!a.ok){let p="";try{p=await a.text(),console.error("Error response body:",p)}catch{console.error("Could not read error response body")}throw new Error(`HTTP error! status: ${a.status}, body: ${p}`)}const u=await a.text();u.length<1e3;let f;try{f=JSON.parse(u)}catch(p){throw console.error("JSON Parse Error:",p),p}return f.prompts&&f.prompts.length>0&&(n=f.prompts[0])!=null&&n.responses&&Object.entries(f.prompts[0].responses).forEach(([p,g])=>{}),f}catch(i){throw console.error("API call failed:",i),i}},$y={create:async t=>await $n("https://businessprofiledata-thg3z73fma-uc.a.run.app/business-profile","POST",t),get:async t=>{try{if(!t)throw new Error("Business profile id is required");const e=Wc(Kc,"clients",t),r=await Hc(e);if(!r.exists())throw new Error("Business profile not found");const n=r.data(),i=(n==null?void 0:n.business_profile)||(n==null?void 0:n.businessProfile);if(!i)throw new Error("Business profile not found");return i}catch(e){throw console.error("Failed to fetch business profile from Firestore:",e),e}},update:async(t,e)=>await $n("https://businessprofiledata-thg3z73fma-uc.a.run.app/business-profile/","POST",e),delete:async t=>await $n("https://businessprofiledata-thg3z73fma-uc.a.run.app/business-profile/","DELETE"),checkExists:async t=>{try{return{exists:!0,business_profile:await $n("https://businessprofiledata-thg3z73fma-uc.a.run.app/business-profile/","GET")}}catch(e){if(e.message.includes("404")||e.message.includes("not found"))return{exists:!1,business_profile:null};throw e}}},Bd={getUserData:async t=>{const e=`https://getuserdataprofile-thg3z73fma-uc.a.run.app/user-data-profile/${t}`,r=await $n(e,"GET");return console.log("=== RAW DATABASE DATA ==="),console.log("Full database response:",r),console.log("Database response keys:",Object.keys(r||{})),r!=null&&r.data&&(console.log("Database data keys:",Object.keys(r.data||{})),console.log("Personal data:",r.data.personal),console.log("Business profile:",r.data.business_profile)),console.log("=== END RAW DATABASE DATA ==="),r}},Fy={createManual:async t=>await $n("https://createmanualpersona-thg3z73fma-uc.a.run.app/personas/manual","POST",t),edit:async(t,e,r)=>{const n=`https://editpersona-thg3z73fma-uc.a.run.app/personas/${e}`;return await $n(n,"POST",r)},delete:async(t,e,r=null)=>{const n=r||`https://deletepersona-thg3z73fma-uc.a.run.app/personas/${e}`;return await $n(n,"DELETE")},createAI:async(t,e,r=null)=>await $n("https://createaipersona-thg3z73fma-uc.a.run.app","POST",r||{uid:t,count:e})},Wle={create:async t=>await $n("https://aipromts-thg3z73fma-uc.a.run.app","POST",t)},Vy={create:async t=>await $n("https://createcompetitor-thg3z73fma-uc.a.run.app/competitors","POST",t),createBulk:async t=>await $n("https://createcompetitor-thg3z73fma-uc.a.run.app/competitors","POST",t),delete:async t=>await $n("https://deletecompetitor-thg3z73fma-uc.a.run.app/competitors/delete","POST",t),deleteBulk:async t=>await $n("https://deletecompetitor-thg3z73fma-uc.a.run.app/competitors/delete","POST",t)},Hle={delete:async t=>await $n("https://deletebuisness-thg3z73fma-uc.a.run.app/business/delete","POST",t)},ed={toBackend:t=>{var e;return{uid:t.uid||"",businessName:t.business_name,industry:t.industry,website:t.website,businessDescription:t.description,productsServices:Array.isArray(t.products_services)?t.products_services:((e=t.products_services)==null?void 0:e.split(",").map(r=>r.trim()))||[],targetMarket:t.target_market,competitors:t.competitors||[]}},toFrontend:t=>({id:t.id||t.profileId||t.documentId||t.uid||"business-profile",business_name:t.businessName,industry:t.industry,website:t.website,description:t.businessDescription,products_services:Array.isArray(t.productsServices)?t.productsServices.join(", "):t.productsServices||"",target_market:t.targetMarket,competitors:t.competitors||[],uid:t.uid||"",created_date:t.created_date||new Date().toISOString(),updated_date:t.updated_date||new Date().toISOString()})},XP={toBackend:t=>({uid:t.uid,name:t.name}),toFrontend:t=>({id:t.id||t._id,name:t.name,uid:t.uid,created_date:t.createdAt?new Date(t.createdAt._seconds*1e3):new Date,updated_date:t.updatedAt?new Date(t.updatedAt._seconds*1e3):new Date})},e0={toBackend:t=>{const e={uid:t.uid,prompt:t.prompt,personaId:t.personaId,models:t.models||["openai","claude","perplexity","gemini"]};return t.businessId&&(e.businessId=t.businessId),e},toFrontend:t=>{var r,n,i,s;return{id:t.id||t._id,uid:t.uid,prompt:t.prompt,personaId:t.personaId,personaName:t.personaName,businessId:t.businessId,models:t.models,status:"completed",responses:t.responses||{},sources:t.sources||{},counts:t.counts||{},brandAnalysis:t.brandAnalysis||{},businessNameMentions:((r=t.counts)==null?void 0:r.businessNameMentions)||0,competitorsMentions:((n=t.counts)==null?void 0:n.competitorsMentions)||0,industryMentions:((i=t.counts)==null?void 0:i.industryMentions)||0,productsServicesMentions:((s=t.counts)==null?void 0:s.productsServicesMentions)||0,usage:t.usage||{},created_date:t.createdAt?new Date(t.createdAt._seconds*1e3):new Date,updated_date:t.updatedAt?new Date(t.updatedAt._seconds*1e3):new Date}}},Ud={toFrontend:t=>{if(!t.ok)return{businessProfile:null,secondaryBusinesses:[],personas:[],prompts:[],competitors:[]};const e=t.data||t,{business_profile:r,secondary_buisness:n,personas:i,prompts:s,competitors:o,user_profile:a,personal:c}=e;let u=[];o&&(u=o.map((g,v)=>typeof g=="string"?{id:g,name:g,uid:t.uid||"",created_date:new Date,updated_date:new Date}:XP.toFrontend(g)));let f=[];return n&&Array.isArray(n)&&(f=n.map(g=>({id:g.id||g.businessId||g.business_id||`secondary-${Date.now()}`,businessName:g.businessName||g.business_name||g.name||"",businessId:g.id||g.businessId||g.business_id,isPrimaryBusiness:!1,competitors:g.competitors||[],personas:g.personas||[],prompts:g.prompts?g.prompts.map(v=>e0.toFrontend(v)):[]}))),console.log("=== TRANSFORMING USER DATA ==="),console.log("business_profile:",r),console.log("secondary_buisness:",n),console.log("=== END TRANSFORMING ==="),{userProfile:c||a?{name:(c||a).first_name||(c||a).name||"",language:((c||a).language||(c||a).preferred_language||"english").toLowerCase()}:null,businessProfile:r?{...ed.toFrontend(r),isPrimaryBusiness:!0,personas:r.personas||[]}:null,secondaryBusinesses:f,personas:i?i.map(g=>ec.toFrontend(g)):[],prompts:s?s.map(g=>e0.toFrontend(g)):[],competitors:u}}},ec={toBackendManual:(t,e)=>({uid:e||"",name:t.name,age:parseInt(t.age)||0,jobTitle:t.job_title,goals:t.goals,painPoints:t.pain_points,lifestyle:t.lifestyle,motivations:t.motivations,purchasingHabits:t.purchasing_habits,backstory:t.backstory,aiPrompt:t.prompt_template||""}),toBackendEdit:t=>{const e={};return t.name&&(e.name=t.name),t.job_title&&(e.jobTitle=t.job_title),t.goals&&(e.goals=t.goals),t.pain_points&&(e.painPoints=t.pain_points),t.lifestyle&&(e.lifestyle=t.lifestyle),t.motivations&&(e.motivations=t.motivations),t.purchasing_habits&&(e.purchasingHabits=t.purchasing_habits),t.backstory&&(e.backstory=t.backstory),e},toFrontend:t=>{var e;return{id:t.id||Date.now().toString(),name:t.name,age:((e=t.age)==null?void 0:e.toString())||"",job_title:t.jobTitle,goals:t.goals,pain_points:t.painPoints,lifestyle:t.lifestyle,motivations:t.motivations,purchasing_habits:t.purchasingHabits,backstory:t.backstory,prompt_template:t.aiPrompt||"",avatar_url:t.avatar_url||"",is_ai_generated:t.is_ai_generated||!1,created_date:t.created_date||new Date().toISOString(),updated_date:t.updated_date||new Date().toISOString()}}},Tn=()=>{const t=qle();return t||localStorage.getItem("current_user_uid")};Ute();const vz=(t,e=null)=>{let r=xc(t);if(e){const n=e.startsWith("-"),i=n?e.substring(1):e;r.sort((s,o)=>{const a=s[i],c=o[i];return a<c?n?1:-1:a>c?n?-1:1:0})}return r},xz=(t,e)=>xc(t).find(n=>n.id===e),Gle=(t,e,r)=>{const n=xc(t),i=n.findIndex(s=>s.id===e);if(i!==-1)return n[i]={...n[i],...r,updated_date:new Date().toISOString()},sp(t,n),n[i];throw new Error(`Entity with id ${e} not found`)},Kle=(t,e)=>{const n=xc(t).filter(i=>i.id!==e);return sp(t,n),!0},Gi={list:async t=>[],get:async t=>{try{const e=await $y.get(t);return ed.toFrontend(e)}catch(e){throw console.error("Error fetching business profile:",e),e}},create:async(t,e=null)=>{try{const r=ed.toBackend(t);e&&(r.businessId=e);const n=await $y.create(r);return ed.toFrontend(n)}catch(r){throw console.error("Error creating business profile:",r),r}},update:async(t,e,r=null)=>{try{const n=ed.toBackend(e);r&&(n.businessId=r);const i=await $y.update(t,n);return ed.toFrontend(i)}catch(n){throw console.error("Error updating business profile:",n),n}},delete:async t=>{try{return await $y.delete(t),!0}catch(e){throw console.error("Error deleting business profile:",e),e}},checkExists:async(t=null)=>{var e;try{const r=Tn(),n=await Bd.getUserData(r),i=Ud.toFrontend(n);return t===null?i.businessProfile!==null:((e=i.secondaryBusinesses)==null?void 0:e.find(o=>o.id===t))!==null}catch(r){return console.error("Error checking business profile existence:",r),!1}},getCurrentUser:async(t=null)=>{var e;try{const r=Tn(),n=await Bd.getUserData(r),i=Ud.toFrontend(n);if(console.log("=== BusinessProfile.getCurrentUser ==="),console.log("businessId:",t),console.log("transformed.businessProfile:",i.businessProfile),console.log("transformed.secondaryBusinesses:",i.secondaryBusinesses),t===null)return console.log("Returning primary business profile:",i.businessProfile),i.businessProfile;{const s=(e=i.secondaryBusinesses)==null?void 0:e.find(o=>o.id===t);return console.log("Returning secondary business profile:",s),s||null}}catch(r){return console.error("Error getting current user business profile:",r),null}}},Ks={list:async(t,e=null)=>{var r,n;try{const i=Tn(),s=await Bd.getUserData(i),o=Ud.toFrontend(s);let a=[];if(e===null)a=((r=o.businessProfile)==null?void 0:r.personas)||o.personas||[];else{const c=(n=o.secondaryBusinesses)==null?void 0:n.find(u=>u.id===e);a=(c==null?void 0:c.personas)||[]}if(t){const c=t.startsWith("-"),u=c?t.substring(1):t;a.sort((f,p)=>{const g=f[u],v=p[u];return g<v?c?1:-1:g>v?c?-1:1:0})}return a}catch(i){return console.error("Error getting personas:",i),[]}},get:async t=>xz(Vi.PERSONAS,t),create:async(t,e=null)=>{try{const r=Tn(),n=ec.toBackendManual(t,r);e&&(n.businessId=e);const i=await Fy.createManual(n);return ec.toFrontend(i)}catch(r){throw console.error("Error creating persona:",r),r}},update:async(t,e,r=null)=>{try{const n=Tn(),i=ec.toBackendEdit(e);r&&(i.businessId=r);const s=await Fy.edit(n,t,i);return ec.toFrontend(s)}catch(n){throw console.error("Error updating persona:",n),n}},delete:async(t,e=null)=>{try{const r=Tn(),n=e?`https://deletepersona-thg3z73fma-uc.a.run.app/personas/${t}?businessId=${e}`:`https://deletepersona-thg3z73fma-uc.a.run.app/personas/${t}`;return await Fy.delete(r,t,n),!0}catch(r){throw console.error("Error deleting persona:",r),r}},createAI:async(t=5,e=null)=>{try{const r=Tn(),n={uid:r,count:t};e&&(n.businessId=e);const i=await Fy.createAI(r,t,n);if(i.ok===!1){const a=i.error||"Failed to create AI personas";throw console.error("API error response:",a),console.error("Full API response:",JSON.stringify(i)),new Error(a)}const s=i.personas||i;return Array.isArray(s)?s.map(c=>ec.toFrontend(c)):[ec.toFrontend(s)]}catch(r){throw console.error("Error creating AI personas:",r),r}}},Kx={list:async(t,e=null)=>{var r,n;try{const i=Tn(),s=await Bd.getUserData(i),o=Ud.toFrontend(s);let a=[];if(console.log("=== Prompt.list ==="),console.log("businessId:",e),console.log("transformed.prompts:",o.prompts),console.log("transformed.businessProfile:",o.businessProfile),e===null){const c=((r=o.businessProfile)==null?void 0:r.personas)||[],u=c.map(f=>f.id||f.personaId);console.log("primaryPersonas:",c),console.log("primaryPersonaIds:",u),a=(o.prompts||[]).filter(f=>{const p=!f.personaId||u.includes(f.personaId);return console.log("Prompt:",f.id,"personaId:",f.personaId,"matches:",p),p}),console.log("Filtered prompts for primary business:",a)}else{const c=(n=o.secondaryBusinesses)==null?void 0:n.find(u=>u.id===e);if(c&&c.prompts)a=c.prompts;else{const f=((c==null?void 0:c.personas)||[]).map(p=>p.id||p.personaId);o.prompts.forEach((p,g)=>{}),a=(o.prompts||[]).filter(p=>p.businessId?p.businessId===e:p.personaId&&f.includes(p.personaId))}}if(t){const c=t.startsWith("-"),u=c?t.substring(1):t;a.sort((f,p)=>{const g=f[u],v=p[u];return g<v?c?1:-1:g>v?c?-1:1:0})}return a}catch(i){return console.error("Error getting prompts:",i),vz(Vi.PROMPTS,t)}},get:t=>xz(Vi.PROMPTS,t),create:async(t,e=null)=>{try{const r=Tn(),n={...t,uid:r},i=e0.toBackend(n);e&&(i.businessId=e);const s=await Wle.create(i);return e0.toFrontend(s)}catch(r){throw console.error("Error creating AI prompt:",r),r}},update:(t,e)=>Gle(Vi.PROMPTS,t,e),delete:t=>Kle(Vi.PROMPTS,t)},Yle={get:async()=>{try{const t=Tn(),e=await Bd.getUserData(t);return Ud.toFrontend(e).userProfile}catch(t){return console.error("Error loading user preferences:",t),null}}},EM={list:async(t=null)=>{var e;try{const r=Tn(),n=await Bd.getUserData(r),i=Ud.toFrontend(n);let s=[];if(t===null)s=i.competitors||[];else{const o=(e=i.secondaryBusinesses)==null?void 0:e.find(a=>a.id===t);s=(o==null?void 0:o.competitors)||[]}return s}catch(r){return console.error("Error getting competitors:",r),vz(Vi.BUSINESS_PROFILES,null).map(n=>n.competitors||[]).flat()}},create:async(t,e=null)=>{try{const r=Tn(),n=XP.toBackend({...t,uid:r});e&&(n.businessId=e);const i=await Vy.create(n);return XP.toFrontend(i)}catch(r){throw console.error("Error creating competitor:",r),r}},delete:async(t,e=null)=>{try{const r=Tn(),n={uid:r,name:t.name};return e&&(n.businessId=e),typeof t.name!="string"&&(console.warn("Name is not a string, converting..."),n.name=String(t.name)),typeof r!="string"&&(console.warn("UID is not a string, converting..."),n.uid=String(r)),await Vy.delete(n)}catch(r){throw console.error("Error deleting competitor:",r),console.error("Error details:",r.message),r}},createBulk:async(t,e=null)=>{try{const r=Tn(),n={competitors:t.map(s=>({name:s.name})),businessId:e||void 0};return await Vy.createBulk(n)}catch(r){throw console.error("Error creating competitors in bulk:",r),r}},deleteBulk:async(t,e=null)=>{try{const r=Tn(),n=[];for(const i of t){const s={uid:r,name:i.name};e&&(s.businessId=e);const o=await Vy.delete(s);n.push(o)}return n}catch(r){throw console.error("Error deleting competitors in bulk:",r),r}}},Xle={delete:async t=>{try{const r={uid:Tn(),businessId:t};return await Hle.delete(r)}catch(e){throw console.error("Error deleting business:",e),e}}};function TM(t,[e,r]){return Math.min(r,Math.max(e,t))}function Qle(t){const e=t+"CollectionProvider",[r,n]=Im(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:_,children:P}=x,S=Y.useRef(null),E=Y.useRef(new Map).current;return h.jsx(i,{scope:_,itemMap:E,collectionRef:S,children:P})};o.displayName=e;const a=t+"CollectionSlot",c=Cd(a),u=Y.forwardRef((x,_)=>{const{scope:P,children:S}=x,E=s(a,P),R=dr(_,E.collectionRef);return h.jsx(c,{ref:R,children:S})});u.displayName=a;const f=t+"CollectionItemSlot",p="data-radix-collection-item",g=Cd(f),v=Y.forwardRef((x,_)=>{const{scope:P,children:S,...E}=x,R=Y.useRef(null),N=dr(_,R),M=s(f,P);return Y.useEffect(()=>(M.itemMap.set(R,{ref:R,...E}),()=>void M.itemMap.delete(R))),h.jsx(g,{[p]:"",ref:N,children:S})});v.displayName=f;function w(x){const _=s(t+"CollectionConsumer",x);return Y.useCallback(()=>{const S=_.collectionRef.current;if(!S)return[];const E=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((M,I)=>E.indexOf(M.ref.current)-E.indexOf(I.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},w,n]}var Jle=T.createContext(void 0);function Zle(t){const e=T.useContext(Jle);return t||e||"ltr"}function ece(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var tce=[" ","Enter","ArrowUp","ArrowDown"],rce=[" ","Enter"],Mc="Select",[Yx,Xx,nce]=Qle(Mc),[jf,lOe]=Im(Mc,[nce,Ex]),Qx=Ex(),[ice,gl]=jf(Mc),[sce,oce]=jf(Mc),bz=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:u,name:f,autoComplete:p,disabled:g,required:v,form:w}=t,x=Qx(e),[_,P]=T.useState(null),[S,E]=T.useState(null),[R,N]=T.useState(!1),M=Zle(u),[I,C]=Ov({prop:n,defaultProp:i??!1,onChange:s,caller:Mc}),[j,F]=Ov({prop:o,defaultProp:a,onChange:c,caller:Mc}),L=T.useRef(null),V=_?w||!!_.closest("form"):!0,[D,z]=T.useState(new Set),H=Array.from(D).map(X=>X.props.value).join(";");return h.jsx(NB,{...x,children:h.jsxs(ice,{required:v,scope:e,trigger:_,onTriggerChange:P,valueNode:S,onValueNodeChange:E,valueNodeHasChildren:R,onValueNodeHasChildrenChange:N,contentId:vc(),value:j,onValueChange:F,open:I,onOpenChange:C,dir:M,triggerPointerDownPosRef:L,disabled:g,children:[h.jsx(Yx.Provider,{scope:e,children:h.jsx(sce,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(X=>{z(K=>new Set(K).add(X))},[]),onNativeOptionRemove:T.useCallback(X=>{z(K=>{const U=new Set(K);return U.delete(X),U})},[]),children:r})}),V?h.jsxs(qz,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:p,value:j,onChange:X=>F(X.target.value),disabled:g,form:w,children:[j===void 0?h.jsx("option",{value:""}):null,Array.from(D)]},H):null]})})};bz.displayName=Mc;var wz="SelectTrigger",_z=T.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=Qx(r),o=gl(wz,r),a=o.disabled||n,c=dr(e,o.onTriggerChange),u=Xx(r),f=T.useRef("touch"),[p,g,v]=Wz(x=>{const _=u().filter(E=>!E.disabled),P=_.find(E=>E.value===o.value),S=Hz(_,x,P);S!==void 0&&o.onValueChange(S.value)}),w=x=>{a||(o.onOpenChange(!0),v()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return h.jsx(IB,{asChild:!0,...s,children:h.jsx(Dt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":zz(o.value)?"":void 0,...i,ref:c,onClick:Ct(i.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&w(x)}),onPointerDown:Ct(i.onPointerDown,x=>{f.current=x.pointerType;const _=x.target;_.hasPointerCapture(x.pointerId)&&_.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:Ct(i.onKeyDown,x=>{const _=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(_&&x.key===" ")&&tce.includes(x.key)&&(w(),x.preventDefault())})})})});_z.displayName=wz;var Sz="SelectValue",Ez=T.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...a}=t,c=gl(Sz,r),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,p=dr(e,c.onValueNodeChange);return Cn(()=>{u(f)},[u,f]),h.jsx(Dt.span,{...a,ref:p,style:{pointerEvents:"none"},children:zz(c.value)?h.jsx(h.Fragment,{children:o}):s})});Ez.displayName=Sz;var ace="SelectIcon",Tz=T.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return h.jsx(Dt.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});Tz.displayName=ace;var lce="SelectPortal",Pz=t=>h.jsx(hx,{asChild:!0,...t});Pz.displayName=lce;var Dc="SelectContent",Az=T.forwardRef((t,e)=>{const r=gl(Dc,t.__scopeSelect),[n,i]=T.useState();if(Cn(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Nm.createPortal(h.jsx(Cz,{scope:t.__scopeSelect,children:h.jsx(Yx.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),s):null}return h.jsx(Nz,{...t,ref:e})});Az.displayName=Dc;var fs=10,[Cz,yl]=jf(Dc),cce="SelectContentImpl",uce=Cd("SelectContent.RemoveScroll"),Nz=T.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:_,...P}=t,S=gl(Dc,r),[E,R]=T.useState(null),[N,M]=T.useState(null),I=dr(e,he=>R(he)),[C,j]=T.useState(null),[F,L]=T.useState(null),V=Xx(r),[D,z]=T.useState(!1),H=T.useRef(!1);T.useEffect(()=>{if(E)return U6(E)},[E]),j6();const X=T.useCallback(he=>{const[Te,...ue]=V().map(ae=>ae.ref.current),[ve]=ue.slice(-1),Pe=document.activeElement;for(const ae of he)if(ae===Pe||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===Te&&N&&(N.scrollTop=0),ae===ve&&N&&(N.scrollTop=N.scrollHeight),ae==null||ae.focus(),document.activeElement!==Pe))return},[V,N]),K=T.useCallback(()=>X([C,E]),[X,C,E]);T.useEffect(()=>{D&&K()},[D,K]);const{onOpenChange:U,triggerPointerDownPosRef:te}=S;T.useEffect(()=>{if(E){let he={x:0,y:0};const Te=ve=>{var Pe,ae;he={x:Math.abs(Math.round(ve.pageX)-(((Pe=te.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((ae=te.current)==null?void 0:ae.y)??0))}},ue=ve=>{he.x<=10&&he.y<=10?ve.preventDefault():E.contains(ve.target)||U(!1),document.removeEventListener("pointermove",Te),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",ue,{capture:!0})}}},[E,U,te]),T.useEffect(()=>{const he=()=>U(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[U]);const[Q,W]=Wz(he=>{const Te=V().filter(Pe=>!Pe.disabled),ue=Te.find(Pe=>Pe.ref.current===document.activeElement),ve=Hz(Te,he,ue);ve&&setTimeout(()=>ve.ref.current.focus())}),Z=T.useCallback((he,Te,ue)=>{const ve=!H.current&&!ue;(S.value!==void 0&&S.value===Te||ve)&&(j(he),ve&&(H.current=!0))},[S.value]),re=T.useCallback(()=>E==null?void 0:E.focus(),[E]),me=T.useCallback((he,Te,ue)=>{const ve=!H.current&&!ue;(S.value!==void 0&&S.value===Te||ve)&&L(he)},[S.value]),Ee=n==="popper"?QP:Iz,je=Ee===QP?{side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:_}:{};return h.jsx(Cz,{scope:r,content:E,viewport:N,onViewportChange:M,itemRefCallback:Z,selectedItem:C,onItemLeave:re,itemTextRefCallback:me,focusSelectedItem:K,selectedItemText:F,position:n,isPositioned:D,searchRef:Q,children:h.jsx(lN,{as:uce,allowPinchZoom:!0,children:h.jsx(aN,{asChild:!0,trapped:S.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Ct(i,he=>{var Te;(Te=S.trigger)==null||Te.focus({preventScroll:!0}),he.preventDefault()}),children:h.jsx(fx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:h.jsx(Ee,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:he=>he.preventDefault(),...P,...je,onPlaced:()=>z(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:Ct(P.onKeyDown,he=>{const Te=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Te&&he.key.length===1&&W(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let ve=V().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(he.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const Pe=he.target,ae=ve.indexOf(Pe);ve=ve.slice(ae+1)}setTimeout(()=>X(ve)),he.preventDefault()}})})})})})})});Nz.displayName=cce;var dce="SelectItemAlignedPosition",Iz=T.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=gl(Dc,r),o=yl(Dc,r),[a,c]=T.useState(null),[u,f]=T.useState(null),p=dr(e,I=>f(I)),g=Xx(r),v=T.useRef(!1),w=T.useRef(!0),{viewport:x,selectedItem:_,selectedItemText:P,focusSelectedItem:S}=o,E=T.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&x&&_&&P){const I=s.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),j=s.valueNode.getBoundingClientRect(),F=P.getBoundingClientRect();if(s.dir!=="rtl"){const Pe=F.left-C.left,ae=j.left-Pe,Xe=I.left-ae,de=I.width+Xe,xe=Math.max(de,C.width),ke=window.innerWidth-fs,Re=TM(ae,[fs,Math.max(fs,ke-xe)]);a.style.minWidth=de+"px",a.style.left=Re+"px"}else{const Pe=C.right-F.right,ae=window.innerWidth-j.right-Pe,Xe=window.innerWidth-I.right-ae,de=I.width+Xe,xe=Math.max(de,C.width),ke=window.innerWidth-fs,Re=TM(ae,[fs,Math.max(fs,ke-xe)]);a.style.minWidth=de+"px",a.style.right=Re+"px"}const L=g(),V=window.innerHeight-fs*2,D=x.scrollHeight,z=window.getComputedStyle(u),H=parseInt(z.borderTopWidth,10),X=parseInt(z.paddingTop,10),K=parseInt(z.borderBottomWidth,10),U=parseInt(z.paddingBottom,10),te=H+X+D+U+K,Q=Math.min(_.offsetHeight*5,te),W=window.getComputedStyle(x),Z=parseInt(W.paddingTop,10),re=parseInt(W.paddingBottom,10),me=I.top+I.height/2-fs,Ee=V-me,je=_.offsetHeight/2,he=_.offsetTop+je,Te=H+X+he,ue=te-Te;if(Te<=me){const Pe=L.length>0&&_===L[L.length-1].ref.current;a.style.bottom="0px";const ae=u.clientHeight-x.offsetTop-x.offsetHeight,Xe=Math.max(Ee,je+(Pe?re:0)+ae+K),de=Te+Xe;a.style.height=de+"px"}else{const Pe=L.length>0&&_===L[0].ref.current;a.style.top="0px";const Xe=Math.max(me,H+x.offsetTop+(Pe?Z:0)+je)+ue;a.style.height=Xe+"px",x.scrollTop=Te-me+x.offsetTop}a.style.margin=`${fs}px 0`,a.style.minHeight=Q+"px",a.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[g,s.trigger,s.valueNode,a,u,x,_,P,s.dir,n]);Cn(()=>E(),[E]);const[R,N]=T.useState();Cn(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const M=T.useCallback(I=>{I&&w.current===!0&&(E(),S==null||S(),w.current=!1)},[E,S]);return h.jsx(hce,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:M,children:h.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:h.jsx(Dt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Iz.displayName=dce;var fce="SelectPopperPosition",QP=T.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=fs,...s}=t,o=Qx(r);return h.jsx(kB,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});QP.displayName=fce;var[hce,iI]=jf(Dc,{}),JP="SelectViewport",kz=T.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=yl(JP,r),o=iI(JP,r),a=dr(e,s.onViewportChange),c=T.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),h.jsx(Yx.Slot,{scope:r,children:h.jsx(Dt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ct(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const v=Math.abs(c.current-f.scrollTop);if(v>0){const w=window.innerHeight-fs*2,x=parseFloat(p.style.minHeight),_=parseFloat(p.style.height),P=Math.max(x,_);if(P<w){const S=P+v,E=Math.min(w,S),R=S-E;p.style.height=E+"px",p.style.bottom==="0px"&&(f.scrollTop=R>0?R:0,p.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});kz.displayName=JP;var Oz="SelectGroup",[pce,mce]=jf(Oz),gce=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=vc();return h.jsx(pce,{scope:r,id:i,children:h.jsx(Dt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});gce.displayName=Oz;var jz="SelectLabel",Rz=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=mce(jz,r);return h.jsx(Dt.div,{id:i.id,...n,ref:e})});Rz.displayName=jz;var t0="SelectItem",[yce,Mz]=jf(t0),Dz=T.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,a=gl(t0,r),c=yl(t0,r),u=a.value===n,[f,p]=T.useState(s??""),[g,v]=T.useState(!1),w=dr(e,S=>{var E;return(E=c.itemRefCallback)==null?void 0:E.call(c,S,n,i)}),x=vc(),_=T.useRef("touch"),P=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(yce,{scope:r,value:n,disabled:i,textId:x,isSelected:u,onItemTextChange:T.useCallback(S=>{p(E=>E||((S==null?void 0:S.textContent)??"").trim())},[]),children:h.jsx(Yx.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:h.jsx(Dt.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:w,onFocus:Ct(o.onFocus,()=>v(!0)),onBlur:Ct(o.onBlur,()=>v(!1)),onClick:Ct(o.onClick,()=>{_.current!=="mouse"&&P()}),onPointerUp:Ct(o.onPointerUp,()=>{_.current==="mouse"&&P()}),onPointerDown:Ct(o.onPointerDown,S=>{_.current=S.pointerType}),onPointerMove:Ct(o.onPointerMove,S=>{var E;_.current=S.pointerType,i?(E=c.onItemLeave)==null||E.call(c):_.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ct(o.onPointerLeave,S=>{var E;S.currentTarget===document.activeElement&&((E=c.onItemLeave)==null||E.call(c))}),onKeyDown:Ct(o.onKeyDown,S=>{var R;((R=c.searchRef)==null?void 0:R.current)!==""&&S.key===" "||(rce.includes(S.key)&&P(),S.key===" "&&S.preventDefault())})})})})});Dz.displayName=t0;var ep="SelectItemText",Lz=T.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=gl(ep,r),a=yl(ep,r),c=Mz(ep,r),u=oce(ep,r),[f,p]=T.useState(null),g=dr(e,P=>p(P),c.onItemTextChange,P=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,P,c.value,c.disabled)}),v=f==null?void 0:f.textContent,w=T.useMemo(()=>h.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:_}=u;return Cn(()=>(x(w),()=>_(w)),[x,_,w]),h.jsxs(h.Fragment,{children:[h.jsx(Dt.span,{id:c.textId,...s,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Nm.createPortal(s.children,o.valueNode):null]})});Lz.displayName=ep;var $z="SelectItemIndicator",vce=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Mz($z,r).isSelected?h.jsx(Dt.span,{"aria-hidden":!0,...n,ref:e}):null});vce.displayName=$z;var ZP="SelectScrollUpButton",Fz=T.forwardRef((t,e)=>{const r=yl(ZP,t.__scopeSelect),n=iI(ZP,t.__scopeSelect),[i,s]=T.useState(!1),o=dr(e,n.onScrollButtonChange);return Cn(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?h.jsx(Bz,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});Fz.displayName=ZP;var eA="SelectScrollDownButton",Vz=T.forwardRef((t,e)=>{const r=yl(eA,t.__scopeSelect),n=iI(eA,t.__scopeSelect),[i,s]=T.useState(!1),o=dr(e,n.onScrollButtonChange);return Cn(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?h.jsx(Bz,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});Vz.displayName=eA;var Bz=T.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=yl("SelectScrollButton",r),o=T.useRef(null),a=Xx(r),c=T.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return T.useEffect(()=>()=>c(),[c]),Cn(()=>{var f;const u=a().find(p=>p.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),h.jsx(Dt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ct(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ct(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ct(i.onPointerLeave,()=>{c()})})}),xce="SelectSeparator",Uz=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return h.jsx(Dt.div,{"aria-hidden":!0,...n,ref:e})});Uz.displayName=xce;var tA="SelectArrow",bce=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Qx(r),s=gl(tA,r),o=yl(tA,r);return s.open&&o.position==="popper"?h.jsx(OB,{...i,...n,ref:e}):null});bce.displayName=tA;var wce="SelectBubbleInput",qz=T.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=T.useRef(null),s=dr(n,i),o=ece(e);return T.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const p=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(p)}},[o,e]),h.jsx(Dt.select,{...r,style:{...jB,...r.style},ref:s,defaultValue:e})});qz.displayName=wce;function zz(t){return t===""||t===void 0}function Wz(t){const e=Ac(t),r=T.useRef(""),n=T.useRef(0),i=T.useCallback(o=>{const a=r.current+o;e(a),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(a)},[e]),s=T.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function Hz(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=_ce(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function _ce(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Sce=bz,Gz=_z,Ece=Ez,Tce=Tz,Pce=Pz,Kz=Az,Ace=kz,Yz=Rz,Xz=Dz,Cce=Lz,Qz=Fz,Jz=Vz,Zz=Uz;const e9=Sce,Nce=Ece,sI=T.forwardRef(({className:t,children:e,...r},n)=>h.jsxs(Gz,{ref:n,className:Se("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,h.jsx(Tce,{asChild:!0,children:h.jsx(u6,{className:"h-4 w-4 opacity-50"})})]}));sI.displayName=Gz.displayName;const t9=T.forwardRef(({className:t,...e},r)=>h.jsx(Qz,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(SX,{className:"h-4 w-4"})}));t9.displayName=Qz.displayName;const r9=T.forwardRef(({className:t,...e},r)=>h.jsx(Jz,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(u6,{className:"h-4 w-4"})}));r9.displayName=Jz.displayName;const oI=T.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>h.jsx(Pce,{children:h.jsxs(Kz,{ref:i,className:Se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[h.jsx(t9,{}),h.jsx(Ace,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(r9,{})]})}));oI.displayName=Kz.displayName;const Ice=T.forwardRef(({className:t,...e},r)=>h.jsx(Yz,{ref:r,className:Se("px-2 py-1.5 text-sm font-semibold",t),...e}));Ice.displayName=Yz.displayName;const hp=T.forwardRef(({className:t,children:e,...r},n)=>h.jsx(Xz,{ref:n,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:h.jsx(Cce,{children:e})}));hp.displayName=Xz.displayName;const kce=T.forwardRef(({className:t,...e},r)=>h.jsx(Zz,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",t),...e}));kce.displayName=Zz.displayName;const n9=T.createContext(),Yc=()=>{const t=T.useContext(n9);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Oce=({children:t})=>{const[e,r]=T.useState(null),[n,i]=T.useState(!0);T.useEffect(()=>Pae(Oo,c=>{r(c),i(!1)}),[]);const o={user:e,loading:n,logout:async()=>{try{await Aae(Oo)}catch(a){console.error("Error signing out:",a)}},isAuthenticated:!!e,userInfo:e?{uid:e.uid,email:e.email,displayName:e.displayName,phone:e.phoneNumber,isEmailVerified:e.emailVerified}:null};return h.jsx(n9.Provider,{value:o,children:!n&&t})},dl=iB,jce=sB,fl=fN,i9=T.forwardRef(({className:t,...e},r)=>h.jsx(gx,{ref:r,className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:duration-200 data-[state=open]:duration-200",t),...e}));i9.displayName=gx.displayName;const Xo=T.forwardRef(({className:t,children:e,...r},n)=>h.jsxs(jce,{children:[h.jsx(i9,{}),h.jsxs(yx,{ref:n,className:Se("fixed inset-x-0 bottom-0 z-50 flex w-full max-h-[calc(100vh-2rem)] min-h-0 flex-col overflow-hidden rounded-t-3xl rounded-b-none border border-slate-200 border-b-0 bg-white shadow-[0_-24px_40px_-12px_rgba(15,23,42,0.3)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:slide-out-to-bottom-48 data-[state=open]:slide-in-from-bottom-48 data-[state=closed]:duration-300 data-[state=open]:duration-300 ease-out lg:inset-auto lg:left-1/2 lg:top-1/2 lg:bottom-auto lg:max-h-[90vh] lg:max-w-3xl lg:-translate-x-1/2 lg:-translate-y-1/2 lg:rounded-3xl lg:border lg:border-slate-200 lg:shadow-[0_24px_48px_-12px_rgba(15,23,42,0.25)] lg:data-[state=closed]:fade-out-0 lg:data-[state=open]:fade-in-0 lg:data-[state=closed]:slide-out-to-left-1/2 lg:data-[state=open]:slide-in-from-left-1/2 lg:data-[state=closed]:slide-out-to-top-[48%] lg:data-[state=open]:slide-in-from-top-[48%] lg:data-[state=closed]:duration-300 lg:data-[state=open]:duration-300",t),...r,children:[h.jsxs(fN,{className:"absolute right-4 top-4 z-10 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500",children:[h.jsx(qn,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]}),e]})]}));Xo.displayName=yx.displayName;const Qo=({className:t,...e})=>h.jsx("div",{className:Se("sticky top-0 z-10 flex items-center justify-between gap-3 border-b border-slate-200 bg-white/95 px-4 py-4 text-left backdrop-blur lg:px-6 lg:py-5",t),...e});Qo.displayName="DialogHeader";const Jo=({className:t,...e})=>h.jsx("div",{className:Se("sticky bottom-0 z-10 flex flex-col gap-3 border-t border-slate-200 bg-white/95 px-4 py-4 text-right shadow-[0_-8px_16px_-12px_rgba(15,23,42,0.25)] backdrop-blur sm:flex-row sm:items-center sm:justify-end lg:px-6 lg:py-5",t),...e});Jo.displayName="DialogFooter";const Zo=T.forwardRef(({className:t,...e},r)=>h.jsx(vx,{ref:r,className:Se("text-lg font-semibold leading-none tracking-tight",t),...e}));Zo.displayName=vx.displayName;const rA=T.forwardRef(({className:t,...e},r)=>h.jsx(xx,{ref:r,className:Se("text-sm text-muted-foreground",t),...e}));rA.displayName=xx.displayName;const Nr=T.forwardRef(({className:t,...e},r)=>h.jsx("textarea",{className:Se("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm touch-manipulation resize-none",t),ref:r,...e}));Nr.displayName="Textarea";var Rce="Label",s9=T.forwardRef((t,e)=>h.jsx(Dt.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));s9.displayName=Rce;var o9=s9;const Mce=wf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ut=T.forwardRef(({className:t,...e},r)=>h.jsx(o9,{ref:r,className:Se(Mce(),t),...e}));ut.displayName=o9.displayName;const pp=({children:t,error:e,className:r="",isRTL:n=!1,...i})=>h.jsxs("div",{className:Se("space-y-1",r),...i,children:[t,e&&h.jsx("p",{className:Se("text-sm font-medium text-red-600",n?"text-right":"text-left"),children:e})]}),wv=Y.forwardRef(({error:t,isRTL:e=!1,className:r="",...n},i)=>h.jsx("input",{ref:i,className:Se("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t&&"border-red-500 focus:border-red-500 focus:ring-red-500 ring-red-500",e&&"text-right",r),...n}));wv.displayName="ValidatedInput";const a9=Y.forwardRef(({error:t,isRTL:e=!1,className:r="",...n},i)=>h.jsx("textarea",{ref:i,className:Se("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t&&"border-red-500 focus:border-red-500 focus:ring-red-500 ring-red-500",e&&"text-right",r),...n}));a9.displayName="ValidatedTextarea";const Dce=Y.forwardRef(({error:t,isRTL:e=!1,className:r="",children:n,...i},s)=>h.jsx("select",{ref:s,className:Se("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t&&"border-red-500 focus:border-red-500 focus:ring-red-500 ring-red-500",e&&"text-right",r),...i,children:n}));Dce.displayName="ValidatedSelect";const zm=({size:t="default",variant:e="primary",className:r,...n})=>{const i={sm:"h-4 w-4",default:"h-8 w-8",lg:"h-12 w-12"},s={primary:"text-sky-600",secondary:"text-blue-500",white:"text-white",muted:"text-gray-400"};return h.jsxs("div",{className:Se("relative inline-flex items-center justify-center",i[t],r),...n,children:[h.jsx("div",{className:Se("relative",i[t]),children:[...Array(3)].map((o,a)=>h.jsx("div",{className:Se("absolute rounded-full",i[t==="sm"?"sm":t==="lg"?"lg":"default"],s[e]),style:{width:t==="sm"?"4px":t==="lg"?"8px":"6px",height:t==="sm"?"4px":t==="lg"?"8px":"6px",animation:"modernSpinner 1.4s ease-in-out infinite both",animationDelay:`${a*.16}s`,transform:`rotate(${a*120}deg) translate(${t==="sm"?"12px":t==="lg"?"20px":"16px"}, 0)`}},a))}),h.jsx("style",{jsx:!0,children:`
        @keyframes modernSpinner {
          0%,
          80%,
          100% {
            transform: scale(0);
            opacity: 0.3;
          }
          40% {
            transform: scale(1);
            opacity: 1;
          }
        }
      `})]})},Lce=({size:t="default",variant:e="primary",className:r,...n})=>{const i={sm:"h-4 w-4",default:"h-8 w-8",lg:"h-12 w-12"},s={primary:"border-sky-600/30",secondary:"border-blue-500/30",white:"border-white/30",muted:"border-gray-400/30"},o={primary:"bg-sky-600",secondary:"bg-blue-500",white:"bg-white",muted:"bg-gray-400"};return h.jsxs("div",{className:Se("relative inline-flex items-center justify-center",i[t],r),...n,children:[h.jsx("div",{className:Se("absolute rounded-full border-2 animate-ping",i[t],s[e])}),h.jsx("div",{className:Se("rounded-full",o[e]),style:{width:t==="sm"?"6px":t==="lg"?"12px":"8px",height:t==="sm"?"6px":t==="lg"?"12px":"8px"}})]})},$ce=({size:t="default",variant:e="primary",className:r,...n})=>{const i={primary:"bg-sky-600",secondary:"bg-blue-500",white:"bg-white",muted:"bg-gray-400"},s=t==="sm"?"2px":t==="lg"?"4px":"3px";return h.jsxs("div",{className:Se("relative inline-flex items-center justify-center gap-1",r),...n,children:[[...Array(4)].map((a,c)=>h.jsx("div",{className:Se("rounded-sm",i[e]),style:{width:s,height:t==="sm"?"16px":t==="lg"?"48px":"32px",animation:"waveSpinner 1.2s ease-in-out infinite",animationDelay:`${c*.1}s`}},c)),h.jsx("style",{jsx:!0,children:`
        @keyframes waveSpinner {
          0%,
          40%,
          100% {
            transform: scaleY(0.4);
            opacity: 0.5;
          }
          20% {
            transform: scaleY(1);
            opacity: 1;
          }
        }
      `})]})};zm.Pulse=Lce;zm.Wave=$ce;const Wm=()=>{const{t}=fr(),[e,r]=T.useState({}),n=T.useCallback(()=>{r({})},[]),i=T.useCallback(P=>{r(S=>{const E={...S};return delete E[P],E})},[]),s=T.useCallback((P,S)=>{r(E=>({...E,[P]:S}))},[]),o=T.useCallback((P,S,E)=>!P||typeof P=="string"&&!P.trim()?E||t("validation.required"):null,[t]),a=T.useCallback((P,S,E)=>P?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P)?null:E||t("validation.email"):E||t("validation.emailRequired"),[t]),c=T.useCallback((P,S,E)=>P?P.length<6?E||t("validation.password"):null:E||t("validation.passwordRequired"),[t]),u=T.useCallback((P,S,E)=>P!==S?E||t("validation.passwordMismatch"):null,[t]),f=T.useCallback((P,S,E)=>{if(!P)return E||t("validation.ageRequired");const R=parseInt(P);return isNaN(R)||R<1||R>120?E||t("validation.ageInvalid"):null},[t]),p=T.useCallback((P,S,E)=>P?/^[\+]?[0-9\s\-\(\)]{7,}$/.test(P)?null:E||t("validation.phoneInvalid"):E||t("validation.required"),[t]),g=T.useCallback((P,S,E={})=>{const{required:R=!1,email:N=!1,password:M=!1,age:I=!1,phone:C=!1,minLength:j=null,maxLength:F=null,customMessage:L=null}=E;if(R){const V=o(S,P,L);if(V)return V}if(N){const V=a(S,P,L);if(V)return V}if(M){const V=c(S,P,L);if(V)return V}if(I){const V=f(S,P,L);if(V)return V}if(C){const V=p(S,P,L);if(V)return V}return j&&S&&S.length<j||F&&S&&S.length>F?L||t("validation.required"):null},[t,o,a,c,f,p]),v=T.useCallback(P=>{const S={};let E=!1;return Object.entries(P).forEach(([R,N])=>{const M=g(R,N.value,N);M&&(S[R]=M,E=!0)}),r(S),!E},[g]),w=T.useCallback(P=>e[P]||null,[e]),x=T.useCallback(P=>!!e[P],[e]),_=Object.keys(e).length>0;return{errors:e,hasErrors:_,clearErrors:n,clearFieldError:i,setFieldError:s,validateField:g,validateFields:v,getFieldError:w,hasFieldError:x,validateRequired:o,validateEmail:a,validatePassword:c,validatePasswordMatch:u,validateAge:f,validatePhone:p}},q_={businessName:"",businessDescription:"",industry:"",targetMarket:"",productsServices:[],competitors:[]};function Fce({isOpen:t,onClose:e,onBusinessCreated:r}){const{t:n,isRTL:i,isHebrew:s}=fr(),{user:o}=Yc(),[a,c]=T.useState(q_),[u,f]=T.useState(!1),[p,g]=T.useState(""),[v,w]=T.useState(""),[x,_]=T.useState(""),{clearErrors:P,clearFieldError:S,validateFields:E,getFieldError:R}=Wm(),N=(D,z)=>{c(H=>({...H,[D]:z})),p&&g(""),S(D)},M=()=>{v.trim()&&!a.productsServices.includes(v.trim())&&(c(D=>({...D,productsServices:[...D.productsServices,v.trim()]})),w(""))},I=D=>{c(z=>({...z,productsServices:z.productsServices.filter(H=>H!==D)}))},C=()=>{x.trim()&&(a.competitors.some(z=>z.name===x.trim())||(c(z=>({...z,competitors:[...z.competitors,{name:x.trim()}]})),_("")))},j=D=>{c(z=>({...z,competitors:z.competitors.filter(H=>H.name!==D)}))},F=async D=>{if(D.preventDefault(),P(),g(""),!E({businessName:{value:a.businessName,required:!0,customMessage:n("business.businessNameRequired")},industry:{value:a.industry,required:!0,customMessage:n("business.industryRequired")},businessDescription:{value:a.businessDescription,required:!0,customMessage:n("business.descriptionRequired")},targetMarket:{value:a.targetMarket,required:!0,customMessage:n("business.targetMarketRequired")},productsServices:{value:a.productsServices,required:!0,minLength:1,customMessage:n("business.productsServicesRequired")},competitors:{value:a.competitors,required:!0,minLength:1,customMessage:n("business.competitorsRequired")}})){g(n("business.pleaseFillRequiredFields")||"Please fill in all required fields");return}if(!o){g("You must be logged in to create a business");return}f(!0),g("");try{const H=await o.getIdToken(),X={businessName:a.businessName,businessDescription:a.businessDescription,industry:a.industry,targetMarket:a.targetMarket,productsServices:a.productsServices,competitors:a.competitors.map(te=>({name:te.name,phone:""}))},K=await fetch("https://createbuisness-thg3z73fma-uc.a.run.app/secondary-business",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`},body:JSON.stringify(X)});if(!K.ok){const te=await K.json();throw new Error(te.error||"Failed to create business")}const U=await K.json();c(q_),w(""),_(""),r&&r(U.business),e()}catch(H){console.error("Error creating business:",H),g(H.message||n("business.createError")||"Failed to create business. Please try again.")}finally{f(!1)}},L=()=>{u||(c(q_),w(""),_(""),g(""),P(),e())},V=i?"ml-2":"mr-2";return h.jsx(dl,{open:t,onOpenChange:L,children:h.jsxs(Xo,{className:`sm:max-w-[600px] max-h-[90vh] overflow-y-auto ${i?"text-right":""}`,dir:i?"rtl":"ltr",children:[h.jsx(Qo,{className:"px-6 pt-6 pb-2",children:h.jsxs(Zo,{className:`flex items-center gap-2 ${i?"flex-row-reverse":""}`,children:[h.jsx(An,{className:"h-5 w-5 text-sky-600"}),n("business.createNew")||"Create New Business"]})}),h.jsxs("form",{onSubmit:F,className:"space-y-4 px-6 py-2",noValidate:!0,children:[p&&h.jsx("div",{className:`rounded-xl border border-red-100 bg-red-50 ${i?"text-right":""} px-4 py-3 text-sm text-red-600`,children:p}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:i?"text-right":"",children:[h.jsxs(ut,{htmlFor:"businessName",className:"text-sm font-medium text-gray-700",children:[n("business.businessName")||"Business Name"," *"]}),h.jsx(fn,{id:"businessName",value:a.businessName,onChange:D=>N("businessName",D.target.value),placeholder:n("placeholder.businessName")||"Enter business name",className:`mt-1 ${i?"text-right":""} ${R("businessName")?"border-red-500 focus:border-red-500 focus:ring-red-500 ring-red-500":""}`,disabled:u}),R("businessName")&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:R("businessName")})]}),h.jsxs("div",{className:i?"text-right":"",children:[h.jsxs(ut,{htmlFor:"industry",className:"text-sm font-medium text-gray-700",children:[n("business.industry")||"Industry"," *"]}),h.jsx(fn,{id:"industry",value:a.industry,onChange:D=>N("industry",D.target.value),placeholder:n("placeholder.industry")||"Enter industry",className:`mt-1 ${i?"text-right":""} ${R("industry")?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,disabled:u}),R("industry")&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:R("industry")})]})]}),h.jsxs("div",{className:i?"text-right":"",children:[h.jsxs(ut,{htmlFor:"businessDescription",className:"text-sm font-medium text-gray-700",children:[n("business.description")||"Description"," *"]}),h.jsx(Nr,{id:"businessDescription",value:a.businessDescription,onChange:D=>N("businessDescription",D.target.value),placeholder:n("placeholder.description")||"Enter business description",className:`mt-1 ${i?"text-right":""} ${R("businessDescription")?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,disabled:u,rows:3}),R("businessDescription")&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:R("businessDescription")})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.jsxs("div",{className:i?"text-right":"",children:[h.jsxs(ut,{htmlFor:"targetMarket",className:"text-sm font-medium text-gray-700",children:[n("business.targetMarket")||"Target Market"," *"]}),h.jsx(Nr,{id:"targetMarket",value:a.targetMarket,onChange:D=>N("targetMarket",D.target.value),placeholder:n("placeholder.targetMarket")||"Describe your target market",className:`mt-1 ${i?"text-right":""} ${R("targetMarket")?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,disabled:u,rows:2}),R("targetMarket")&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:R("targetMarket")})]})}),h.jsxs("div",{className:i?"text-right":"",children:[h.jsxs(ut,{className:"text-sm font-medium text-gray-700",children:[n("business.productsServices")||"Products/Services"," *"]}),h.jsxs("div",{className:"space-y-3 mt-1",children:[h.jsxs("div",{className:"flex gap-2 items-stretch",children:[h.jsx(fn,{value:v,onChange:D=>w(D.target.value),placeholder:n("placeholder.productsServices")||"Add product/service",className:`flex-1 ${i?"text-right":""}`,disabled:u,onKeyPress:D=>D.key==="Enter"&&(D.preventDefault(),M())}),h.jsx(Ie,{type:"button",onClick:M,disabled:!v.trim()||u,variant:"outline",className:"px-3",children:h.jsx(Pc,{className:"h-4 w-4"})})]}),a.productsServices.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.productsServices.map((D,z)=>h.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-50 text-green-700 px-3 py-1.5 rounded-full border border-green-200",children:[h.jsx("span",{className:"text-sm",children:D}),h.jsx(Ie,{type:"button",onClick:()=>I(D),size:"sm",variant:"ghost",disabled:u,className:"h-4 w-4 p-0 hover:bg-green-100 rounded-full",children:h.jsx(qn,{className:"h-3 w-3 text-green-600"})})]},z))}),R("productsServices")&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:R("productsServices")})]})]}),h.jsxs("div",{className:i?"text-right":"",children:[h.jsxs(ut,{className:"text-sm font-medium text-gray-700",children:[n("business.competitors")||"Competitors"," *"]}),h.jsxs("div",{className:"space-y-3 mt-1",children:[h.jsxs("div",{className:"flex gap-2 items-stretch",children:[h.jsx(fn,{value:x,onChange:D=>_(D.target.value),placeholder:n("placeholder.addCompetitor")||"Add competitor name",className:`flex-1 ${i?"text-right":""}`,disabled:u,onKeyPress:D=>D.key==="Enter"&&(D.preventDefault(),C())}),h.jsx(Ie,{type:"button",onClick:C,disabled:!x.trim()||u,variant:"outline",className:"px-3",children:h.jsx(Pc,{className:"h-4 w-4"})})]}),a.competitors.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.competitors.map((D,z)=>h.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full border border-blue-200",children:[h.jsx("span",{className:"text-sm",children:D.name}),h.jsx(Ie,{type:"button",onClick:()=>j(D.name),size:"sm",variant:"ghost",disabled:u,className:"h-4 w-4 p-0 hover:bg-blue-100 rounded-full",children:h.jsx(qn,{className:"h-3 w-3 text-blue-600"})})]},z))}),R("competitors")&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:R("competitors")})]})]})]}),h.jsxs(Jo,{className:`flex justify-end gap-3 pt-6 pb-6 px-6 border-t border-gray-200 ${i?"flex-row-reverse":""}`,children:[h.jsx(fl,{asChild:!0,children:h.jsxs(Ie,{type:"button",variant:"outline",disabled:u,className:`px-6 ${i?"flex-row-reverse":""}`,children:[h.jsx(qn,{className:`w-4 h-4 ${V}`}),n("common.cancel")||"Cancel"]})}),h.jsx(Ie,{type:"submit",disabled:u,className:`px-6 bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white ${i?"flex-row-reverse":""}`,children:u?h.jsxs(h.Fragment,{children:[h.jsx(zm,{size:"sm",variant:"white",className:V}),n("business.creating")||"Creating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(dx,{className:`w-4 h-4 ${V}`}),n("business.create")||"Create Business"]})})]})]})]})})}function Vce({children:t,currentPageName:e,businessId:r}){var Ee,je,he,Te,ue,ve,Pe,ae,Xe;const n=ao(),i=qc(),{t:s,isRTL:o,isHebrew:a,setLanguage:c,lockLanguage:u}=fr(),{user:f,logout:p}=Yc(),[g,v]=T.useState([]),[w,x]=T.useState(()=>{if(typeof window>"u")return null;const de=window.location.pathname.split("/").filter(xe=>xe!=="");if(de.length>=2){const xe=de[0];if(xe&&xe!=="profile")return xe}return localStorage.getItem("selected-business-id")||null}),[_,P]=T.useState(!0),[S,E]=T.useState(!1),[R,N]=T.useState(0),[M,I]=T.useState({isOpen:!1,businessId:null,businessName:""});T.useEffect(()=>{f&&(async()=>{var xe;try{if(f!=null&&f.uid){const ke=Wc(Kc,"clients",f.uid),Re=await Hc(ke);if(Re.exists()){const dt=Re.data();console.log("=== FIRESTORE RAW DATA ==="),console.log("Full Firestore document:",dt),console.log("Firestore document keys:",Object.keys(dt||{})),console.log("Personal field:",dt.personal),console.log("Personal language:",(xe=dt.personal)==null?void 0:xe.language),console.log("=== END FIRESTORE RAW DATA ===");const ct=dt.personal;if(ct&&ct.language){const Lt=(ct.language.toLowerCase().startsWith("he")?"hebrew":"english")==="hebrew"?"he":"en";c(Lt),u()}}}}catch(ke){console.error("Failed to load language from database:",ke)}})()},[f,c,u]);const C=T.useMemo(()=>{const de=w,xe=g.find(Re=>Re.id===de),ke=(xe==null?void 0:xe.isPrimary)||!1;return[{title:s("nav.businessProfile"),url:ei("BusinessProfile",de,ke),icon:An},{title:s("nav.personas"),url:ei("Avatar",de,ke),icon:Vs},{title:s("nav.prompts"),url:ei("Prompt",de,ke),icon:vi},{title:s("nav.competitors"),url:ei("Competitor",de,ke),icon:xs},{title:s("nav.analytics"),url:ei("Analytics",de,ke),icon:Np}]},[s,w,g]),j={title:s("nav.profile"),url:ei("Profile"),icon:h6},F=()=>{i(j.url)},L=de=>({[s("nav.businessProfile")]:a?"":"Business",[s("nav.personas")]:a?"":"Avatars",[s("nav.prompts")]:a?"":"Prompts",[s("nav.competitors")]:a?"":"Competitors",[s("nav.analytics")]:a?"":"Analytics"})[de]||de;T.useEffect(()=>{let de=!0;return(async()=>{try{if(P(!0),!f){v([]);return}const{doc:ke,collection:Re,getDoc:dt,getDocs:ct}=await lR(async()=>{const{doc:Qe,collection:Ze,getDoc:Kt,getDocs:it}=await Promise.resolve().then(()=>voe);return{doc:Qe,collection:Ze,getDoc:Kt,getDocs:it}},[]),{db:kt}=await lR(async()=>{const{db:Qe}=await Promise.resolve().then(()=>Ble);return{db:Qe}},void 0),Lt=ke(kt,"clients",f.uid),or=Re(Lt,"businesses"),[_r,kn]=await Promise.all([dt(Lt),ct(or).catch(Qe=>(console.warn("Unable to load businesses sub-collection:",Qe),null))]),On=new Map;let Gt=0;const er=(Qe="inline")=>(Gt+=1,`${Qe}-business-${Gt}`),jn=(Qe,Ze,Kt={})=>{if(!Qe)return null;let it=Qe,fe=Ze;if(Qe&&typeof Qe.data=="function"&&(fe=Qe.id||Ze,it=Qe.data()),typeof it=="string")return{id:fe||it||er(Kt.source),name:it,...Kt};if(typeof it!="object")return null;const we=it.business_name||it.businessName||it.name||it.title||fe||s("layout.businessFallback");return{id:(it.id||it.uid||it.businessId||it.business_id||fe||we||er(Kt.source)).toString(),name:we,...Kt}},Si=Qe=>{if(!Qe)return;const Ze=On.get(Qe.id);Ze?On.set(Qe.id,{...Ze,...Qe,isPrimary:Ze.isPrimary||Qe.isPrimary||!1,source:Ze.isPrimary?Ze.source:Qe.source}):On.set(Qe.id,Qe)};if(_r.exists()){const Qe=_r.data()||{},Ze=Qe.businessProfile||Qe.business_profile||null;if(Ze){const it=Ze.id||Ze.businessId||Ze.business_id||`${_r.id}-primary`;Si(jn(Ze,it,{source:"primary",isPrimary:!0}))}const Kt=Qe.secondary_buisness||Qe.secondary_business||[];Array.isArray(Kt)&&Kt.forEach((it,fe)=>{const we=it.id||it.businessId||it.business_id||`${_r.id}-secondary-${fe}`;Si(jn(it,we,{source:"secondary",isPrimary:!1}))})}kn&&!kn.empty&&kn.forEach(Qe=>{const Ze=Qe.data(),Kt=Ze.id||Ze.businessId||Ze.business_id||Qe.id;Si(jn(Qe,Kt,{source:"collection"}))});const rn=Array.from(On.values()).sort((Qe,Ze)=>Qe.isPrimary===Ze.isPrimary?Qe.name.localeCompare(Ze.name):Qe.isPrimary?-1:1);if(!de)return;if(v(rn),rn.length>0){const Qe=typeof window<"u"?localStorage.getItem("selected-business-id"):w;if(!Qe||Qe==="null")x(null);else{const Ze=rn.some(Kt=>Kt.id===Qe)?Qe:null;x(Ze)}}}catch(ke){console.error("Error loading businesses:",ke);try{const Re=await Gi.getCurrentUser();if(Re){const dt={id:Re.id||Re.phone||"business-fallback",name:Re.business_name||Re.businessName||Re.name||s("layout.businessFallback"),isPrimary:!0};v([dt]),x(dt.id)}}catch(Re){console.error("Fallback business loading also failed:",Re),v([])}}finally{de&&P(!1)}})(),()=>{de=!1}},[s,f]),T.useEffect(()=>{const de=n.pathname.split("/").filter(xe=>xe!=="");if(de.length>=2){const xe=de[0];xe&&xe!=="profile"&&xe!==w&&(x(xe),typeof window<"u"&&localStorage.setItem("selected-business-id",xe))}else de.length===1&&de[0]!=="profile"&&w!==null&&(x(null),typeof window<"u"&&localStorage.setItem("selected-business-id","null"))},[n.pathname,w,g]),T.useEffect(()=>{if(typeof window>"u")return;const de=xe=>{const{businessId:ke,businessName:Re}=xe.detail||{};!ke||!Re||(v(dt=>{const ct=Array.isArray(dt)?[...dt]:[],kt=ct.findIndex(or=>or.id===ke),Lt={id:ke,name:Re};return kt>=0?ct[kt]={...ct[kt],...Lt}:ct.push(Lt),ct.sort((or,_r)=>or.isPrimary===_r.isPrimary?or.name.localeCompare(_r.name):or.isPrimary?-1:1)}),x(dt=>dt||ke))};return window.addEventListener("business-profile-updated",de),()=>{window.removeEventListener("business-profile-updated",de)}},[]),T.useEffect(()=>{typeof window>"u"||localStorage.setItem("selected-business-id",w||"null")},[w]);const V=T.useMemo(()=>w===null?g.find(de=>de.isPrimary)||null:g.find(de=>de.id===w)||null,[g,w]),D=(V==null?void 0:V.name)||s("layout.businessFallback"),z=T.useMemo(()=>{const de={BusinessProfile:{title:s("business.title"),subtitle:s("business.subtitle")},Avatar:{title:s("personas.title"),subtitle:s("personas.subtitle")},Prompt:{title:s("prompts.title"),subtitle:s("prompts.subtitle")},Competitor:{title:s("competitors.title"),subtitle:s("competitors.subtitle")},Analytics:{title:s("analytics.title"),subtitle:s("analytics.subtitle")},Profile:{title:s("profile.title"),subtitle:s("profile.subtitle")}},xe=e||"";if(xe&&de[xe])return de[xe];if(xe){const ke=[...C,j].find(Re=>Re.url===ei(xe));if(ke)return{title:ke.title,subtitle:""}}return{title:D,subtitle:s("layout.businessManageCaption")}},[e,C,j,D,s]),H=z.title||D,X=z.subtitle,K=de=>{const xe=de==="primary"?null:de;if(x(xe),typeof window<"u"&&localStorage.setItem("selected-business-id",xe||"null"),N(ke=>ke+1),n.pathname!=="/profile"){const ke=n.pathname.split("/"),Re=ke[ke.length-1]||"businessprofile",ct=ei(Re,xe,de==="primary");i(ct)}console.debug("Business context switched to:",xe)},U=de=>{const xe={id:de.id||de.phone||`business-${Date.now()}`,name:de.businessName||de.business_name||de.name||s("layout.businessFallback"),isPrimary:!1};v(Re=>[...Re,xe].sort((ct,kt)=>ct.isPrimary===kt.isPrimary?ct.name.localeCompare(kt.name):ct.isPrimary?-1:1)),x(xe.id),typeof window<"u"&&localStorage.setItem("selected-business-id",xe.id);const ke=ei("BusinessProfile",xe.id,!1);i(ke),E(!1)},te=de=>{if(!de)return;const xe=g.find(ke=>ke.id===de);xe&&I({isOpen:!0,businessId:de,businessName:xe.name})},Q=async()=>{const{businessId:de}=M;try{if(await Xle.delete(de),v(ke=>ke.filter(Re=>Re.id!==de)),w===de){x(null),typeof window<"u"&&localStorage.setItem("selected-business-id","null");const ke=ei("BusinessProfile",null,!0);i(ke)}N(ke=>ke+1);const xe=document.createElement("div");xe.className=`fixed ${o?"left-4":"right-4"} top-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50`,xe.textContent=a?"  ":"Business deleted successfully",document.body.appendChild(xe),setTimeout(()=>document.body.removeChild(xe),3e3)}catch(xe){console.error("Error deleting business:",xe),alert(a?"  ":"Error deleting business")}finally{I({isOpen:!1,businessId:null,businessName:""})}},W=()=>{I({isOpen:!1,businessId:null,businessName:""})},Z=()=>{N(de=>de+1)};T.useEffect(()=>{const de=xe=>{const{businessId:ke,businessName:Re}=xe.detail;v(dt=>dt.map(kt=>kt.id===ke?{...kt,name:Re}:kt))};return window.addEventListener("business-profile-updated",de),()=>{window.removeEventListener("business-profile-updated",de)}},[g]);const re=({triggerClassName:de="",contentClassName:xe=""})=>{var ke;return h.jsxs(e9,{value:g.length===0?void 0:w||"primary",onValueChange:K,disabled:_||g.length===0,children:[h.jsx(sI,{className:`h-11 rounded-xl border border-slate-200 bg-white/90 px-4 text-sm font-semibold text-slate-700 shadow-sm transition select-trigger business-switcher-trigger ${o?"flex-row-reverse justify-end":"justify-start"} ${de}`.trim(),style:o?{justifyContent:"flex-end",textAlign:"right",direction:"rtl"}:{},children:h.jsxs("div",{className:`flex items-center gap-2 truncate ${o?"flex-row-reverse justify-end":"justify-start"}`,style:o?{justifyContent:"flex-end",direction:"rtl"}:{},children:[h.jsx(An,{className:"h-4 w-4 text-sky-600"}),h.jsx("span",{className:`truncate max-w-[180px] ${o?"text-right":"text-left"}`,style:o?{textAlign:"right",direction:"rtl"}:{},children:_?s("layout.businessLoading"):D})]})}),h.jsxs(oI,{dir:o?"rtl":"ltr",className:`max-h-64 ${xe}`.trim(),children:[g.length===0?h.jsx(hp,{value:"placeholder",disabled:!0,children:s("layout.businessUnavailable")}):h.jsxs(h.Fragment,{children:[g.find(Re=>Re.isPrimary)&&h.jsx(hp,{value:"primary",className:`text-sm ${o?"text-right":"text-left"}`,children:h.jsxs("span",{className:`font-semibold text-sky-700 ${o?"text-right":"text-left"}`,children:[(ke=g.find(Re=>Re.isPrimary))==null?void 0:ke.name," ",a?"( )":"(Main Business)"]})},"primary"),g.filter(Re=>!Re.isPrimary).map((Re,dt)=>h.jsxs("div",{className:"relative",children:[h.jsx(hp,{value:Re.id,className:`text-sm pr-8 ${o?"text-right":"text-left"}`,children:h.jsx("span",{className:`text-gray-600 ${o?"text-right":"text-left"}`,children:Re.name})}),h.jsx("button",{onClick:ct=>{ct.stopPropagation(),te(Re.id)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 hover:bg-red-100 rounded-full transition-colors",title:a?" ":"Delete Business",children:h.jsx(qn,{className:"w-3 h-3 text-red-500 hover:text-red-700"})})]},Re.id))]}),h.jsx("div",{className:"border-t border-slate-200 p-1",children:h.jsxs(Ie,{onClick:()=>E(!0),variant:"ghost",size:"sm",className:`w-full h-8 text-sky-600 hover:text-sky-700 hover:bg-sky-50 create-business-button ${o?"flex-row-reverse justify-end text-right":"justify-start text-left"}`,children:[h.jsx(Pc,{className:`h-4 w-4 ${o?"ml-2":"mr-2"}`}),s("business.createNew")||"Create New Business"]})})]})]})},me=()=>{const de=C;return h.jsx("nav",{className:`fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-slate-200 px-2 pt-2 pb-2 z-50 xl:hidden touch-optimized ${o?"rtl":"ltr"}`,children:h.jsx("div",{className:"flex justify-around items-center max-w-lg mx-auto",children:de.map(xe=>{const ke=n.pathname===xe.url;return h.jsxs(Iv,{to:xe.url,className:`flex flex-col items-center gap-1 py-3 px-2 rounded-xl transition-all duration-200 min-w-0 flex-1 touch-manipulation touch-optimized hover-optimized ${ke?"bg-gradient-to-t from-sky-500/15 to-blue-500/15 text-sky-600 shadow-sm":"text-slate-500 hover:text-slate-800 active:bg-slate-100"}`,style:{minHeight:"44px"},children:[h.jsx(xe.icon,{className:`w-5 h-5 transition-transform ${ke?"text-sky-600 scale-110":"text-slate-500"}`}),h.jsx("span",{className:`text-xs font-medium leading-none truncate max-w-full text-center ${o?"text-right":"text-left"}`,children:L(xe.title)})]},xe.title)})})})};return h.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-sky-50 via-sky-100 to-sky-200 ${o?"rtl":"ltr"}`,children:[h.jsx("style",{children:`
        :root {
          --gradient-primary: linear-gradient(135deg, #7ecbff 0%, #3a8dff 100%);
          --gradient-secondary: linear-gradient(135deg, #b7e3ff 0%, #7ecbff 100%);
          --gradient-accent: linear-gradient(135deg, #63b3ff 0%, #1c7dff 100%);
          --shadow-luxury: 0 25px 50px -12px rgba(0, 0, 0, 0.1);
          --shadow-card: 0 10px 25px rgba(0, 0, 0, 0.05);
          --mobile-header-height: 72px;
          --mobile-bottom-nav-height: calc(88px + env(safe-area-inset-bottom));
        }
        
        .luxury-gradient {
          background: var(--gradient-primary);
        }
        
        .glass-morphism {
          backdrop-filter: blur(16px);
          background: rgba(255, 255, 255, 0.95);
          border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
        }

        /* RTL Support - Hebrew keeps sidebar on right */
        [dir="rtl"] .sidebar {
          border-left: 1px solid rgba(255, 255, 255, 0.2);
          border-right: none;
        }
        
        /* LTR Support - English has sidebar on left */
        [dir="ltr"] .sidebar {
          border-right: 1px solid rgba(255, 255, 255, 0.2);
          border-left: none;
        }
        
        [dir="rtl"] .sidebar-header {
          text-align: right;
        }
        
        [dir="rtl"] .sidebar-header h2 {
          text-align: right !important;
        }
        
        [dir="rtl"] .sidebar-header p {
          text-align: right !important;
        }
        
        [dir="rtl"] .sidebar-header .flex {
          justify-content: flex-end !important;
        }
        
        [dir="rtl"] .sidebar-header h2,
        [dir="rtl"] .sidebar-header p {
          margin-left: 0 !important;
          margin-right: 0 !important;
          padding-left: 0 !important;
          padding-right: 0 !important;
        }
        
        [dir="rtl"] .create-business-button {
          justify-content: flex-end !important;
          text-align: right !important;
        }
        
        [dir="rtl"] .create-business-button .flex {
          justify-content: flex-end !important;
        }
        
        [dir="rtl"] .select-content {
          text-align: right !important;
        }
        
        [dir="rtl"] .select-item {
          text-align: right !important;
          justify-content: flex-end !important;
        }
        
        [dir="rtl"] .select-item span {
          text-align: right !important;
        }
        
        [dir="rtl"] .select-trigger {
          justify-content: flex-end !important;
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .select-trigger .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .select-trigger span {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] [data-radix-select-trigger] {
          justify-content: flex-end !important;
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] [data-radix-select-trigger] .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] [data-radix-select-trigger] span {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .flex-row-reverse {
          flex-direction: row-reverse;
        }
        
        /* Force RTL for business switcher */
        [dir="rtl"] .business-switcher-trigger {
          justify-content: flex-end !important;
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .business-switcher-trigger > div {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .business-switcher-trigger span {
          text-align: right !important;
          direction: rtl !important;
        }
        
        /* Force RTL for menu items */
        [dir="rtl"] .sidebar-menu-item {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .sidebar-menu-item a {
          justify-content: flex-end !important;
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .sidebar-menu-item span {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .sidebar-menu-item .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        /* More specific selectors for menu items */
        [dir="rtl"] [data-sidebar="menu-item"] {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] [data-sidebar="menu-item"] a {
          justify-content: flex-end !important;
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] [data-sidebar="menu-item"] span {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] [data-sidebar="menu-item"] .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        /* RTL (Hebrew) - Keep icons on the right side */
        [dir="rtl"] [data-sidebar="menu-item"] a {
          flex-direction: row-reverse !important;
        }
        
        [dir="rtl"] [data-sidebar="menu-item"] a svg {
          order: 2 !important;
        }
        
        [dir="rtl"] [data-sidebar="menu-item"] a span {
          order: 1 !important;
        }
        
        /* More specific selectors for RTL icon positioning */
        [dir="rtl"] .sidebar-menu-item a {
          flex-direction: row-reverse !important;
        }
        
        [dir="rtl"] .sidebar-menu-item a svg {
          order: 2 !important;
        }
        
        [dir="rtl"] .sidebar-menu-item a span {
          order: 1 !important;
        }
        
        /* LTR (English) - Icons on the left side */
        [dir="ltr"] [data-sidebar="menu-item"] a {
          flex-direction: row !important;
        }
        
        [dir="ltr"] [data-sidebar="menu-item"] a svg {
          order: 1 !important;
        }
        
        [dir="ltr"] [data-sidebar="menu-item"] a span {
          order: 2 !important;
        }
        
        /* More specific selectors for LTR icon positioning */
        [dir="ltr"] .sidebar-menu-item a {
          flex-direction: row !important;
        }
        
        [dir="ltr"] .sidebar-menu-item a svg {
          order: 1 !important;
        }
        
        [dir="ltr"] .sidebar-menu-item a span {
          order: 2 !important;
        }
        
        /* RTL (Hebrew) - Keep profile picture on the right side */
        [dir="rtl"] .sidebar-footer {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .sidebar-footer .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .sidebar-footer button {
          flex-direction: row-reverse !important;
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .sidebar-footer button div {
          order: 2 !important;
        }
        
        [dir="rtl"] .sidebar-footer button .flex-1 {
          order: 1 !important;
          text-align: right !important;
        }
        
        /* LTR (English) - Profile picture on the left side */
        [dir="ltr"] .sidebar-footer {
          text-align: left !important;
          direction: ltr !important;
        }
        
        [dir="ltr"] .sidebar-footer .flex {
          justify-content: flex-start !important;
          direction: ltr !important;
        }
        
        [dir="ltr"] .sidebar-footer button {
          flex-direction: row !important;
          justify-content: flex-start !important;
          direction: ltr !important;
        }
        
        [dir="ltr"] .sidebar-footer button div {
          order: 1 !important;
        }
        
        [dir="ltr"] .sidebar-footer button .flex-1 {
          order: 2 !important;
          text-align: left !important;
        }
        
        /* Force RTL for page header */
        [dir="rtl"] .page-header {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .page-header h1 {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .page-header p {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .page-header .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .page-header .actions {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        /* Force button to be on the left side */
        [dir="rtl"] .page-header .flex-row-reverse {
          flex-direction: row-reverse !important;
        }
        
        [dir="rtl"] .page-header .flex-row-reverse .actions {
          order: 1 !important;
        }
        
        [dir="rtl"] .page-header .flex-row-reverse > div:first-child {
          order: 2 !important;
        }
        
        /* More specific selectors to override any conflicting styles */
        [dir="rtl"] .page-header div[class*="flex"] {
          flex-direction: row-reverse !important;
        }
        
        [dir="rtl"] .page-header div[class*="actions"] {
          order: 1 !important;
          margin-left: 0 !important;
          margin-right: auto !important;
        }
        
        [dir="rtl"] .page-header div[class*="flex"] > div:not([class*="actions"]) {
          order: 2 !important;
        }
        
        /* Target the specific button */
        [dir="rtl"] .page-header button {
          margin-left: 0 !important;
          margin-right: auto !important;
        }
        
        /* Force the layout to be RTL */
        [dir="rtl"] .page-header * {
          direction: rtl !important;
        }
        
        /* Force button to be at the far left */
        [dir="rtl"] .page-header .actions {
          position: absolute !important;
          left: 0 !important;
          right: auto !important;
          margin-left: 0 !important;
          margin-right: 0 !important;
        }
        
        [dir="rtl"] .page-header .actions button {
          margin-left: 0 !important;
          margin-right: 0 !important;
        }
        
        /* Make sure the header container has relative positioning */
        [dir="rtl"] .page-header > div {
          position: relative !important;
        }
        
        /* Force RTL for card titles */
        [dir="rtl"] .card-title {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .card-title .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .card-title span {
          text-align: right !important;
          direction: rtl !important;
        }
        
        /* Force the blue bar to be on the right side in RTL */
        [dir="rtl"] .card-title .flex-row-reverse {
          flex-direction: row-reverse !important;
        }
        
        [dir="rtl"] .card-title .flex-row-reverse > div:last-child {
          order: 1 !important;
        }
        
        [dir="rtl"] .card-title .flex-row-reverse > span:first-child {
          order: 2 !important;
        }
        
        /* Persona Card RTL Support */
        [dir="rtl"] .persona-card h3 {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .persona-card p {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .persona-card .text-right {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .persona-card [data-radix-badge] {
          text-align: right !important;
          direction: rtl !important;
        }
        
        /* Force persona card layout in RTL */
        [dir="rtl"] .persona-card .flex-row-reverse {
          flex-direction: row-reverse !important;
        }
        
        [dir="rtl"] .persona-card .order-1 {
          order: 1 !important;
        }
        
        [dir="rtl"] .persona-card .order-2 {
          order: 2 !important;
        }

        /* Hebrew Font Support */
        [lang="he"] {
          font-family: 'Segoe UI', Tahoma, Arial, 'Noto Sans Hebrew', sans-serif;
        }
        
        [dir="rtl"] .text-right {
          text-align: right;
        }
        
        [dir="rtl"] .text-left {
          text-align: left;
        }

        /* Safe area support for iOS */
        .safe-area-inset-bottom {
          padding-bottom: 1.25rem;
          padding-bottom: calc(1.25rem + env(safe-area-inset-bottom));
          padding-bottom: calc(1.25rem + constant(safe-area-inset-bottom));
        }

        .pb-safe {
          padding-bottom: env(safe-area-inset-bottom);
        }

        /* Touch targets optimization */
        .touch-manipulation {
          touch-action: manipulation;
        }

        /* Bottom navigation mobile optimizations */
        @media (max-width: 1024px) {
          .bottom-nav-padding {
            padding-bottom: calc(88px + env(safe-area-inset-bottom));
          }
        }

        /* Improved mobile spacing */
        @media (max-width: 640px) {
          .mobile-padding {
            padding-left: 1rem;
            padding-right: 1rem;
          }
        }

        /* Better mobile grid layouts */
        @media (max-width: 768px) {
          .mobile-grid {
            grid-template-columns: 1fr;
            gap: 1rem;
          }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
          .tablet-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
          }
        }

        .page-loading-state {
          min-height: calc(100vh - var(--mobile-header-height) - var(--mobile-bottom-nav-height));
        }

        @media (min-width: 1024px) {
          :root {
            --mobile-header-height: 0px;
            --mobile-bottom-nav-height: 0px;
          }

          .page-loading-state {
            min-height: 100vh;
          }
        }
      `}),h.jsx(HB,{children:h.jsxs("div",{className:`flex w-full ${o?"flex-row-reverse":""}`,children:[h.jsxs(GB,{side:o?"right":"left",className:"w-[280px] border-white/20 glass-morphism sidebar order-1 touch-optimized hidden xl:flex",children:[h.jsxs(KB,{className:"border-b border-white/10 p-6 sidebar-header",children:[h.jsx("div",{className:`flex items-center gap-3 ${o?"flex-row-reverse justify-end text-right":"justify-start text-left"}`,children:h.jsxs("div",{className:o?"text-right":"text-left",children:[h.jsx("h2",{className:`font-bold text-gray-900 text-lg ${o?"text-right":"text-left"}`,children:"Mole.AI"}),h.jsxs("div",{className:`flex items-center gap-1 ${o?"flex-row-reverse justify-end":"justify-start"}`,children:[h.jsx(zi,{className:"w-3 h-3 text-sky-500"}),h.jsx("p",{className:`text-xs text-sky-600 font-medium ${o?"text-right":"text-left"}`,children:a?" AI":"AI Platform"})]})]})}),h.jsx("div",{className:`mt-4 flex ${o?"justify-start":"justify-end"}`,children:h.jsx("div",{className:"w-full",children:h.jsx(re,{triggerClassName:"w-full"})})})]}),h.jsx(XB,{className:"p-2",children:h.jsxs(QB,{children:[h.jsx(JB,{className:`text-xs font-semibold text-gray-500 uppercase tracking-wider px-3 py-3 ${o?"text-right":"text-left"}`,children:s("nav.platform")}),h.jsx(ZB,{children:h.jsx(eU,{className:"space-y-1",children:C.map(de=>h.jsx(tU,{className:"sidebar-menu-item",children:h.jsx(rU,{asChild:!0,className:`hover:bg-gradient-to-r hover:from-sky-500/10 hover:to-blue-500/10 hover:text-sky-700 transition-all duration-300 rounded-xl mb-1 group touch-optimized hover-optimized ${n.pathname===de.url?"bg-gradient-to-r from-sky-500/15 to-blue-500/15 text-sky-700 shadow-sm":""}`,children:h.jsx(Iv,{to:de.url,className:`flex w-full items-center gap-4 px-6 py-5 ${o?"flex-row-reverse text-right justify-end":"justify-start"}`,style:o?{justifyContent:"flex-end",textAlign:"right",direction:"rtl",flexDirection:"row-reverse"}:{},children:o?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:`font-semibold text-base ${o?"text-right":"text-left"}`,style:o?{textAlign:"right",direction:"rtl"}:{},children:de.title}),h.jsx(de.icon,{className:`w-6 h-6 transition-transform group-hover:scale-110 ${n.pathname===de.url?"text-sky-600":"text-gray-500"}`})]}):h.jsxs(h.Fragment,{children:[h.jsx(de.icon,{className:`w-6 h-6 transition-transform group-hover:scale-110 ${n.pathname===de.url?"text-sky-600":"text-gray-500"}`}),h.jsx("span",{className:`font-semibold text-base ${o?"text-right":"text-left"}`,style:o?{textAlign:"right",direction:"rtl"}:{},children:de.title})]})})})},de.title))})})]})}),h.jsx(YB,{className:"border-t border-white/10 p-4",children:h.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-white/90 via-white/85 to-sky-50/60 shadow-sm border border-white/70 ${o?"flex-row-reverse justify-end":"justify-start"} ${n.pathname===j.url?"ring-2 ring-sky-200":""}`,style:o?{justifyContent:"flex-end",direction:"rtl"}:{},children:[h.jsx("button",{type:"button",onClick:F,className:`flex flex-1 items-center gap-2 rounded-lg px-1 py-1 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white ${o?"flex-row-reverse text-right justify-end":"justify-start"}`,style:o?{justifyContent:"flex-end",direction:"rtl"}:{},title:s("nav.profile"),children:o?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:`flex-1 min-w-0 ${o?"text-right":"text-left"}`,children:[h.jsx("p",{className:`font-semibold text-slate-900 text-sm ${o?"text-right":"text-left"}`,children:(f==null?void 0:f.displayName)||(a?" ":"User Account")}),h.jsx("p",{className:`text-xs text-slate-500 truncate ${o?"text-right":"text-left"}`,children:(f==null?void 0:f.email)||(a?" ":"Brand Intelligence")})]}),h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-sky-500 to-blue-600 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white font-bold text-sm",children:((Ee=f==null?void 0:f.displayName)==null?void 0:Ee[0])||((he=(je=f==null?void 0:f.email)==null?void 0:je[0])==null?void 0:he.toUpperCase())||"U"})})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-sky-500 to-blue-600 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white font-bold text-sm",children:((Te=f==null?void 0:f.displayName)==null?void 0:Te[0])||((ve=(ue=f==null?void 0:f.email)==null?void 0:ue[0])==null?void 0:ve.toUpperCase())||"U"})}),h.jsxs("div",{className:`flex-1 min-w-0 ${o?"text-right":"text-left"}`,children:[h.jsx("p",{className:`font-semibold text-slate-900 text-sm ${o?"text-right":"text-left"}`,children:(f==null?void 0:f.displayName)||(a?" ":"User Account")}),h.jsx("p",{className:`text-xs text-slate-500 truncate ${o?"text-right":"text-left"}`,children:(f==null?void 0:f.email)||(a?" ":"Brand Intelligence")})]})]})}),h.jsx("button",{onClick:p,className:`p-2 rounded-lg hover:bg-red-50 hover:text-red-600 transition-colors group ${o?"order-first":""}`,title:a?"":"Sign Out",children:h.jsx(f6,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})})]})})]}),h.jsxs("main",{className:"flex-1 flex flex-col min-h-screen order-2",children:[h.jsxs("header",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200 px-4 py-4 xl:hidden sticky top-0 z-50",children:[h.jsxs("div",{className:`flex items-center justify-between gap-4 ${o?"flex-row-reverse":""}`,children:[h.jsx("div",{className:`flex-1 min-w-0 ${o?"order-2":"order-1"}`,children:h.jsx(re,{triggerClassName:"w-full",contentClassName:"min-w-[180px]"})}),f&&h.jsx("button",{type:"button",onClick:F,className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-gradient-to-r from-sky-500 to-blue-600 text-white shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white ${o?"order-1":"order-2"}`,"aria-label":s("nav.profile"),children:h.jsx("span",{className:"text-sm font-semibold",children:((Pe=f==null?void 0:f.displayName)==null?void 0:Pe[0])||((Xe=(ae=f==null?void 0:f.email)==null?void 0:ae[0])==null?void 0:Xe.toUpperCase())||"U"})})]}),h.jsxs("div",{className:"mt-3",children:[h.jsx("h1",{className:`text-lg font-semibold bg-gradient-to-r from-sky-500 to-blue-600 bg-clip-text text-transparent truncate ${o?"text-right":"text-left"}`,children:H}),X&&h.jsx("p",{className:`text-xs text-slate-500 ${o?"text-right":"text-left"}`,children:X})]})]}),h.jsx("div",{className:"flex-1 overflow-auto bottom-nav-padding lg:pb-0",children:Y.cloneElement(t,{businessId:w,refreshBusinessData:Z})})]}),h.jsx(me,{})]})}),h.jsx(Fce,{isOpen:S,onClose:()=>E(!1),onBusinessCreated:U}),M.isOpen&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[h.jsx("div",{className:"mb-4",children:h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a?" ":"Delete Business"})}),h.jsx("p",{className:"text-gray-600 mb-6",children:a?h.jsxs(h.Fragment,{children:['       "',M.businessName,'"?',h.jsx("br",{}),h.jsx("span",{className:"font-semibold text-red-600",children:"    ."})]}):h.jsxs(h.Fragment,{children:['Are you sure you want to delete the business "',M.businessName,'"?',h.jsx("br",{}),h.jsx("span",{className:"font-semibold text-red-600",children:"This action cannot be undone."})]})}),h.jsxs("div",{className:`flex gap-3 ${o?"flex-row-reverse":""}`,children:[h.jsx(Ie,{onClick:W,variant:"outline",className:"flex-1",children:a?"":"Cancel"}),h.jsx(Ie,{onClick:Q,variant:"destructive",className:"flex-1",children:a?"":"Delete"})]})]})})]})}function Bce({children:t,currentPageName:e,businessId:r}){return h.jsx(fv,{children:h.jsx(Vce,{children:t,currentPageName:e,businessId:r})})}const Nt=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Se("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Nt.displayName="Card";const kr=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Se("flex flex-col space-y-1.5 p-4 sm:p-6",t),...e}));kr.displayName="CardHeader";const qr=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Se("font-semibold leading-none tracking-tight",t),...e}));qr.displayName="CardTitle";const Uce=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Se("text-sm text-muted-foreground",t),...e}));Uce.displayName="CardDescription";const mt=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Se("p-4 sm:p-6 pt-0",t),...e}));mt.displayName="CardContent";const qce=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Se("flex items-center p-4 sm:p-6 pt-0",t),...e}));qce.displayName="CardFooter";const zce=wf("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _n({className:t,variant:e,...r}){return h.jsx("div",{className:Se(zce({variant:e}),t),...r})}const aI=T.createContext({});function lI(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const cI=typeof window<"u",l9=cI?T.useLayoutEffect:T.useEffect,Jx=T.createContext(null);function uI(t,e){t.indexOf(e)===-1&&t.push(e)}function dI(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const ea=(t,e,r)=>r>e?e:r<t?t:r;let fI=()=>{};const ta={},c9=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function u9(t){return typeof t=="object"&&t!==null}const d9=t=>/^0[^.\s]+$/u.test(t);function hI(t){let e;return()=>(e===void 0&&(e=t()),e)}const Wi=t=>t,Wce=(t,e)=>r=>e(t(r)),Hm=(...t)=>t.reduce(Wce),Fp=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class pI{constructor(){this.subscriptions=[]}add(e){return uI(this.subscriptions,e),()=>dI(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ys=t=>t*1e3,Xs=t=>t/1e3;function f9(t,e){return e?t*(1e3/e):0}const h9=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Hce=1e-7,Gce=12;function Kce(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=h9(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>Hce&&++a<Gce);return o}function Gm(t,e,r,n){if(t===e&&r===n)return Wi;const i=s=>Kce(s,0,1,t,r);return s=>s===0||s===1?s:h9(i(s),e,n)}const p9=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,m9=t=>e=>1-t(1-e),g9=Gm(.33,1.53,.69,.99),mI=m9(g9),y9=p9(mI),v9=t=>(t*=2)<1?.5*mI(t):.5*(2-Math.pow(2,-10*(t-1))),gI=t=>1-Math.sin(Math.acos(t)),x9=m9(gI),b9=p9(gI),Yce=Gm(.42,0,1,1),Xce=Gm(0,0,.58,1),w9=Gm(.42,0,.58,1),Qce=t=>Array.isArray(t)&&typeof t[0]!="number",_9=t=>Array.isArray(t)&&typeof t[0]=="number",Jce={linear:Wi,easeIn:Yce,easeInOut:w9,easeOut:Xce,circIn:gI,circInOut:b9,circOut:x9,backIn:mI,backInOut:y9,backOut:g9,anticipate:v9},Zce=t=>typeof t=="string",PM=t=>{if(_9(t)){fI(t.length===4);const[e,r,n,i]=t;return Gm(e,r,n,i)}else if(Zce(t))return Jce[t];return t},By=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function eue(t,e){let r=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(u.schedule(f),t()),f(a)}const u={schedule:(f,p=!1,g=!1)=>{const w=g&&i?r:n;return p&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const tue=40;function S9(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=By.reduce((E,R)=>(E[R]=eue(s),E),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:f,update:p,preRender:g,render:v,postRender:w}=o,x=()=>{const E=ta.useManualTiming?i.timestamp:performance.now();r=!1,ta.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(E-i.timestamp,tue),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),f.process(i),p.process(i),g.process(i),v.process(i),w.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(x))},_=()=>{r=!0,n=!0,i.isProcessing||t(x)};return{schedule:By.reduce((E,R)=>{const N=o[R];return E[R]=(M,I=!1,C=!1)=>(r||_(),N.schedule(M,I,C)),E},{}),cancel:E=>{for(let R=0;R<By.length;R++)o[By[R]].cancel(E)},state:i,steps:o}}const{schedule:nr,cancel:hl,state:un,steps:z_}=S9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wi,!0);let _v;function rue(){_v=void 0}const ri={now:()=>(_v===void 0&&ri.set(un.isProcessing||ta.useManualTiming?un.timestamp:performance.now()),_v),set:t=>{_v=t,queueMicrotask(rue)}},E9=t=>e=>typeof e=="string"&&e.startsWith(t),yI=E9("--"),nue=E9("var(--"),vI=t=>nue(t)?iue.test(t.split("/*")[0].trim()):!1,iue=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vp={...Rf,transform:t=>ea(0,1,t)},Uy={...Rf,default:1},mp=t=>Math.round(t*1e5)/1e5,xI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sue(t){return t==null}const oue=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bI=(t,e)=>r=>!!(typeof r=="string"&&oue.test(r)&&r.startsWith(t)||e&&!sue(r)&&Object.prototype.hasOwnProperty.call(r,e)),T9=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,a]=n.match(xI);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},aue=t=>ea(0,255,t),W_={...Rf,transform:t=>Math.round(aue(t))},dc={test:bI("rgb","red"),parse:T9("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+W_.transform(t)+", "+W_.transform(e)+", "+W_.transform(r)+", "+mp(Vp.transform(n))+")"};function lue(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const nA={test:bI("#"),parse:lue,transform:dc.transform},Km=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$a=Km("deg"),Qs=Km("%"),et=Km("px"),cue=Km("vh"),uue=Km("vw"),AM={...Qs,parse:t=>Qs.parse(t)/100,transform:t=>Qs.transform(t*100)},nd={test:bI("hsl","hue"),parse:T9("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Qs.transform(mp(e))+", "+Qs.transform(mp(r))+", "+mp(Vp.transform(n))+")"},Cr={test:t=>dc.test(t)||nA.test(t)||nd.test(t),parse:t=>dc.test(t)?dc.parse(t):nd.test(t)?nd.parse(t):nA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?dc.transform(t):nd.transform(t),getAnimatableNone:t=>{const e=Cr.parse(t);return e.alpha=0,Cr.transform(e)}},due=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fue(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(xI))==null?void 0:e.length)||0)+(((r=t.match(due))==null?void 0:r.length)||0)>0}const P9="number",A9="color",hue="var",pue="var(",CM="${}",mue=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bp(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(mue,c=>(Cr.test(c)?(n.color.push(s),i.push(A9),r.push(Cr.parse(c))):c.startsWith(pue)?(n.var.push(s),i.push(hue),r.push(c)):(n.number.push(s),i.push(P9),r.push(parseFloat(c))),++s,CM)).split(CM);return{values:r,split:a,indexes:n,types:i}}function C9(t){return Bp(t).values}function N9(t){const{split:e,types:r}=Bp(t),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const a=r[o];a===P9?s+=mp(i[o]):a===A9?s+=Cr.transform(i[o]):s+=i[o]}return s}}const gue=t=>typeof t=="number"?0:Cr.test(t)?Cr.getAnimatableNone(t):t;function yue(t){const e=C9(t);return N9(t)(e.map(gue))}const pl={test:fue,parse:C9,createTransformer:N9,getAnimatableNone:yue};function H_(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function vue({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,c=2*r-a;i=H_(c,a,t+1/3),s=H_(c,a,t),o=H_(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function r0(t,e){return r=>r>0?e:t}const cr=(t,e,r)=>t+(e-t)*r,G_=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},xue=[nA,dc,nd],bue=t=>xue.find(e=>e.test(t));function NM(t){const e=bue(t);if(!e)return!1;let r=e.parse(t);return e===nd&&(r=vue(r)),r}const IM=(t,e)=>{const r=NM(t),n=NM(e);if(!r||!n)return r0(t,e);const i={...r};return s=>(i.red=G_(r.red,n.red,s),i.green=G_(r.green,n.green,s),i.blue=G_(r.blue,n.blue,s),i.alpha=cr(r.alpha,n.alpha,s),dc.transform(i))},iA=new Set(["none","hidden"]);function wue(t,e){return iA.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function _ue(t,e){return r=>cr(t,e,r)}function wI(t){return typeof t=="number"?_ue:typeof t=="string"?vI(t)?r0:Cr.test(t)?IM:Tue:Array.isArray(t)?I9:typeof t=="object"?Cr.test(t)?IM:Sue:r0}function I9(t,e){const r=[...t],n=r.length,i=t.map((s,o)=>wI(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function Sue(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=wI(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function Eue(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][n[s]],a=t.values[o]??0;r[i]=a,n[s]++}return r}const Tue=(t,e)=>{const r=pl.createTransformer(e),n=Bp(t),i=Bp(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?iA.has(t)&&!i.values.length||iA.has(e)&&!n.values.length?wue(t,e):Hm(I9(Eue(n,i),i.values),r):r0(t,e)};function k9(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?cr(t,e,r):wI(t)(t,e)}const Pue=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>nr.update(e,r),stop:()=>hl(e),now:()=>un.isProcessing?un.timestamp:ri.now()}},O9=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},n0=2e4;function _I(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<n0;)e+=r,n=t.next(e);return e>=n0?1/0:e}function Aue(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(_I(n),n0);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:Xs(i)}}const Cue=5;function j9(t,e,r){const n=Math.max(e-Cue,0);return f9(r-t(n),e-n)}const pr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},K_=.001;function Nue({duration:t=pr.duration,bounce:e=pr.bounce,velocity:r=pr.velocity,mass:n=pr.mass}){let i,s,o=1-e;o=ea(pr.minDamping,pr.maxDamping,o),t=ea(pr.minDuration,pr.maxDuration,Xs(t)),o<1?(i=u=>{const f=u*o,p=f*t,g=f-r,v=sA(u,o),w=Math.exp(-p);return K_-g/v*w},s=u=>{const p=u*o*t,g=p*r+r,v=Math.pow(o,2)*Math.pow(u,2)*t,w=Math.exp(-p),x=sA(Math.pow(u,2),o);return(-i(u)+K_>0?-1:1)*((g-v)*w)/x}):(i=u=>{const f=Math.exp(-u*t),p=(u-r)*t+1;return-K_+f*p},s=u=>{const f=Math.exp(-u*t),p=(r-u)*(t*t);return f*p});const a=5/t,c=kue(i,s,a);if(t=Ys(t),isNaN(c))return{stiffness:pr.stiffness,damping:pr.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const Iue=12;function kue(t,e,r){let n=r;for(let i=1;i<Iue;i++)n=n-t(n)/e(n);return n}function sA(t,e){return t*Math.sqrt(1-e*e)}const Oue=["duration","bounce"],jue=["stiffness","damping","mass"];function kM(t,e){return e.some(r=>t[r]!==void 0)}function Rue(t){let e={velocity:pr.velocity,stiffness:pr.stiffness,damping:pr.damping,mass:pr.mass,isResolvedFromDuration:!1,...t};if(!kM(t,jue)&&kM(t,Oue))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*ea(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:pr.mass,stiffness:i,damping:s}}else{const r=Nue(t);e={...e,...r,mass:pr.mass},e.isResolvedFromDuration=!0}return e}function i0(t=pr.visualDuration,e=pr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:u,mass:f,duration:p,velocity:g,isResolvedFromDuration:v}=Rue({...r,velocity:-Xs(r.velocity||0)}),w=g||0,x=u/(2*Math.sqrt(c*f)),_=o-s,P=Xs(Math.sqrt(c/f)),S=Math.abs(_)<5;n||(n=S?pr.restSpeed.granular:pr.restSpeed.default),i||(i=S?pr.restDelta.granular:pr.restDelta.default);let E;if(x<1){const N=sA(P,x);E=M=>{const I=Math.exp(-x*P*M);return o-I*((w+x*P*_)/N*Math.sin(N*M)+_*Math.cos(N*M))}}else if(x===1)E=N=>o-Math.exp(-P*N)*(_+(w+P*_)*N);else{const N=P*Math.sqrt(x*x-1);E=M=>{const I=Math.exp(-x*P*M),C=Math.min(N*M,300);return o-I*((w+x*P*_)*Math.sinh(C)+N*_*Math.cosh(C))/N}}const R={calculatedDuration:v&&p||null,next:N=>{const M=E(N);if(v)a.done=N>=p;else{let I=N===0?w:0;x<1&&(I=N===0?Ys(w):j9(E,N,M));const C=Math.abs(I)<=n,j=Math.abs(o-M)<=i;a.done=C&&j}return a.value=a.done?o:M,a},toString:()=>{const N=Math.min(_I(R),n0),M=O9(I=>R.next(N*I).value,N,30);return N+"ms "+M},toTransition:()=>{}};return R}i0.applyToOptions=t=>{const e=Aue(t,100,i0);return t.ease=e.ease,t.duration=Ys(e.duration),t.type="keyframes",t};function oA({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},v=C=>a!==void 0&&C<a||c!==void 0&&C>c,w=C=>a===void 0?c:c===void 0||Math.abs(a-C)<Math.abs(c-C)?a:c;let x=r*e;const _=p+x,P=o===void 0?_:o(_);P!==_&&(x=P-p);const S=C=>-x*Math.exp(-C/n),E=C=>P+S(C),R=C=>{const j=S(C),F=E(C);g.done=Math.abs(j)<=u,g.value=g.done?P:F};let N,M;const I=C=>{v(g.value)&&(N=C,M=i0({keyframes:[g.value,w(g.value)],velocity:j9(E,C,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return I(0),{calculatedDuration:null,next:C=>{let j=!1;return!M&&N===void 0&&(j=!0,R(C),I(C)),N!==void 0&&C>=N?M.next(C-N):(!j&&R(C),g)}}}function Mue(t,e,r){const n=[],i=r||ta.mix||k9,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Wi:e;a=Hm(c,a)}n.push(a)}return n}function Due(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(fI(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Mue(e,n,i),c=a.length,u=f=>{if(o&&f<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=Fp(t[p],t[p+1],f);return a[p](g)};return r?f=>u(ea(t[0],t[s-1],f)):u}function Lue(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Fp(0,e,n);t.push(cr(r,1,i))}}function $ue(t){const e=[0];return Lue(e,t.length-1),e}function Fue(t,e){return t.map(r=>r*e)}function Vue(t,e){return t.map(()=>e||w9).splice(0,t.length-1)}function gp({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Qce(n)?n.map(PM):PM(n),s={done:!1,value:e[0]},o=Fue(r&&r.length===e.length?r:$ue(e),t),a=Due(o,e,{ease:Array.isArray(i)?i:Vue(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const Bue=t=>t!==null;function SI(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(Bue),a=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const Uue={decay:oA,inertia:oA,tween:gp,keyframes:gp,spring:i0};function R9(t){typeof t.type=="string"&&(t.type=Uue[t.type])}class EI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const que=t=>t/100;class TI extends EI{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==ri.now()&&this.tick(ri.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;R9(e);const{type:r=gp,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const c=r||gp;c!==gp&&typeof a[0]!="number"&&(this.mixKeyframes=Hm(que,k9(a[0],a[1])),a=[0,100]);const u=c({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=_I(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:v,type:w,onUpdate:x,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const P=this.currentTime-u*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?P<0:P>i;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,R=n;if(p){const C=Math.min(this.currentTime,i)/a;let j=Math.floor(C),F=C%1;!F&&C>=1&&(F=1),F===1&&j--,j=Math.min(j,p+1),!!(j%2)&&(g==="reverse"?(F=1-F,v&&(F-=v/a)):g==="mirror"&&(R=o)),E=ea(0,1,F)*a}const N=S?{done:!1,value:f[0]}:R.next(E);s&&(N.value=s(N.value));let{done:M}=N;!S&&c!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return I&&w!==oA&&(N.value=SI(f,this.options,_,this.speed)),x&&x(N.value),I&&this.finish(),N}then(e,r){return this.finished.then(e,r)}get duration(){return Xs(this.calculatedDuration)}get time(){return Xs(this.currentTime)}set time(e){var r;e=Ys(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ri.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Xs(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=Pue,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ri.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function zue(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const fc=t=>t*180/Math.PI,aA=t=>{const e=fc(Math.atan2(t[1],t[0]));return lA(e)},Wue={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:aA,rotateZ:aA,skewX:t=>fc(Math.atan(t[1])),skewY:t=>fc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lA=t=>(t=t%360,t<0&&(t+=360),t),OM=aA,jM=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),RM=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Hue={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jM,scaleY:RM,scale:t=>(jM(t)+RM(t))/2,rotateX:t=>lA(fc(Math.atan2(t[6],t[5]))),rotateY:t=>lA(fc(Math.atan2(-t[2],t[0]))),rotateZ:OM,rotate:OM,skewX:t=>fc(Math.atan(t[4])),skewY:t=>fc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cA(t){return t.includes("scale")?1:0}function uA(t,e){if(!t||t==="none")return cA(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=Hue,i=r;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Wue,i=a}if(!i)return cA(e);const s=n[e],o=i[1].split(",").map(Kue);return typeof s=="function"?s(o):o[s]}const Gue=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return uA(r,e)};function Kue(t){return parseFloat(t.trim())}const Mf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Df=new Set(Mf),MM=t=>t===Rf||t===et,Yue=new Set(["x","y","z"]),Xue=Mf.filter(t=>!Yue.has(t));function Que(t){const e=[];return Xue.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const _c={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>uA(e,"x"),y:(t,{transform:e})=>uA(e,"y")};_c.translateX=_c.x;_c.translateY=_c.y;const Sc=new Set;let dA=!1,fA=!1,hA=!1;function M9(){if(fA){const t=Array.from(Sc).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Que(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var a;(a=n.getValue(s))==null||a.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}fA=!1,dA=!1,Sc.forEach(t=>t.complete(hA)),Sc.clear()}function D9(){Sc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fA=!0)})}function Jue(){hA=!0,D9(),M9(),hA=!1}class PI{constructor(e,r,n,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Sc.add(this),dA||(dA=!0,nr.read(D9),nr.resolveKeyframes(M9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const a=n.readValue(r,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}zue(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Sc.delete(this)}cancel(){this.state==="scheduled"&&(Sc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Zue=t=>t.startsWith("--");function ede(t,e,r){Zue(e)?t.style.setProperty(e,r):t.style[e]=r}const tde=hI(()=>window.ScrollTimeline!==void 0),rde={};function nde(t,e){const r=hI(t);return()=>rde[e]??r()}const L9=nde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tp=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,DM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tp([0,.65,.55,1]),circOut:tp([.55,0,1,.45]),backIn:tp([.31,.01,.66,-.59]),backOut:tp([.33,1.53,.69,.99])};function $9(t,e){if(t)return typeof t=="function"?L9()?O9(t,e):"ease-out":_9(t)?tp(t):Array.isArray(t)?t.map(r=>$9(r,e)||DM.easeOut):DM[t]}function ide(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const f={[e]:r};c&&(f.offset=c);const p=$9(a,i);Array.isArray(p)&&(f.easing=p);const g={delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),t.animate(f,g)}function F9(t){return typeof t=="function"&&"applyToOptions"in t}function sde({type:t,...e}){return F9(t)&&L9()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ode extends EI{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,fI(typeof e.type!="string");const u=sde(e);this.animation=ide(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=SI(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):ede(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Xs(Number(e))}get time(){return Xs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ys(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&tde()?(this.animation.timeline=e,Wi):r(this)}}const V9={anticipate:v9,backInOut:y9,circInOut:b9};function ade(t){return t in V9}function lde(t){typeof t.ease=="string"&&ade(t.ease)&&(t.ease=V9[t.ease])}const LM=10;class cde extends ode{constructor(e){lde(e),R9(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const a=new TI({...o,autoplay:!1}),c=Ys(this.finishedTime??this.time);r.setWithVelocity(a.sample(c-LM).value,a.sample(c).value,LM),a.stop()}}const $M=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pl.test(t)||t==="0")&&!t.startsWith("url("));function ude(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function dde(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=$M(i,e),a=$M(s,e);return!o||!a?!1:ude(t)||(r==="spring"||F9(r))&&n}function pA(t){t.duration=0,t.type}const fde=new Set(["opacity","clipPath","filter","transform"]),hde=hI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pde(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return hde()&&r&&fde.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&s!==0&&o!=="inertia"}const mde=40;class gde extends EI{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:f,...p}){var w;super(),this.stop=()=>{var x,_;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=ri.now();const g={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:u,element:f,...p},v=(f==null?void 0:f.KeyframeResolver)||PI;this.keyframeResolver=new v(a,(x,_,P)=>this.onKeyframesResolved(x,_,g,!P),c,u,f),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:f}=n;this.resolvedAt=ri.now(),dde(e,s,o,a)||((ta.instantAnimations||!c)&&(f==null||f(SI(e,n,r))),e[0]=e[e.length-1],pA(n),n.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>mde?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!u&&pde(g)?new cde({...g,element:g.motionValue.owner.current}):new TI(g);v.finished.then(()=>this.notifyFinished()).catch(Wi),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Jue()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const yde=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vde(t){const e=yde.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function B9(t,e,r=1){const[n,i]=vde(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return c9(o)?parseFloat(o):o}return vI(i)?B9(i,e,r+1):i}function AI(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const U9=new Set(["width","height","top","left","right","bottom",...Mf]),xde={test:t=>t==="auto",parse:t=>t},q9=t=>e=>e.test(t),z9=[Rf,et,Qs,$a,uue,cue,xde],FM=t=>z9.find(q9(t));function bde(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||d9(t):!0}const wde=new Set(["brightness","contrast","saturate","opacity"]);function _de(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(xI)||[];if(!n)return t;const i=r.replace(n,"");let s=wde.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const Sde=/\b([a-z-]*)\(.*?\)/gu,mA={...pl,getAnimatableNone:t=>{const e=t.match(Sde);return e?e.map(_de).join(" "):t}},VM={...Rf,transform:Math.round},Ede={rotate:$a,rotateX:$a,rotateY:$a,rotateZ:$a,scale:Uy,scaleX:Uy,scaleY:Uy,scaleZ:Uy,skew:$a,skewX:$a,skewY:$a,distance:et,translateX:et,translateY:et,translateZ:et,x:et,y:et,z:et,perspective:et,transformPerspective:et,opacity:Vp,originX:AM,originY:AM,originZ:et},CI={borderWidth:et,borderTopWidth:et,borderRightWidth:et,borderBottomWidth:et,borderLeftWidth:et,borderRadius:et,radius:et,borderTopLeftRadius:et,borderTopRightRadius:et,borderBottomRightRadius:et,borderBottomLeftRadius:et,width:et,maxWidth:et,height:et,maxHeight:et,top:et,right:et,bottom:et,left:et,padding:et,paddingTop:et,paddingRight:et,paddingBottom:et,paddingLeft:et,margin:et,marginTop:et,marginRight:et,marginBottom:et,marginLeft:et,backgroundPositionX:et,backgroundPositionY:et,...Ede,zIndex:VM,fillOpacity:Vp,strokeOpacity:Vp,numOctaves:VM},Tde={...CI,color:Cr,backgroundColor:Cr,outlineColor:Cr,fill:Cr,stroke:Cr,borderColor:Cr,borderTopColor:Cr,borderRightColor:Cr,borderBottomColor:Cr,borderLeftColor:Cr,filter:mA,WebkitFilter:mA},W9=t=>Tde[t];function H9(t,e){let r=W9(t);return r!==mA&&(r=pl),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Pde=new Set(["auto","none","0"]);function Ade(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!Pde.has(s)&&Bp(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=H9(r,i)}class Cde extends PI{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),vI(u))){const f=B9(u,r.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!U9.has(n)||e.length!==2)return;const[i,s]=e,o=FM(i),a=FM(s);if(o!==a)if(MM(o)&&MM(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else _c[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||bde(e[i]))&&n.push(i);n.length&&Ade(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_c[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=_c[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Nde(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const G9=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function K9(t){return u9(t)&&"offsetHeight"in t}const BM=30,Ide=t=>!isNaN(parseFloat(t));class kde{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=ri.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=ri.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ide(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new pI);const n=this.events[e].add(r);return e==="change"?()=>{n(),nr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ri.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>BM)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,BM);return f9(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qd(t,e){return new kde(t,e)}const{schedule:NI}=S9(queueMicrotask,!1),hs={x:!1,y:!1};function Y9(){return hs.x||hs.y}function Ode(t){return t==="x"||t==="y"?hs[t]?null:(hs[t]=!0,()=>{hs[t]=!1}):hs.x||hs.y?null:(hs.x=hs.y=!0,()=>{hs.x=hs.y=!1})}function X9(t,e){const r=Nde(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function UM(t){return!(t.pointerType==="touch"||Y9())}function jde(t,e,r={}){const[n,i,s]=X9(t,r),o=a=>{if(!UM(a))return;const{target:c}=a,u=e(c,a);if(typeof u!="function"||!c)return;const f=p=>{UM(p)&&(u(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Q9=(t,e)=>e?t===e?!0:Q9(t,e.parentElement):!1,II=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Rde=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Mde(t){return Rde.has(t.tagName)||t.tabIndex!==-1}const Sv=new WeakSet;function qM(t){return e=>{e.key==="Enter"&&t(e)}}function Y_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Dde=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=qM(()=>{if(Sv.has(r))return;Y_(r,"down");const i=qM(()=>{Y_(r,"up")}),s=()=>Y_(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function zM(t){return II(t)&&!Y9()}function Lde(t,e,r={}){const[n,i,s]=X9(t,r),o=a=>{const c=a.currentTarget;if(!zM(a))return;Sv.add(c);const u=e(c,a),f=(v,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),Sv.has(c)&&Sv.delete(c),zM(v)&&typeof u=="function"&&u(v,{success:w})},p=v=>{f(v,c===window||c===document||r.useGlobalTarget||Q9(c,v.target))},g=v=>{f(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return n.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),K9(a)&&(a.addEventListener("focus",u=>Dde(u,i)),!Mde(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function J9(t){return u9(t)&&"ownerSVGElement"in t}function $de(t){return J9(t)&&t.tagName==="svg"}const Pn=t=>!!(t&&t.getVelocity),Fde=[...z9,Cr,pl],Vde=t=>Fde.find(q9(t)),kI=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Bde extends T.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=K9(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ude({children:t,isPresent:e,anchorX:r,root:n}){const i=T.useId(),s=T.useRef(null),o=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=T.useContext(kI);return T.useInsertionEffect(()=>{const{width:c,height:u,top:f,left:p,right:g}=o.current;if(e||!s.current||!c||!u)return;const v=r==="left"?`left: ${p}`:`right: ${g}`;s.current.dataset.motionPopId=i;const w=document.createElement("style");a&&(w.nonce=a);const x=n??document.head;return x.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(w)&&x.removeChild(w)}},[e]),h.jsx(Bde,{isPresent:e,childRef:s,sizeRef:o,children:T.cloneElement(t,{ref:s})})}const qde=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:c})=>{const u=lI(zde),f=T.useId();let p=!0,g=T.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:v=>{u.set(v,!0);for(const w of u.values())if(!w)return;n&&n()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[r,u,n]);return s&&p&&(g={...g}),T.useMemo(()=>{u.forEach((v,w)=>u.set(w,!1))},[r]),T.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(t=h.jsx(Ude,{isPresent:r,anchorX:a,root:c,children:t})),h.jsx(Jx.Provider,{value:g,children:t})};function zde(){return new Map}function Z9(t=!0){const e=T.useContext(Jx);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=T.useId();T.useEffect(()=>{if(t)return i(s)},[t]);const o=T.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const qy=t=>t.key||"";function WM(t){const e=[];return T.Children.forEach(t,r=>{T.isValidElement(r)&&e.push(r)}),e}const Wde=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[u,f]=Z9(o),p=T.useMemo(()=>WM(t),[t]),g=o&&!u?[]:p.map(qy),v=T.useRef(!0),w=T.useRef(p),x=lI(()=>new Map),[_,P]=T.useState(p),[S,E]=T.useState(p);l9(()=>{v.current=!1,w.current=p;for(let M=0;M<S.length;M++){const I=qy(S[M]);g.includes(I)?x.delete(I):x.get(I)!==!0&&x.set(I,!1)}},[S,g.length,g.join("-")]);const R=[];if(p!==_){let M=[...p];for(let I=0;I<S.length;I++){const C=S[I],j=qy(C);g.includes(j)||(M.splice(I,0,C),R.push(C))}return s==="wait"&&R.length&&(M=R),E(WM(M)),P(p),null}const{forceRender:N}=T.useContext(aI);return h.jsx(h.Fragment,{children:S.map(M=>{const I=qy(M),C=o&&!u?!1:p===S||g.includes(I),j=()=>{if(x.has(I))x.set(I,!0);else return;let F=!0;x.forEach(L=>{L||(F=!1)}),F&&(N==null||N(),E(w.current),o&&(f==null||f()),n&&n())};return h.jsx(qde,{isPresent:C,initial:!v.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:C?void 0:j,anchorX:a,children:M},I)})})},e8=T.createContext({strict:!1}),HM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zd={};for(const t in HM)zd[t]={isEnabled:e=>HM[t].some(r=>!!e[r])};function Hde(t){for(const e in t)zd[e]={...zd[e],...t[e]}}const Gde=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function s0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Gde.has(t)}let t8=t=>!s0(t);function Kde(t){typeof t=="function"&&(t8=e=>e.startsWith("on")?!s0(e):t(e))}try{Kde(require("@emotion/is-prop-valid").default)}catch{}function Yde(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(t8(i)||r===!0&&s0(i)||!e&&!s0(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const Zx=T.createContext({});function eb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Up(t){return typeof t=="string"||Array.isArray(t)}const OI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jI=["initial",...OI];function tb(t){return eb(t.animate)||jI.some(e=>Up(t[e]))}function r8(t){return!!(tb(t)||t.variants)}function Xde(t,e){if(tb(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Up(r)?r:void 0,animate:Up(n)?n:void 0}}return t.inherit!==!1?e:{}}function Qde(t){const{initial:e,animate:r}=Xde(t,T.useContext(Zx));return T.useMemo(()=>({initial:e,animate:r}),[GM(e),GM(r)])}function GM(t){return Array.isArray(t)?t.join(" "):t}const qp={};function Jde(t){for(const e in t)qp[e]=t[e],yI(e)&&(qp[e].isCSSVariable=!0)}function n8(t,{layout:e,layoutId:r}){return Df.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!qp[t]||t==="opacity")}const Zde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},efe=Mf.length;function tfe(t,e,r){let n="",i=!0;for(let s=0;s<efe;s++){const o=Mf[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||r){const u=G9(a,CI[o]);if(!c){i=!1;const f=Zde[o]||o;n+=`${f}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function RI(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(Df.has(c)){o=!0;continue}else if(yI(c)){i[c]=u;continue}else{const f=G9(u,CI[c]);c.startsWith("origin")?(a=!0,s[c]=f):n[c]=f}}if(e.transform||(o||r?n.transform=tfe(e,t.transform,r):n.transform&&(n.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:f=0}=s;n.transformOrigin=`${c} ${u} ${f}`}}const MI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i8(t,e,r){for(const n in e)!Pn(e[n])&&!n8(n,r)&&(t[n]=e[n])}function rfe({transformTemplate:t},e){return T.useMemo(()=>{const r=MI();return RI(r,e,t),Object.assign({},r.vars,r.style)},[e])}function nfe(t,e){const r=t.style||{},n={};return i8(n,r,t),Object.assign(n,rfe(t,e)),n}function ife(t,e){const r={},n=nfe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const sfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ofe={offset:"strokeDashoffset",array:"strokeDasharray"};function afe(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?sfe:ofe;t[s.offset]=et.transform(-n);const o=et.transform(e),a=et.transform(r);t[s.array]=`${o} ${a}`}function s8(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},c,u,f){if(RI(t,a,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),i!==void 0&&afe(p,i,s,o,!1)}const o8=()=>({...MI(),attrs:{}}),a8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function lfe(t,e,r,n){const i=T.useMemo(()=>{const s=o8();return s8(s,e,a8(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};i8(s,t.style,t),i.style={...s,...i.style}}return i}const cfe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function DI(t){return typeof t!="string"||t.includes("-")?!1:!!(cfe.indexOf(t)>-1||/[A-Z]/u.test(t))}function ufe(t,e,r,{latestValues:n},i,s=!1){const a=(DI(t)?lfe:ife)(e,n,i,t),c=Yde(e,typeof t=="string",s),u=t!==T.Fragment?{...c,...a,ref:r}:{},{children:f}=e,p=T.useMemo(()=>Pn(f)?f.get():f,[f]);return T.createElement(t,{...u,children:p})}function KM(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function LI(t,e,r,n){if(typeof e=="function"){const[i,s]=KM(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=KM(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function Ev(t){return Pn(t)?t.get():t}function dfe({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:ffe(r,n,i,t),renderState:e()}}function ffe(t,e,r,n){const i={},s=n(t,{});for(const g in s)i[g]=Ev(s[g]);let{initial:o,animate:a}=t;const c=tb(t),u=r8(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!eb(p)){const g=Array.isArray(p)?p:[p];for(let v=0;v<g.length;v++){const w=LI(t,g[v]);if(w){const{transitionEnd:x,transition:_,...P}=w;for(const S in P){let E=P[S];if(Array.isArray(E)){const R=f?E.length-1:0;E=E[R]}E!==null&&(i[S]=E)}for(const S in x)i[S]=x[S]}}}return i}const l8=t=>(e,r)=>{const n=T.useContext(Zx),i=T.useContext(Jx),s=()=>dfe(t,e,n,i);return r?s():lI(s)};function $I(t,e,r){var s;const{style:n}=t,i={};for(const o in n)(Pn(n[o])||e.style&&Pn(e.style[o])||n8(o,t)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=n[o]);return i}const hfe=l8({scrapeMotionValuesFromProps:$I,createRenderState:MI});function c8(t,e,r){const n=$I(t,e,r);for(const i in t)if(Pn(t[i])||Pn(e[i])){const s=Mf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const pfe=l8({scrapeMotionValuesFromProps:c8,createRenderState:o8}),mfe=Symbol.for("motionComponentSymbol");function id(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gfe(t,e,r){return T.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):id(r)&&(r.current=n))},[e])}const FI=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yfe="framerAppearId",u8="data-"+FI(yfe),d8=T.createContext({});function vfe(t,e,r,n,i){var x,_;const{visualElement:s}=T.useContext(Zx),o=T.useContext(e8),a=T.useContext(Jx),c=T.useContext(kI).reducedMotion,u=T.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:s,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const f=u.current,p=T.useContext(d8);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&xfe(u.current,r,i,p);const g=T.useRef(!1);T.useInsertionEffect(()=>{f&&g.current&&f.update(r,a)});const v=r[u8],w=T.useRef(!!v&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,v))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,v)));return l9(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),T.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,v)}),w.current=!1),f.enteringChildren=void 0)}),f}function xfe(t,e,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:f8(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&id(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:u})}function f8(t){if(t)return t.options.allowProjection!==!1?t.projection:f8(t.parent)}function X_(t,{forwardMotionProps:e=!1}={},r,n){r&&Hde(r);const i=DI(t)?pfe:hfe;function s(a,c){let u;const f={...T.useContext(kI),...a,layoutId:bfe(a)},{isStatic:p}=f,g=Qde(a),v=i(a,p);if(!p&&cI){wfe();const w=_fe(f);u=w.MeasureLayout,g.visualElement=vfe(t,v,f,n,w.ProjectionNode)}return h.jsxs(Zx.Provider,{value:g,children:[u&&g.visualElement?h.jsx(u,{visualElement:g.visualElement,...f}):null,ufe(t,a,gfe(v,g.visualElement,c),v,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=T.forwardRef(s);return o[mfe]=t,o}function bfe({layoutId:t}){const e=T.useContext(aI).id;return e&&t!==void 0?e+"-"+t:t}function wfe(t,e){T.useContext(e8).strict}function _fe(t){const{drag:e,layout:r}=zd;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Sfe(t,e){if(typeof Proxy>"u")return X_;const r=new Map,n=(s,o)=>X_(s,o,t,e),i=(s,o)=>n(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,X_(o,void 0,t,e)),r.get(o))})}function h8({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Efe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Tfe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Q_(t){return t===void 0||t===1}function gA({scale:t,scaleX:e,scaleY:r}){return!Q_(t)||!Q_(e)||!Q_(r)}function tc(t){return gA(t)||p8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function p8(t){return YM(t.x)||YM(t.y)}function YM(t){return t&&t!=="0%"}function o0(t,e,r){const n=t-r,i=e*n;return r+i}function XM(t,e,r,n,i){return i!==void 0&&(t=o0(t,i,n)),o0(t,r,n)+e}function yA(t,e=0,r=1,n,i){t.min=XM(t.min,e,r,n,i),t.max=XM(t.max,e,r,n,i)}function m8(t,{x:e,y:r}){yA(t.x,e.translate,e.scale,e.originPoint),yA(t.y,r.translate,r.scale,r.originPoint)}const QM=.999999999999,JM=1.0000000000001;function Pfe(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&od(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,m8(t,o)),n&&tc(s.latestValues)&&od(t,s.latestValues))}e.x<JM&&e.x>QM&&(e.x=1),e.y<JM&&e.y>QM&&(e.y=1)}function sd(t,e){t.min=t.min+e,t.max=t.max+e}function ZM(t,e,r,n,i=.5){const s=cr(t.min,t.max,i);yA(t,e,r,s,n)}function od(t,e){ZM(t.x,e.x,e.scaleX,e.scale,e.originX),ZM(t.y,e.y,e.scaleY,e.scale,e.originY)}function g8(t,e){return h8(Tfe(t.getBoundingClientRect(),e))}function Afe(t,e,r){const n=g8(t,r),{scroll:i}=e;return i&&(sd(n.x,i.offset.x),sd(n.y,i.offset.y)),n}const eD=()=>({translate:0,scale:1,origin:0,originPoint:0}),ad=()=>({x:eD(),y:eD()}),tD=()=>({min:0,max:0}),vr=()=>({x:tD(),y:tD()}),vA={current:null},y8={current:!1};function Cfe(){if(y8.current=!0,!!cI)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vA.current=t.matches;t.addEventListener("change",e),e()}else vA.current=!1}const Nfe=new WeakMap;function Ife(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Pn(i))t.addValue(n,i);else if(Pn(s))t.addValue(n,qd(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,qd(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const rD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kfe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=PI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=ri.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,nr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=tb(r),this.isVariantNode=r8(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const v=p[g];c[g]!==void 0&&Pn(v)&&v.set(c[g])}}mount(e){var r;this.current=e,Nfe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),y8.current||Cfe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vA.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),hl(this.notifyUpdate),hl(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Df.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&nr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zd){const r=zd[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<rD.length;n++){const i=rD[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Ife(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=qd(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(c9(n)||d9(n))?n=parseFloat(n):!Vde(n)&&pl.test(r)&&(n=H9(e,r)),this.setBaseTarget(e,Pn(n)?n.get():n)),Pn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=LI(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Pn(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new pI),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){NI.render(this.render)}}class v8 extends kfe{constructor(){super(...arguments),this.KeyframeResolver=Cde}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function x8(t,{style:e,vars:r},n,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function Ofe(t){return window.getComputedStyle(t)}class jfe extends v8{constructor(){super(...arguments),this.type="html",this.renderInstance=x8}readValueFromInstance(e,r){var n;if(Df.has(r))return(n=this.projection)!=null&&n.isProjecting?cA(r):Gue(e,r);{const i=Ofe(e),s=(yI(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return g8(e,r)}build(e,r,n){RI(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return $I(e,r,n)}}const b8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Rfe(t,e,r,n){x8(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(b8.has(i)?i:FI(i),e.attrs[i])}class Mfe extends v8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Df.has(r)){const n=W9(r);return n&&n.default||0}return r=b8.has(r)?r:FI(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return c8(e,r,n)}build(e,r,n){s8(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){Rfe(e,r,n,i)}mount(e){this.isSVGTag=a8(e.tagName),super.mount(e)}}const Dfe=(t,e)=>DI(t)?new Mfe(e):new jfe(e,{allowProjection:t!==T.Fragment});function wd(t,e,r){const n=t.getProps();return LI(n,e,r!==void 0?r:n.custom,t)}const xA=t=>Array.isArray(t);function Lfe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,qd(r))}function $fe(t){return xA(t)?t[t.length-1]||0:t}function Ffe(t,e){const r=wd(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const a=$fe(s[o]);Lfe(t,o,a)}}function Vfe(t){return!!(Pn(t)&&t.add)}function bA(t,e){const r=t.getValue("willChange");if(Vfe(r))return r.add(e);if(!r&&ta.WillChange){const n=new ta.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function w8(t){return t.props[u8]}const Bfe=t=>t!==null;function Ufe(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(Bfe),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const qfe={type:"spring",stiffness:500,damping:25,restSpeed:10},zfe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Wfe={type:"keyframes",duration:.8},Hfe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gfe=(t,{keyframes:e})=>e.length>2?Wfe:Df.has(t)?t.startsWith("scale")?zfe(e[1]):qfe:Hfe;function Kfe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const VI=(t,e,r,n={},i,s)=>o=>{const a=AI(n,t)||{},c=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Ys(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:g=>{e.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Kfe(a)||Object.assign(f,Gfe(t,f)),f.duration&&(f.duration=Ys(f.duration)),f.repeatDelay&&(f.repeatDelay=Ys(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(pA(f),f.delay===0&&(p=!0)),(ta.instantAnimations||ta.skipAnimations)&&(p=!0,pA(f),f.delay=0),f.allowFlatten=!a.type&&!a.ease,p&&!s&&e.get()!==void 0){const g=Ufe(f.keyframes,a);if(g!==void 0){nr.update(()=>{f.onUpdate(g),f.onComplete()});return}}return a.isSync?new TI(f):new gde(f)};function Yfe({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function _8(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;n&&(s=n);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const p=t.getValue(f,t.latestValues[f]??null),g=a[f];if(g===void 0||u&&Yfe(u,f))continue;const v={delay:r,...AI(s||{},f)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===w&&!v.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const P=w8(t);if(P){const S=window.MotionHandoffAnimation(P,f,nr);S!==null&&(v.startTime=S,x=!0)}}bA(t,f),p.start(VI(f,p,g,t.shouldReduceMotion&&U9.has(f)?{type:!1}:v,t,x));const _=p.animation;_&&c.push(_)}return o&&Promise.all(c).then(()=>{nr.update(()=>{o&&Ffe(t,o)})}),c}function S8(t,e,r,n=0,i=1){const s=Array.from(t).sort((u,f)=>u.sortNodePosition(f)).indexOf(e),o=t.size,a=(o-1)*n;return typeof r=="function"?r(s,o):i===1?s*n:a-s*n}function wA(t,e,r={}){var c;const n=wd(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(_8(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=i;return Xfe(t,e,u,f,p,g,r)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,f]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>f())}else return Promise.all([s(),o(r.delay)])}function Xfe(t,e,r=0,n=0,i=0,s=1,o){const a=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),a.push(wA(c,e,{...o,delay:r+(typeof n=="function"?0:n)+S8(t.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function Qfe(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>wA(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=wA(t,e,r);else{const i=typeof e=="function"?wd(t,e,r.custom):e;n=Promise.all(_8(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function E8(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Jfe=jI.length;function T8(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?T8(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Jfe;r++){const n=jI[r],i=t.props[n];(Up(i)||i===!1)&&(e[n]=i)}return e}const Zfe=[...OI].reverse(),ehe=OI.length;function the(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Qfe(t,r,n)))}function rhe(t){let e=the(t),r=nD(),n=!0;const i=c=>(u,f)=>{var g;const p=wd(t,f,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:v,transitionEnd:w,...x}=p;u={...u,...x,...w}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,f=T8(t.parent)||{},p=[],g=new Set;let v={},w=1/0;for(let _=0;_<ehe;_++){const P=Zfe[_],S=r[P],E=u[P]!==void 0?u[P]:f[P],R=Up(E),N=P===c?S.isActive:null;N===!1&&(w=_);let M=E===f[P]&&E!==u[P]&&R;if(M&&n&&t.manuallyAnimateOnMount&&(M=!1),S.protectedKeys={...v},!S.isActive&&N===null||!E&&!S.prevProp||eb(E)||typeof E=="boolean")continue;const I=nhe(S.prevProp,E);let C=I||P===c&&S.isActive&&!M&&R||_>w&&R,j=!1;const F=Array.isArray(E)?E:[E];let L=F.reduce(i(P),{});N===!1&&(L={});const{prevResolvedValues:V={}}=S,D={...V,...L},z=K=>{C=!0,g.has(K)&&(j=!0,g.delete(K)),S.needsAnimating[K]=!0;const U=t.getValue(K);U&&(U.liveStyle=!1)};for(const K in D){const U=L[K],te=V[K];if(v.hasOwnProperty(K))continue;let Q=!1;xA(U)&&xA(te)?Q=!E8(U,te):Q=U!==te,Q?U!=null?z(K):g.add(K):U!==void 0&&g.has(K)?z(K):S.protectedKeys[K]=!0}S.prevProp=E,S.prevResolvedValues=L,S.isActive&&(v={...v,...L}),n&&t.blockInitialAnimation&&(C=!1);const H=M&&I;C&&(!H||j)&&p.push(...F.map(K=>{const U={type:P};if(typeof K=="string"&&n&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:te}=t,Q=wd(te,K);if(te.enteringChildren&&Q){const{delayChildren:W}=Q.transition||{};U.delay=S8(te.enteringChildren,t,W)}}return{animation:K,options:U}}))}if(g.size){const _={};if(typeof u.initial!="boolean"){const P=wd(t,Array.isArray(u.initial)?u.initial[0]:u.initial);P&&P.transition&&(_.transition=P.transition)}g.forEach(P=>{const S=t.getBaseTarget(P),E=t.getValue(P);E&&(E.liveStyle=!0),_[P]=S??null}),p.push({animation:_})}let x=!!p.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(p):Promise.resolve()}function a(c,u){var p;if(r[c].isActive===u)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var v;return(v=g.animationState)==null?void 0:v.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r,reset:()=>{r=nD(),n=!0}}}function nhe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!E8(e,t):!1}function Kl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nD(){return{animate:Kl(!0),whileInView:Kl(),whileHover:Kl(),whileTap:Kl(),whileDrag:Kl(),whileFocus:Kl(),exit:Kl()}}class vl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ihe extends vl{constructor(e){super(e),e.animationState||(e.animationState=rhe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();eb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let she=0;class ohe extends vl{constructor(){super(...arguments),this.id=she++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ahe={animation:{Feature:ihe},exit:{Feature:ohe}};function zp(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Ym(t){return{point:{x:t.pageX,y:t.pageY}}}const lhe=t=>e=>II(e)&&t(e,Ym(e));function yp(t,e,r,n){return zp(t,e,lhe(r),n)}const P8=1e-4,che=1-P8,uhe=1+P8,A8=.01,dhe=0-A8,fhe=0+A8;function Fn(t){return t.max-t.min}function hhe(t,e,r){return Math.abs(t-e)<=r}function iD(t,e,r,n=.5){t.origin=n,t.originPoint=cr(e.min,e.max,t.origin),t.scale=Fn(r)/Fn(e),t.translate=cr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=che&&t.scale<=uhe||isNaN(t.scale))&&(t.scale=1),(t.translate>=dhe&&t.translate<=fhe||isNaN(t.translate))&&(t.translate=0)}function vp(t,e,r,n){iD(t.x,e.x,r.x,n?n.originX:void 0),iD(t.y,e.y,r.y,n?n.originY:void 0)}function sD(t,e,r){t.min=r.min+e.min,t.max=t.min+Fn(e)}function phe(t,e,r){sD(t.x,e.x,r.x),sD(t.y,e.y,r.y)}function oD(t,e,r){t.min=e.min-r.min,t.max=t.min+Fn(e)}function xp(t,e,r){oD(t.x,e.x,r.x),oD(t.y,e.y,r.y)}function $i(t){return[t("x"),t("y")]}const C8=({current:t})=>t?t.ownerDocument.defaultView:null,aD=(t,e)=>Math.abs(t-e);function mhe(t,e){const r=aD(t.x,e.x),n=aD(t.y,e.y);return Math.sqrt(r**2+n**2)}class N8{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Z_(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=mhe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:x}=g,{timestamp:_}=un;this.history.push({...x,timestamp:_});const{onStart:P,onMove:S}=this.handlers;v||(P&&P(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=J_(v,this.transformPagePoint),nr.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Z_(g.type==="pointercancel"?this.lastMoveEventInfo:J_(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,P),x&&x(g,P)},!II(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const a=Ym(e),c=J_(a,this.transformPagePoint),{point:u}=c,{timestamp:f}=un;this.history=[{...u,timestamp:f}];const{onSessionStart:p}=r;p&&p(e,Z_(c,this.history)),this.removeListeners=Hm(yp(this.contextWindow,"pointermove",this.handlePointerMove),yp(this.contextWindow,"pointerup",this.handlePointerUp),yp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hl(this.updatePoint)}}function J_(t,e){return e?{point:e(t.point)}:t}function lD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Z_({point:t},e){return{point:t,delta:lD(t,I8(e)),offset:lD(t,ghe(e)),velocity:yhe(e,.1)}}function ghe(t){return t[0]}function I8(t){return t[t.length-1]}function yhe(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=I8(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Ys(e)));)r--;if(!n)return{x:0,y:0};const s=Xs(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vhe(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?cr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?cr(r,t,n.max):Math.min(t,r)),t}function cD(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function xhe(t,{top:e,left:r,bottom:n,right:i}){return{x:cD(t.x,r,i),y:cD(t.y,e,n)}}function uD(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function bhe(t,e){return{x:uD(t.x,e.x),y:uD(t.y,e.y)}}function whe(t,e){let r=.5;const n=Fn(t),i=Fn(e);return i>n?r=Fp(e.min,e.max-n,t.min):n>i&&(r=Fp(t.min,t.max-i,e.min)),ea(0,1,r)}function _he(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const _A=.35;function She(t=_A){return t===!1?t=0:t===!0&&(t=_A),{x:dD(t,"left","right"),y:dD(t,"top","bottom")}}function dD(t,e,r){return{min:fD(t,e),max:fD(t,r)}}function fD(t,e){return typeof t=="number"?t:t[e]||0}const Ehe=new WeakMap;class The{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ym(p).point)},o=(p,g)=>{const{drag:v,dragPropagation:w,onDragStart:x}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ode(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$i(P=>{let S=this.getAxisMotionValue(P).get()||0;if(Qs.test(S)){const{projection:E}=this.visualElement;if(E&&E.layout){const R=E.layout.layoutBox[P];R&&(S=Fn(R)*(parseFloat(S)/100))}}this.originPoint[P]=S}),x&&nr.postRender(()=>x(p,g)),bA(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},a=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:x,onDrag:_}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:P}=g;if(w&&this.currentDirection===null){this.currentDirection=Phe(P),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,P),this.updateAxis("y",g.point,P),this.visualElement.render(),_&&_(p,g)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>$i(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new N8(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:C8(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&nr.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!zy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=vhe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&id(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=xhe(n.layoutBox,e):this.constraints=!1,this.elastic=She(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&$i(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_he(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!id(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Afe(n,i.root,this.visualElement.getTransformPagePoint());let o=bhe(i.layout.layoutBox,s);if(r){const a=r(Efe(o));this.hasMutatedConstraints=!!a,a&&(o=h8(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=$i(f=>{if(!zy(f,r,this.currentDirection))return;let p=c&&c[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,w={type:"inertia",velocity:n?e[f]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,w)});return Promise.all(u).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return bA(this.visualElement,e),n.start(VI(e,n,0,r,this.visualElement,!1))}stopAnimation(){$i(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$i(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){$i(r=>{const{drag:n}=this.getProps();if(!zy(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(e[r]-cr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!id(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};$i(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=whe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),$i(o=>{if(!zy(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(cr(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Ehe.set(this.visualElement,this);const e=this.visualElement.current,r=yp(e,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();id(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),nr.read(n);const o=zp(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&($i(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=_A,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function zy(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Phe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Ahe extends vl{constructor(e){super(e),this.removeGroupControls=Wi,this.removeListeners=Wi,this.controls=new The(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wi}unmount(){this.removeGroupControls(),this.removeListeners()}}const hD=t=>(e,r)=>{t&&nr.postRender(()=>t(e,r))};class Che extends vl{constructor(){super(...arguments),this.removePointerDownListener=Wi}onPointerDown(e){this.session=new N8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:hD(e),onStart:hD(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&nr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=yp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(et.test(t))t=parseFloat(t);else return t;const r=pD(t,e.target.x),n=pD(t,e.target.y);return`${r}% ${n}%`}},Nhe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=pl.parse(t);if(i.length>5)return n;const s=pl.createTransformer(t),o=typeof i[0]!="number"?1:0,a=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const u=cr(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let e1=!1;class Ihe extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;Jde(khe),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),e1&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Tv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,e1=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||nr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),NI.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;e1=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function k8(t){const[e,r]=Z9(),n=T.useContext(aI);return h.jsx(Ihe,{...t,layoutGroup:n,switchLayoutGroup:T.useContext(d8),isPresent:e,safeToRemove:r})}const khe={borderRadius:{...Mh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mh,borderTopRightRadius:Mh,borderBottomLeftRadius:Mh,borderBottomRightRadius:Mh,boxShadow:Nhe};function Ohe(t,e,r){const n=Pn(t)?t:qd(t);return n.start(VI("",n,e,r)),n.animation}const jhe=(t,e)=>t.depth-e.depth;class Rhe{constructor(){this.children=[],this.isDirty=!1}add(e){uI(this.children,e),this.isDirty=!0}remove(e){dI(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jhe),this.isDirty=!1,this.children.forEach(e)}}function Mhe(t,e){const r=ri.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(hl(n),t(s-e))};return nr.setup(n,!0),()=>hl(n)}const O8=["TopLeft","TopRight","BottomLeft","BottomRight"],Dhe=O8.length,mD=t=>typeof t=="string"?parseFloat(t):t,gD=t=>typeof t=="number"||et.test(t);function Lhe(t,e,r,n,i,s){i?(t.opacity=cr(0,r.opacity??1,$he(n)),t.opacityExit=cr(e.opacity??1,0,Fhe(n))):s&&(t.opacity=cr(e.opacity??1,r.opacity??1,n));for(let o=0;o<Dhe;o++){const a=`border${O8[o]}Radius`;let c=yD(e,a),u=yD(r,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||gD(c)===gD(u)?(t[a]=Math.max(cr(mD(c),mD(u),n),0),(Qs.test(u)||Qs.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||r.rotate)&&(t.rotate=cr(e.rotate||0,r.rotate||0,n))}function yD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $he=j8(0,.5,x9),Fhe=j8(.5,.95,Wi);function j8(t,e,r){return n=>n<t?0:n>e?1:r(Fp(t,e,n))}function vD(t,e){t.min=e.min,t.max=e.max}function Ri(t,e){vD(t.x,e.x),vD(t.y,e.y)}function xD(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function bD(t,e,r,n,i){return t-=e,t=o0(t,1/r,n),i!==void 0&&(t=o0(t,1/i,n)),t}function Vhe(t,e=0,r=1,n=.5,i,s=t,o=t){if(Qs.test(e)&&(e=parseFloat(e),e=cr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=cr(s.min,s.max,n);t===s&&(a-=e),t.min=bD(t.min,e,r,a,i),t.max=bD(t.max,e,r,a,i)}function wD(t,e,[r,n,i],s,o){Vhe(t,e[r],e[n],e[i],e.scale,s,o)}const Bhe=["x","scaleX","originX"],Uhe=["y","scaleY","originY"];function _D(t,e,r,n){wD(t.x,e,Bhe,r?r.x:void 0,n?n.x:void 0),wD(t.y,e,Uhe,r?r.y:void 0,n?n.y:void 0)}function SD(t){return t.translate===0&&t.scale===1}function R8(t){return SD(t.x)&&SD(t.y)}function ED(t,e){return t.min===e.min&&t.max===e.max}function qhe(t,e){return ED(t.x,e.x)&&ED(t.y,e.y)}function TD(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function M8(t,e){return TD(t.x,e.x)&&TD(t.y,e.y)}function PD(t){return Fn(t.x)/Fn(t.y)}function AD(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class zhe{constructor(){this.members=[]}add(e){uI(this.members,e),e.scheduleRender()}remove(e){if(dI(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Whe(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:p,rotateY:g,skewX:v,skewY:w}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),v&&(n+=`skewX(${v}deg) `),w&&(n+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(n+=`scale(${a}, ${c})`),n||"none"}const t1=["","X","Y","Z"],Hhe=1e3;let Ghe=0;function r1(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function D8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=w8(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",nr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&D8(n)}function L8({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Ghe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Xhe),this.nodes.forEach(epe),this.nodes.forEach(tpe),this.nodes.forEach(Qhe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rhe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pI),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=J9(o)&&!$de(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;nr.read(()=>{p=window.innerWidth}),t(o,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,f&&f(),f=Mhe(g,250),Tv.hasAnimatedSinceResize&&(Tv.hasAnimatedSinceResize=!1,this.nodes.forEach(ID)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||ope,{onLayoutAnimationStart:x,onLayoutAnimationComplete:_}=u.getProps(),P=!this.targetLayout||!M8(this.targetLayout,v),S=!p&&g;if(this.options.layoutRoot||this.resumeFrom||S||p&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...AI(w,"layout"),onPlay:x,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(f,S)}else p||ID(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rpe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ND);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Zhe),this.nodes.forEach(Khe),this.nodes.forEach(Yhe)):this.nodes.forEach(ND),this.clearAllSnapshots();const a=ri.now();un.delta=ea(0,1e3/60,a-un.timestamp),un.timestamp=a,un.isProcessing=!0,z_.update.process(un),z_.preRender.process(un),z_.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,NI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Jhe),this.sharedNodes.forEach(npe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fn(this.snapshot.measuredBox.x)&&!Fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!R8(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||tc(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),ape(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return vr();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(lpe))){const{scroll:f}=this.root;f&&(sd(a.x,f.offset.x),sd(a.y,f.offset.y))}return a}removeElementScroll(o){var c;const a=vr();if(Ri(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Ri(a,o),sd(a.x,p.offset.x),sd(a.y,p.offset.y))}return a}applyTransform(o,a=!1){const c=vr();Ri(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&od(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),tc(f.latestValues)&&od(c,f.latestValues)}return tc(this.latestValues)&&od(c,this.latestValues),c}removeTransform(o){const a=vr();Ri(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!tc(u.latestValues))continue;gA(u.latestValues)&&u.updateSnapshot();const f=vr(),p=u.measurePageBox();Ri(f,p),_D(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return tc(this.latestValues)&&_D(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=un.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),xp(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vr(),this.targetWithTransforms=vr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),phe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ri(this.target,this.layout.layoutBox),m8(this.target,this.targetDelta)):Ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),xp(this.relativeTargetOrigin,this.target,v.target),Ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gA(this.parent.latestValues)||p8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===un.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Ri(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Pfe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=vr());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xD(this.prevProjectionDelta.x,this.projectionDelta.x),xD(this.prevProjectionDelta.y,this.projectionDelta.y)),vp(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!AD(this.projectionDelta.x,this.prevProjectionDelta.x)||!AD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ad(),this.projectionDelta=ad(),this.projectionDeltaWithTransform=ad()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},p=ad();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=vr(),v=c?c.source:void 0,w=this.layout?this.layout.source:void 0,x=v!==w,_=this.getStack(),P=!_||_.members.length<=1,S=!!(x&&!P&&this.options.crossfade===!0&&!this.path.some(spe));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const N=R/1e3;kD(p.x,o.x,N),kD(p.y,o.y,N),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xp(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ipe(this.relativeTarget,this.relativeTargetOrigin,g,N),E&&qhe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=vr()),Ri(E,this.relativeTarget)),x&&(this.animationValues=f,Lhe(f,u,this.latestValues,N,S,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(hl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nr.update(()=>{Tv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qd(0)),this.currentAnimation=Ohe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hhe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:f}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&$8(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||vr();const p=Fn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const g=Fn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Ri(a,c),od(a,f),vp(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zhe),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&r1("z",o,u,this.animationValues);for(let f=0;f<t1.length;f++)r1(`rotate${t1[f]}`,o,u,this.animationValues),r1(`skew${t1[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ev(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ev(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!tc(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let p=Whe(this.projectionDeltaWithTransform,this.treeScale,f);c&&(p=c(f,p)),o.transform=p;const{x:g,y:v}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,u.animationValues?o.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in qp){if(f[w]===void 0)continue;const{correct:x,applyTo:_,isCSSVariable:P}=qp[w],S=p==="none"?f[w]:x(f[w],u);if(_){const E=_.length;for(let R=0;R<E;R++)o[_[R]]=S}else P?this.options.visualElement.renderState.vars[w]=S:o[w]=S}this.options.layoutId&&(o.pointerEvents=u===this?Ev(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(CD),this.root.sharedNodes.clear()}}}function Khe(t){t.updateLayout()}function Yhe(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?$i(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],v=Fn(g);g.min=n[p].min,g.max=g.min+v}):$8(s,e.layoutBox,n)&&$i(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],v=Fn(n[p]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+v)});const a=ad();vp(a,n,e.layoutBox);const c=ad();o?vp(c,t.applyTransform(i,!0),e.measuredBox):vp(c,n,e.layoutBox);const u=!R8(a);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const w=vr();xp(w,e.layoutBox,g.layoutBox);const x=vr();xp(x,n,v.layoutBox),M8(w,x)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=w,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Xhe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Qhe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Jhe(t){t.clearSnapshot()}function CD(t){t.clearMeasurements()}function ND(t){t.isLayoutDirty=!1}function Zhe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ID(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function epe(t){t.resolveTargetDelta()}function tpe(t){t.calcProjection()}function rpe(t){t.resetSkewAndRotation()}function npe(t){t.removeLeadSnapshot()}function kD(t,e,r){t.translate=cr(e.translate,0,r),t.scale=cr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function OD(t,e,r,n){t.min=cr(e.min,r.min,n),t.max=cr(e.max,r.max,n)}function ipe(t,e,r,n){OD(t.x,e.x,r.x,n),OD(t.y,e.y,r.y,n)}function spe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ope={duration:.45,ease:[.4,0,.1,1]},jD=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),RD=jD("applewebkit/")&&!jD("chrome/")?Math.round:Wi;function MD(t){t.min=RD(t.min),t.max=RD(t.max)}function ape(t){MD(t.x),MD(t.y)}function $8(t,e,r){return t==="position"||t==="preserve-aspect"&&!hhe(PD(e),PD(r),.2)}function lpe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const cpe=L8({attachResizeListener:(t,e)=>zp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),n1={current:void 0},F8=L8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!n1.current){const t=new cpe({});t.mount(window),t.setOptions({layoutScroll:!0}),n1.current=t}return n1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),upe={pan:{Feature:Che},drag:{Feature:Ahe,ProjectionNode:F8,MeasureLayout:k8}};function DD(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&nr.postRender(()=>s(e,Ym(e)))}class dpe extends vl{mount(){const{current:e}=this.node;e&&(this.unmount=jde(e,(r,n)=>(DD(this.node,n,"Start"),i=>DD(this.node,i,"End"))))}unmount(){}}class fpe extends vl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hm(zp(this.node.current,"focus",()=>this.onFocus()),zp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LD(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&nr.postRender(()=>s(e,Ym(e)))}class hpe extends vl{mount(){const{current:e}=this.node;e&&(this.unmount=Lde(e,(r,n)=>(LD(this.node,n,"Start"),(i,{success:s})=>LD(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const SA=new WeakMap,i1=new WeakMap,ppe=t=>{const e=SA.get(t.target);e&&e(t)},mpe=t=>{t.forEach(ppe)};function gpe({root:t,...e}){const r=t||document;i1.has(r)||i1.set(r,{});const n=i1.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(mpe,{root:t,...e})),n[i]}function ype(t,e,r){const n=gpe(e);return SA.set(t,r),n.observe(t),()=>{SA.delete(t),n.unobserve(t)}}const vpe={some:0,all:1};class xpe extends vl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:vpe[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=u?f:p;g&&g(c)};return ype(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(bpe(e,r))&&this.startObserver()}unmount(){}}function bpe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const wpe={inView:{Feature:xpe},tap:{Feature:hpe},focus:{Feature:fpe},hover:{Feature:dpe}},_pe={layout:{ProjectionNode:F8,MeasureLayout:k8}},Spe={...ahe,...wpe,...upe,..._pe},Tt=Sfe(Spe,Dfe);function Lf({icon:t,title:e,subtitle:r,actions:n,isRTL:i=!1,className:s,iconContainerClassName:o,stackOnMobile:a=!0,showOnMobile:c=!0}){const u=a?Se("flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",i?"sm:flex-row-reverse":""):Se("flex flex-wrap items-center gap-4",i?"flex-row-reverse justify-start":"justify-between");return h.jsx(Tt.header,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:Se("w-full page-header",c?"":"hidden md:block",s),children:h.jsx("div",{className:Se("w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 flex flex-col gap-4",i?"text-right":"text-left"),style:i?{position:"relative"}:{},children:h.jsxs("div",{className:u,style:i?{flexDirection:"row-reverse",direction:"rtl",justifyContent:"space-between",alignItems:"center"}:{},children:[h.jsx("div",{className:Se("flex items-center gap-4",i?"flex-row-reverse justify-end":"justify-start"),style:i?{justifyContent:"flex-end",direction:"rtl",order:2}:{},children:h.jsxs("div",{className:i?"text-right":"text-left",children:[h.jsx("h1",{className:`text-2xl sm:text-3xl font-bold bg-gradient-to-r from-sky-500 to-blue-600 bg-clip-text text-transparent ${i?"text-right":"text-left"}`,children:e}),r&&h.jsx("p",{className:`text-gray-600 text-sm sm:text-base mt-1 ${i?"text-right":"text-left"}`,children:r})]})}),n&&h.jsx("div",{className:Se("flex flex-col sm:flex-row gap-3 w-full sm:w-auto items-stretch sm:items-center flex-shrink-0 actions",i?"sm:flex-row-reverse justify-end":"justify-end"),style:i?{justifyContent:"flex-start",direction:"rtl",order:1,marginLeft:0,marginRight:0,alignSelf:"flex-start"}:{},children:n})]})})})}const In=({size:t="default",variant:e="primary",className:r,style:n={},...i})=>{const s={sm:"w-8 h-8 sm:w-16 sm:h-16",default:"w-16 h-16 sm:w-32 sm:h-32",lg:"w-24 h-24 sm:w-48 sm:h-48 md:w-64 md:h-64"},o={primary:"primary:#66a1ee,secondary:#3080e8",secondary:"primary:#3b82f6,secondary:#dbeafe",white:"primary:#ffffff,secondary:#f8fafc",muted:"primary:#64748b,secondary:#e2e8f0"};return T.useEffect(()=>{if(!document.querySelector('script[src="https://cdn.lordicon.com/lordicon.js"]')){const a=document.createElement("script");a.src="https://cdn.lordicon.com/lordicon.js",a.async=!0,document.head.appendChild(a)}},[]),h.jsx("div",{className:Se("relative inline-flex items-center justify-center mx-auto",s[t],r),...i,children:h.jsx("lord-icon",{src:"https://cdn.lordicon.com/vmzmljdv.json",trigger:"loop",stroke:"bold",colors:o[e],style:{width:t==="sm"?"32px":t==="lg"?"96px":"64px",height:t==="sm"?"32px":t==="lg"?"96px":"64px",...n}})})},$D={business_name:"",description:"",products_services:"",target_market:"",competitors:[],industry:"",phone:""};function EA({businessId:t,refreshBusinessData:e}){const{t:r,isRTL:n,isHebrew:i}=fr(),{user:s,loading:o}=Yc(),[a,c]=T.useState(null),[u,f]=T.useState(()=>({...$D})),[p,g]=T.useState(""),[v,w]=T.useState(!0),[x,_]=T.useState(!1),[P,S]=T.useState(0),{clearFieldError:E,validateFields:R,getFieldError:N}=Wm(),M=n?"ml-2":"mr-2",I=`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white rounded-xl shadow-lg transition-all duration-300 hover:shadow-xl ${n?"flex-row-reverse":""}`,C=()=>x?h.jsxs(h.Fragment,{children:[h.jsx(zm,{size:"sm",variant:"white",className:M}),r("business.saving")]}):h.jsxs(h.Fragment,{children:[h.jsx(dx,{className:`w-4 h-4 ${M}`}),r(a?"business.update":"business.create")]}),j=T.useCallback(async z=>{w(!0);try{const H=Wc(Kc,"clients",z),X=await Hc(H);if(!X.exists()){c(null),f({...$D});return}const K=X.data();let U=null;t?U=((K==null?void 0:K.secondary_buisness)||(K==null?void 0:K.secondary_business)||[]).find(re=>re.id===t||re.businessId===t||re.business_id===t):U=(K==null?void 0:K.businessProfile)||(K==null?void 0:K.business_profile)||K;const te=Array.isArray(U==null?void 0:U.competitors)?U.competitors:typeof(U==null?void 0:U.competitors)=="string"?U.competitors.split(",").map(Z=>Z.trim()).filter(Boolean):[],Q={business_name:(U==null?void 0:U.business_name)||(U==null?void 0:U.businessName)||"",description:(U==null?void 0:U.description)||(U==null?void 0:U.businessDescription)||"",products_services:Array.isArray(U==null?void 0:U.products_services)?U.products_services.join(", "):(U==null?void 0:U.products_services)||(U==null?void 0:U.productsServices)||"",target_market:(U==null?void 0:U.target_market)||(U==null?void 0:U.targetMarket)||"",competitors:te,industry:(U==null?void 0:U.industry)||"",website:(U==null?void 0:U.website)||"",phone:(K==null?void 0:K.phone)||(K==null?void 0:K.phone_number)||(K==null?void 0:K.phoneNumber)||""},W=Q.phone||X.id||(s==null?void 0:s.uid)||"business-profile";c({id:W,source:"firestore",...Q}),f(Q)}catch(H){console.error("Error loading profile from Firestore:",H)}finally{w(!1)}},[s==null?void 0:s.uid,t]);T.useEffect(()=>{o||(s!=null&&s.uid?j(s.uid):w(!1))},[o,s==null?void 0:s.uid,j,t,P]),T.useEffect(()=>{e&&S(z=>z+1)},[e]);const F=(z,H)=>{f(X=>({...X,[z]:H})),E(z)},L=()=>{p.trim()&&!u.competitors.includes(p.trim())&&(f(z=>({...z,competitors:[...z.competitors,p.trim()]})),g(""),E("competitors"))},V=z=>{f(H=>({...H,competitors:H.competitors.filter(X=>X!==z)}))},D=async z=>{if(z.preventDefault(),!(s!=null&&s.uid))return;const H={business_name:{value:u.business_name,required:!0},description:{value:u.description,required:!0},industry:{value:u.industry,required:!0},products_services:{value:u.products_services,required:!0},target_market:{value:u.target_market,required:!0},competitors:{value:u.competitors,minLength:1}};if(R(H)){_(!0);try{const K=a?await Gi.update(a.id,u,t):await Gi.create(u,t),U=(K==null?void 0:K.businessId)||t||(a==null?void 0:a.id)||"business-profile",te=Array.isArray(u.competitors)?u.competitors:[];c(W=>({...W||{id:U,source:"firestore"},...K||{},...u,id:U,competitors:te})),typeof window<"u"&&U&&u.business_name&&window.dispatchEvent(new CustomEvent("business-profile-updated",{detail:{businessId:U,businessName:u.business_name}})),e&&e();const Q=document.createElement("div");Q.className=`fixed ${n?"left-4":"right-4"} top-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50`,Q.textContent=r("business.profileSaved"),document.body.appendChild(Q),setTimeout(()=>document.body.removeChild(Q),3e3)}catch(K){console.error("Error saving profile:",K)}_(!1)}};return v?h.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-140px)] gap-4",children:[h.jsx(In,{size:"lg",variant:"primary"}),h.jsx("p",{className:"text-sm text-gray-500 animate-pulse"})]}):h.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 max-w-5xl mx-auto space-y-8 business-profile-desktop-shift laptop-spacing laptop-lg-spacing desktop-spacing desktop-lg-spacing ${n?"text-right":""}`,children:[h.jsx(Lf,{icon:h.jsx(An,{className:"w-8 h-8"}),title:r("business.title"),subtitle:r("business.subtitle"),isRTL:n,showOnMobile:!1,actions:h.jsx(Ie,{onClick:D,disabled:x,className:`hidden sm:inline-flex h-12 px-8 text-base font-semibold ${I}`,children:h.jsx(C,{})})}),h.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-6",children:h.jsxs(Nt,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm rounded-2xl overflow-hidden",children:[h.jsx(kr,{className:"bg-gradient-to-r from-sky-50 to-blue-50 border-b border-sky-100",children:h.jsx(qr,{className:`flex items-center gap-3 text-xl font-bold text-gray-800 ${n?"flex-row-reverse text-right justify-end":"justify-start"}`,children:n?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-right",children:r("business.companyInfo")}),h.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-sky-500 to-blue-600 rounded-full"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-sky-500 to-blue-600 rounded-full"}),h.jsx("span",{className:"text-left",children:r("business.companyInfo")})]})})}),h.jsx(mt,{className:"p-6",children:h.jsxs("form",{onSubmit:D,className:"space-y-8",children:[h.jsx("div",{className:"sm:hidden",children:h.jsx(Ie,{type:"submit",disabled:x,className:`w-full py-3 text-base font-semibold ${I}`,children:h.jsx(C,{})})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(Tt.div,{className:`space-y-3 ${n?"text-right":""}`,initial:{opacity:0,x:n?20:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[h.jsxs(ut,{htmlFor:"business_name",className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[h.jsx(An,{className:"w-4 h-4 text-sky-500"}),r("business.businessName")," *"]}),h.jsx(fn,{id:"business_name",value:u.business_name,onChange:z=>F("business_name",z.target.value),placeholder:r("placeholder.businessName"),className:`h-12 border-2 border-gray-200 focus:border-sky-500 focus:ring-4 focus:ring-sky-500/20 rounded-xl transition-all duration-300 ${n?"text-right":""} ${N("business_name")?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,dir:"auto"}),N("business_name")&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),N("business_name")]})]}),h.jsxs(Tt.div,{className:`space-y-3 ${n?"text-right":""}`,initial:{opacity:0,x:n?-20:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[h.jsxs(ut,{htmlFor:"industry",className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[h.jsx(DX,{className:"w-4 h-4 text-emerald-500"}),r("business.industry")," *"]}),h.jsx(fn,{id:"industry",value:u.industry,onChange:z=>F("industry",z.target.value),placeholder:r("placeholder.industry"),className:`h-12 border-2 border-gray-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/20 rounded-xl transition-all duration-300 ${n?"text-right":""} ${N("industry")?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,dir:"auto"}),N("industry")&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),N("industry")]})]})]}),h.jsxs(Tt.div,{className:`space-y-3 ${n?"text-right":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[h.jsxs(ut,{htmlFor:"description",className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[h.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r("business.description")," *"]}),h.jsx(Nr,{id:"description",value:u.description,onChange:z=>F("description",z.target.value),placeholder:r("placeholder.description"),rows:4,className:`border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-500/20 rounded-xl resize-none transition-all duration-300 ${n?"text-right":""} ${N("description")?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,dir:"auto"}),N("description")&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),N("description")]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(Tt.div,{className:`space-y-3 ${n?"text-right":""}`,initial:{opacity:0,x:n?20:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[h.jsxs(ut,{htmlFor:"products_services",className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[h.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r("business.productsServices")," *"]}),h.jsx(Nr,{id:"products_services",value:u.products_services,onChange:z=>F("products_services",z.target.value),placeholder:r("placeholder.productsServices"),rows:3,className:`border-2 border-gray-200 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 rounded-xl resize-none transition-all duration-300 ${n?"text-right":""} ${N("products_services")?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,dir:"auto"}),N("products_services")&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),N("products_services")]})]}),h.jsxs(Tt.div,{className:`space-y-3 ${n?"text-right":""}`,initial:{opacity:0,x:n?-20:20},animate:{opacity:1,x:0},transition:{delay:.6},children:[h.jsxs(ut,{htmlFor:"target_market",className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[h.jsx("span",{className:"w-2 h-2 bg-teal-500 rounded-full"}),r("business.targetMarket")," *"]}),h.jsx(Nr,{id:"target_market",value:u.target_market,onChange:z=>F("target_market",z.target.value),placeholder:r("placeholder.targetMarket"),rows:3,className:`border-2 border-gray-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/20 rounded-xl resize-none transition-all duration-300 ${n?"text-right":""} ${N("target_market")?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,dir:"auto"}),N("target_market")&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),N("target_market")]})]})]}),h.jsxs(Tt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[h.jsxs(ut,{className:`text-sm font-semibold text-gray-700 flex items-center gap-2 ${n?"text-right justify-end":"justify-start"}`,children:[h.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),r("business.competitors")," *"]}),h.jsxs("div",{className:`flex gap-3 ${n?"flex-row-reverse":""}`,children:[h.jsx(fn,{value:p,onChange:z=>g(z.target.value),placeholder:r("placeholder.addCompetitor"),className:`flex-1 h-12 border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 rounded-xl transition-all duration-300 ${n?"text-right":""} ${N("competitors")?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,onKeyPress:z=>z.key==="Enter"&&(z.preventDefault(),L()),dir:"auto"}),h.jsx(Ie,{type:"button",onClick:L,className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 rounded-xl px-6 h-12 shadow-lg hover:shadow-xl transition-all duration-300",children:h.jsx(Pc,{className:"w-5 h-5"})})]}),N("competitors")&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),N("competitors")]}),u.competitors.length>0&&h.jsx("div",{className:`flex flex-wrap gap-3 ${n?"justify-end":""}`,children:u.competitors.map((z,H)=>{const X=typeof z=="string"?z:(z==null?void 0:z.name)||"";return h.jsx(Tt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:H*.1},children:h.jsxs(_n,{variant:"secondary",className:"bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 hover:from-indigo-100 hover:to-purple-100 px-4 py-2 rounded-full border border-indigo-200 shadow-sm hover:shadow-md transition-all duration-300",children:[h.jsx("span",{className:n?"ml-2":"mr-2",children:X}),h.jsx("button",{type:"button",onClick:()=>V(z),className:`hover:text-red-500 transition-colors p-1 rounded-full hover:bg-red-50 ${n?"mr-2":"ml-2"}`,children:h.jsx(qn,{className:"w-3 h-3"})})]})},H)})})]}),h.jsx(Tt.div,{className:"pt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:h.jsx(Ie,{type:"submit",disabled:x,className:`w-full py-4 font-bold text-lg rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 ${I}`,children:h.jsx(C,{})})})]})})]})})]})}function Epe({prompts:t=[],businessProfile:e,businessId:r}){const{t:n,isRTL:i,isHebrew:s}=fr(),o=Array.isArray(t)?t:[],a=o.reduce((g,v)=>{var x;const w=((x=v.counts)==null?void 0:x.businessNameMentions)||v.businessNameMentions||0;return g+w},0),c=o.reduce((g,v)=>{var x;const w=((x=v.counts)==null?void 0:x.competitorsMentions)||v.competitorsMentions||0;return g+w},0),u=o.length>0?(a/o.length).toFixed(1):"0",f=a+c>0?(a/(a+c)*100).toFixed(1):"0",p=[{title:n("analytics.totalMentions"),value:a,icon:vi,gradient:"from-blue-500 via-sky-500 to-blue-600",accent:"text-white",iconBg:"bg-white/20",change:n("analytics.vsLastWeek")},{title:n("analytics.mentionShare"),value:`${f}%`,icon:eQ,gradient:"from-emerald-500 via-green-500 to-teal-600",accent:"text-white",iconBg:"bg-white/20",change:n("analytics.vsCompetitors")},{title:n("analytics.avgQuery"),value:u,icon:xs,gradient:"from-purple-500 via-violet-500 to-purple-600",accent:"text-white",iconBg:"bg-white/20",change:n("analytics.mentionsPerPrompt")},{title:n("analytics.brandScore"),value:Math.min(100,Math.round(a*2.5)).toString(),icon:pX,gradient:"from-orange-500 via-amber-500 to-orange-600",accent:"text-white",iconBg:"bg-white/20",change:n("analytics.outOf100")}];return h.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:p.map((g,v)=>h.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},children:h.jsx(Nt,{className:`relative overflow-hidden bg-gradient-to-br ${g.gradient} text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-500 group`,children:h.jsx(mt,{className:"p-4 relative",children:h.jsx("div",{className:`flex items-start justify-between ${i?"flex-row-reverse":""}`,children:s?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wider",children:g.title}),h.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:g.value}),g.change&&h.jsx("p",{className:"text-xs text-white/70 mt-1",children:g.change})]}),h.jsx("div",{className:`w-10 h-10 ${g.iconBg} rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:h.jsx(g.icon,{className:`w-5 h-5 ${g.accent}`,strokeWidth:2.5})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:i?"text-right":"",children:[h.jsx("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wider",children:g.title}),h.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:g.value}),g.change&&h.jsx("p",{className:"text-xs text-white/70 mt-1",children:g.change})]}),h.jsx("div",{className:`w-10 h-10 ${g.iconBg} rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:h.jsx(g.icon,{className:`w-5 h-5 ${g.accent}`,strokeWidth:2.5})})]})})})})},v))})}function Tpe({prompts:t,businessProfile:e,businessId:r}){const{t:n,isRTL:i,isHebrew:s}=fr(),a=(()=>{const f={positive:0,neutral:0,negative:0};t.length>0,t.forEach((g,v)=>{var w,x,_,P,S,E,R,N;if((x=(w=g[1])==null?void 0:w.brandAnalysis)!=null&&x.sentiment){const M=g[1].brandAnalysis.sentiment.toLowerCase();M==="positive"?f.positive++:M==="negative"?f.negative++:f.neutral++}else if((_=g.brandAnalysis)!=null&&_.sentiment){const M=g.brandAnalysis.sentiment.toLowerCase();M==="positive"?f.positive++:M==="negative"?f.negative++:f.neutral++}else if((S=(P=g[0])==null?void 0:P.brandAnalysis)!=null&&S.sentiment){const M=g[0].brandAnalysis.sentiment.toLowerCase();M==="positive"?f.positive++:M==="negative"?f.negative++:f.neutral++}else if((R=(E=g.responses)==null?void 0:E.brandAnalysis)!=null&&R.sentiment){const M=g.responses.brandAnalysis.sentiment.toLowerCase();M==="positive"?f.positive++:M==="negative"?f.negative++:f.neutral++}else(N=g.sentiment_analysis)!=null&&N.business_sentiment?f[g.sentiment_analysis.business_sentiment]++:g.sentiment_score!==void 0&&(g.sentiment_score>.6?f.positive++:g.sentiment_score<.4?f.negative++:f.neutral++)});const p=Object.values(f).reduce((g,v)=>g+v,0);return{positive:{count:f.positive,percentage:p>0?(f.positive/p*100).toFixed(1):0},neutral:{count:f.neutral,percentage:p>0?(f.neutral/p*100).toFixed(1):0},negative:{count:f.negative,percentage:p>0?(f.negative/p*100).toFixed(1):0}}})();if(a.positive.count+a.neutral.count+a.negative.count===0)return h.jsxs(Nt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(kr,{children:h.jsx(qr,{className:`flex items-center gap-2 ${i?"flex-row-reverse text-right":""} ${s?"justify-end":""}`,children:s?h.jsxs(h.Fragment,{children:[n("analytics.sentimentAnalysis"),h.jsx(Jl,{className:"w-5 h-5 text-green-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(Jl,{className:"w-5 h-5 text-green-600"}),n("analytics.sentimentAnalysis")]})})}),h.jsx(mt,{children:h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Jl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:n("analytics.noSentimentData")||"No Sentiment Data Available"}),h.jsx("p",{className:"text-sm text-gray-600",children:n("analytics.noSentimentDataMessage")||"Sentiment analysis data will appear here after running prompts with sentiment analysis."})]})})]});const u=[{type:"positive",icon:Jl,color:"text-green-600",bgColor:"bg-green-100",label:n("analytics.positive"),data:a.positive},{type:"neutral",icon:UX,color:"text-yellow-600",bgColor:"bg-yellow-100",label:n("analytics.neutral"),data:a.neutral},{type:"negative",icon:RX,color:"text-red-600",bgColor:"bg-red-100",label:n("analytics.negative"),data:a.negative}];return h.jsxs(Nt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(kr,{children:h.jsx(qr,{className:`flex items-center gap-2 ${i?"flex-row-reverse text-right":""} ${s?"justify-end":""}`,children:s?h.jsxs(h.Fragment,{children:[n("analytics.sentimentAnalysis"),h.jsx(Jl,{className:"w-5 h-5 text-green-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(Jl,{className:"w-5 h-5 text-green-600"}),n("analytics.sentimentAnalysis")]})})}),h.jsx(mt,{children:h.jsx("div",{className:"space-y-4",children:u.map(f=>h.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg bg-gray-50 ${i?"flex-row-reverse":""}`,children:[h.jsxs("div",{className:`flex items-center gap-3 ${i?"flex-row-reverse":""}`,children:[h.jsx("div",{className:`p-2 rounded-full ${f.bgColor}`,children:h.jsx(f.icon,{className:`w-5 h-5 ${f.color}`})}),h.jsxs("div",{className:i?"text-right":"",children:[h.jsx("p",{className:"font-medium text-gray-900",children:f.label}),h.jsxs("p",{className:"text-sm text-gray-500",children:[f.data.count," ",n("analytics.mentions")]})]})]}),h.jsxs("div",{className:`${i?"text-left":"text-right"}`,children:[h.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[f.data.percentage,"%"]}),h.jsx("div",{className:`w-16 h-2 bg-gray-200 rounded-full mt-1 ${i?"mr-auto":"ml-auto"}`,children:h.jsx("div",{className:`h-full rounded-full ${f.bgColor.replace("bg-","bg-").replace("-100","-500")}`,style:{width:`${f.data.percentage}%`}})})]})]},f.type))})})]})}var s1,FD;function ii(){if(FD)return s1;FD=1;var t=Array.isArray;return s1=t,s1}var o1,VD;function V8(){if(VD)return o1;VD=1;var t=typeof wy=="object"&&wy&&wy.Object===Object&&wy;return o1=t,o1}var a1,BD;function co(){if(BD)return a1;BD=1;var t=V8(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return a1=r,a1}var l1,UD;function Xm(){if(UD)return l1;UD=1;var t=co(),e=t.Symbol;return l1=e,l1}var c1,qD;function Ppe(){if(qD)return c1;qD=1;var t=Xm(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=r.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var f=n.call(o);return u&&(a?o[i]=c:delete o[i]),f}return c1=s,c1}var u1,zD;function Ape(){if(zD)return u1;zD=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return u1=r,u1}var d1,WD;function aa(){if(WD)return d1;WD=1;var t=Xm(),e=Ppe(),r=Ape(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:n:s&&s in Object(a)?e(a):r(a)}return d1=o,d1}var f1,HD;function la(){if(HD)return f1;HD=1;function t(e){return e!=null&&typeof e=="object"}return f1=t,f1}var h1,GD;function $f(){if(GD)return h1;GD=1;var t=aa(),e=la(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return h1=n,h1}var p1,KD;function BI(){if(KD)return p1;KD=1;var t=ii(),e=$f(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return p1=i,p1}var m1,YD;function xl(){if(YD)return m1;YD=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return m1=t,m1}var g1,XD;function UI(){if(XD)return g1;XD=1;var t=aa(),e=xl(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var c=t(a);return c==n||c==i||c==r||c==s}return g1=o,g1}var y1,QD;function Cpe(){if(QD)return y1;QD=1;var t=co(),e=t["__core-js_shared__"];return y1=e,y1}var v1,JD;function Npe(){if(JD)return v1;JD=1;var t=Cpe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return v1=r,v1}var x1,ZD;function B8(){if(ZD)return x1;ZD=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return x1=r,x1}var b1,eL;function Ipe(){if(eL)return b1;eL=1;var t=UI(),e=Npe(),r=xl(),n=B8(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,c=o.toString,u=a.hasOwnProperty,f=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||e(g))return!1;var v=t(g)?f:s;return v.test(n(g))}return b1=p,b1}var w1,tL;function kpe(){if(tL)return w1;tL=1;function t(e,r){return e==null?void 0:e[r]}return w1=t,w1}var _1,rL;function Xc(){if(rL)return _1;rL=1;var t=Ipe(),e=kpe();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return _1=r,_1}var S1,nL;function rb(){if(nL)return S1;nL=1;var t=Xc(),e=t(Object,"create");return S1=e,S1}var E1,iL;function Ope(){if(iL)return E1;iL=1;var t=rb();function e(){this.__data__=t?t(null):{},this.size=0}return E1=e,E1}var T1,sL;function jpe(){if(sL)return T1;sL=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return T1=t,T1}var P1,oL;function Rpe(){if(oL)return P1;oL=1;var t=rb(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return n.call(o,s)?o[s]:void 0}return P1=i,P1}var A1,aL;function Mpe(){if(aL)return A1;aL=1;var t=rb(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return A1=n,A1}var C1,lL;function Dpe(){if(lL)return C1;lL=1;var t=rb(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return C1=r,C1}var N1,cL;function Lpe(){if(cL)return N1;cL=1;var t=Ope(),e=jpe(),r=Rpe(),n=Mpe(),i=Dpe();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,N1=s,N1}var I1,uL;function $pe(){if(uL)return I1;uL=1;function t(){this.__data__=[],this.size=0}return I1=t,I1}var k1,dL;function qI(){if(dL)return k1;dL=1;function t(e,r){return e===r||e!==e&&r!==r}return k1=t,k1}var O1,fL;function nb(){if(fL)return O1;fL=1;var t=qI();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return O1=e,O1}var j1,hL;function Fpe(){if(hL)return j1;hL=1;var t=nb(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():r.call(s,o,1),--this.size,!0}return j1=n,j1}var R1,pL;function Vpe(){if(pL)return R1;pL=1;var t=nb();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return R1=e,R1}var M1,mL;function Bpe(){if(mL)return M1;mL=1;var t=nb();function e(r){return t(this.__data__,r)>-1}return M1=e,M1}var D1,gL;function Upe(){if(gL)return D1;gL=1;var t=nb();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return D1=e,D1}var L1,yL;function ib(){if(yL)return L1;yL=1;var t=$pe(),e=Fpe(),r=Vpe(),n=Bpe(),i=Upe();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,L1=s,L1}var $1,vL;function zI(){if(vL)return $1;vL=1;var t=Xc(),e=co(),r=t(e,"Map");return $1=r,$1}var F1,xL;function qpe(){if(xL)return F1;xL=1;var t=Lpe(),e=ib(),r=zI();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return F1=n,F1}var V1,bL;function zpe(){if(bL)return V1;bL=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return V1=t,V1}var B1,wL;function sb(){if(wL)return B1;wL=1;var t=zpe();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return B1=e,B1}var U1,_L;function Wpe(){if(_L)return U1;_L=1;var t=sb();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return U1=e,U1}var q1,SL;function Hpe(){if(SL)return q1;SL=1;var t=sb();function e(r){return t(this,r).get(r)}return q1=e,q1}var z1,EL;function Gpe(){if(EL)return z1;EL=1;var t=sb();function e(r){return t(this,r).has(r)}return z1=e,z1}var W1,TL;function Kpe(){if(TL)return W1;TL=1;var t=sb();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return W1=e,W1}var H1,PL;function WI(){if(PL)return H1;PL=1;var t=qpe(),e=Wpe(),r=Hpe(),n=Gpe(),i=Kpe();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,H1=s,H1}var G1,AL;function U8(){if(AL)return G1;AL=1;var t=WI(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],c=s.cache;if(c.has(a))return c.get(a);var u=n.apply(this,o);return s.cache=c.set(a,u)||c,u};return s.cache=new(r.Cache||t),s}return r.Cache=t,G1=r,G1}var K1,CL;function Ype(){if(CL)return K1;CL=1;var t=U8(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return K1=r,K1}var Y1,NL;function Xpe(){if(NL)return Y1;NL=1;var t=Ype(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,a,c,u){s.push(c?u.replace(r,"$1"):a||o)}),s});return Y1=n,Y1}var X1,IL;function HI(){if(IL)return X1;IL=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return X1=t,X1}var Q1,kL;function Qpe(){if(kL)return Q1;kL=1;var t=Xm(),e=HI(),r=ii(),n=$f(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(r(a))return e(a,o)+"";if(n(a))return s?s.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}return Q1=o,Q1}var J1,OL;function q8(){if(OL)return J1;OL=1;var t=Qpe();function e(r){return r==null?"":t(r)}return J1=e,J1}var Z1,jL;function z8(){if(jL)return Z1;jL=1;var t=ii(),e=BI(),r=Xpe(),n=q8();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return Z1=i,Z1}var eS,RL;function ob(){if(RL)return eS;RL=1;var t=$f();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return eS=e,eS}var tS,ML;function GI(){if(ML)return tS;ML=1;var t=z8(),e=ob();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return tS=r,tS}var rS,DL;function W8(){if(DL)return rS;DL=1;var t=GI();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return rS=e,rS}var Jpe=W8();const wi=It(Jpe);var nS,LL;function Zpe(){if(LL)return nS;LL=1;function t(e){return e==null}return nS=t,nS}var eme=Zpe();const ot=It(eme);var iS,$L;function tme(){if($L)return iS;$L=1;var t=aa(),e=ii(),r=la(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return iS=i,iS}var rme=tme();const Lc=It(rme);var nme=UI();const rt=It(nme);var ime=xl();const Ff=It(ime);var sS={exports:{}},Ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FL;function sme(){if(FL)return Ot;FL=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function x(_){if(typeof _=="object"&&_!==null){var P=_.$$typeof;switch(P){case t:switch(_=_.type,_){case r:case i:case n:case u:case f:return _;default:switch(_=_&&_.$$typeof,_){case a:case o:case c:case g:case p:case s:return _;default:return P}}case e:return P}}}return Ot.ContextConsumer=o,Ot.ContextProvider=s,Ot.Element=t,Ot.ForwardRef=c,Ot.Fragment=r,Ot.Lazy=g,Ot.Memo=p,Ot.Portal=e,Ot.Profiler=i,Ot.StrictMode=n,Ot.Suspense=u,Ot.SuspenseList=f,Ot.isAsyncMode=function(){return!1},Ot.isConcurrentMode=function(){return!1},Ot.isContextConsumer=function(_){return x(_)===o},Ot.isContextProvider=function(_){return x(_)===s},Ot.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},Ot.isForwardRef=function(_){return x(_)===c},Ot.isFragment=function(_){return x(_)===r},Ot.isLazy=function(_){return x(_)===g},Ot.isMemo=function(_){return x(_)===p},Ot.isPortal=function(_){return x(_)===e},Ot.isProfiler=function(_){return x(_)===i},Ot.isStrictMode=function(_){return x(_)===n},Ot.isSuspense=function(_){return x(_)===u},Ot.isSuspenseList=function(_){return x(_)===f},Ot.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===u||_===f||_===v||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===p||_.$$typeof===s||_.$$typeof===o||_.$$typeof===c||_.$$typeof===w||_.getModuleId!==void 0)},Ot.typeOf=x,Ot}var VL;function ome(){return VL||(VL=1,sS.exports=sme()),sS.exports}var ame=ome(),oS,BL;function H8(){if(BL)return oS;BL=1;var t=aa(),e=la(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return oS=n,oS}var aS,UL;function lme(){if(UL)return aS;UL=1;var t=H8();function e(r){return t(r)&&r!=+r}return aS=e,aS}var cme=lme();const Qm=It(cme);var ume=H8();const dme=It(ume);var Vn=function(e){return e===0?0:e>0?1:-1},hc=function(e){return Lc(e)&&e.indexOf("%")===e.length-1},Ae=function(e){return dme(e)&&!Qm(e)},fme=function(e){return ot(e)},Br=function(e){return Ae(e)||Lc(e)},hme=0,Vf=function(e){var r=++hme;return"".concat(e||"").concat(r)},Bn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&!Lc(e))return n;var s;if(hc(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Qm(s)&&(s=n),i&&s>r&&(s=r),s},qa=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},pme=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},yi=function(e,r){return Ae(e)&&Ae(r)?function(n){return e+n*(r-e)}:function(){return r}};function a0(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):wi(n,e))===r})}var mme=function(e,r){return Ae(e)&&Ae(r)?e-r:Lc(e)&&Lc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function _d(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function TA(t){"@babel/helpers - typeof";return TA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TA(t)}var gme=["viewBox","children"],yme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qL=["points","pathLength"],lS={svg:gme,polygon:qL,polyline:qL},KI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],l0=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),!Ff(n))return null;var i={};return Object.keys(n).forEach(function(s){KI.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},vme=function(e,r,n){return function(i){return e(r,n,i),null}},$c=function(e,r,n){if(!Ff(e)||TA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];KI.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=vme(o,r,n))}),i},xme=["children"],bme=["children"];function zL(t,e){if(t==null)return{};var r=wme(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PA(t){"@babel/helpers - typeof";return PA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PA(t)}var WL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},HL=null,cS=null,YI=function t(e){if(e===HL&&Array.isArray(cS))return cS;var r=[];return T.Children.forEach(e,function(n){ot(n)||(ame.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),cS=r,HL=e,r};function _i(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Bo(i)}):n=[Bo(e)],YI(t).forEach(function(i){var s=wi(i,"type.displayName")||wi(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function mi(t,e){var r=_i(t,e);return r&&r[0]}var GL=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Ae(n)||n<=0||!Ae(i)||i<=0)},_me=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Sme=function(e){return e&&e.type&&Lc(e.type)&&_me.indexOf(e.type)>=0},Eme=function(e){return e&&PA(e)==="object"&&"clipDot"in e},Tme=function(e,r,n,i){var s,o=(s=lS==null?void 0:lS[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!rt(e)&&(i&&o.includes(r)||yme.includes(r))||n&&KI.includes(r)},Ye=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(T.isValidElement(e)&&(i=e.props),!Ff(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;Tme((a=i)===null||a===void 0?void 0:a[o],o,r,n)&&(s[o]=i[o])}),s},AA=function t(e,r){if(e===r)return!0;var n=T.Children.count(e);if(n!==T.Children.count(r))return!1;if(n===0)return!0;if(n===1)return KL(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!KL(s,o))return!1}return!0},KL=function(e,r){if(ot(e)&&ot(r))return!0;if(!ot(e)&&!ot(r)){var n=e.props||{},i=n.children,s=zL(n,xme),o=r.props||{},a=o.children,c=zL(o,bme);return i&&a?_d(s,c)&&AA(i,a):!i&&!a?_d(s,c):!1}return!1},YL=function(e,r){var n=[],i={};return YI(e).forEach(function(s,o){if(Sme(s))n.push(s);else if(s){var a=Bo(s.type),c=r[a]||{},u=c.handler,f=c.once;if(u&&(!f||!i[a])){var p=u(s,a,o);n.push(p),i[a]=!0}}}),n},Pme=function(e){var r=e&&e.type;return r&&WL[r]?WL[r]:null},Ame=function(e,r){return YI(r).indexOf(e)},Cme=["children","width","height","viewBox","className","style","title","desc"];function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CA.apply(this,arguments)}function Nme(t,e){if(t==null)return{};var r=Ime(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ime(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NA(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,c=t.desc,u=Nme(t,Cme),f=i||{width:r,height:n,x:0,y:0},p=lt("recharts-surface",s);return Y.createElement("svg",CA({},Ye(u,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Y.createElement("title",null,a),Y.createElement("desc",null,c),e)}var kme=["children","className"];function IA(){return IA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IA.apply(this,arguments)}function Ome(t,e){if(t==null)return{};var r=jme(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Pt=Y.forwardRef(function(t,e){var r=t.children,n=t.className,i=Ome(t,kme),s=lt("recharts-layer",n);return Y.createElement("g",IA({className:s},Ye(i,!0),{ref:e}),r)}),ws=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},uS,XL;function Rme(){if(XL)return uS;XL=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return uS=t,uS}var dS,QL;function Mme(){if(QL)return dS;QL=1;var t=Rme();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return dS=e,dS}var fS,JL;function G8(){if(JL)return fS;JL=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+t+i+s+"]");function c(u){return a.test(u)}return fS=c,fS}var hS,ZL;function Dme(){if(ZL)return hS;ZL=1;function t(e){return e.split("")}return hS=t,hS}var pS,e$;function Lme(){if(e$)return pS;e$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",a="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+c+")",f="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",w=u+"?",x="["+s+"]?",_="(?:"+v+"(?:"+[f,p,g].join("|")+")"+x+w+")*",P=x+w+_,S="(?:"+[f+a+"?",a,p,g,o].join("|")+")",E=RegExp(c+"(?="+c+")|"+S+P,"g");function R(N){return N.match(E)||[]}return pS=R,pS}var mS,t$;function $me(){if(t$)return mS;t$=1;var t=Dme(),e=G8(),r=Lme();function n(i){return e(i)?r(i):t(i)}return mS=n,mS}var gS,r$;function Fme(){if(r$)return gS;r$=1;var t=Mme(),e=G8(),r=$me(),n=q8();function i(s){return function(o){o=n(o);var a=e(o)?r(o):void 0,c=a?a[0]:o.charAt(0),u=a?t(a,1).join(""):o.slice(1);return c[s]()+u}}return gS=i,gS}var yS,n$;function Vme(){if(n$)return yS;n$=1;var t=Fme(),e=t("toUpperCase");return yS=e,yS}var Bme=Vme();const ab=It(Bme);function Wt(t){return function(){return t}}const K8=Math.cos,c0=Math.sin,Ns=Math.sqrt,u0=Math.PI,lb=2*u0,kA=Math.PI,OA=2*kA,rc=1e-6,Ume=OA-rc;function Y8(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function qme(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Y8;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class zme{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Y8:qme(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,c=n-e,u=i-r,f=o-e,p=a-r,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>rc)if(!(Math.abs(p*c-u*f)>rc)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-o,w=i-a,x=c*c+u*u,_=v*v+w*w,P=Math.sqrt(x),S=Math.sqrt(g),E=s*Math.tan((kA-Math.acos((x+g-_)/(2*P*S)))/2),R=E/S,N=E/P;Math.abs(R-1)>rc&&this._append`L${e+R*f},${r+R*p}`,this._append`A${s},${s},0,0,${+(p*v>f*w)},${this._x1=e+N*c},${this._y1=r+N*u}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),c=n*Math.sin(i),u=e+a,f=r+c,p=1^o,g=o?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>rc||Math.abs(this._y1-f)>rc)&&this._append`L${u},${f}`,n&&(g<0&&(g=g%OA+OA),g>Ume?this._append`A${n},${n},0,1,${p},${e-a},${r-c}A${n},${n},0,1,${p},${this._x1=u},${this._y1=f}`:g>rc&&this._append`A${n},${n},0,${+(g>=kA)},${p},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function XI(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new zme(e)}function QI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function X8(t){this._context=t}X8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cb(t){return new X8(t)}function Q8(t){return t[0]}function J8(t){return t[1]}function Z8(t,e){var r=Wt(!0),n=null,i=cb,s=null,o=XI(a);t=typeof t=="function"?t:t===void 0?Q8:Wt(t),e=typeof e=="function"?e:e===void 0?J8:Wt(e);function a(c){var u,f=(c=QI(c)).length,p,g=!1,v;for(n==null&&(s=i(v=o())),u=0;u<=f;++u)!(u<f&&r(p=c[u],u,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(p,u,c),+e(p,u,c));if(v)return s=null,v+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:Wt(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:Wt(+c),a):e},a.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Wt(!!c),a):r},a.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),a):i},a.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),a):n},a}function Wy(t,e,r){var n=null,i=Wt(!0),s=null,o=cb,a=null,c=XI(u);t=typeof t=="function"?t:t===void 0?Q8:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?J8:Wt(+r);function u(p){var g,v,w,x=(p=QI(p)).length,_,P=!1,S,E=new Array(x),R=new Array(x);for(s==null&&(a=o(S=c())),g=0;g<=x;++g){if(!(g<x&&i(_=p[g],g,p))===P)if(P=!P)v=g,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),w=g-1;w>=v;--w)a.point(E[w],R[w]);a.lineEnd(),a.areaEnd()}P&&(E[g]=+t(_,g,p),R[g]=+e(_,g,p),a.point(n?+n(_,g,p):E[g],r?+r(_,g,p):R[g]))}if(S)return a=null,S+""||null}function f(){return Z8().defined(i).curve(o).context(s)}return u.x=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),n=null,u):t},u.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),u):t},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Wt(+p),u):n},u.y=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),r=null,u):e},u.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),u):e},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Wt(+p),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Wt(!!p),u):i},u.curve=function(p){return arguments.length?(o=p,s!=null&&(a=o(s)),u):o},u.context=function(p){return arguments.length?(p==null?s=a=null:a=o(s=p),u):s},u}class eW{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Wme(t){return new eW(t,!0)}function Hme(t){return new eW(t,!1)}const JI={draw(t,e){const r=Ns(e/u0);t.moveTo(r,0),t.arc(0,0,r,0,lb)}},Gme={draw(t,e){const r=Ns(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},tW=Ns(1/3),Kme=tW*2,Yme={draw(t,e){const r=Ns(e/Kme),n=r*tW;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Xme={draw(t,e){const r=Ns(e),n=-r/2;t.rect(n,n,r,r)}},Qme=.8908130915292852,rW=c0(u0/10)/c0(7*u0/10),Jme=c0(lb/10)*rW,Zme=-K8(lb/10)*rW,ege={draw(t,e){const r=Ns(e*Qme),n=Jme*r,i=Zme*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=lb*s/5,a=K8(o),c=c0(o);t.lineTo(c*r,-a*r),t.lineTo(a*n-c*i,c*n+a*i)}t.closePath()}},vS=Ns(3),tge={draw(t,e){const r=-Ns(e/(vS*3));t.moveTo(0,r*2),t.lineTo(-vS*r,-r),t.lineTo(vS*r,-r),t.closePath()}},Mi=-.5,Di=Ns(3)/2,jA=1/Ns(12),rge=(jA/2+1)*3,nge={draw(t,e){const r=Ns(e/rge),n=r/2,i=r*jA,s=n,o=r*jA+r,a=-s,c=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(a,c),t.lineTo(Mi*n-Di*i,Di*n+Mi*i),t.lineTo(Mi*s-Di*o,Di*s+Mi*o),t.lineTo(Mi*a-Di*c,Di*a+Mi*c),t.lineTo(Mi*n+Di*i,Mi*i-Di*n),t.lineTo(Mi*s+Di*o,Mi*o-Di*s),t.lineTo(Mi*a+Di*c,Mi*c-Di*a),t.closePath()}};function ige(t,e){let r=null,n=XI(i);t=typeof t=="function"?t:Wt(t||JI),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Wt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Wt(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function d0(){}function f0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function nW(t){this._context=t}nW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:f0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:f0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sge(t){return new nW(t)}function iW(t){this._context=t}iW.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:f0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oge(t){return new iW(t)}function sW(t){this._context=t}sW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:f0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function age(t){return new sW(t)}function oW(t){this._context=t}oW.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function lge(t){return new oW(t)}function i$(t){return t<0?-1:1}function s$(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),a=(s*i+o*n)/(n+i);return(i$(s)+i$(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function o$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function xS(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-n)/3;t._context.bezierCurveTo(n+a,i+a*e,s-a,o-a*r,s,o)}function h0(t){this._context=t}h0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xS(this,this._t0,o$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xS(this,o$(this,r=s$(this,t,e)),r);break;default:xS(this,this._t0,r=s$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function aW(t){this._context=new lW(t)}(aW.prototype=Object.create(h0.prototype)).point=function(t,e){h0.prototype.point.call(this,e,t)};function lW(t){this._context=t}lW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function cge(t){return new h0(t)}function uge(t){return new aW(t)}function cW(t){this._context=t}cW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=a$(t),i=a$(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function a$(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function dge(t){return new cW(t)}function ub(t,e){this._context=t,this._t=e}ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function fge(t){return new ub(t,.5)}function hge(t){return new ub(t,0)}function pge(t){return new ub(t,1)}function Wd(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,a=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function RA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function mge(t,e){return t[e]}function gge(t){const e=[];return e.key=t,e}function yge(){var t=Wt([]),e=RA,r=Wd,n=mge;function i(s){var o=Array.from(t.apply(this,arguments),gge),a,c=o.length,u=-1,f;for(const p of s)for(a=0,++u;a<c;++a)(o[a][u]=[0,+n(p,o[a].key,u,s)]).data=p;for(a=0,f=QI(e(o));a<c;++a)o[f[a]].index=a;return r(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Wt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Wt(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?RA:typeof s=="function"?s:Wt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??Wd,i):r},i}function vge(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Wd(t,e)}}function xge(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,a=0;o<i;++o)a+=t[o][r][1]||0;n[r][1]+=n[r][0]=-a/2}Wd(t,e)}}function bge(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var a=0,c=0,u=0;a<o;++a){for(var f=t[e[a]],p=f[n][1]||0,g=f[n-1][1]||0,v=(p-g)/2,w=0;w<a;++w){var x=t[e[w]],_=x[n][1]||0,P=x[n-1][1]||0;v+=_-P}c+=p,u+=v*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Wd(t,e)}}function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}var wge=["type","size","sizeType"];function MA(){return MA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MA.apply(this,arguments)}function l$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l$(Object(r),!0).forEach(function(n){_ge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ge(t,e,r){return e=Sge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sge(t){var e=Ege(t,"string");return Wp(e)=="symbol"?e:e+""}function Ege(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tge(t,e){if(t==null)return{};var r=Pge(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uW={symbolCircle:JI,symbolCross:Gme,symbolDiamond:Yme,symbolSquare:Xme,symbolStar:ege,symbolTriangle:tge,symbolWye:nge},Age=Math.PI/180,Cge=function(e){var r="symbol".concat(ab(e));return uW[r]||JI},Nge=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Age;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ige=function(e,r){uW["symbol".concat(ab(e))]=r},ZI=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,c=Tge(e,wge),u=c$(c$({},c),{},{type:n,size:s,sizeType:a}),f=function(){var _=Cge(n),P=ige().type(_).size(Nge(s,a,n));return P()},p=u.className,g=u.cx,v=u.cy,w=Ye(u,!0);return g===+g&&v===+v&&s===+s?Y.createElement("path",MA({},w,{className:lt("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(v,")"),d:f()})):null};ZI.registerSymbol=Ige;function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function DA(){return DA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DA.apply(this,arguments)}function u$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kge(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(r),!0).forEach(function(n){Hp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fW(n.key),n)}}function Rge(t,e,r){return e&&jge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mge(t,e,r){return e=p0(e),Dge(t,dW()?Reflect.construct(e,r||[],p0(t).constructor):e.apply(t,r))}function Dge(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lge(t)}function Lge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dW=function(){return!!t})()}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p0(t)}function $ge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LA(t,e)}function LA(t,e){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LA(t,e)}function Hp(t,e,r){return e=fW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fW(t){var e=Fge(t,"string");return Hd(e)=="symbol"?e:e+""}function Fge(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Li=32,ek=(function(t){function e(){return Oge(this,e),Mge(this,e,arguments)}return $ge(e,t),Rge(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Li/2,o=Li/6,a=Li/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Li,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(Li,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Y.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Li/8,"h").concat(Li,"v").concat(Li*3/4,"h").concat(-Li,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(n.legendIcon)){var u=kge({},n);return delete u.legendIcon,Y.cloneElement(n.legendIcon,u)}return Y.createElement(ZI,{fill:c,cx:s,cy:s,size:Li,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Li,height:Li},p={display:a==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,w){var x=v.formatter||c,_=lt(Hp(Hp({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",v.inactive));if(v.type==="none")return null;var P=rt(v.value)?null:v.value;ws(!rt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=v.inactive?u:v.color;return Y.createElement("li",DA({className:_,style:p,key:"legend-item-".concat(w)},$c(n.props,v,w)),Y.createElement(NA,{width:o,height:o,viewBox:f,style:g},n.renderIcon(v)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},x?x(P,v,w):P))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])})(T.PureComponent);Hp(ek,"displayName","Legend");Hp(ek,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bS,d$;function Vge(){if(d$)return bS;d$=1;var t=ib();function e(){this.__data__=new t,this.size=0}return bS=e,bS}var wS,f$;function Bge(){if(f$)return wS;f$=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return wS=t,wS}var _S,h$;function Uge(){if(h$)return _S;h$=1;function t(e){return this.__data__.get(e)}return _S=t,_S}var SS,p$;function qge(){if(p$)return SS;p$=1;function t(e){return this.__data__.has(e)}return SS=t,SS}var ES,m$;function zge(){if(m$)return ES;m$=1;var t=ib(),e=zI(),r=WI(),n=200;function i(s,o){var a=this.__data__;if(a instanceof t){var c=a.__data__;if(!e||c.length<n-1)return c.push([s,o]),this.size=++a.size,this;a=this.__data__=new r(c)}return a.set(s,o),this.size=a.size,this}return ES=i,ES}var TS,g$;function hW(){if(g$)return TS;g$=1;var t=ib(),e=Vge(),r=Bge(),n=Uge(),i=qge(),s=zge();function o(a){var c=this.__data__=new t(a);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,TS=o,TS}var PS,y$;function Wge(){if(y$)return PS;y$=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return PS=e,PS}var AS,v$;function Hge(){if(v$)return AS;v$=1;function t(e){return this.__data__.has(e)}return AS=t,AS}var CS,x$;function pW(){if(x$)return CS;x$=1;var t=WI(),e=Wge(),r=Hge();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,CS=n,CS}var NS,b$;function mW(){if(b$)return NS;b$=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return NS=t,NS}var IS,w$;function gW(){if(w$)return IS;w$=1;function t(e,r){return e.has(r)}return IS=t,IS}var kS,_$;function yW(){if(_$)return kS;_$=1;var t=pW(),e=mW(),r=gW(),n=1,i=2;function s(o,a,c,u,f,p){var g=c&n,v=o.length,w=a.length;if(v!=w&&!(g&&w>v))return!1;var x=p.get(o),_=p.get(a);if(x&&_)return x==a&&_==o;var P=-1,S=!0,E=c&i?new t:void 0;for(p.set(o,a),p.set(a,o);++P<v;){var R=o[P],N=a[P];if(u)var M=g?u(N,R,P,a,o,p):u(R,N,P,o,a,p);if(M!==void 0){if(M)continue;S=!1;break}if(E){if(!e(a,function(I,C){if(!r(E,C)&&(R===I||f(R,I,c,u,p)))return E.push(C)})){S=!1;break}}else if(!(R===N||f(R,N,c,u,p))){S=!1;break}}return p.delete(o),p.delete(a),S}return kS=s,kS}var OS,S$;function Gge(){if(S$)return OS;S$=1;var t=co(),e=t.Uint8Array;return OS=e,OS}var jS,E$;function Kge(){if(E$)return jS;E$=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return jS=t,jS}var RS,T$;function tk(){if(T$)return RS;T$=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return RS=t,RS}var MS,P$;function Yge(){if(P$)return MS;P$=1;var t=Xm(),e=Gge(),r=qI(),n=yW(),i=Kge(),s=tk(),o=1,a=2,c="[object Boolean]",u="[object Date]",f="[object Error]",p="[object Map]",g="[object Number]",v="[object RegExp]",w="[object Set]",x="[object String]",_="[object Symbol]",P="[object ArrayBuffer]",S="[object DataView]",E=t?t.prototype:void 0,R=E?E.valueOf:void 0;function N(M,I,C,j,F,L,V){switch(C){case S:if(M.byteLength!=I.byteLength||M.byteOffset!=I.byteOffset)return!1;M=M.buffer,I=I.buffer;case P:return!(M.byteLength!=I.byteLength||!L(new e(M),new e(I)));case c:case u:case g:return r(+M,+I);case f:return M.name==I.name&&M.message==I.message;case v:case x:return M==I+"";case p:var D=i;case w:var z=j&o;if(D||(D=s),M.size!=I.size&&!z)return!1;var H=V.get(M);if(H)return H==I;j|=a,V.set(M,I);var X=n(D(M),D(I),j,F,L,V);return V.delete(M),X;case _:if(R)return R.call(M)==R.call(I)}return!1}return MS=N,MS}var DS,A$;function vW(){if(A$)return DS;A$=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return DS=t,DS}var LS,C$;function Xge(){if(C$)return LS;C$=1;var t=vW(),e=ii();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return LS=r,LS}var $S,N$;function Qge(){if(N$)return $S;N$=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var a=e[n];r(a,n,e)&&(o[s++]=a)}return o}return $S=t,$S}var FS,I$;function Jge(){if(I$)return FS;I$=1;function t(){return[]}return FS=t,FS}var VS,k$;function Zge(){if(k$)return VS;k$=1;var t=Qge(),e=Jge(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return n.call(o,a)}))}:e;return VS=s,VS}var BS,O$;function eye(){if(O$)return BS;O$=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return BS=t,BS}var US,j$;function tye(){if(j$)return US;j$=1;var t=aa(),e=la(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return US=n,US}var qS,R$;function rk(){if(R$)return qS;R$=1;var t=tye(),e=la(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return qS=s,qS}var rp={exports:{}},zS,M$;function rye(){if(M$)return zS;M$=1;function t(){return!1}return zS=t,zS}rp.exports;var D$;function xW(){return D$||(D$=1,(function(t,e){var r=co(),n=rye(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?r.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||n;t.exports=u})(rp,rp.exports)),rp.exports}var WS,L$;function nk(){if(L$)return WS;L$=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return WS=r,WS}var HS,$$;function ik(){if($$)return HS;$$=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return HS=e,HS}var GS,F$;function nye(){if(F$)return GS;F$=1;var t=aa(),e=ik(),r=la(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",v="[object Set]",w="[object String]",x="[object WeakMap]",_="[object ArrayBuffer]",P="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",R="[object Int8Array]",N="[object Int16Array]",M="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",j="[object Uint16Array]",F="[object Uint32Array]",L={};L[S]=L[E]=L[R]=L[N]=L[M]=L[I]=L[C]=L[j]=L[F]=!0,L[n]=L[i]=L[_]=L[s]=L[P]=L[o]=L[a]=L[c]=L[u]=L[f]=L[p]=L[g]=L[v]=L[w]=L[x]=!1;function V(D){return r(D)&&e(D.length)&&!!L[t(D)]}return GS=V,GS}var KS,V$;function bW(){if(V$)return KS;V$=1;function t(e){return function(r){return e(r)}}return KS=t,KS}var np={exports:{}};np.exports;var B$;function iye(){return B$||(B$=1,(function(t,e){var r=V8(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,a=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=a})(np,np.exports)),np.exports}var YS,U$;function wW(){if(U$)return YS;U$=1;var t=nye(),e=bW(),r=iye(),n=r&&r.isTypedArray,i=n?e(n):t;return YS=i,YS}var XS,q$;function sye(){if(q$)return XS;q$=1;var t=eye(),e=rk(),r=ii(),n=xW(),i=nk(),s=wW(),o=Object.prototype,a=o.hasOwnProperty;function c(u,f){var p=r(u),g=!p&&e(u),v=!p&&!g&&n(u),w=!p&&!g&&!v&&s(u),x=p||g||v||w,_=x?t(u.length,String):[],P=_.length;for(var S in u)(f||a.call(u,S))&&!(x&&(S=="length"||v&&(S=="offset"||S=="parent")||w&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,P)))&&_.push(S);return _}return XS=c,XS}var QS,z$;function oye(){if(z$)return QS;z$=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return QS=e,QS}var JS,W$;function _W(){if(W$)return JS;W$=1;function t(e,r){return function(n){return e(r(n))}}return JS=t,JS}var ZS,H$;function aye(){if(H$)return ZS;H$=1;var t=_W(),e=t(Object.keys,Object);return ZS=e,ZS}var eE,G$;function lye(){if(G$)return eE;G$=1;var t=oye(),e=aye(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))n.call(s,a)&&a!="constructor"&&o.push(a);return o}return eE=i,eE}var tE,K$;function Jm(){if(K$)return tE;K$=1;var t=UI(),e=ik();function r(n){return n!=null&&e(n.length)&&!t(n)}return tE=r,tE}var rE,Y$;function db(){if(Y$)return rE;Y$=1;var t=sye(),e=lye(),r=Jm();function n(i){return r(i)?t(i):e(i)}return rE=n,rE}var nE,X$;function cye(){if(X$)return nE;X$=1;var t=Xge(),e=Zge(),r=db();function n(i){return t(i,r,e)}return nE=n,nE}var iE,Q$;function uye(){if(Q$)return iE;Q$=1;var t=cye(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,a,c,u,f){var p=a&e,g=t(s),v=g.length,w=t(o),x=w.length;if(v!=x&&!p)return!1;for(var _=v;_--;){var P=g[_];if(!(p?P in o:n.call(o,P)))return!1}var S=f.get(s),E=f.get(o);if(S&&E)return S==o&&E==s;var R=!0;f.set(s,o),f.set(o,s);for(var N=p;++_<v;){P=g[_];var M=s[P],I=o[P];if(c)var C=p?c(I,M,P,o,s,f):c(M,I,P,s,o,f);if(!(C===void 0?M===I||u(M,I,a,c,f):C)){R=!1;break}N||(N=P=="constructor")}if(R&&!N){var j=s.constructor,F=o.constructor;j!=F&&"constructor"in s&&"constructor"in o&&!(typeof j=="function"&&j instanceof j&&typeof F=="function"&&F instanceof F)&&(R=!1)}return f.delete(s),f.delete(o),R}return iE=i,iE}var sE,J$;function dye(){if(J$)return sE;J$=1;var t=Xc(),e=co(),r=t(e,"DataView");return sE=r,sE}var oE,Z$;function fye(){if(Z$)return oE;Z$=1;var t=Xc(),e=co(),r=t(e,"Promise");return oE=r,oE}var aE,e4;function SW(){if(e4)return aE;e4=1;var t=Xc(),e=co(),r=t(e,"Set");return aE=r,aE}var lE,t4;function hye(){if(t4)return lE;t4=1;var t=Xc(),e=co(),r=t(e,"WeakMap");return lE=r,lE}var cE,r4;function pye(){if(r4)return cE;r4=1;var t=dye(),e=zI(),r=fye(),n=SW(),i=hye(),s=aa(),o=B8(),a="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",v=o(t),w=o(e),x=o(r),_=o(n),P=o(i),S=s;return(t&&S(new t(new ArrayBuffer(1)))!=g||e&&S(new e)!=a||r&&S(r.resolve())!=u||n&&S(new n)!=f||i&&S(new i)!=p)&&(S=function(E){var R=s(E),N=R==c?E.constructor:void 0,M=N?o(N):"";if(M)switch(M){case v:return g;case w:return a;case x:return u;case _:return f;case P:return p}return R}),cE=S,cE}var uE,n4;function mye(){if(n4)return uE;n4=1;var t=hW(),e=yW(),r=Yge(),n=uye(),i=pye(),s=ii(),o=xW(),a=wW(),c=1,u="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function w(x,_,P,S,E,R){var N=s(x),M=s(_),I=N?f:i(x),C=M?f:i(_);I=I==u?p:I,C=C==u?p:C;var j=I==p,F=C==p,L=I==C;if(L&&o(x)){if(!o(_))return!1;N=!0,j=!1}if(L&&!j)return R||(R=new t),N||a(x)?e(x,_,P,S,E,R):r(x,_,I,P,S,E,R);if(!(P&c)){var V=j&&v.call(x,"__wrapped__"),D=F&&v.call(_,"__wrapped__");if(V||D){var z=V?x.value():x,H=D?_.value():_;return R||(R=new t),E(z,H,P,S,R)}}return L?(R||(R=new t),n(x,_,P,S,E,R)):!1}return uE=w,uE}var dE,i4;function sk(){if(i4)return dE;i4=1;var t=mye(),e=la();function r(n,i,s,o,a){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,a)}return dE=r,dE}var fE,s4;function gye(){if(s4)return fE;s4=1;var t=hW(),e=sk(),r=1,n=2;function i(s,o,a,c){var u=a.length,f=u,p=!c;if(s==null)return!f;for(s=Object(s);u--;){var g=a[u];if(p&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++u<f;){g=a[u];var v=g[0],w=s[v],x=g[1];if(p&&g[2]){if(w===void 0&&!(v in s))return!1}else{var _=new t;if(c)var P=c(w,x,v,s,o,_);if(!(P===void 0?e(x,w,r|n,c,_):P))return!1}}return!0}return fE=i,fE}var hE,o4;function EW(){if(o4)return hE;o4=1;var t=xl();function e(r){return r===r&&!t(r)}return hE=e,hE}var pE,a4;function yye(){if(a4)return pE;a4=1;var t=EW(),e=db();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],a=n[o];i[s]=[o,a,t(a)]}return i}return pE=r,pE}var mE,l4;function TW(){if(l4)return mE;l4=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return mE=t,mE}var gE,c4;function vye(){if(c4)return gE;c4=1;var t=gye(),e=yye(),r=TW();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return gE=n,gE}var yE,u4;function xye(){if(u4)return yE;u4=1;function t(e,r){return e!=null&&r in Object(e)}return yE=t,yE}var vE,d4;function bye(){if(d4)return vE;d4=1;var t=z8(),e=rk(),r=ii(),n=nk(),i=ik(),s=ob();function o(a,c,u){c=t(c,a);for(var f=-1,p=c.length,g=!1;++f<p;){var v=s(c[f]);if(!(g=a!=null&&u(a,v)))break;a=a[v]}return g||++f!=p?g:(p=a==null?0:a.length,!!p&&i(p)&&n(v,p)&&(r(a)||e(a)))}return vE=o,vE}var xE,f4;function wye(){if(f4)return xE;f4=1;var t=xye(),e=bye();function r(n,i){return n!=null&&e(n,i,t)}return xE=r,xE}var bE,h4;function _ye(){if(h4)return bE;h4=1;var t=sk(),e=W8(),r=wye(),n=BI(),i=EW(),s=TW(),o=ob(),a=1,c=2;function u(f,p){return n(f)&&i(p)?s(o(f),p):function(g){var v=e(g,f);return v===void 0&&v===p?r(g,f):t(p,v,a|c)}}return bE=u,bE}var wE,p4;function Bf(){if(p4)return wE;p4=1;function t(e){return e}return wE=t,wE}var _E,m4;function Sye(){if(m4)return _E;m4=1;function t(e){return function(r){return r==null?void 0:r[e]}}return _E=t,_E}var SE,g4;function Eye(){if(g4)return SE;g4=1;var t=GI();function e(r){return function(n){return t(n,r)}}return SE=e,SE}var EE,y4;function Tye(){if(y4)return EE;y4=1;var t=Sye(),e=Eye(),r=BI(),n=ob();function i(s){return r(s)?t(n(s)):e(s)}return EE=i,EE}var TE,v4;function uo(){if(v4)return TE;v4=1;var t=vye(),e=_ye(),r=Bf(),n=ii(),i=Tye();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return TE=s,TE}var PE,x4;function PW(){if(x4)return PE;x4=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return PE=t,PE}var AE,b4;function Pye(){if(b4)return AE;b4=1;function t(e){return e!==e}return AE=t,AE}var CE,w4;function Aye(){if(w4)return CE;w4=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return CE=t,CE}var NE,_4;function Cye(){if(_4)return NE;_4=1;var t=PW(),e=Pye(),r=Aye();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return NE=n,NE}var IE,S4;function Nye(){if(S4)return IE;S4=1;var t=Cye();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return IE=e,IE}var kE,E4;function Iye(){if(E4)return kE;E4=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return kE=t,kE}var OE,T4;function kye(){if(T4)return OE;T4=1;function t(){}return OE=t,OE}var jE,P4;function Oye(){if(P4)return jE;P4=1;var t=SW(),e=kye(),r=tk(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return jE=i,jE}var RE,A4;function jye(){if(A4)return RE;A4=1;var t=pW(),e=Nye(),r=Iye(),n=gW(),i=Oye(),s=tk(),o=200;function a(c,u,f){var p=-1,g=e,v=c.length,w=!0,x=[],_=x;if(f)w=!1,g=r;else if(v>=o){var P=u?null:i(c);if(P)return s(P);w=!1,g=n,_=new t}else _=u?[]:x;e:for(;++p<v;){var S=c[p],E=u?u(S):S;if(S=f||S!==0?S:0,w&&E===E){for(var R=_.length;R--;)if(_[R]===E)continue e;u&&_.push(E),x.push(S)}else g(_,E,f)||(_!==x&&_.push(E),x.push(S))}return x}return RE=a,RE}var ME,C4;function Rye(){if(C4)return ME;C4=1;var t=uo(),e=jye();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return ME=r,ME}var Mye=Rye();const N4=It(Mye);function AW(t,e,r){return e===!0?N4(t,r):rt(e)?N4(t,e):t}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}var Dye=["ref"];function I4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ao(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(r),!0).forEach(function(n){fb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NW(n.key),n)}}function $ye(t,e,r){return e&&k4(t.prototype,e),r&&k4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fye(t,e,r){return e=m0(e),Vye(t,CW()?Reflect.construct(e,r||[],m0(t).constructor):e.apply(t,r))}function Vye(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bye(t)}function Bye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CW=function(){return!!t})()}function m0(t){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m0(t)}function Uye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$A(t,e)}function $A(t,e){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$A(t,e)}function fb(t,e,r){return e=NW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NW(t){var e=qye(t,"string");return Gd(e)=="symbol"?e:e+""}function qye(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zye(t,e){if(t==null)return{};var r=Wye(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hye(t){return t.value}function Gye(t,e){if(Y.isValidElement(t))return Y.cloneElement(t,e);if(typeof t=="function")return Y.createElement(t,e);e.ref;var r=zye(e,Dye);return Y.createElement(ek,r)}var O4=1,Sd=(function(t){function e(){var r;Lye(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Fye(this,e,[].concat(i)),fb(r,"lastBoundingBox",{width:-1,height:-1}),r}return Uye(e,t),$ye(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>O4||Math.abs(i.height-this.lastBoundingBox.height)>O4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ao({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,p,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();p={left:((u||0)-v.width)/2}}else p=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(a==="middle"){var w=this.getBBoxSnapshot();g={top:((f||0)-w.height)/2}}else g=a==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ao(Ao({},p),g)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,a=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,p=Ao(Ao({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(c)),c);return Y.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},Gye(s,Ao(Ao({},this.props),{},{payload:AW(f,u,Hye)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Ao(Ao({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Ae(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(T.PureComponent);fb(Sd,"displayName","Legend");fb(Sd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var DE,j4;function Kye(){if(j4)return DE;j4=1;var t=Xm(),e=rk(),r=ii(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return DE=i,DE}var LE,R4;function IW(){if(R4)return LE;R4=1;var t=vW(),e=Kye();function r(n,i,s,o,a){var c=-1,u=n.length;for(s||(s=e),a||(a=[]);++c<u;){var f=n[c];i>0&&s(f)?i>1?r(f,i-1,s,o,a):t(a,f):o||(a[a.length]=f)}return a}return LE=r,LE}var $E,M4;function Yye(){if(M4)return $E;M4=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),a=i(r),c=a.length;c--;){var u=a[e?c:++s];if(n(o[u],u,o)===!1)break}return r}}return $E=t,$E}var FE,D4;function Xye(){if(D4)return FE;D4=1;var t=Yye(),e=t();return FE=e,FE}var VE,L4;function kW(){if(L4)return VE;L4=1;var t=Xye(),e=db();function r(n,i){return n&&t(n,i,e)}return VE=r,VE}var BE,$4;function Qye(){if($4)return BE;$4=1;var t=Jm();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,a=n?o:-1,c=Object(i);(n?a--:++a<o)&&s(c[a],a,c)!==!1;);return i}}return BE=e,BE}var UE,F4;function ok(){if(F4)return UE;F4=1;var t=kW(),e=Qye(),r=e(t);return UE=r,UE}var qE,V4;function OW(){if(V4)return qE;V4=1;var t=ok(),e=Jm();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(a,c,u){o[++s]=i(a,c,u)}),o}return qE=r,qE}var zE,B4;function Jye(){if(B4)return zE;B4=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return zE=t,zE}var WE,U4;function Zye(){if(U4)return WE;U4=1;var t=$f();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,a=t(r),c=n!==void 0,u=n===null,f=n===n,p=t(n);if(!u&&!p&&!a&&r>n||a&&c&&f&&!u&&!p||s&&c&&f||!i&&f||!o)return 1;if(!s&&!a&&!p&&r<n||p&&i&&o&&!s&&!a||u&&i&&o||!c&&o||!f)return-1}return 0}return WE=e,WE}var HE,q4;function eve(){if(q4)return HE;q4=1;var t=Zye();function e(r,n,i){for(var s=-1,o=r.criteria,a=n.criteria,c=o.length,u=i.length;++s<c;){var f=t(o[s],a[s]);if(f){if(s>=u)return f;var p=i[s];return f*(p=="desc"?-1:1)}}return r.index-n.index}return HE=e,HE}var GE,z4;function tve(){if(z4)return GE;z4=1;var t=HI(),e=GI(),r=uo(),n=OW(),i=Jye(),s=bW(),o=eve(),a=Bf(),c=ii();function u(f,p,g){p.length?p=t(p,function(x){return c(x)?function(_){return e(_,x.length===1?x[0]:x)}:x}):p=[a];var v=-1;p=t(p,s(r));var w=n(f,function(x,_,P){var S=t(p,function(E){return E(x)});return{criteria:S,index:++v,value:x}});return i(w,function(x,_){return o(x,_,g)})}return GE=u,GE}var KE,W4;function rve(){if(W4)return KE;W4=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return KE=t,KE}var YE,H4;function nve(){if(H4)return YE;H4=1;var t=rve(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,a=-1,c=e(o.length-i,0),u=Array(c);++a<c;)u[a]=o[i+a];a=-1;for(var f=Array(i+1);++a<i;)f[a]=o[a];return f[i]=s(u),t(n,this,f)}}return YE=r,YE}var XE,G4;function ive(){if(G4)return XE;G4=1;function t(e){return function(){return e}}return XE=t,XE}var QE,K4;function jW(){if(K4)return QE;K4=1;var t=Xc(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return QE=e,QE}var JE,Y4;function sve(){if(Y4)return JE;Y4=1;var t=ive(),e=jW(),r=Bf(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return JE=n,JE}var ZE,X4;function ove(){if(X4)return ZE;X4=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var a=r(),c=e-(a-o);if(o=a,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return ZE=n,ZE}var eT,Q4;function ave(){if(Q4)return eT;Q4=1;var t=sve(),e=ove(),r=e(t);return eT=r,eT}var tT,J4;function lve(){if(J4)return tT;J4=1;var t=Bf(),e=nve(),r=ave();function n(i,s){return r(e(i,s,t),i+"")}return tT=n,tT}var rT,Z4;function hb(){if(Z4)return rT;Z4=1;var t=qI(),e=Jm(),r=nk(),n=xl();function i(s,o,a){if(!n(a))return!1;var c=typeof o;return(c=="number"?e(a)&&r(o,a.length):c=="string"&&o in a)?t(a[o],s):!1}return rT=i,rT}var nT,e5;function cve(){if(e5)return nT;e5=1;var t=IW(),e=tve(),r=lve(),n=hb(),i=r(function(s,o){if(s==null)return[];var a=o.length;return a>1&&n(s,o[0],o[1])?o=[]:a>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return nT=i,nT}var uve=cve();const ak=It(uve);function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function FA(){return FA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FA.apply(this,arguments)}function dve(t,e){return mve(t)||pve(t,e)||hve(t,e)||fve()}function fve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hve(t,e){if(t){if(typeof t=="string")return t5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t5(t,e)}}function t5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function mve(t){if(Array.isArray(t))return t}function r5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(r),!0).forEach(function(n){gve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gve(t,e,r){return e=yve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yve(t){var e=vve(t,"string");return Gp(e)=="symbol"?e:e+""}function vve(t,e){if(Gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xve(t){return Array.isArray(t)&&Br(t[0])&&Br(t[1])?t.join(" ~ "):t}var bve=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,f=e.payload,p=e.formatter,g=e.itemSorter,v=e.wrapperClassName,w=e.labelClassName,x=e.label,_=e.labelFormatter,P=e.accessibilityLayer,S=P===void 0?!1:P,E=function(){if(f&&f.length){var V={padding:0,margin:0},D=(g?ak(f,g):f).map(function(z,H){if(z.type==="none")return null;var X=iT({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},a),K=z.formatter||p||xve,U=z.value,te=z.name,Q=U,W=te;if(K&&Q!=null&&W!=null){var Z=K(U,te,z,H,f);if(Array.isArray(Z)){var re=dve(Z,2);Q=re[0],W=re[1]}else Q=Z}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:X},Br(W)?Y.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Br(W)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},Q),Y.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:V},D)}return null},R=iT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=iT({margin:0},u),M=!ot(x),I=M?x:"",C=lt("recharts-default-tooltip",v),j=lt("recharts-tooltip-label",w);M&&_&&f!==void 0&&f!==null&&(I=_(x,f));var F=S?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",FA({className:C,style:R},F),Y.createElement("p",{className:j,style:N},Y.isValidElement(I)?I:"".concat(I)),E())};function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function Hy(t,e,r){return e=wve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wve(t){var e=_ve(t,"string");return Kp(e)=="symbol"?e:e+""}function _ve(t,e){if(Kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dh="recharts-tooltip-wrapper",Sve={visibility:"hidden"};function Eve(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return lt(Dh,Hy(Hy(Hy(Hy({},"".concat(Dh,"-right"),Ae(r)&&e&&Ae(e.x)&&r>=e.x),"".concat(Dh,"-left"),Ae(r)&&e&&Ae(e.x)&&r<e.x),"".concat(Dh,"-bottom"),Ae(n)&&e&&Ae(e.y)&&n>=e.y),"".concat(Dh,"-top"),Ae(n)&&e&&Ae(e.y)&&n<e.y))}function n5(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Ae(s[n]))return s[n];var f=r[n]-a-i,p=r[n]+i;if(e[n])return o[n]?f:p;if(o[n]){var g=f,v=c[n];return g<v?Math.max(p,c[n]):Math.max(f,c[n])}var w=p+a,x=c[n]+u;return w>x?Math.max(f,c[n]):Math.max(p,c[n])}function Tve(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Pve(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,c=t.viewBox,u,f,p;return o.height>0&&o.width>0&&r?(f=n5({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=n5({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Tve({translateX:f,translateY:p,useTranslate3d:a})):u=Sve,{cssProperties:u,cssClasses:Eve({translateX:f,translateY:p,coordinate:r})}}function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function i5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(r),!0).forEach(function(n){BA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ave(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MW(n.key),n)}}function Nve(t,e,r){return e&&Cve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ive(t,e,r){return e=g0(e),kve(t,RW()?Reflect.construct(e,r||[],g0(t).constructor):e.apply(t,r))}function kve(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ove(t)}function Ove(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RW=function(){return!!t})()}function g0(t){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g0(t)}function jve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VA(t,e)}function VA(t,e){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VA(t,e)}function BA(t,e,r){return e=MW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MW(t){var e=Rve(t,"string");return Kd(e)=="symbol"?e:e+""}function Rve(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o5=1,Mve=(function(t){function e(){var r;Ave(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Ive(this,e,[].concat(i)),BA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),BA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var a,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&a!==void 0?a:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return jve(e,t),Nve(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>o5||Math.abs(n.height-this.state.lastBoundingBox.height)>o5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,v=i.offset,w=i.position,x=i.reverseDirection,_=i.useTranslate3d,P=i.viewBox,S=i.wrapperStyle,E=Pve({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:w,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:P}),R=E.cssClasses,N=E.cssProperties,M=s5(s5({transition:g&&s?"transform ".concat(a,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},S);return Y.createElement("div",{tabIndex:-1,className:R,style:M,ref:function(C){n.wrapperNode=C}},u)}}])})(T.PureComponent),Dve=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Qc={isSsr:Dve()};function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function a5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(r),!0).forEach(function(n){lk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LW(n.key),n)}}function Fve(t,e,r){return e&&$ve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vve(t,e,r){return e=y0(e),Bve(t,DW()?Reflect.construct(e,r||[],y0(t).constructor):e.apply(t,r))}function Bve(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uve(t)}function Uve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DW=function(){return!!t})()}function y0(t){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y0(t)}function qve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UA(t,e)}function UA(t,e){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UA(t,e)}function lk(t,e,r){return e=LW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LW(t){var e=zve(t,"string");return Yd(e)=="symbol"?e:e+""}function zve(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Wve(t){return t.dataKey}function Hve(t,e){return Y.isValidElement(t)?Y.cloneElement(t,e):typeof t=="function"?Y.createElement(t,e):Y.createElement(bve,e)}var Fi=(function(t){function e(){return Lve(this,e),Vve(this,e,arguments)}return qve(e,t),Fve(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,p=i.filterNull,g=i.isAnimationActive,v=i.offset,w=i.payload,x=i.payloadUniqBy,_=i.position,P=i.reverseDirection,S=i.useTranslate3d,E=i.viewBox,R=i.wrapperStyle,N=w??[];p&&N.length&&(N=AW(w.filter(function(I){return I.value!=null&&(I.hide!==!0||n.props.includeHidden)}),x,Wve));var M=N.length>0;return Y.createElement(Mve,{allowEscapeViewBox:o,animationDuration:a,animationEasing:c,isAnimationActive:g,active:s,coordinate:f,hasPayload:M,offset:v,position:_,reverseDirection:P,useTranslate3d:S,viewBox:E,wrapperStyle:R},Hve(u,l5(l5({},this.props),{},{payload:N})))}}])})(T.PureComponent);lk(Fi,"displayName","Tooltip");lk(Fi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var sT,c5;function Gve(){if(c5)return sT;c5=1;var t=co(),e=function(){return t.Date.now()};return sT=e,sT}var oT,u5;function Kve(){if(u5)return oT;u5=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return oT=e,oT}var aT,d5;function Yve(){if(d5)return aT;d5=1;var t=Kve(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return aT=r,aT}var lT,f5;function $W(){if(f5)return lT;f5=1;var t=Yve(),e=xl(),r=$f(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var p=s.test(u);return p||o.test(u)?a(u.slice(2),p?2:8):i.test(u)?n:+u}return lT=c,lT}var cT,h5;function Xve(){if(h5)return cT;h5=1;var t=xl(),e=Gve(),r=$W(),n="Expected a function",i=Math.max,s=Math.min;function o(a,c,u){var f,p,g,v,w,x,_=0,P=!1,S=!1,E=!0;if(typeof a!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(P=!!u.leading,S="maxWait"in u,g=S?i(r(u.maxWait)||0,c):g,E="trailing"in u?!!u.trailing:E);function R(D){var z=f,H=p;return f=p=void 0,_=D,v=a.apply(H,z),v}function N(D){return _=D,w=setTimeout(C,c),P?R(D):v}function M(D){var z=D-x,H=D-_,X=c-z;return S?s(X,g-H):X}function I(D){var z=D-x,H=D-_;return x===void 0||z>=c||z<0||S&&H>=g}function C(){var D=e();if(I(D))return j(D);w=setTimeout(C,M(D))}function j(D){return w=void 0,E&&f?R(D):(f=p=void 0,v)}function F(){w!==void 0&&clearTimeout(w),_=0,f=x=p=w=void 0}function L(){return w===void 0?v:j(e())}function V(){var D=e(),z=I(D);if(f=arguments,p=this,x=D,z){if(w===void 0)return N(x);if(S)return clearTimeout(w),w=setTimeout(C,c),R(x)}return w===void 0&&(w=setTimeout(C,c)),v}return V.cancel=F,V.flush=L,V}return cT=o,cT}var uT,p5;function Qve(){if(p5)return uT;p5=1;var t=Xve(),e=xl(),r="Expected a function";function n(i,s,o){var a=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),t(i,s,{leading:a,maxWait:s,trailing:c})}return uT=n,uT}var Jve=Qve();const FW=It(Jve);function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function m5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(r),!0).forEach(function(n){Zve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zve(t,e,r){return e=e0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e0e(t){var e=t0e(t,"string");return Yp(e)=="symbol"?e:e+""}function t0e(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r0e(t,e){return o0e(t)||s0e(t,e)||i0e(t,e)||n0e()}function n0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(t,e){if(t){if(typeof t=="string")return g5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g5(t,e)}}function g5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function o0e(t){if(Array.isArray(t))return t}var qA=T.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,a=t.height,c=a===void 0?"100%":a,u=t.minWidth,f=u===void 0?0:u,p=t.minHeight,g=t.maxHeight,v=t.children,w=t.debounce,x=w===void 0?0:w,_=t.id,P=t.className,S=t.onResize,E=t.style,R=E===void 0?{}:E,N=T.useRef(null),M=T.useRef();M.current=S,T.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var I=T.useState({containerWidth:i.width,containerHeight:i.height}),C=r0e(I,2),j=C[0],F=C[1],L=T.useCallback(function(D,z){F(function(H){var X=Math.round(D),K=Math.round(z);return H.containerWidth===X&&H.containerHeight===K?H:{containerWidth:X,containerHeight:K}})},[]);T.useEffect(function(){var D=function(te){var Q,W=te[0].contentRect,Z=W.width,re=W.height;L(Z,re),(Q=M.current)===null||Q===void 0||Q.call(M,Z,re)};x>0&&(D=FW(D,x,{trailing:!0,leading:!1}));var z=new ResizeObserver(D),H=N.current.getBoundingClientRect(),X=H.width,K=H.height;return L(X,K),z.observe(N.current),function(){z.disconnect()}},[L,x]);var V=T.useMemo(function(){var D=j.containerWidth,z=j.containerHeight;if(D<0||z<0)return null;ws(hc(o)||hc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ws(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=hc(o)?D:o,X=hc(c)?z:c;r&&r>0&&(H?X=H/r:X&&(H=X*r),g&&X>g&&(X=g)),ws(H>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,X,o,c,f,p,r);var K=!Array.isArray(v)&&Bo(v.type).endsWith("Chart");return Y.Children.map(v,function(U){return Y.isValidElement(U)?T.cloneElement(U,Gy({width:H,height:X},K?{style:Gy({height:"100%",width:"100%",maxHeight:X,maxWidth:H},U.props.style)}:{})):U})},[r,v,c,g,p,f,j,o]);return Y.createElement("div",{id:_?"".concat(_):void 0,className:lt("recharts-responsive-container",P),style:Gy(Gy({},R),{},{width:o,height:c,minWidth:f,minHeight:p,maxHeight:g}),ref:N},V)}),Xp=function(e){return null};Xp.displayName="Cell";function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function y5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(r),!0).forEach(function(n){a0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a0e(t,e,r){return e=l0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l0e(t){var e=c0e(t,"string");return Qp(e)=="symbol"?e:e+""}function c0e(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wu={widthCache:{},cacheCount:0},u0e=2e3,d0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},v5="recharts_measurement_span";function f0e(t){var e=zA({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var bp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Qc.isSsr)return{width:0,height:0};var n=f0e(r),i=JSON.stringify({text:e,copyStyle:n});if(Wu.widthCache[i])return Wu.widthCache[i];try{var s=document.getElementById(v5);s||(s=document.createElement("span"),s.setAttribute("id",v5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=zA(zA({},d0e),n);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),c={width:a.width,height:a.height};return Wu.widthCache[i]=c,++Wu.cacheCount>u0e&&(Wu.cacheCount=0,Wu.widthCache={}),c}catch{return{width:0,height:0}}},h0e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function v0(t,e){return y0e(t)||g0e(t,e)||m0e(t,e)||p0e()}function p0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0e(t,e){if(t){if(typeof t=="string")return x5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x5(t,e)}}function x5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function y0e(t){if(Array.isArray(t))return t}function v0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b0e(n.key),n)}}function x0e(t,e,r){return e&&b5(t.prototype,e),r&&b5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function b0e(t){var e=w0e(t,"string");return Jp(e)=="symbol"?e:e+""}function w0e(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var w5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,S0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},E0e=Object.keys(VW),ld="NaN";function T0e(t,e){return t*VW[e]}var Ky=(function(){function t(e,r){v0e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!_0e.test(r)&&(this.num=NaN,this.unit=""),E0e.includes(r)&&(this.num=T0e(e,r),this.unit="px")}return x0e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=S0e.exec(r))!==null&&n!==void 0?n:[],s=v0(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])})();function BW(t){if(t.includes(ld))return ld;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=w5.exec(e))!==null&&r!==void 0?r:[],i=v0(n,4),s=i[1],o=i[2],a=i[3],c=Ky.parse(s??""),u=Ky.parse(a??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return ld;e=e.replace(w5,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,g=(p=_5.exec(e))!==null&&p!==void 0?p:[],v=v0(g,4),w=v[1],x=v[2],_=v[3],P=Ky.parse(w??""),S=Ky.parse(_??""),E=x==="+"?P.add(S):P.subtract(S);if(E.isNaN())return ld;e=e.replace(_5,E.toString())}return e}var S5=/\(([^()]*)\)/;function P0e(t){for(var e=t;e.includes("(");){var r=S5.exec(e),n=v0(r,2),i=n[1];e=e.replace(S5,BW(i))}return e}function A0e(t){var e=t.replace(/\s+/g,"");return e=P0e(e),e=BW(e),e}function C0e(t){try{return A0e(t)}catch{return ld}}function dT(t){var e=C0e(t.slice(5,-1));return e===ld?"":e}var N0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],I0e=["dx","dy","angle","className","breakAll"];function WA(){return WA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WA.apply(this,arguments)}function E5(t,e){if(t==null)return{};var r=k0e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function T5(t,e){return M0e(t)||R0e(t,e)||j0e(t,e)||O0e()}function O0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j0e(t,e){if(t){if(typeof t=="string")return P5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P5(t,e)}}function P5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function M0e(t){if(Array.isArray(t))return t}var UW=/[ \f\n\r\t\v\u2028\u2029]+/,qW=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];ot(r)||(n?s=r.toString().split(""):s=r.toString().split(UW));var o=s.map(function(c){return{word:c,width:bp(c,i).width}}),a=n?0:bp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},D0e=function(e,r,n,i,s){var o=e.maxLines,a=e.children,c=e.style,u=e.breakAll,f=Ae(o),p=a,g=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(X,K){var U=K.word,te=K.width,Q=X[X.length-1];if(Q&&(i==null||s||Q.width+te+n<Number(i)))Q.words.push(U),Q.width+=te+n;else{var W={words:[U],width:te};X.push(W)}return X},[])},v=g(r),w=function(H){return H.reduce(function(X,K){return X.width>K.width?X:K})};if(!f)return v;for(var x="",_=function(H){var X=p.slice(0,H),K=qW({breakAll:u,style:c,children:X+x}).wordsWithComputedWidth,U=g(K),te=U.length>o||w(U).width>Number(i);return[te,U]},P=0,S=p.length-1,E=0,R;P<=S&&E<=p.length-1;){var N=Math.floor((P+S)/2),M=N-1,I=_(M),C=T5(I,2),j=C[0],F=C[1],L=_(N),V=T5(L,1),D=V[0];if(!j&&!D&&(P=N+1),j&&D&&(S=N-1),!j&&D){R=F;break}E++}return R||v},A5=function(e){var r=ot(e)?[]:e.toString().split(UW);return[{words:r}]},L0e=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((r||n)&&!Qc.isSsr){var c,u,f=qW({breakAll:o,children:i,style:s});if(f){var p=f.wordsWithComputedWidth,g=f.spaceWidth;c=p,u=g}else return A5(i);return D0e({breakAll:o,children:i,maxLines:a,style:s},c,u,r,n)}return A5(i)},C5="#808080",Fc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,f=e.scaleToFit,p=f===void 0?!1:f,g=e.textAnchor,v=g===void 0?"start":g,w=e.verticalAnchor,x=w===void 0?"end":w,_=e.fill,P=_===void 0?C5:_,S=E5(e,N0e),E=T.useMemo(function(){return L0e({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:p,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,p,S.style,S.width]),R=S.dx,N=S.dy,M=S.angle,I=S.className,C=S.breakAll,j=E5(S,I0e);if(!Br(n)||!Br(s))return null;var F=n+(Ae(R)?R:0),L=s+(Ae(N)?N:0),V;switch(x){case"start":V=dT("calc(".concat(u,")"));break;case"middle":V=dT("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:V=dT("calc(".concat(E.length-1," * -").concat(a,")"));break}var D=[];if(p){var z=E[0].width,H=S.width;D.push("scale(".concat((Ae(H)?H/z:1)/z,")"))}return M&&D.push("rotate(".concat(M,", ").concat(F,", ").concat(L,")")),D.length&&(j.transform=D.join(" ")),Y.createElement("text",WA({},Ye(j,!0),{x:F,y:L,className:lt("recharts-text",I),textAnchor:v,fill:P.includes("url")?C5:P}),E.map(function(X,K){var U=X.words.join(C?"":" ");return Y.createElement("tspan",{x:F,dy:K===0?V:a,key:"".concat(U,"-").concat(K)},U)}))};function tl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $0e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ck(t){let e,r,n;t.length!==2?(e=tl,r=(a,c)=>tl(t(a),c),n=(a,c)=>t(a)-c):(e=t===tl||t===$0e?t:F0e,r=t,n=t);function i(a,c,u=0,f=a.length){if(u<f){if(e(c,c)!==0)return f;do{const p=u+f>>>1;r(a[p],c)<0?u=p+1:f=p}while(u<f)}return u}function s(a,c,u=0,f=a.length){if(u<f){if(e(c,c)!==0)return f;do{const p=u+f>>>1;r(a[p],c)<=0?u=p+1:f=p}while(u<f)}return u}function o(a,c,u=0,f=a.length){const p=i(a,c,u,f-1);return p>u&&n(a[p-1],c)>-n(a[p],c)?p-1:p}return{left:i,center:o,right:s}}function F0e(){return 0}function zW(t){return t===null?NaN:+t}function*V0e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const B0e=ck(tl),Zm=B0e.right;ck(zW).center;class N5 extends Map{constructor(e,r=z0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(I5(this,e))}has(e){return super.has(I5(this,e))}set(e,r){return super.set(U0e(this,e),r)}delete(e){return super.delete(q0e(this,e))}}function I5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function U0e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function q0e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function z0e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function W0e(t=tl){if(t===tl)return WW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function WW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const H0e=Math.sqrt(50),G0e=Math.sqrt(10),K0e=Math.sqrt(2);function x0(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=H0e?10:s>=G0e?5:s>=K0e?2:1;let a,c,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=r&&r<2?x0(t,e,r*2):[a,c,u]}function HA(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?x0(e,t,r):x0(t,e,r);if(!(s>=i))return[];const a=s-i+1,c=new Array(a);if(n)if(o<0)for(let u=0;u<a;++u)c[u]=(s-u)/-o;else for(let u=0;u<a;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)c[u]=(i+u)/-o;else for(let u=0;u<a;++u)c[u]=(i+u)*o;return c}function GA(t,e,r){return e=+e,t=+t,r=+r,x0(t,e,r)[2]}function KA(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?GA(e,t,r):GA(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function k5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function O5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function HW(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?WW:W0e(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(c-p)/c)*(u-c/2<0?-1:1),v=Math.max(r,Math.floor(e-u*p/c+g)),w=Math.min(n,Math.floor(e+(c-u)*p/c+g));HW(t,e,v,w,i)}const s=t[e];let o=r,a=n;for(Lh(t,r,e),i(t[n],s)>0&&Lh(t,r,n);o<a;){for(Lh(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[r],s)===0?Lh(t,r,a):(++a,Lh(t,a,n)),a<=e&&(r=a+1),e<=a&&(n=a-1)}return t}function Lh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Y0e(t,e,r){if(t=Float64Array.from(V0e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return O5(t);if(e>=1)return k5(t);var n,i=(n-1)*e,s=Math.floor(i),o=k5(HW(t,s).subarray(0,s+1)),a=O5(t.subarray(s+1));return o+(a-o)*(i-s)}}function X0e(t,e,r=zW){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),a=+r(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function Q0e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Yi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ca(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const YA=Symbol("implicit");function uk(){var t=new N5,e=[],r=[],n=YA;function i(s){let o=t.get(s);if(o===void 0){if(n!==YA)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new N5;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return uk(e,r).unknown(n)},Yi.apply(i,arguments),i}function Zp(){var t=uk().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,a=!1,c=0,u=0,f=.5;delete t.unknown;function p(){var g=e().length,v=i<n,w=v?i:n,x=v?n:i;s=(x-w)/Math.max(1,g-c+u*2),a&&(s=Math.floor(s)),w+=(x-w-s*(g-c))*f,o=s*(1-c),a&&(w=Math.round(w),o=Math.round(o));var _=Q0e(g).map(function(P){return w+s*P});return r(v?_.reverse():_)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,a=!0,p()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(g){return arguments.length?(a=!!g,p()):a},t.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(u=+g,p()):u},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},t.copy=function(){return Zp(e(),[n,i]).round(a).paddingInner(c).paddingOuter(u).align(f)},Yi.apply(p(),arguments)}function GW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return GW(e())},t}function wp(){return GW(Zp.apply(null,arguments).paddingInner(1))}function dk(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function KW(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function eg(){}var em=.7,b0=1/em,Ed="\\s*([+-]?\\d+)\\s*",tm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J0e=/^#([0-9a-f]{3,8})$/,Z0e=new RegExp(`^rgb\\(${Ed},${Ed},${Ed}\\)$`),exe=new RegExp(`^rgb\\(${Js},${Js},${Js}\\)$`),txe=new RegExp(`^rgba\\(${Ed},${Ed},${Ed},${tm}\\)$`),rxe=new RegExp(`^rgba\\(${Js},${Js},${Js},${tm}\\)$`),nxe=new RegExp(`^hsl\\(${tm},${Js},${Js}\\)$`),ixe=new RegExp(`^hsla\\(${tm},${Js},${Js},${tm}\\)$`),j5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dk(eg,rm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:R5,formatHex:R5,formatHex8:sxe,formatHsl:oxe,formatRgb:M5,toString:M5});function R5(){return this.rgb().formatHex()}function sxe(){return this.rgb().formatHex8()}function oxe(){return YW(this).formatHsl()}function M5(){return this.rgb().formatRgb()}function rm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=J0e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?D5(e):r===3?new ni(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Yy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Yy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Z0e.exec(t))?new ni(e[1],e[2],e[3],1):(e=exe.exec(t))?new ni(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=txe.exec(t))?Yy(e[1],e[2],e[3],e[4]):(e=rxe.exec(t))?Yy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nxe.exec(t))?F5(e[1],e[2]/100,e[3]/100,1):(e=ixe.exec(t))?F5(e[1],e[2]/100,e[3]/100,e[4]):j5.hasOwnProperty(t)?D5(j5[t]):t==="transparent"?new ni(NaN,NaN,NaN,0):null}function D5(t){return new ni(t>>16&255,t>>8&255,t&255,1)}function Yy(t,e,r,n){return n<=0&&(t=e=r=NaN),new ni(t,e,r,n)}function axe(t){return t instanceof eg||(t=rm(t)),t?(t=t.rgb(),new ni(t.r,t.g,t.b,t.opacity)):new ni}function XA(t,e,r,n){return arguments.length===1?axe(t):new ni(t,e,r,n??1)}function ni(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}dk(ni,XA,KW(eg,{brighter(t){return t=t==null?b0:Math.pow(b0,t),new ni(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?em:Math.pow(em,t),new ni(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ni(Ec(this.r),Ec(this.g),Ec(this.b),w0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L5,formatHex:L5,formatHex8:lxe,formatRgb:$5,toString:$5}));function L5(){return`#${pc(this.r)}${pc(this.g)}${pc(this.b)}`}function lxe(){return`#${pc(this.r)}${pc(this.g)}${pc(this.b)}${pc((isNaN(this.opacity)?1:this.opacity)*255)}`}function $5(){const t=w0(this.opacity);return`${t===1?"rgb(":"rgba("}${Ec(this.r)}, ${Ec(this.g)}, ${Ec(this.b)}${t===1?")":`, ${t})`}`}function w0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ec(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pc(t){return t=Ec(t),(t<16?"0":"")+t.toString(16)}function F5(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ys(t,e,r,n)}function YW(t){if(t instanceof ys)return new ys(t.h,t.s,t.l,t.opacity);if(t instanceof eg||(t=rm(t)),!t)return new ys;if(t instanceof ys)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,a=s-i,c=(s+i)/2;return a?(e===s?o=(r-n)/a+(r<n)*6:r===s?o=(n-e)/a+2:o=(e-r)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new ys(o,a,c,t.opacity)}function cxe(t,e,r,n){return arguments.length===1?YW(t):new ys(t,e,r,n??1)}function ys(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}dk(ys,cxe,KW(eg,{brighter(t){return t=t==null?b0:Math.pow(b0,t),new ys(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?em:Math.pow(em,t),new ys(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ni(fT(t>=240?t-240:t+120,i,n),fT(t,i,n),fT(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ys(V5(this.h),Xy(this.s),Xy(this.l),w0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=w0(this.opacity);return`${t===1?"hsl(":"hsla("}${V5(this.h)}, ${Xy(this.s)*100}%, ${Xy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function V5(t){return t=(t||0)%360,t<0?t+360:t}function Xy(t){return Math.max(0,Math.min(1,t||0))}function fT(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const fk=t=>()=>t;function uxe(t,e){return function(r){return t+r*e}}function dxe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function fxe(t){return(t=+t)==1?XW:function(e,r){return r-e?dxe(e,r,t):fk(isNaN(e)?r:e)}}function XW(t,e){var r=e-t;return r?uxe(t,r):fk(isNaN(t)?e:t)}const B5=(function t(e){var r=fxe(e);function n(i,s){var o=r((i=XA(i)).r,(s=XA(s)).r),a=r(i.g,s.g),c=r(i.b,s.b),u=XW(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=c(f),i.opacity=u(f),i+""}}return n.gamma=t,n})(1);function hxe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function pxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mxe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Uf(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(a){for(o=0;o<n;++o)s[o]=i[o](a);return s}}function gxe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function _0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function yxe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Uf(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var QA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hT=new RegExp(QA.source,"g");function vxe(t){return function(){return t}}function xxe(t){return function(e){return t(e)+""}}function bxe(t,e){var r=QA.lastIndex=hT.lastIndex=0,n,i,s,o=-1,a=[],c=[];for(t=t+"",e=e+"";(n=QA.exec(t))&&(i=hT.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:_0(n,i)})),r=hT.lastIndex;return r<e.length&&(s=e.slice(r),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?xxe(c[0].x):vxe(e):(e=c.length,function(u){for(var f=0,p;f<e;++f)a[(p=c[f]).i]=p.x(u);return a.join("")})}function Uf(t,e){var r=typeof e,n;return e==null||r==="boolean"?fk(e):(r==="number"?_0:r==="string"?(n=rm(e))?(e=n,B5):bxe:e instanceof rm?B5:e instanceof Date?gxe:pxe(e)?hxe:Array.isArray(e)?mxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yxe:_0)(t,e)}function hk(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function wxe(t,e){e===void 0&&(e=t,t=Uf);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var a=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[a](o-a)}}function _xe(t){return function(){return t}}function S0(t){return+t}var U5=[0,1];function Un(t){return t}function JA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:_xe(isNaN(e)?NaN:.5)}function Sxe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Exe(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=JA(i,n),s=r(o,s)):(n=JA(n,i),s=r(s,o)),function(a){return s(n(a))}}function Txe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=JA(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(a){var c=Zm(t,a,1,n)-1;return s[c](i[c](a))}}function tg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pb(){var t=U5,e=U5,r=Uf,n,i,s,o=Un,a,c,u;function f(){var g=Math.min(t.length,e.length);return o!==Un&&(o=Sxe(t[0],t[g-1])),a=g>2?Txe:Exe,c=u=null,p}function p(g){return g==null||isNaN(g=+g)?s:(c||(c=a(t.map(n),e,r)))(n(o(g)))}return p.invert=function(g){return o(i((u||(u=a(e,t.map(n),_0)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,S0),f()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),r=hk,f()},p.clamp=function(g){return arguments.length?(o=g?!0:Un,f()):o!==Un},p.interpolate=function(g){return arguments.length?(r=g,f()):r},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,v){return n=g,i=v,f()}}function pk(){return pb()(Un,Un)}function Pxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function E0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Xd(t){return t=E0(Math.abs(t)),t?t[1]:NaN}function Axe(t,e){return function(r,n){for(var i=r.length,s=[],o=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>n&&(a=Math.max(1,n-c)),s.push(r.substring(i-=a,i+a)),!((c+=a+1)>n));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Cxe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Nxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nm(t){if(!(e=Nxe.exec(t)))throw new Error("invalid format: "+t);var e;return new mk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nm.prototype=mk.prototype;function mk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ixe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var QW;function kxe(t,e){var r=E0(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(QW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+E0(t,Math.max(0,e+s-1))[0]}function q5(t,e){var r=E0(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const z5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Pxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>q5(t*100,e),r:q5,s:kxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function W5(t){return t}var H5=Array.prototype.map,G5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Oxe(t){var e=t.grouping===void 0||t.thousands===void 0?W5:Axe(H5.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?W5:Cxe(H5.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(p){p=nm(p);var g=p.fill,v=p.align,w=p.sign,x=p.symbol,_=p.zero,P=p.width,S=p.comma,E=p.precision,R=p.trim,N=p.type;N==="n"?(S=!0,N="g"):z5[N]||(E===void 0&&(E=12),R=!0,N="g"),(_||g==="0"&&v==="=")&&(_=!0,g="0",v="=");var M=x==="$"?r:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",I=x==="$"?n:/[%p]/.test(N)?o:"",C=z5[N],j=/[defgprs%]/.test(N);E=E===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function F(L){var V=M,D=I,z,H,X;if(N==="c")D=C(L)+D,L="";else{L=+L;var K=L<0||1/L<0;if(L=isNaN(L)?c:C(Math.abs(L),E),R&&(L=Ixe(L)),K&&+L==0&&w!=="+"&&(K=!1),V=(K?w==="("?w:a:w==="-"||w==="("?"":w)+V,D=(N==="s"?G5[8+QW/3]:"")+D+(K&&w==="("?")":""),j){for(z=-1,H=L.length;++z<H;)if(X=L.charCodeAt(z),48>X||X>57){D=(X===46?i+L.slice(z+1):L.slice(z))+D,L=L.slice(0,z);break}}}S&&!_&&(L=e(L,1/0));var U=V.length+L.length+D.length,te=U<P?new Array(P-U+1).join(g):"";switch(S&&_&&(L=e(te+L,te.length?P-D.length:1/0),te=""),v){case"<":L=V+L+D+te;break;case"=":L=V+te+L+D;break;case"^":L=te.slice(0,U=te.length>>1)+V+L+D+te.slice(U);break;default:L=te+V+L+D;break}return s(L)}return F.toString=function(){return p+""},F}function f(p,g){var v=u((p=nm(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Xd(g)/3)))*3,x=Math.pow(10,-w),_=G5[8+w/3];return function(P){return v(x*P)+_}}return{format:u,formatPrefix:f}}var Qy,gk,JW;jxe({thousands:",",grouping:[3],currency:["$",""]});function jxe(t){return Qy=Oxe(t),gk=Qy.format,JW=Qy.formatPrefix,Qy}function Rxe(t){return Math.max(0,-Xd(Math.abs(t)))}function Mxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xd(e)/3)))*3-Xd(Math.abs(t)))}function Dxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xd(e)-Xd(t))+1}function ZW(t,e,r,n){var i=KA(t,e,r),s;switch(n=nm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Mxe(i,o))&&(n.precision=s),JW(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Dxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Rxe(i))&&(n.precision=s-(n.type==="%")*2);break}}return gk(n)}function bl(t){var e=t.domain;return t.ticks=function(r){var n=e();return HA(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return ZW(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],a=n[s],c,u,f=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);f-- >0;){if(u=GA(o,a,r),u===c)return n[i]=o,n[s]=a,e(n);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function T0(){var t=pk();return t.copy=function(){return tg(t,T0())},Yi.apply(t,arguments),bl(t)}function e7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,S0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return e7(t).unknown(e)},t=arguments.length?Array.from(t,S0):[0,1],bl(r)}function t7(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function K5(t){return Math.log(t)}function Y5(t){return Math.exp(t)}function Lxe(t){return-Math.log(-t)}function $xe(t){return-Math.exp(-t)}function Fxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Vxe(t){return t===10?Fxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Bxe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function X5(t){return(e,r)=>-t(-e,r)}function yk(t){const e=t(K5,Y5),r=e.domain;let n=10,i,s;function o(){return i=Bxe(n),s=Vxe(n),r()[0]<0?(i=X5(i),s=X5(s),t(Lxe,$xe)):t(K5,Y5),e}return e.base=function(a){return arguments.length?(n=+a,o()):n},e.domain=function(a){return arguments.length?(r(a),o()):r()},e.ticks=a=>{const c=r();let u=c[0],f=c[c.length-1];const p=f<u;p&&([u,f]=[f,u]);let g=i(u),v=i(f),w,x;const _=a==null?10:+a;let P=[];if(!(n%1)&&v-g<_){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(w=1;w<n;++w)if(x=g<0?w/s(-g):w*s(g),!(x<u)){if(x>f)break;P.push(x)}}else for(;g<=v;++g)for(w=n-1;w>=1;--w)if(x=g>0?w/s(-g):w*s(g),!(x<u)){if(x>f)break;P.push(x)}P.length*2<_&&(P=HA(u,f,_))}else P=HA(g,v,Math.min(v-g,_)).map(s);return p?P.reverse():P},e.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=nm(c)).precision==null&&(c.trim=!0),c=gk(c)),a===1/0)return c;const u=Math.max(1,n*a/e.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=u?c(f):""}},e.nice=()=>r(t7(r(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function r7(){const t=yk(pb()).domain([1,10]);return t.copy=()=>tg(t,r7()).base(t.base()),Yi.apply(t,arguments),t}function Q5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function J5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vk(t){var e=1,r=t(Q5(e),J5(e));return r.constant=function(n){return arguments.length?t(Q5(e=+n),J5(e)):e},bl(r)}function n7(){var t=vk(pb());return t.copy=function(){return tg(t,n7()).constant(t.constant())},Yi.apply(t,arguments)}function Z5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Uxe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qxe(t){return t<0?-t*t:t*t}function xk(t){var e=t(Un,Un),r=1;function n(){return r===1?t(Un,Un):r===.5?t(Uxe,qxe):t(Z5(r),Z5(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},bl(e)}function bk(){var t=xk(pb());return t.copy=function(){return tg(t,bk()).exponent(t.exponent())},Yi.apply(t,arguments),t}function zxe(){return bk.apply(null,arguments).exponent(.5)}function eF(t){return Math.sign(t)*t*t}function Wxe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function i7(){var t=pk(),e=[0,1],r=!1,n;function i(s){var o=Wxe(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(eF(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,S0)).map(eF)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return i7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Yi.apply(i,arguments),bl(i)}function s7(){var t=[],e=[],r=[],n;function i(){var o=0,a=Math.max(1,e.length);for(r=new Array(a-1);++o<a;)r[o-1]=X0e(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?n:e[Zm(r,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(tl),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return s7().domain(t).range(e).unknown(n)},Yi.apply(s,arguments)}function o7(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Zm(n,c,0,r)]:s}function a(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,a()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,a()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return o7().domain([t,e]).range(i).unknown(s)},Yi.apply(bl(o),arguments)}function a7(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Zm(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return a7().domain(t).range(e).unknown(r)},Yi.apply(i,arguments)}const pT=new Date,mT=new Date;function Wr(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const c=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return c;let u;do c.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return c},i.filter=s=>Wr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(pT.setTime(+s),mT.setTime(+o),t(pT),t(mT),Math.floor(r(pT,mT))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const P0=Wr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);P0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):P0);P0.range;const jo=1e3,qi=jo*60,Ro=qi*60,ra=Ro*24,wk=ra*7,tF=ra*30,gT=ra*365,mc=Wr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*jo)},(t,e)=>(e-t)/jo,t=>t.getUTCSeconds());mc.range;const _k=Wr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jo)},(t,e)=>{t.setTime(+t+e*qi)},(t,e)=>(e-t)/qi,t=>t.getMinutes());_k.range;const Sk=Wr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qi)},(t,e)=>(e-t)/qi,t=>t.getUTCMinutes());Sk.range;const Ek=Wr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jo-t.getMinutes()*qi)},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getHours());Ek.range;const Tk=Wr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getUTCHours());Tk.range;const rg=Wr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qi)/ra,t=>t.getDate()-1);rg.range;const mb=Wr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>t.getUTCDate()-1);mb.range;const l7=Wr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>Math.floor(t/ra));l7.range;function Jc(t){return Wr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qi)/wk)}const gb=Jc(0),A0=Jc(1),Hxe=Jc(2),Gxe=Jc(3),Qd=Jc(4),Kxe=Jc(5),Yxe=Jc(6);gb.range;A0.range;Hxe.range;Gxe.range;Qd.range;Kxe.range;Yxe.range;function Zc(t){return Wr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/wk)}const yb=Zc(0),C0=Zc(1),Xxe=Zc(2),Qxe=Zc(3),Jd=Zc(4),Jxe=Zc(5),Zxe=Zc(6);yb.range;C0.range;Xxe.range;Qxe.range;Jd.range;Jxe.range;Zxe.range;const Pk=Wr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Pk.range;const Ak=Wr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ak.range;const na=Wr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());na.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});na.range;const ia=Wr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ia.range;function c7(t,e,r,n,i,s){const o=[[mc,1,jo],[mc,5,5*jo],[mc,15,15*jo],[mc,30,30*jo],[s,1,qi],[s,5,5*qi],[s,15,15*qi],[s,30,30*qi],[i,1,Ro],[i,3,3*Ro],[i,6,6*Ro],[i,12,12*Ro],[n,1,ra],[n,2,2*ra],[r,1,wk],[e,1,tF],[e,3,3*tF],[t,1,gT]];function a(u,f,p){const g=f<u;g&&([u,f]=[f,u]);const v=p&&typeof p.range=="function"?p:c(u,f,p),w=v?v.range(u,+f+1):[];return g?w.reverse():w}function c(u,f,p){const g=Math.abs(f-u)/p,v=ck(([,,_])=>_).right(o,g);if(v===o.length)return t.every(KA(u/gT,f/gT,p));if(v===0)return P0.every(Math.max(KA(u,f,p),1));const[w,x]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return w.every(x)}return[a,c]}const[ebe,tbe]=c7(ia,Ak,yb,l7,Tk,Sk),[rbe,nbe]=c7(na,Pk,gb,rg,Ek,_k);function yT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function vT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $h(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function ibe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,c=t.shortMonths,u=Fh(i),f=Vh(i),p=Fh(s),g=Vh(s),v=Fh(o),w=Vh(o),x=Fh(a),_=Vh(a),P=Fh(c),S=Vh(c),E={a:K,A:U,b:te,B:Q,c:null,d:aF,e:aF,f:Abe,g:Lbe,G:Fbe,H:Ebe,I:Tbe,j:Pbe,L:u7,m:Cbe,M:Nbe,p:W,q:Z,Q:uF,s:dF,S:Ibe,u:kbe,U:Obe,V:jbe,w:Rbe,W:Mbe,x:null,X:null,y:Dbe,Y:$be,Z:Vbe,"%":cF},R={a:re,A:me,b:Ee,B:je,c:null,d:lF,e:lF,f:zbe,g:ewe,G:rwe,H:Bbe,I:Ube,j:qbe,L:f7,m:Wbe,M:Hbe,p:he,q:Te,Q:uF,s:dF,S:Gbe,u:Kbe,U:Ybe,V:Xbe,w:Qbe,W:Jbe,x:null,X:null,y:Zbe,Y:twe,Z:nwe,"%":cF},N={a:F,A:L,b:V,B:D,c:z,d:sF,e:sF,f:bbe,g:iF,G:nF,H:oF,I:oF,j:gbe,L:xbe,m:mbe,M:ybe,p:j,q:pbe,Q:_be,s:Sbe,S:vbe,u:cbe,U:ube,V:dbe,w:lbe,W:fbe,x:H,X,y:iF,Y:nF,Z:hbe,"%":wbe};E.x=M(r,E),E.X=M(n,E),E.c=M(e,E),R.x=M(r,R),R.X=M(n,R),R.c=M(e,R);function M(ue,ve){return function(Pe){var ae=[],Xe=-1,de=0,xe=ue.length,ke,Re,dt;for(Pe instanceof Date||(Pe=new Date(+Pe));++Xe<xe;)ue.charCodeAt(Xe)===37&&(ae.push(ue.slice(de,Xe)),(Re=rF[ke=ue.charAt(++Xe)])!=null?ke=ue.charAt(++Xe):Re=ke==="e"?" ":"0",(dt=ve[ke])&&(ke=dt(Pe,Re)),ae.push(ke),de=Xe+1);return ae.push(ue.slice(de,Xe)),ae.join("")}}function I(ue,ve){return function(Pe){var ae=$h(1900,void 0,1),Xe=C(ae,ue,Pe+="",0),de,xe;if(Xe!=Pe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(ve&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(de=vT($h(ae.y,0,1)),xe=de.getUTCDay(),de=xe>4||xe===0?C0.ceil(de):C0(de),de=mb.offset(de,(ae.V-1)*7),ae.y=de.getUTCFullYear(),ae.m=de.getUTCMonth(),ae.d=de.getUTCDate()+(ae.w+6)%7):(de=yT($h(ae.y,0,1)),xe=de.getDay(),de=xe>4||xe===0?A0.ceil(de):A0(de),de=rg.offset(de,(ae.V-1)*7),ae.y=de.getFullYear(),ae.m=de.getMonth(),ae.d=de.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),xe="Z"in ae?vT($h(ae.y,0,1)).getUTCDay():yT($h(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(xe+5)%7:ae.w+ae.U*7-(xe+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,vT(ae)):yT(ae)}}function C(ue,ve,Pe,ae){for(var Xe=0,de=ve.length,xe=Pe.length,ke,Re;Xe<de;){if(ae>=xe)return-1;if(ke=ve.charCodeAt(Xe++),ke===37){if(ke=ve.charAt(Xe++),Re=N[ke in rF?ve.charAt(Xe++):ke],!Re||(ae=Re(ue,Pe,ae))<0)return-1}else if(ke!=Pe.charCodeAt(ae++))return-1}return ae}function j(ue,ve,Pe){var ae=u.exec(ve.slice(Pe));return ae?(ue.p=f.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function F(ue,ve,Pe){var ae=v.exec(ve.slice(Pe));return ae?(ue.w=w.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function L(ue,ve,Pe){var ae=p.exec(ve.slice(Pe));return ae?(ue.w=g.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function V(ue,ve,Pe){var ae=P.exec(ve.slice(Pe));return ae?(ue.m=S.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function D(ue,ve,Pe){var ae=x.exec(ve.slice(Pe));return ae?(ue.m=_.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function z(ue,ve,Pe){return C(ue,e,ve,Pe)}function H(ue,ve,Pe){return C(ue,r,ve,Pe)}function X(ue,ve,Pe){return C(ue,n,ve,Pe)}function K(ue){return o[ue.getDay()]}function U(ue){return s[ue.getDay()]}function te(ue){return c[ue.getMonth()]}function Q(ue){return a[ue.getMonth()]}function W(ue){return i[+(ue.getHours()>=12)]}function Z(ue){return 1+~~(ue.getMonth()/3)}function re(ue){return o[ue.getUTCDay()]}function me(ue){return s[ue.getUTCDay()]}function Ee(ue){return c[ue.getUTCMonth()]}function je(ue){return a[ue.getUTCMonth()]}function he(ue){return i[+(ue.getUTCHours()>=12)]}function Te(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var ve=M(ue+="",E);return ve.toString=function(){return ue},ve},parse:function(ue){var ve=I(ue+="",!1);return ve.toString=function(){return ue},ve},utcFormat:function(ue){var ve=M(ue+="",R);return ve.toString=function(){return ue},ve},utcParse:function(ue){var ve=I(ue+="",!0);return ve.toString=function(){return ue},ve}}}var rF={"-":"",_:" ",0:"0"},tn=/^\s*\d+/,sbe=/^%/,obe=/[\\^$*+?|[\]().{}]/g;function At(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function abe(t){return t.replace(obe,"\\$&")}function Fh(t){return new RegExp("^(?:"+t.map(abe).join("|")+")","i")}function Vh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function lbe(t,e,r){var n=tn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function cbe(t,e,r){var n=tn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function ube(t,e,r){var n=tn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function dbe(t,e,r){var n=tn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function fbe(t,e,r){var n=tn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function nF(t,e,r){var n=tn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function iF(t,e,r){var n=tn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hbe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pbe(t,e,r){var n=tn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function mbe(t,e,r){var n=tn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function sF(t,e,r){var n=tn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function gbe(t,e,r){var n=tn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function oF(t,e,r){var n=tn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ybe(t,e,r){var n=tn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function vbe(t,e,r){var n=tn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function xbe(t,e,r){var n=tn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function bbe(t,e,r){var n=tn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function wbe(t,e,r){var n=sbe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function _be(t,e,r){var n=tn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Sbe(t,e,r){var n=tn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function aF(t,e){return At(t.getDate(),e,2)}function Ebe(t,e){return At(t.getHours(),e,2)}function Tbe(t,e){return At(t.getHours()%12||12,e,2)}function Pbe(t,e){return At(1+rg.count(na(t),t),e,3)}function u7(t,e){return At(t.getMilliseconds(),e,3)}function Abe(t,e){return u7(t,e)+"000"}function Cbe(t,e){return At(t.getMonth()+1,e,2)}function Nbe(t,e){return At(t.getMinutes(),e,2)}function Ibe(t,e){return At(t.getSeconds(),e,2)}function kbe(t){var e=t.getDay();return e===0?7:e}function Obe(t,e){return At(gb.count(na(t)-1,t),e,2)}function d7(t){var e=t.getDay();return e>=4||e===0?Qd(t):Qd.ceil(t)}function jbe(t,e){return t=d7(t),At(Qd.count(na(t),t)+(na(t).getDay()===4),e,2)}function Rbe(t){return t.getDay()}function Mbe(t,e){return At(A0.count(na(t)-1,t),e,2)}function Dbe(t,e){return At(t.getFullYear()%100,e,2)}function Lbe(t,e){return t=d7(t),At(t.getFullYear()%100,e,2)}function $be(t,e){return At(t.getFullYear()%1e4,e,4)}function Fbe(t,e){var r=t.getDay();return t=r>=4||r===0?Qd(t):Qd.ceil(t),At(t.getFullYear()%1e4,e,4)}function Vbe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+At(e/60|0,"0",2)+At(e%60,"0",2)}function lF(t,e){return At(t.getUTCDate(),e,2)}function Bbe(t,e){return At(t.getUTCHours(),e,2)}function Ube(t,e){return At(t.getUTCHours()%12||12,e,2)}function qbe(t,e){return At(1+mb.count(ia(t),t),e,3)}function f7(t,e){return At(t.getUTCMilliseconds(),e,3)}function zbe(t,e){return f7(t,e)+"000"}function Wbe(t,e){return At(t.getUTCMonth()+1,e,2)}function Hbe(t,e){return At(t.getUTCMinutes(),e,2)}function Gbe(t,e){return At(t.getUTCSeconds(),e,2)}function Kbe(t){var e=t.getUTCDay();return e===0?7:e}function Ybe(t,e){return At(yb.count(ia(t)-1,t),e,2)}function h7(t){var e=t.getUTCDay();return e>=4||e===0?Jd(t):Jd.ceil(t)}function Xbe(t,e){return t=h7(t),At(Jd.count(ia(t),t)+(ia(t).getUTCDay()===4),e,2)}function Qbe(t){return t.getUTCDay()}function Jbe(t,e){return At(C0.count(ia(t)-1,t),e,2)}function Zbe(t,e){return At(t.getUTCFullYear()%100,e,2)}function ewe(t,e){return t=h7(t),At(t.getUTCFullYear()%100,e,2)}function twe(t,e){return At(t.getUTCFullYear()%1e4,e,4)}function rwe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Jd(t):Jd.ceil(t),At(t.getUTCFullYear()%1e4,e,4)}function nwe(){return"+0000"}function cF(){return"%"}function uF(t){return+t}function dF(t){return Math.floor(+t/1e3)}var Hu,p7,m7;iwe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iwe(t){return Hu=ibe(t),p7=Hu.format,Hu.parse,m7=Hu.utcFormat,Hu.utcParse,Hu}function swe(t){return new Date(t)}function owe(t){return t instanceof Date?+t:+new Date(+t)}function Ck(t,e,r,n,i,s,o,a,c,u){var f=pk(),p=f.invert,g=f.domain,v=u(".%L"),w=u(":%S"),x=u("%I:%M"),_=u("%I %p"),P=u("%a %d"),S=u("%b %d"),E=u("%B"),R=u("%Y");function N(M){return(c(M)<M?v:a(M)<M?w:o(M)<M?x:s(M)<M?_:n(M)<M?i(M)<M?P:S:r(M)<M?E:R)(M)}return f.invert=function(M){return new Date(p(M))},f.domain=function(M){return arguments.length?g(Array.from(M,owe)):g().map(swe)},f.ticks=function(M){var I=g();return t(I[0],I[I.length-1],M??10)},f.tickFormat=function(M,I){return I==null?N:u(I)},f.nice=function(M){var I=g();return(!M||typeof M.range!="function")&&(M=e(I[0],I[I.length-1],M??10)),M?g(t7(I,M)):f},f.copy=function(){return tg(f,Ck(t,e,r,n,i,s,o,a,c,u))},f}function awe(){return Yi.apply(Ck(rbe,nbe,na,Pk,gb,rg,Ek,_k,mc,p7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lwe(){return Yi.apply(Ck(ebe,tbe,ia,Ak,yb,mb,Tk,Sk,mc,m7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vb(){var t=0,e=1,r,n,i,s,o=Un,a=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(s(p)-r)*i,a?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([t,e]=p,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(p){return arguments.length?(a=!!p,u):a},u.interpolator=function(p){return arguments.length?(o=p,u):o};function f(p){return function(g){var v,w;return arguments.length?([v,w]=g,o=p(v,w),u):[o(0),o(1)]}}return u.range=f(Uf),u.rangeRound=f(hk),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return s=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),u}}function wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function g7(){var t=bl(vb()(Un));return t.copy=function(){return wl(t,g7())},ca.apply(t,arguments)}function y7(){var t=yk(vb()).domain([1,10]);return t.copy=function(){return wl(t,y7()).base(t.base())},ca.apply(t,arguments)}function v7(){var t=vk(vb());return t.copy=function(){return wl(t,v7()).constant(t.constant())},ca.apply(t,arguments)}function Nk(){var t=xk(vb());return t.copy=function(){return wl(t,Nk()).exponent(t.exponent())},ca.apply(t,arguments)}function cwe(){return Nk.apply(null,arguments).exponent(.5)}function x7(){var t=[],e=Un;function r(n){if(n!=null&&!isNaN(n=+n))return e((Zm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Y0e(t,s/n))},r.copy=function(){return x7(e).domain(t)},ca.apply(r,arguments)}function xb(){var t=0,e=.5,r=1,n=1,i,s,o,a,c,u=Un,f,p=!1,g;function v(x){return isNaN(x=+x)?g:(x=.5+((x=+f(x))-s)*(n*x<n*s?a:c),u(p?Math.max(0,Math.min(1,x)):x))}v.domain=function(x){return arguments.length?([t,e,r]=x,i=f(t=+t),s=f(e=+e),o=f(r=+r),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v):[t,e,r]},v.clamp=function(x){return arguments.length?(p=!!x,v):p},v.interpolator=function(x){return arguments.length?(u=x,v):u};function w(x){return function(_){var P,S,E;return arguments.length?([P,S,E]=_,u=wxe(x,[P,S,E]),v):[u(0),u(.5),u(1)]}}return v.range=w(Uf),v.rangeRound=w(hk),v.unknown=function(x){return arguments.length?(g=x,v):g},function(x){return f=x,i=x(t),s=x(e),o=x(r),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v}}function b7(){var t=bl(xb()(Un));return t.copy=function(){return wl(t,b7())},ca.apply(t,arguments)}function w7(){var t=yk(xb()).domain([.1,1,10]);return t.copy=function(){return wl(t,w7()).base(t.base())},ca.apply(t,arguments)}function _7(){var t=vk(xb());return t.copy=function(){return wl(t,_7()).constant(t.constant())},ca.apply(t,arguments)}function Ik(){var t=xk(xb());return t.copy=function(){return wl(t,Ik()).exponent(t.exponent())},ca.apply(t,arguments)}function uwe(){return Ik.apply(null,arguments).exponent(.5)}const fF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zp,scaleDiverging:b7,scaleDivergingLog:w7,scaleDivergingPow:Ik,scaleDivergingSqrt:uwe,scaleDivergingSymlog:_7,scaleIdentity:e7,scaleImplicit:YA,scaleLinear:T0,scaleLog:r7,scaleOrdinal:uk,scalePoint:wp,scalePow:bk,scaleQuantile:s7,scaleQuantize:o7,scaleRadial:i7,scaleSequential:g7,scaleSequentialLog:y7,scaleSequentialPow:Nk,scaleSequentialQuantile:x7,scaleSequentialSqrt:cwe,scaleSequentialSymlog:v7,scaleSqrt:zxe,scaleSymlog:n7,scaleThreshold:a7,scaleTime:awe,scaleUtc:lwe,tickFormat:ZW},Symbol.toStringTag,{value:"Module"}));var xT,hF;function bb(){if(hF)return xT;hF=1;var t=$f();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var a=r[s],c=n(a);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,f=a}return f}return xT=e,xT}var bT,pF;function S7(){if(pF)return bT;pF=1;function t(e,r){return e>r}return bT=t,bT}var wT,mF;function dwe(){if(mF)return wT;mF=1;var t=bb(),e=S7(),r=Bf();function n(i){return i&&i.length?t(i,r,e):void 0}return wT=n,wT}var fwe=dwe();const wb=It(fwe);var _T,gF;function E7(){if(gF)return _T;gF=1;function t(e,r){return e<r}return _T=t,_T}var ST,yF;function hwe(){if(yF)return ST;yF=1;var t=bb(),e=E7(),r=Bf();function n(i){return i&&i.length?t(i,r,e):void 0}return ST=n,ST}var pwe=hwe();const _b=It(pwe);var ET,vF;function mwe(){if(vF)return ET;vF=1;var t=HI(),e=uo(),r=OW(),n=ii();function i(s,o){var a=n(s)?t:r;return a(s,e(o,3))}return ET=i,ET}var TT,xF;function gwe(){if(xF)return TT;xF=1;var t=IW(),e=mwe();function r(n,i){return t(e(n,i),1)}return TT=r,TT}var ywe=gwe();const vwe=It(ywe);var PT,bF;function xwe(){if(bF)return PT;bF=1;var t=sk();function e(r,n){return t(r,n)}return PT=e,PT}var bwe=xwe();const ng=It(bwe);var qf=1e9,wwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ok,ir=!0,Ki="[DecimalError] ",Tc=Ki+"Invalid argument: ",kk=Ki+"Exponent out of range: ",zf=Math.floor,nc=Math.pow,_we=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xi,Jr=1e7,Jt=7,T7=9007199254740991,N0=zf(T7/Jt),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Jt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Le.dividedBy=Le.div=function(t){return Uo(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,r=e.constructor;return Vt(Uo(e,new r(t),0,1),r.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return Or(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(xi))throw Error(Ki+"NaN");if(r.s<1)throw Error(Ki+(r.s?"NaN":"-Infinity"));return r.eq(xi)?new n(0):(ir=!1,e=Uo(im(r,s),im(t,s),s),ir=!0,Vt(e,i))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?C7(e,t):P7(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ki+"NaN");return r.s?(ir=!1,e=Uo(r,t,0,1).times(t),ir=!0,r.minus(e)):Vt(new n(r),i)};Le.naturalExponential=Le.exp=function(){return A7(this)};Le.naturalLogarithm=Le.ln=function(){return im(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?P7(e,t):C7(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Tc+t);if(e=Or(i)+1,n=i.d.length-1,r=n*Jt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Le.squareRoot=Le.sqrt=function(){var t,e,r,n,i,s,o,a=this,c=a.constructor;if(a.s<1){if(!a.s)return new c(0);throw Error(Ki+"NaN")}for(t=Or(a),ir=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=zs(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Uo(a,s,o+2)).times(.5),zs(s.d).slice(0,o)===(e=zs(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Vt(s,r+1,0),s.times(s).eq(a)){n=s;break}}else if(e!="9999")break;o+=4}return ir=!0,Vt(n,r)};Le.times=Le.mul=function(t){var e,r,n,i,s,o,a,c,u,f=this,p=f.constructor,g=f.d,v=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,r=f.e+t.e,c=g.length,u=v.length,c<u&&(s=g,g=v,v=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)a=s[i]+v[n]*g[i-n-1]+e,s[i--]=a%Jr|0,e=a/Jr|0;s[i]=(s[i]+e)%Jr|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,ir?Vt(t,p.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(no(t,0,qf),e===void 0?e=n.rounding:no(e,0,8),Vt(r,t+Or(r)+1,e))};Le.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Vc(n,!0):(no(t,0,qf),e===void 0?e=i.rounding:no(e,0,8),n=Vt(new i(n),t+1,e),r=Vc(n,!0,t+1)),r};Le.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Vc(i):(no(t,0,qf),e===void 0?e=s.rounding:no(e,0,8),n=Vt(new s(i),t+Or(i)+1,e),r=Vc(n.abs(),!1,t+Or(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),Or(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,r,n,i,s,o,a=this,c=a.constructor,u=12,f=+(t=new c(t));if(!t.s)return new c(xi);if(a=new c(a),!a.s){if(t.s<1)throw Error(Ki+"Infinity");return a}if(a.eq(xi))return a;if(n=c.precision,t.eq(xi))return Vt(a,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=a.s,o){if((r=f<0?-f:f)<=T7){for(i=new c(xi),e=Math.ceil(n/Jt+4),ir=!1;r%2&&(i=i.times(a),_F(i.d,e)),r=zf(r/2),r!==0;)a=a.times(a),_F(a.d,e);return ir=!0,t.s<0?new c(xi).div(i):Vt(i,n)}}else if(s<0)throw Error(Ki+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,a.s=1,ir=!1,i=t.times(im(a,n+u)),ir=!0,i=A7(i),i.s=s,i};Le.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Or(i),n=Vc(i,r<=s.toExpNeg||r>=s.toExpPos)):(no(t,1,qf),e===void 0?e=s.rounding:no(e,0,8),i=Vt(new s(i),t,e),r=Or(i),n=Vc(i,t<=r||r<=s.toExpNeg,t)),n};Le.toSignificantDigits=Le.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(no(t,1,qf),e===void 0?e=n.rounding:no(e,0,8)),Vt(new n(r),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Or(t),r=t.constructor;return Vc(t,e<=r.toExpNeg||e>=r.toExpPos)};function P7(t,e){var r,n,i,s,o,a,c,u,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ir?Vt(e,p):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,a=u.length):(n=u,i=o,a=c.length),o=Math.ceil(p/Jt),a=o>a?o+1:a+1,s>a&&(s=a,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(a=c.length,s=u.length,a-s<0&&(s=a,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Jr|0,c[s]%=Jr;for(r&&(c.unshift(r),++i),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=i,ir?Vt(e,p):e}function no(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Tc+t)}function zs(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=Jt-n.length,r&&(s+=Fa(r)),s+=n;o=t[e],n=o+"",r=Jt-n.length,r&&(s+=Fa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Uo=(function(){function t(n,i){var s,o=0,a=n.length;for(n=n.slice();a--;)s=n[a]*i+o,n[a]=s%Jr|0,o=s/Jr|0;return o&&n.unshift(o),n}function e(n,i,s,o){var a,c;if(s!=o)c=s>o?1:-1;else for(a=c=0;a<s;a++)if(n[a]!=i[a]){c=n[a]>i[a]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Jr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var a,c,u,f,p,g,v,w,x,_,P,S,E,R,N,M,I,C,j=n.constructor,F=n.s==i.s?1:-1,L=n.d,V=i.d;if(!n.s)return new j(n);if(!i.s)throw Error(Ki+"Division by zero");for(c=n.e-i.e,I=V.length,N=L.length,v=new j(F),w=v.d=[],u=0;V[u]==(L[u]||0);)++u;if(V[u]>(L[u]||0)&&--c,s==null?S=s=j.precision:o?S=s+(Or(n)-Or(i))+1:S=s,S<0)return new j(0);if(S=S/Jt+2|0,u=0,I==1)for(f=0,V=V[0],S++;(u<N||f)&&S--;u++)E=f*Jr+(L[u]||0),w[u]=E/V|0,f=E%V|0;else{for(f=Jr/(V[0]+1)|0,f>1&&(V=t(V,f),L=t(L,f),I=V.length,N=L.length),R=I,x=L.slice(0,I),_=x.length;_<I;)x[_++]=0;C=V.slice(),C.unshift(0),M=V[0],V[1]>=Jr/2&&++M;do f=0,a=e(V,x,I,_),a<0?(P=x[0],I!=_&&(P=P*Jr+(x[1]||0)),f=P/M|0,f>1?(f>=Jr&&(f=Jr-1),p=t(V,f),g=p.length,_=x.length,a=e(p,x,g,_),a==1&&(f--,r(p,I<g?C:V,g))):(f==0&&(a=f=1),p=V.slice()),g=p.length,g<_&&p.unshift(0),r(x,p,_),a==-1&&(_=x.length,a=e(V,x,I,_),a<1&&(f++,r(x,I<_?C:V,_))),_=x.length):a===0&&(f++,x=[0]),w[u++]=f,a&&x[0]?x[_++]=L[R]||0:(x=[L[R]],_=1);while((R++<N||x[0]!==void 0)&&S--)}return w[0]||w.shift(),v.e=c,Vt(v,o?s+Or(v)+1:s)}})();function A7(t,e){var r,n,i,s,o,a,c=0,u=0,f=t.constructor,p=f.precision;if(Or(t)>16)throw Error(kk+Or(t));if(!t.s)return new f(xi);for(ir=!1,a=p,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(nc(2,u))/Math.LN10*2+5|0,a+=n,r=i=s=new f(xi),f.precision=a;;){if(i=Vt(i.times(t),a),r=r.times(++c),o=s.plus(Uo(i,r,a)),zs(o.d).slice(0,a)===zs(s.d).slice(0,a)){for(;u--;)s=Vt(s.times(s),a);return f.precision=p,e==null?(ir=!0,Vt(s,p)):s}s=o}}function Or(t){for(var e=t.e*Jt,r=t.d[0];r>=10;r/=10)e++;return e}function AT(t,e,r){if(e>t.LN10.sd())throw ir=!0,r&&(t.precision=r),Error(Ki+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function Fa(t){for(var e="";t--;)e+="0";return e}function im(t,e){var r,n,i,s,o,a,c,u,f,p=1,g=10,v=t,w=v.d,x=v.constructor,_=x.precision;if(v.s<1)throw Error(Ki+(v.s?"NaN":"-Infinity"));if(v.eq(xi))return new x(0);if(e==null?(ir=!1,u=_):u=e,v.eq(10))return e==null&&(ir=!0),AT(x,u);if(u+=g,x.precision=u,r=zs(w),n=r.charAt(0),s=Or(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=zs(v.d),n=r.charAt(0),p++;s=Or(v),n>1?(v=new x("0."+r),s++):v=new x(n+"."+r.slice(1))}else return c=AT(x,u+2,_).times(s+""),v=im(new x(n+"."+r.slice(1)),u-g).plus(c),x.precision=_,e==null?(ir=!0,Vt(v,_)):v;for(a=o=v=Uo(v.minus(xi),v.plus(xi),u),f=Vt(v.times(v),u),i=3;;){if(o=Vt(o.times(f),u),c=a.plus(Uo(o,new x(i),u)),zs(c.d).slice(0,u)===zs(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(AT(x,u+2,_).times(s+""))),a=Uo(a,new x(p),u),x.precision=_,e==null?(ir=!0,Vt(a,_)):a;a=c,i+=2}}function wF(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=zf(r/Jt),t.d=[],n=(r+1)%Jt,r<0&&(n+=Jt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Jt;n<i;)t.d.push(+e.slice(n,n+=Jt));e=e.slice(n),n=Jt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ir&&(t.e>N0||t.e<-N0))throw Error(kk+r)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,r){var n,i,s,o,a,c,u,f,p=t.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=Jt,i=e,u=p[f=0];else{if(f=Math.ceil((n+1)/Jt),s=p.length,f>=s)return t;for(u=s=p[f],o=1;s>=10;s/=10)o++;n%=Jt,i=n-Jt+o}if(r!==void 0&&(s=nc(10,o-i-1),a=u/s%10|0,c=e<0||p[f+1]!==void 0||u%s,c=r<4?(a||c)&&(r==0||r==(t.s<0?3:2)):a>5||a==5&&(r==4||c||r==6&&(n>0?i>0?u/nc(10,o-i):0:p[f-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(s=Or(t),p.length=1,e=e-s-1,p[0]=nc(10,(Jt-e%Jt)%Jt),t.e=zf(-e/Jt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=f,s=1,f--):(p.length=f+1,s=nc(10,Jt-n),p[f]=i>0?(u/nc(10,o-i)%nc(10,i)|0)*s:0),c)for(;;)if(f==0){(p[0]+=s)==Jr&&(p[0]=1,++t.e);break}else{if(p[f]+=s,p[f]!=Jr)break;p[f--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(ir&&(t.e>N0||t.e<-N0))throw Error(kk+Or(t));return t}function C7(t,e){var r,n,i,s,o,a,c,u,f,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),ir?Vt(e,v):e;if(c=t.d,p=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,a=p.length):(r=p,n=u,a=c.length),i=Math.max(Math.ceil(v/Jt),a)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,a=p.length,f=i<a,f&&(a=i),i=0;i<a;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}o=0}for(f&&(r=c,c=p,p=r,e.s=-e.s),a=c.length,i=p.length-a;i>0;--i)c[a++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=Jr-1;--c[s],c[i]+=Jr}c[i]-=p[i]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,ir?Vt(e,v):e):new g(0)}function Vc(t,e,r){var n,i=Or(t),s=zs(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Fa(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Fa(-i-1)+s,r&&(n=r-o)>0&&(s+=Fa(n))):i>=o?(s+=Fa(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Fa(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Fa(n))),t.s<0?"-"+s:s}function _F(t,e){if(t.length>e)return t.length=e,!0}function N7(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Tc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return wF(o,s.toString())}else if(typeof s!="string")throw Error(Tc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,_we.test(s))wF(o,s);else throw Error(Tc+s)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=N7,i.config=i.set=Swe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Swe(t){if(!t||typeof t!="object")throw Error(Ki+"Object expected");var e,r,n,i=["precision",1,qf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(zf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Tc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Tc+r+": "+n);return this}var Ok=N7(wwe);xi=new Ok(1);const $t=Ok;function Ewe(t){return Cwe(t)||Awe(t)||Pwe(t)||Twe()}function Twe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pwe(t,e){if(t){if(typeof t=="string")return ZA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(t,e)}}function Awe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Cwe(t){if(Array.isArray(t))return ZA(t)}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Nwe=function(e){return e},I7={},k7=function(e){return e===I7},SF=function(e){return function r(){return arguments.length===0||arguments.length===1&&k7(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Iwe=function t(e,r){return e===1?r:SF(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==I7}).length;return o>=e?r.apply(void 0,i):t(e-o,SF(function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];var f=i.map(function(p){return k7(p)?c.shift():p});return r.apply(void 0,Ewe(f).concat(c))}))})},Sb=function(e){return Iwe(e.length,e)},eC=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},kwe=Sb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Owe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Nwe;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,c){return c(a)},s.apply(void 0,arguments))}},tC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},O7=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(a,c){return a===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function jwe(t){var e;return t===0?e=1:e=Math.floor(new $t(t).abs().log(10).toNumber())+1,e}function Rwe(t,e,r){for(var n=new $t(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Mwe=Sb(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Dwe=Sb(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Lwe=Sb(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Eb={rangeStep:Rwe,getDigitCount:jwe,interpolateNumber:Mwe,uninterpolateNumber:Dwe,uninterpolateTruncation:Lwe};function rC(t){return Vwe(t)||Fwe(t)||j7(t)||$we()}function $we(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Vwe(t){if(Array.isArray(t))return nC(t)}function sm(t,e){return qwe(t)||Uwe(t,e)||j7(t,e)||Bwe()}function Bwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j7(t,e){if(t){if(typeof t=="string")return nC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nC(t,e)}}function nC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Uwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(n=(a=o.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function qwe(t){if(Array.isArray(t))return t}function R7(t){var e=sm(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function M7(t,e,r){if(t.lte(0))return new $t(0);var n=Eb.getDigitCount(t.toNumber()),i=new $t(10).pow(n),s=t.div(i),o=n!==1?.05:.1,a=new $t(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=a.mul(i);return e?c:new $t(Math.ceil(c))}function zwe(t,e,r){var n=1,i=new $t(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new $t(10).pow(Eb.getDigitCount(t)-1),i=new $t(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new $t(Math.floor(t)))}else t===0?i=new $t(Math.floor((e-1)/2)):r||(i=new $t(Math.floor(t)));var o=Math.floor((e-1)/2),a=Owe(kwe(function(c){return i.add(new $t(c-o).mul(n)).toNumber()}),eC);return a(0,e)}function D7(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var s=M7(new $t(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new $t(0):(o=new $t(t).add(e).div(2),o=o.sub(new $t(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new $t(e).sub(o).div(s).toNumber()),u=a+c+1;return u>r?D7(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,a=e>0?a:a+(r-u)),{step:s,tickMin:o.sub(new $t(a).mul(s)),tickMax:o.add(new $t(c).mul(s))})}function Wwe(t){var e=sm(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=R7([r,n]),c=sm(a,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var p=f===1/0?[u].concat(rC(eC(0,i-1).map(function(){return 1/0}))):[].concat(rC(eC(0,i-1).map(function(){return-1/0})),[f]);return r>n?tC(p):p}if(u===f)return zwe(u,i,s);var g=D7(u,f,o,s),v=g.step,w=g.tickMin,x=g.tickMax,_=Eb.rangeStep(w,x.add(new $t(.1).mul(v)),v);return r>n?tC(_):_}function Hwe(t,e){var r=sm(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=R7([n,i]),a=sm(o,2),c=a[0],u=a[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(e,2),p=M7(new $t(u).sub(c).div(f-1),s,0),g=[].concat(rC(Eb.rangeStep(new $t(c),new $t(u).sub(new $t(.99).mul(p)),p)),[u]);return n>i?tC(g):g}var Gwe=O7(Wwe),Kwe=O7(Hwe),Ywe="Invariant failed";function Bc(t,e){throw new Error(Ywe)}var Xwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}function Qwe(t,e){return t_e(t)||e_e(t,e)||Zwe(t,e)||Jwe()}function Jwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zwe(t,e){if(t){if(typeof t=="string")return EF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EF(t,e)}}function EF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function t_e(t){if(Array.isArray(t))return t}function r_e(t,e){if(t==null)return{};var r=n_e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function n_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function i_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F7(n.key),n)}}function o_e(t,e,r){return e&&s_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a_e(t,e,r){return e=k0(e),l_e(t,L7()?Reflect.construct(e,r||[],k0(t).constructor):e.apply(t,r))}function l_e(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c_e(t)}function c_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L7=function(){return!!t})()}function k0(t){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k0(t)}function u_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iC(t,e)}function iC(t,e){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iC(t,e)}function $7(t,e,r){return e=F7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F7(t){var e=d_e(t,"string");return Zd(e)=="symbol"?e:e+""}function d_e(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ig=(function(t){function e(){return i_e(this,e),a_e(this,e,arguments)}return u_e(e,t),o_e(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,a=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,p=n.yAxis,g=r_e(n,Xwe),v=Ye(g,!1);this.props.direction==="x"&&f.type!=="number"&&Bc();var w=c.map(function(x){var _=u(x,a),P=_.x,S=_.y,E=_.value,R=_.errorVal;if(!R)return null;var N=[],M,I;if(Array.isArray(R)){var C=Qwe(R,2);M=C[0],I=C[1]}else M=I=R;if(s==="vertical"){var j=f.scale,F=S+i,L=F+o,V=F-o,D=j(E-M),z=j(E+I);N.push({x1:z,y1:L,x2:z,y2:V}),N.push({x1:D,y1:F,x2:z,y2:F}),N.push({x1:D,y1:L,x2:D,y2:V})}else if(s==="horizontal"){var H=p.scale,X=P+i,K=X-o,U=X+o,te=H(E-M),Q=H(E+I);N.push({x1:K,y1:Q,x2:U,y2:Q}),N.push({x1:X,y1:te,x2:X,y2:Q}),N.push({x1:K,y1:te,x2:U,y2:te})}return Y.createElement(Pt,I0({className:"recharts-errorBar",key:"bar-".concat(N.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},v),N.map(function(W){return Y.createElement("line",I0({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return Y.createElement(Pt,{className:"recharts-errorBars"},w)}}])})(Y.Component);$7(ig,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$7(ig,"displayName","ErrorBar");function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){f_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f_e(t,e,r){return e=h_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h_e(t){var e=p_e(t,"string");return om(e)=="symbol"?e:e+""}function p_e(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V7=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=mi(r,Sd);if(!o)return null;var a=Sd.defaultProps,c=a!==void 0?Yl(Yl({},a),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(f,p){var g=p.item,v=p.props,w=v.sectors||v.data||[];return f.concat(w.map(function(x){return{type:o.props.iconType||g.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(f){var p=f.item,g=p.type.defaultProps,v=g!==void 0?Yl(Yl({},g),p.props):{},w=v.dataKey,x=v.name,_=v.legendType,P=v.hide;return{inactive:P,dataKey:w,type:c.iconType||_||"square",color:jk(p),value:x||w,payload:v}}),Yl(Yl(Yl({},c),Sd.getWithHeight(o,i)),{},{payload:u,item:o})};function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function PF(t){return v_e(t)||y_e(t)||g_e(t)||m_e()}function m_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g_e(t,e){if(t){if(typeof t=="string")return sC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sC(t,e)}}function y_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v_e(t){if(Array.isArray(t))return sC(t)}function sC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(r),!0).forEach(function(n){Td(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Td(t,e,r){return e=x_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x_e(t){var e=b_e(t,"string");return am(e)=="symbol"?e:e+""}function b_e(t,e){if(am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vr(t,e,r){return ot(t)||ot(e)?r:Br(e)?wi(t,e,r):rt(e)?e(t):r}function _p(t,e,r,n){var i=vwe(t,function(a){return Vr(a,e)});if(r==="number"){var s=i.filter(function(a){return Ae(a)||parseFloat(a)});return s.length?[_b(s),wb(s)]:[1/0,-1/0]}var o=n?i.filter(function(a){return!ot(a)}):i;return o.map(function(a){return Br(a)||a instanceof Date?a:""})}var w_e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<a;u++){var f=u>0?i[u-1].coordinate:i[a-1].coordinate,p=i[u].coordinate,g=u>=a-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(Vn(p-f)!==Vn(g-p)){var w=[];if(Vn(g-p)===Vn(c[1]-c[0])){v=g;var x=p+c[1]-c[0];w[0]=Math.min(x,(x+f)/2),w[1]=Math.max(x,(x+f)/2)}else{v=f;var _=g+c[1]-c[0];w[0]=Math.min(p,(_+p)/2),w[1]=Math.max(p,(_+p)/2)}var P=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>P[0]&&e<=P[1]||e>=w[0]&&e<=w[1]){o=i[u].index;break}}else{var S=Math.min(f,g),E=Math.max(f,g);if(e>(S+p)/2&&e<=(E+p)/2){o=i[u].index;break}}}else for(var R=0;R<a;R++)if(R===0&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R>0&&R<a-1&&e>(n[R].coordinate+n[R-1].coordinate)/2&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R===a-1&&e>(n[R].coordinate+n[R-1].coordinate)/2){o=n[R].index;break}return o},jk=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?mr(mr({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:a;break;default:c=a;break}return c},__e=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),c=0,u=a.length;c<u;c++)for(var f=s[a[c]].stackGroups,p=Object.keys(f),g=0,v=p.length;g<v;g++){var w=f[p[g]],x=w.items,_=w.cateAxisId,P=x.filter(function(I){return Bo(I.type).indexOf("Bar")>=0});if(P&&P.length){var S=P[0].type.defaultProps,E=S!==void 0?mr(mr({},S),P[0].props):P[0].props,R=E.barSize,N=E[_];o[N]||(o[N]=[]);var M=ot(R)?r:R;o[N].push({item:P[0],stackList:P.slice(1),barSize:ot(M)?void 0:Bn(M,n,0)})}}return o},S_e=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,c=o.length;if(c<1)return null;var u=Bn(r,i,0,!0),f,p=[];if(o[0].barSize===+o[0].barSize){var g=!1,v=i/c,w=o.reduce(function(R,N){return R+N.barSize||0},0);w+=(c-1)*u,w>=i&&(w-=(c-1)*u,u=0),w>=i&&v>0&&(g=!0,v*=.9,w=c*v);var x=(i-w)/2>>0,_={offset:x-u,size:0};f=o.reduce(function(R,N){var M={item:N.item,position:{offset:_.offset+_.size+u,size:g?v:N.barSize}},I=[].concat(PF(R),[M]);return _=I[I.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){I.push({item:C,position:_})}),I},p)}else{var P=Bn(n,i,0,!0);i-2*P-(c-1)*u<=0&&(u=0);var S=(i-2*P-(c-1)*u)/c;S>1&&(S>>=0);var E=a===+a?Math.min(S,a):S;f=o.reduce(function(R,N,M){var I=[].concat(PF(R),[{item:N.item,position:{offset:P+(S+u)*M+(S-E)/2,size:E}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){I.push({item:C,position:I[I.length-1].position})}),I},p)}return f},E_e=function(e,r,n,i){var s=n.children,o=n.width,a=n.margin,c=o-(a.left||0)-(a.right||0),u=V7({children:s,legendWidth:c});if(u){var f=i||{},p=f.width,g=f.height,v=u.align,w=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&w==="middle")&&v!=="center"&&Ae(e[v]))return mr(mr({},e),{},Td({},v,e[v]+(p||0)));if((x==="horizontal"||x==="vertical"&&v==="center")&&w!=="middle"&&Ae(e[w]))return mr(mr({},e),{},Td({},w,e[w]+(g||0)))}return e},T_e=function(e,r,n){return ot(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},B7=function(e,r,n,i,s){var o=r.props.children,a=_i(o,ig).filter(function(u){return T_e(i,s,u.props.direction)});if(a&&a.length){var c=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var p=Vr(f,n);if(ot(p))return u;var g=Array.isArray(p)?[_b(p),wb(p)]:[p,p],v=c.reduce(function(w,x){var _=Vr(f,x,0),P=g[0]-Math.abs(Array.isArray(_)?_[0]:_),S=g[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(P,w[0]),Math.max(S,w[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},P_e=function(e,r,n,i,s){var o=r.map(function(a){return B7(e,a,n,s,i)}).filter(function(a){return!ot(a)});return o&&o.length?o.reduce(function(a,c){return[Math.min(a[0],c[0]),Math.max(a[1],c[1])]},[1/0,-1/0]):null},U7=function(e,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&B7(e,c,u,i)||_p(e,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(c,u){for(var f=0,p=u.length;f<p;f++)a[u[f]]||(a[u[f]]=!0,c.push(u[f]));return c},[])},q7=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},z7=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var s,o,a=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||a.push(r),o||a.push(n),a},Mo=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Vn(a[0]-a[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(p){var g=s?s.indexOf(p):p;return{coordinate:i(g)+u,value:p,offset:u}});return f.filter(function(p){return!Qm(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,g){return{coordinate:i(p)+u,value:p,index:g,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+u,value:p,offset:u}}):i.domain().map(function(p,g){return{coordinate:i(p)+u,value:s?s[p]:p,index:g,offset:u}})},CT=new WeakMap,Jy=function(e,r){if(typeof r!="function")return e;CT.has(e)||CT.set(e,new WeakMap);var n=CT.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},W7=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:Zp(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:T0(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:wp(),realScaleType:"point"}:s==="category"?{scale:Zp(),realScaleType:"band"}:{scale:T0(),realScaleType:"linear"};if(Lc(i)){var c="scale".concat(ab(i));return{scale:(fF[c]||wp)(),realScaleType:fF[c]?c:"point"}}return rt(i)?{scale:i}:{scale:wp(),realScaleType:"point"}},CF=1e-4,H7=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-CF,o=Math.max(i[0],i[1])+CF,a=e(r[0]),c=e(r[n-1]);(a<s||a>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},A_e=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},C_e=function(e,r){if(!r||r.length!==2||!Ae(r[0])||!Ae(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Ae(e[0])||e[0]<n)&&(s[0]=n),(!Ae(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},N_e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,a=0;a<r;++a){var c=Qm(e[a][n][1])?e[a][n][0]:e[a][n][1];c>=0?(e[a][n][0]=s,e[a][n][1]=s+c,s=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+c,o=e[a][n][1])}},I_e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var a=Qm(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=s,e[o][n][1]=s+a,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},k_e={sign:N_e,expand:vge,none:Wd,silhouette:xge,wiggle:bge,positive:I_e},O_e=function(e,r,n){var i=r.map(function(a){return a.props.dataKey}),s=k_e[n],o=yge().keys(i).value(function(a,c){return+Vr(a,c,0)}).order(RA).offset(s);return o(e)},j_e=function(e,r,n,i,s,o){if(!e)return null;var a=o?r.reverse():r,c={},u=a.reduce(function(p,g){var v,w=(v=g.type)!==null&&v!==void 0&&v.defaultProps?mr(mr({},g.type.defaultProps),g.props):g.props,x=w.stackId,_=w.hide;if(_)return p;var P=w[n],S=p[P]||{hasStack:!1,stackGroups:{}};if(Br(x)){var E=S.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};E.items.push(g),S.hasStack=!0,S.stackGroups[x]=E}else S.stackGroups[Vf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return mr(mr({},p),{},Td({},P,S))},c),f={};return Object.keys(u).reduce(function(p,g){var v=u[g];if(v.hasStack){var w={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(x,_){var P=v.stackGroups[_];return mr(mr({},x),{},Td({},_,{numericAxisId:n,cateAxisId:i,items:P.items,stackedData:O_e(e,P.items,s)}))},w)}return mr(mr({},p),{},Td({},g,v))},f)},G7=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,a=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=Gwe(u,s,a);return e.domain([_b(f),wb(f)]),{niceTicks:f}}if(s&&i==="number"){var p=e.domain(),g=Kwe(p,s,a);return{niceTicks:g}}return null};function NF(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ot(i[e.dataKey])){var a=a0(r,"value",i[e.dataKey]);if(a)return a.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Vr(i,ot(o)?e.dataKey:o);return ot(c)?null:e.scale(c)}var IF=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var c=Vr(o,r.dataKey,r.domain[a]);return ot(c)?null:r.scale(c)-s/2+i},R_e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},M_e=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?mr(mr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Br(s)){var o=r[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},D_e=function(e){return e.reduce(function(r,n){return[_b(n.concat([r[0]]).filter(Ae)),wb(n.concat([r[1]]).filter(Ae))]},[1/0,-1/0])},K7=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,c=a.reduce(function(u,f){var p=D_e(f.slice(r,n+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},kF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oC=function(e,r,n){if(rt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Ae(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(kF.test(e[0])){var s=+kF.exec(e[0])[1];i[0]=r[0]-s}else rt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Ae(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(OF.test(e[1])){var o=+OF.exec(e[1])[1];i[1]=r[1]+o}else rt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},O0=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=ak(r,function(p){return p.coordinate}),o=1/0,a=1,c=s.length;a<c;a++){var u=s[a],f=s[a-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},jF=function(e,r,n){return!e||!e.length||ng(e,wi(n,"type.defaultProps.domain"))?r:e},Y7=function(e,r){var n=e.type.defaultProps?mr(mr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,a=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return mr(mr({},Ye(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:jk(e),value:Vr(r,i),type:c,payload:r,chartType:u,hide:f})};function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function RF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Co(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(r),!0).forEach(function(n){X7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X7(t,e,r){return e=L_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L_e(t){var e=$_e(t,"string");return lm(e)=="symbol"?e:e+""}function $_e(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F_e(t,e){return q_e(t)||U_e(t,e)||B_e(t,e)||V_e()}function V_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B_e(t,e){if(t){if(typeof t=="string")return MF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MF(t,e)}}function MF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function q_e(t){if(Array.isArray(t))return t}var j0=Math.PI/180,z_e=function(e){return e*180/Math.PI},Ht=function(e,r,n,i){return{x:e+Math.cos(-j0*i)*n,y:r+Math.sin(-j0*i)*n}},Q7=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},W_e=function(e,r,n,i,s){var o=e.width,a=e.height,c=e.startAngle,u=e.endAngle,f=Bn(e.cx,o,o/2),p=Bn(e.cy,a,a/2),g=Q7(o,a,n),v=Bn(e.innerRadius,g,0),w=Bn(e.outerRadius,g,g*.8),x=Object.keys(r);return x.reduce(function(_,P){var S=r[P],E=S.domain,R=S.reversed,N;if(ot(S.range))i==="angleAxis"?N=[c,u]:i==="radiusAxis"&&(N=[v,w]),R&&(N=[N[1],N[0]]);else{N=S.range;var M=N,I=F_e(M,2);c=I[0],u=I[1]}var C=W7(S,s),j=C.realScaleType,F=C.scale;F.domain(E).range(N),H7(F);var L=G7(F,Co(Co({},S),{},{realScaleType:j})),V=Co(Co(Co({},S),L),{},{range:N,radius:w,realScaleType:j,scale:F,cx:f,cy:p,innerRadius:v,outerRadius:w,startAngle:c,endAngle:u});return Co(Co({},_),{},X7({},P,V))},{})},H_e=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},G_e=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,a=H_e({x:n,y:i},{x:s,y:o});if(a<=0)return{radius:a};var c=(n-s)/a,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:a,angle:z_e(u),angleInRadian:u}},K_e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},Y_e=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},DF=function(e,r){var n=e.x,i=e.y,s=G_e({x:n,y:i},r),o=s.radius,a=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=K_e(r),p=f.startAngle,g=f.endAngle,v=a,w;if(p<=g){for(;v>g;)v-=360;for(;v<p;)v+=360;w=v>=p&&v<=g}else{for(;v>p;)v-=360;for(;v<g;)v+=360;w=v>=g&&v<=p}return w?Co(Co({},r),{},{radius:o,angle:Y_e(v,r)}):null},J7=function(e){return!T.isValidElement(e)&&!rt(e)&&typeof e!="boolean"?e.className:""};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}var X_e=["offset"];function Q_e(t){return t1e(t)||e1e(t)||Z_e(t)||J_e()}function J_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z_e(t,e){if(t){if(typeof t=="string")return aC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aC(t,e)}}function e1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t1e(t){if(Array.isArray(t))return aC(t)}function aC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r1e(t,e){if(t==null)return{};var r=n1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function n1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(r),!0).forEach(function(n){i1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i1e(t,e,r){return e=s1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s1e(t){var e=o1e(t,"string");return cm(e)=="symbol"?e:e+""}function o1e(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},um.apply(this,arguments)}var a1e=function(e){var r=e.value,n=e.formatter,i=ot(e.children)?r:e.children;return rt(n)?n(i):i},l1e=function(e,r){var n=Vn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},c1e=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,c=s,u=c.cx,f=c.cy,p=c.innerRadius,g=c.outerRadius,v=c.startAngle,w=c.endAngle,x=c.clockWise,_=(p+g)/2,P=l1e(v,w),S=P>=0?1:-1,E,R;i==="insideStart"?(E=v+S*o,R=x):i==="insideEnd"?(E=w-S*o,R=!x):i==="end"&&(E=w+S*o,R=x),R=P<=0?R:!R;var N=Ht(u,f,_,E),M=Ht(u,f,_,E+(R?1:-1)*359),I="M".concat(N.x,",").concat(N.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(R?0:1,`,
    `).concat(M.x,",").concat(M.y),C=ot(e.id)?Vf("recharts-radial-line-"):e.id;return Y.createElement("text",um({},n,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",a)}),Y.createElement("defs",null,Y.createElement("path",{id:C,d:I})),Y.createElement("textPath",{xlinkHref:"#".concat(C)},r))},u1e=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,a=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,p=s.endAngle,g=(f+p)/2;if(i==="outside"){var v=Ht(o,a,u+n,g),w=v.x,x=v.y;return{x:w,y:x,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var _=(c+u)/2,P=Ht(o,a,_,g),S=P.x,E=P.y;return{x:S,y:E,textAnchor:"middle",verticalAnchor:"middle"}},d1e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,a=o.x,c=o.y,u=o.width,f=o.height,p=f>=0?1:-1,g=p*i,v=p>0?"end":"start",w=p>0?"start":"end",x=u>=0?1:-1,_=x*i,P=x>0?"end":"start",S=x>0?"start":"end";if(s==="top"){var E={x:a+u/2,y:c-p*i,textAnchor:"middle",verticalAnchor:v};return $r($r({},E),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var R={x:a+u/2,y:c+f+g,textAnchor:"middle",verticalAnchor:w};return $r($r({},R),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var N={x:a-_,y:c+f/2,textAnchor:P,verticalAnchor:"middle"};return $r($r({},N),n?{width:Math.max(N.x-n.x,0),height:f}:{})}if(s==="right"){var M={x:a+u+_,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return $r($r({},M),n?{width:Math.max(n.x+n.width-M.x,0),height:f}:{})}var I=n?{width:u,height:f}:{};return s==="insideLeft"?$r({x:a+_,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},I):s==="insideRight"?$r({x:a+u-_,y:c+f/2,textAnchor:P,verticalAnchor:"middle"},I):s==="insideTop"?$r({x:a+u/2,y:c+g,textAnchor:"middle",verticalAnchor:w},I):s==="insideBottom"?$r({x:a+u/2,y:c+f-g,textAnchor:"middle",verticalAnchor:v},I):s==="insideTopLeft"?$r({x:a+_,y:c+g,textAnchor:S,verticalAnchor:w},I):s==="insideTopRight"?$r({x:a+u-_,y:c+g,textAnchor:P,verticalAnchor:w},I):s==="insideBottomLeft"?$r({x:a+_,y:c+f-g,textAnchor:S,verticalAnchor:v},I):s==="insideBottomRight"?$r({x:a+u-_,y:c+f-g,textAnchor:P,verticalAnchor:v},I):Ff(s)&&(Ae(s.x)||hc(s.x))&&(Ae(s.y)||hc(s.y))?$r({x:a+Bn(s.x,u),y:c+Bn(s.y,f),textAnchor:"end",verticalAnchor:"end"},I):$r({x:a+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},I)},f1e=function(e){return"cx"in e&&Ae(e.cx)};function Zr(t){var e=t.offset,r=e===void 0?5:e,n=r1e(t,X_e),i=$r({offset:r},n),s=i.viewBox,o=i.position,a=i.value,c=i.children,u=i.content,f=i.className,p=f===void 0?"":f,g=i.textBreakAll;if(!s||ot(a)&&ot(c)&&!T.isValidElement(u)&&!rt(u))return null;if(T.isValidElement(u))return T.cloneElement(u,i);var v;if(rt(u)){if(v=T.createElement(u,i),T.isValidElement(v))return v}else v=a1e(i);var w=f1e(s),x=Ye(i,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return c1e(i,v,x);var _=w?u1e(i):d1e(i);return Y.createElement(Fc,um({className:lt("recharts-label",p)},x,_,{breakAll:g}),v)}Zr.displayName="Label";var Z7=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,c=e.radius,u=e.innerRadius,f=e.outerRadius,p=e.x,g=e.y,v=e.top,w=e.left,x=e.width,_=e.height,P=e.clockWise,S=e.labelViewBox;if(S)return S;if(Ae(x)&&Ae(_)){if(Ae(p)&&Ae(g))return{x:p,y:g,width:x,height:_};if(Ae(v)&&Ae(w))return{x:v,y:w,width:x,height:_}}return Ae(p)&&Ae(g)?{x:p,y:g,width:0,height:0}:Ae(r)&&Ae(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||a||0,clockWise:P}:e.viewBox?e.viewBox:{}},h1e=function(e,r){return e?e===!0?Y.createElement(Zr,{key:"label-implicit",viewBox:r}):Br(e)?Y.createElement(Zr,{key:"label-implicit",viewBox:r,value:e}):T.isValidElement(e)?e.type===Zr?T.cloneElement(e,{key:"label-implicit",viewBox:r}):Y.createElement(Zr,{key:"label-implicit",content:e,viewBox:r}):rt(e)?Y.createElement(Zr,{key:"label-implicit",content:e,viewBox:r}):Ff(e)?Y.createElement(Zr,um({viewBox:r},e,{key:"label-implicit"})):null:null},p1e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=Z7(e),o=_i(i,Zr).map(function(c,u){return T.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var a=h1e(e.label,r||s);return[a].concat(Q_e(o))};Zr.parseViewBox=Z7;Zr.renderCallByParent=p1e;var NT,$F;function m1e(){if($F)return NT;$F=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return NT=t,NT}var g1e=m1e();const y1e=It(g1e);function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}var v1e=["valueAccessor"],x1e=["data","dataKey","clockWise","id","textBreakAll"];function b1e(t){return E1e(t)||S1e(t)||_1e(t)||w1e()}function w1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _1e(t,e){if(t){if(typeof t=="string")return lC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lC(t,e)}}function S1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E1e(t){if(Array.isArray(t))return lC(t)}function lC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R0.apply(this,arguments)}function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(n){T1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T1e(t,e,r){return e=P1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P1e(t){var e=A1e(t,"string");return dm(e)=="symbol"?e:e+""}function A1e(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BF(t,e){if(t==null)return{};var r=C1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var N1e=function(e){return Array.isArray(e.value)?y1e(e.value):e.value};function qo(t){var e=t.valueAccessor,r=e===void 0?N1e:e,n=BF(t,v1e),i=n.data,s=n.dataKey,o=n.clockWise,a=n.id,c=n.textBreakAll,u=BF(n,x1e);return!i||!i.length?null:Y.createElement(Pt,{className:"recharts-label-list"},i.map(function(f,p){var g=ot(s)?r(f,p):Vr(f&&f.payload,s),v=ot(a)?{}:{id:"".concat(a,"-").concat(p)};return Y.createElement(Zr,R0({},Ye(f,!0),u,v,{parentViewBox:f.parentViewBox,value:g,textBreakAll:c,viewBox:Zr.parseViewBox(ot(o)?f:VF(VF({},f),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}qo.displayName="LabelList";function I1e(t,e){return t?t===!0?Y.createElement(qo,{key:"labelList-implicit",data:e}):Y.isValidElement(t)||rt(t)?Y.createElement(qo,{key:"labelList-implicit",data:e,content:t}):Ff(t)?Y.createElement(qo,R0({data:e},t,{key:"labelList-implicit"})):null:null}function k1e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=_i(n,qo).map(function(o,a){return T.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!r)return i;var s=I1e(t.label,e);return[s].concat(b1e(i))}qo.renderCallByParent=k1e;function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function cC(){return cC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cC.apply(this,arguments)}function UF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UF(Object(r),!0).forEach(function(n){O1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O1e(t,e,r){return e=j1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j1e(t){var e=R1e(t,"string");return fm(e)=="symbol"?e:e+""}function R1e(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M1e=function(e,r){var n=Vn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Zy=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,f=c*(a?1:-1)+i,p=Math.asin(c/f)/j0,g=u?s:s+o*p,v=Ht(r,n,f,g),w=Ht(r,n,i,g),x=u?s-o*p:s,_=Ht(r,n,f*Math.cos(p*j0),x);return{center:v,circleTangency:w,lineTangency:_,theta:p}},eH=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,c=M1e(o,a),u=o+c,f=Ht(r,n,s,o),p=Ht(r,n,s,u),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=Ht(r,n,i,o),w=Ht(r,n,i,u);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},D1e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,p=Vn(f-u),g=Zy({cx:r,cy:n,radius:s,angle:u,sign:p,cornerRadius:o,cornerIsExternal:c}),v=g.circleTangency,w=g.lineTangency,x=g.theta,_=Zy({cx:r,cy:n,radius:s,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:c}),P=_.circleTangency,S=_.lineTangency,E=_.theta,R=c?Math.abs(u-f):Math.abs(u-f)-x-E;if(R<0)return a?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):eH({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var N="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(R>180),",").concat(+(p<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var M=Zy({cx:r,cy:n,radius:i,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=M.circleTangency,C=M.lineTangency,j=M.theta,F=Zy({cx:r,cy:n,radius:i,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=F.circleTangency,V=F.lineTangency,D=F.theta,z=c?Math.abs(u-f):Math.abs(u-f)-j-D;if(z<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(p>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},L1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tH=function(e){var r=qF(qF({},L1e),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,a=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,g=r.className;if(o<s||f===p)return null;var v=lt("recharts-sector",g),w=o-s,x=Bn(a,w,0,!0),_;return x>0&&Math.abs(f-p)<360?_=D1e({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,w/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:p}):_=eH({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:p}),Y.createElement("path",cC({},Ye(r,!0),{className:v,d:_,role:"img"}))};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function uC(){return uC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uC.apply(this,arguments)}function zF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(r),!0).forEach(function(n){$1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $1e(t,e,r){return e=F1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F1e(t){var e=V1e(t,"string");return hm(e)=="symbol"?e:e+""}function V1e(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HF={curveBasisClosed:oge,curveBasisOpen:age,curveBasis:sge,curveBumpX:Wme,curveBumpY:Hme,curveLinearClosed:lge,curveLinear:cb,curveMonotoneX:cge,curveMonotoneY:uge,curveNatural:dge,curveStep:fge,curveStepAfter:pge,curveStepBefore:hge},ev=function(e){return e.x===+e.x&&e.y===+e.y},Bh=function(e){return e.x},Uh=function(e){return e.y},B1e=function(e,r){if(rt(e))return e;var n="curve".concat(ab(e));return(n==="curveMonotone"||n==="curveBump")&&r?HF["".concat(n).concat(r==="vertical"?"Y":"X")]:HF[n]||cb},U1e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,c=e.connectNulls,u=c===void 0?!1:c,f=B1e(n,a),p=u?s.filter(function(x){return ev(x)}):s,g;if(Array.isArray(o)){var v=u?o.filter(function(x){return ev(x)}):o,w=p.map(function(x,_){return WF(WF({},x),{},{base:v[_]})});return a==="vertical"?g=Wy().y(Uh).x1(Bh).x0(function(x){return x.base.x}):g=Wy().x(Bh).y1(Uh).y0(function(x){return x.base.y}),g.defined(ev).curve(f),g(w)}return a==="vertical"&&Ae(o)?g=Wy().y(Uh).x1(Bh).x0(o):Ae(o)?g=Wy().x(Bh).y1(Uh).y0(o):g=Z8().x(Bh).y(Uh),g.defined(ev).curve(f),g(p)},M0=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?U1e(e):i;return T.createElement("path",uC({},Ye(e,!1),l0(e),{className:lt("recharts-curve",r),d:o,ref:s}))},IT={exports:{}},kT,GF;function q1e(){if(GF)return kT;GF=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kT=t,kT}var OT,KF;function z1e(){if(KF)return OT;KF=1;var t=q1e();function e(){}function r(){}return r.resetWarningCache=e,OT=function(){function n(o,a,c,u,f,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},OT}var YF;function W1e(){return YF||(YF=1,IT.exports=z1e()()),IT.exports}var H1e=W1e();const jt=It(H1e);var G1e=Object.getOwnPropertyNames,K1e=Object.getOwnPropertySymbols,Y1e=Object.prototype.hasOwnProperty;function XF(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function tv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),a=s.get(n);if(o&&a)return o===n&&a===r;s.set(r,n),s.set(n,r);var c=t(r,n,i);return s.delete(r),s.delete(n),c}}function QF(t){return G1e(t).concat(K1e(t))}var X1e=Object.hasOwn||(function(t,e){return Y1e.call(t,e)});function eu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Q1e="__v",J1e="__o",Z1e="_owner",JF=Object.getOwnPropertyDescriptor,ZF=Object.keys;function eSe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function tSe(t,e){return eu(t.getTime(),e.getTime())}function rSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function nSe(t,e){return t===e}function eV(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,a,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),f=!1,p=0;(a=u.next())&&!a.done;){if(i[p]){p++;continue}var g=o.value,v=a.value;if(r.equals(g[0],v[0],c,p,t,e,r)&&r.equals(g[1],v[1],g[0],v[0],t,e,r)){f=i[p]=!0;break}p++}if(!f)return!1;c++}return!0}var iSe=eu;function sSe(t,e,r){var n=ZF(t),i=n.length;if(ZF(e).length!==i)return!1;for(;i-- >0;)if(!rH(t,e,r,n[i]))return!1;return!0}function qh(t,e,r){var n=QF(t),i=n.length;if(QF(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=n[i],!rH(t,e,r,s)||(o=JF(t,s),a=JF(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function oSe(t,e){return eu(t.valueOf(),e.valueOf())}function aSe(t,e){return t.source===e.source&&t.flags===e.flags}function tV(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,f=0;(a=c.next())&&!a.done;){if(!i[f]&&r.equals(o.value,a.value,o.value,a.value,t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function lSe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function cSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function rH(t,e,r,n){return(n===Z1e||n===J1e||n===Q1e)&&(t.$$typeof||e.$$typeof)?!0:X1e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var uSe="[object Arguments]",dSe="[object Boolean]",fSe="[object Date]",hSe="[object Error]",pSe="[object Map]",mSe="[object Number]",gSe="[object Object]",ySe="[object RegExp]",vSe="[object Set]",xSe="[object String]",bSe="[object URL]",wSe=Array.isArray,rV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,nV=Object.assign,_Se=Object.prototype.toString.call.bind(Object.prototype.toString);function SSe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,p=t.areTypedArraysEqual,g=t.areUrlsEqual;return function(w,x,_){if(w===x)return!0;if(w==null||x==null)return!1;var P=typeof w;if(P!==typeof x)return!1;if(P!=="object")return P==="number"?o(w,x,_):P==="function"?i(w,x,_):!1;var S=w.constructor;if(S!==x.constructor)return!1;if(S===Object)return a(w,x,_);if(wSe(w))return e(w,x,_);if(rV!=null&&rV(w))return p(w,x,_);if(S===Date)return r(w,x,_);if(S===RegExp)return u(w,x,_);if(S===Map)return s(w,x,_);if(S===Set)return f(w,x,_);var E=_Se(w);return E===fSe?r(w,x,_):E===ySe?u(w,x,_):E===pSe?s(w,x,_):E===vSe?f(w,x,_):E===gSe?typeof w.then!="function"&&typeof x.then!="function"&&a(w,x,_):E===bSe?g(w,x,_):E===hSe?n(w,x,_):E===uSe?a(w,x,_):E===dSe||E===mSe||E===xSe?c(w,x,_):!1}}function ESe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?qh:eSe,areDatesEqual:tSe,areErrorsEqual:rSe,areFunctionsEqual:nSe,areMapsEqual:n?XF(eV,qh):eV,areNumbersEqual:iSe,areObjectsEqual:n?qh:sSe,arePrimitiveWrappersEqual:oSe,areRegExpsEqual:aSe,areSetsEqual:n?XF(tV,qh):tV,areTypedArraysEqual:n?qh:lSe,areUrlsEqual:cSe};if(r&&(i=nV({},i,r(i))),e){var s=tv(i.areArraysEqual),o=tv(i.areMapsEqual),a=tv(i.areObjectsEqual),c=tv(i.areSetsEqual);i=nV({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:c})}return i}function TSe(t){return function(e,r,n,i,s,o,a){return t(e,r,a)}}function PSe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(c,u){var f=n(),p=f.cache,g=p===void 0?e?new WeakMap:void 0:p,v=f.meta;return r(c,u,{cache:g,equals:i,meta:v,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var ASe=_l();_l({strict:!0});_l({circular:!0});_l({circular:!0,strict:!0});_l({createInternalComparator:function(){return eu}});_l({strict:!0,createInternalComparator:function(){return eu}});_l({circular:!0,createInternalComparator:function(){return eu}});_l({circular:!0,createInternalComparator:function(){return eu},strict:!0});function _l(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=ESe(t),c=SSe(a),u=n?n(c):TSe(c);return PSe({circular:r,comparator:c,createState:i,equals:u,strict:o})}function CSe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function iV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):CSe(i)};requestAnimationFrame(n)}function dC(t){"@babel/helpers - typeof";return dC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dC(t)}function NSe(t){return jSe(t)||OSe(t)||kSe(t)||ISe()}function ISe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kSe(t,e){if(t){if(typeof t=="string")return sV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sV(t,e)}}function sV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jSe(t){if(Array.isArray(t))return t}function RSe(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,a=NSe(o),c=a[0],u=a.slice(1);if(typeof c=="number"){iV(i.bind(null,u),c);return}i(c),iV(i.bind(null,u));return}dC(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function oV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(r),!0).forEach(function(n){nH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nH(t,e,r){return e=MSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MSe(t){var e=DSe(t,"string");return pm(e)==="symbol"?e:String(e)}function DSe(t,e){if(pm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LSe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},$Se=function(e){return e},FSe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Sp=function(e,r){return Object.keys(r).reduce(function(n,i){return aV(aV({},n),{},nH({},i,e(i,r[i])))},{})},lV=function(e,r,n){return e.map(function(i){return"".concat(FSe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function VSe(t,e){return qSe(t)||USe(t,e)||iH(t,e)||BSe()}function BSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function USe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function qSe(t){if(Array.isArray(t))return t}function zSe(t){return GSe(t)||HSe(t)||iH(t)||WSe()}function WSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iH(t,e){if(t){if(typeof t=="string")return fC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fC(t,e)}}function HSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GSe(t){if(Array.isArray(t))return fC(t)}function fC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var D0=1e-4,sH=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},oH=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},cV=function(e,r){return function(n){var i=sH(e,r);return oH(i,n)}},KSe=function(e,r){return function(n){var i=sH(e,r),s=[].concat(zSe(i.map(function(o,a){return o*a}).slice(1)),[0]);return oH(s,n)}},uV=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),f=VSe(u,4);i=f[0],s=f[1],o=f[2],a=f[3]}}}var p=cV(i,o),g=cV(s,a),v=KSe(i,o),w=function(P){return P>1?1:P<0?0:P},x=function(P){for(var S=P>1?1:P,E=S,R=0;R<8;++R){var N=p(E)-S,M=v(E);if(Math.abs(N-S)<D0||M<D0)return g(E);E=w(E-N/M)}return g(E)};return x.isStepper=!1,x},YSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,c=function(f,p,g){var v=-(f-p)*n,w=g*s,x=g+(v-w)*a/1e3,_=g*a/1e3+f;return Math.abs(_-p)<D0&&Math.abs(x)<D0?[p,0]:[_,x]};return c.isStepper=!0,c.dt=a,c},XSe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uV(i);case"spring":return YSe();default:if(i.split("(")[0]==="cubic-bezier")return uV(i)}return typeof i=="function"?i:null};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function dV(t){return ZSe(t)||JSe(t)||aH(t)||QSe()}function QSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZSe(t){if(Array.isArray(t))return pC(t)}function fV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(r),!0).forEach(function(n){hC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hC(t,e,r){return e=eEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eEe(t){var e=tEe(t,"string");return mm(e)==="symbol"?e:String(e)}function tEe(t,e){if(mm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rEe(t,e){return sEe(t)||iEe(t,e)||aH(t,e)||nEe()}function nEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aH(t,e){if(t){if(typeof t=="string")return pC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(t,e)}}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function sEe(t){if(Array.isArray(t))return t}var L0=function(e,r,n){return e+(r-e)*n},mC=function(e){var r=e.from,n=e.to;return r!==n},oEe=function t(e,r,n){var i=Sp(function(s,o){if(mC(o)){var a=e(o.from,o.to,o.velocity),c=rEe(a,2),u=c[0],f=c[1];return cn(cn({},o),{},{from:u,velocity:f})}return o},r);return n<1?Sp(function(s,o){return mC(o)?cn(cn({},o),{},{velocity:L0(o.velocity,i[s].velocity,n),from:L0(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const aEe=(function(t,e,r,n,i){var s=LSe(t,e),o=s.reduce(function(_,P){return cn(cn({},_),{},hC({},P,[t[P],e[P]]))},{}),a=s.reduce(function(_,P){return cn(cn({},_),{},hC({},P,{from:t[P],velocity:0,to:e[P]}))},{}),c=-1,u,f,p=function(){return null},g=function(){return Sp(function(P,S){return S.from},a)},v=function(){return!Object.values(a).filter(mC).length},w=function(P){u||(u=P);var S=P-u,E=S/r.dt;a=oEe(r,a,E),i(cn(cn(cn({},t),e),g())),u=P,v()||(c=requestAnimationFrame(p))},x=function(P){f||(f=P);var S=(P-f)/n,E=Sp(function(N,M){return L0.apply(void 0,dV(M).concat([r(S)]))},o);if(i(cn(cn(cn({},t),e),E)),S<1)c=requestAnimationFrame(p);else{var R=Sp(function(N,M){return L0.apply(void 0,dV(M).concat([r(1)]))},o);i(cn(cn(cn({},t),e),R))}};return p=r.isStepper?w:x,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}var lEe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cEe(t,e){if(t==null)return{};var r=uEe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uEe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function jT(t){return pEe(t)||hEe(t)||fEe(t)||dEe()}function dEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fEe(t,e){if(t){if(typeof t=="string")return gC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gC(t,e)}}function hEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pEe(t){if(Array.isArray(t))return gC(t)}function gC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(r),!0).forEach(function(n){ip(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ip(t,e,r){return e=lH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lH(n.key),n)}}function yEe(t,e,r){return e&&gEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lH(t){var e=vEe(t,"string");return ef(e)==="symbol"?e:String(e)}function vEe(t,e){if(ef(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ef(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yC(t,e)}function yC(t,e){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yC(t,e)}function bEe(t){var e=wEe();return function(){var n=$0(t),i;if(e){var s=$0(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return vC(this,i)}}function vC(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xC(t)}function xC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $0(t){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$0(t)}var io=(function(t){xEe(r,t);var e=bEe(r);function r(n,i){var s;mEe(this,r),s=e.call(this,n,i);var o=s.props,a=o.isActive,c=o.attributeName,u=o.from,f=o.to,p=o.steps,g=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(xC(s)),s.changeStyle=s.changeStyle.bind(xC(s)),!a||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:f}),vC(s);if(p&&p.length)s.state={style:p[0].style};else if(u){if(typeof g=="function")return s.state={style:u},vC(s);s.state={style:c?ip({},c,u):u}}else s.state={style:{}};return s}return yEe(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,p=s.from,g=this.state.style;if(a){if(!o){var v={style:c?ip({},c,f):f};this.state&&g&&(c&&g[c]!==f||!c&&g!==f)&&this.setState(v);return}if(!(ASe(i.to,f)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=w||u?p:i.to;if(this.state&&g){var _={style:c?ip({},c,x):x};(c&&g[c]!==x||!c&&g!==x)&&this.setState(_)}this.runAnimation(ds(ds({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,c=i.duration,u=i.easing,f=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,v=aEe(o,a,XSe(u),c,this.changeStyle),w=function(){s.stopJSAnimation=v()};this.manager.start([g,f,w,c,p])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,p=u.duration,g=p===void 0?0:p,v=function(x,_,P){if(P===0)return x;var S=_.duration,E=_.easing,R=E===void 0?"ease":E,N=_.style,M=_.properties,I=_.onAnimationEnd,C=P>0?o[P-1]:_,j=M||Object.keys(N);if(typeof R=="function"||R==="spring")return[].concat(jT(x),[s.runJSAnimation.bind(s,{from:C.style,to:N,duration:S,easing:R}),S]);var F=lV(j,S,R),L=ds(ds(ds({},C.style),N),{},{transition:F});return[].concat(jT(x),[L,S,I]).filter($Se)};return this.manager.start([c].concat(jT(o.reduce(v,[f,Math.max(g,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=RSe());var s=i.begin,o=i.duration,a=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,v=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var x=a?ip({},a,c):c,_=lV(Object.keys(x),o,u);w.start([f,s,ds(ds({},x),{},{transition:_}),o,p])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=cEe(i,lEe),u=T.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!a||u===0||o<=0)return s;var p=function(v){var w=v.props,x=w.style,_=x===void 0?{}:x,P=w.className,S=T.cloneElement(v,ds(ds({},c),{},{style:ds(ds({},_),f),className:P}));return S};return u===1?p(T.Children.only(s)):Y.createElement("div",null,T.Children.map(s,function(g){return p(g)}))}}]),r})(T.PureComponent);io.displayName="Animate";io.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};io.propTypes={from:jt.oneOfType([jt.object,jt.string]),to:jt.oneOfType([jt.object,jt.string]),attributeName:jt.string,duration:jt.number,begin:jt.number,easing:jt.oneOfType([jt.string,jt.func]),steps:jt.arrayOf(jt.shape({duration:jt.number.isRequired,style:jt.object.isRequired,easing:jt.oneOfType([jt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jt.func]),properties:jt.arrayOf("string"),onAnimationEnd:jt.func})),children:jt.oneOfType([jt.node,jt.func]),isActive:jt.bool,canBegin:jt.bool,onAnimationEnd:jt.func,shouldReAnimate:jt.bool,onAnimationStart:jt.func,onAnimationReStart:jt.func};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F0.apply(this,arguments)}function _Ee(t,e){return PEe(t)||TEe(t,e)||EEe(t,e)||SEe()}function SEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EEe(t,e){if(t){if(typeof t=="string")return pV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pV(t,e)}}function pV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function PEe(t){if(Array.isArray(t))return t}function mV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(r),!0).forEach(function(n){AEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AEe(t,e,r){return e=CEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CEe(t){var e=NEe(t,"string");return gm(e)=="symbol"?e:e+""}function NEe(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yV=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=s[g]>o?o:s[g];f="M".concat(e,",").concat(r+a*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(e+c*p[0],",").concat(r)),f+="L ".concat(e+n-c*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+a*p[1])),f+="L ".concat(e+n,",").concat(r+i-a*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(e+n-c*p[2],",").concat(r+i)),f+="L ".concat(e+c*p[3],",").concat(r+i),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-a*p[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var w=Math.min(o,s);f="M ".concat(e,",").concat(r+a*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(e+c*w,",").concat(r,`
            L `).concat(e+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(e+n,",").concat(r+a*w,`
            L `).concat(e+n,",").concat(r+i-a*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(e+n-c*w,",").concat(r+i,`
            L `).concat(e+c*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(e,",").concat(r+i-a*w," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},IEe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,a=r.width,c=r.height;if(Math.abs(a)>0&&Math.abs(c)>0){var u=Math.min(s,s+a),f=Math.max(s,s+a),p=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=f&&i>=p&&i<=g}return!1},kEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rk=function(e){var r=gV(gV({},kEe),e),n=T.useRef(),i=T.useState(-1),s=_Ee(i,2),o=s[0],a=s[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&a(R)}catch{}},[]);var c=r.x,u=r.y,f=r.width,p=r.height,g=r.radius,v=r.className,w=r.animationEasing,x=r.animationDuration,_=r.animationBegin,P=r.isAnimationActive,S=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||f===0||p===0)return null;var E=lt("recharts-rectangle",v);return S?Y.createElement(io,{canBegin:o>0,from:{width:f,height:p,x:c,y:u},to:{width:f,height:p,x:c,y:u},duration:x,animationEasing:w,isActive:S},function(R){var N=R.width,M=R.height,I=R.x,C=R.y;return Y.createElement(io,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,isActive:P,easing:w},Y.createElement("path",F0({},Ye(r,!0),{className:E,d:yV(I,C,N,M,g),ref:n})))}):Y.createElement("path",F0({},Ye(r,!0),{className:E,d:yV(c,u,f,p,g)}))},OEe=["points","className","baseLinePoints","connectNulls"];function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cd.apply(this,arguments)}function jEe(t,e){if(t==null)return{};var r=REe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function REe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vV(t){return $Ee(t)||LEe(t)||DEe(t)||MEe()}function MEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DEe(t,e){if(t){if(typeof t=="string")return bC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bC(t,e)}}function LEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ee(t){if(Array.isArray(t))return bC(t)}function bC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xV=function(e){return e&&e.x===+e.x&&e.y===+e.y},FEe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){xV(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),xV(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ep=function(e,r){var n=FEe(e);r&&(n=[n.reduce(function(s,o){return[].concat(vV(s),vV(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,a,c){return"".concat(o).concat(c===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},VEe=function(e,r,n){var i=Ep(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ep(r.reverse(),n).slice(1))},BEe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=jEe(e,OEe);if(!r||!r.length)return null;var a=lt("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=VEe(r,i,s);return Y.createElement("g",{className:a},Y.createElement("path",cd({},Ye(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?Y.createElement("path",cd({},Ye(o,!0),{fill:"none",d:Ep(r,s)})):null,c?Y.createElement("path",cd({},Ye(o,!0),{fill:"none",d:Ep(i,s)})):null)}var f=Ep(r,s);return Y.createElement("path",cd({},Ye(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:a,d:f}))};function wC(){return wC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wC.apply(this,arguments)}var Tb=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=lt("recharts-dot",s);return r===+r&&n===+n&&i===+i?T.createElement("circle",wC({},Ye(e,!1),l0(e),{className:o,cx:r,cy:n,r:i})):null};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}var UEe=["x","y","top","left","width","height","className"];function _C(){return _C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_C.apply(this,arguments)}function bV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qEe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(r),!0).forEach(function(n){zEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zEe(t,e,r){return e=WEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WEe(t){var e=HEe(t,"string");return ym(e)=="symbol"?e:e+""}function HEe(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GEe(t,e){if(t==null)return{};var r=KEe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var YEe=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},XEe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,c=e.left,u=c===void 0?0:c,f=e.width,p=f===void 0?0:f,g=e.height,v=g===void 0?0:g,w=e.className,x=GEe(e,UEe),_=qEe({x:n,y:s,top:a,left:u,width:p,height:v},x);return!Ae(n)||!Ae(s)||!Ae(p)||!Ae(v)||!Ae(a)||!Ae(u)?null:Y.createElement("path",_C({},Ye(_,!0),{className:lt("recharts-cross",w),d:YEe(n,s,p,v,a,u)}))},RT,wV;function QEe(){if(wV)return RT;wV=1;var t=bb(),e=S7(),r=uo();function n(i,s){return i&&i.length?t(i,r(s,2),e):void 0}return RT=n,RT}var JEe=QEe();const ZEe=It(JEe);var MT,_V;function eTe(){if(_V)return MT;_V=1;var t=bb(),e=uo(),r=E7();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return MT=n,MT}var tTe=eTe();const rTe=It(tTe);var nTe=["cx","cy","angle","ticks","axisLine"],iTe=["ticks","tick","angle","tickFormatter","stroke"];function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tp.apply(this,arguments)}function SV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(r),!0).forEach(function(n){Pb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EV(t,e){if(t==null)return{};var r=sTe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uH(n.key),n)}}function aTe(t,e,r){return e&&TV(t.prototype,e),r&&TV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lTe(t,e,r){return e=V0(e),cTe(t,cH()?Reflect.construct(e,r||[],V0(t).constructor):e.apply(t,r))}function cTe(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uTe(t)}function uTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!t})()}function V0(t){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V0(t)}function dTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SC(t,e)}function SC(t,e){return SC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SC(t,e)}function Pb(t,e,r){return e=uH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uH(t){var e=fTe(t,"string");return tf(e)=="symbol"?e:e+""}function fTe(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ab=(function(t){function e(){return oTe(this,e),lTe(this,e,arguments)}return dTe(e,t),aTe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,a=s.cx,c=s.cy;return Ht(a,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,a=n.ticks,c=ZEe(a,function(f){return f.coordinate||0}),u=rTe(a,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,a=n.ticks,c=n.axisLine,u=EV(n,nTe),f=a.reduce(function(w,x){return[Math.min(w[0],x.coordinate),Math.max(w[1],x.coordinate)]},[1/0,-1/0]),p=Ht(i,s,f[0],o),g=Ht(i,s,f[1],o),v=Xl(Xl(Xl({},Ye(u,!1)),{},{fill:"none"},Ye(c,!1)),{},{x1:p.x,y1:p.y,x2:g.x,y2:g.y});return Y.createElement("line",Tp({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,c=i.tickFormatter,u=i.stroke,f=EV(i,iTe),p=this.getTickTextAnchor(),g=Ye(f,!1),v=Ye(o,!1),w=s.map(function(x,_){var P=n.getTickValueCoord(x),S=Xl(Xl(Xl(Xl({textAnchor:p,transform:"rotate(".concat(90-a,", ").concat(P.x,", ").concat(P.y,")")},g),{},{stroke:"none",fill:u},v),{},{index:_},P),{},{payload:x});return Y.createElement(Pt,Tp({className:lt("recharts-polar-radius-axis-tick",J7(o)),key:"tick-".concat(x.coordinate)},$c(n.props,x,_)),e.renderTickItem(o,S,c?c(x.value,_):x.value))});return Y.createElement(Pt,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:Y.createElement(Pt,{className:lt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Zr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return Y.isValidElement(n)?o=Y.cloneElement(n,i):rt(n)?o=n(i):o=Y.createElement(Fc,Tp({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(T.PureComponent);Pb(Ab,"displayName","PolarRadiusAxis");Pb(Ab,"axisType","radiusAxis");Pb(Ab,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ac.apply(this,arguments)}function PV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ql(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(r),!0).forEach(function(n){Cb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fH(n.key),n)}}function pTe(t,e,r){return e&&AV(t.prototype,e),r&&AV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mTe(t,e,r){return e=B0(e),gTe(t,dH()?Reflect.construct(e,r||[],B0(t).constructor):e.apply(t,r))}function gTe(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yTe(t)}function yTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!t})()}function B0(t){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B0(t)}function vTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EC(t,e)}function EC(t,e){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EC(t,e)}function Cb(t,e,r){return e=fH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fH(t){var e=xTe(t,"string");return rf(e)=="symbol"?e:e+""}function xTe(t,e){if(rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bTe=Math.PI/180,CV=1e-5,Nb=(function(t){function e(){return hTe(this,e),mTe(this,e,arguments)}return vTe(e,t),pTe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,a=i.radius,c=i.orientation,u=i.tickSize,f=u||8,p=Ht(s,o,a,n.coordinate),g=Ht(s,o,a+(c==="inner"?-1:1)*f,n.coordinate);return{x1:p.x,y1:p.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*bTe),o;return s>CV?o=i==="outer"?"start":"end":s<-CV?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,a=n.axisLine,c=n.axisLineType,u=Ql(Ql({},Ye(this.props,!1)),{},{fill:"none"},Ye(a,!1));if(c==="circle")return Y.createElement(Tb,ac({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var f=this.props.ticks,p=f.map(function(g){return Ht(i,s,o,g.coordinate)});return Y.createElement(BEe,ac({className:"recharts-polar-angle-axis-line"},u,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,c=i.tickFormatter,u=i.stroke,f=Ye(this.props,!1),p=Ye(o,!1),g=Ql(Ql({},f),{},{fill:"none"},Ye(a,!1)),v=s.map(function(w,x){var _=n.getTickLineCoord(w),P=n.getTickTextAnchor(w),S=Ql(Ql(Ql({textAnchor:P},f),{},{stroke:"none",fill:u},p),{},{index:x,payload:w,x:_.x2,y:_.y2});return Y.createElement(Pt,ac({className:lt("recharts-polar-angle-axis-tick",J7(o)),key:"tick-".concat(w.coordinate)},$c(n.props,w,x)),a&&Y.createElement("line",ac({className:"recharts-polar-angle-axis-tick-line"},g,_)),o&&e.renderTickItem(o,S,c?c(w.value,x):w.value))});return Y.createElement(Pt,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:Y.createElement(Pt,{className:lt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return Y.isValidElement(n)?o=Y.cloneElement(n,i):rt(n)?o=n(i):o=Y.createElement(Fc,ac({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(T.PureComponent);Cb(Nb,"displayName","PolarAngleAxis");Cb(Nb,"axisType","angleAxis");Cb(Nb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var DT,NV;function wTe(){if(NV)return DT;NV=1;var t=_W(),e=t(Object.getPrototypeOf,Object);return DT=e,DT}var LT,IV;function _Te(){if(IV)return LT;IV=1;var t=aa(),e=wTe(),r=la(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,c=o.call(Object);function u(f){if(!r(f)||t(f)!=n)return!1;var p=e(f);if(p===null)return!0;var g=a.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return LT=u,LT}var STe=_Te();const ETe=It(STe);var $T,kV;function TTe(){if(kV)return $T;kV=1;var t=aa(),e=la(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return $T=n,$T}var PTe=TTe();const ATe=It(PTe);function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U0.apply(this,arguments)}function CTe(t,e){return OTe(t)||kTe(t,e)||ITe(t,e)||NTe()}function NTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ITe(t,e){if(t){if(typeof t=="string")return OV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OV(t,e)}}function OV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function OTe(t){if(Array.isArray(t))return t}function jV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(r),!0).forEach(function(n){jTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jTe(t,e,r){return e=RTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RTe(t){var e=MTe(t,"string");return vm(e)=="symbol"?e:e+""}function MTe(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MV=function(e,r,n,i,s){var o=n-i,a;return a="M ".concat(e,",").concat(r),a+="L ".concat(e+n,",").concat(r),a+="L ".concat(e+n-o/2,",").concat(r+s),a+="L ".concat(e+n-o/2-i,",").concat(r+s),a+="L ".concat(e,",").concat(r," Z"),a},DTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LTe=function(e){var r=RV(RV({},DTe),e),n=T.useRef(),i=T.useState(-1),s=CTe(i,2),o=s[0],a=s[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&a(E)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,p=r.lowerWidth,g=r.height,v=r.className,w=r.animationEasing,x=r.animationDuration,_=r.animationBegin,P=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||g!==+g||f===0&&p===0||g===0)return null;var S=lt("recharts-trapezoid",v);return P?Y.createElement(io,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:f,lowerWidth:p,height:g,x:c,y:u},duration:x,animationEasing:w,isActive:P},function(E){var R=E.upperWidth,N=E.lowerWidth,M=E.height,I=E.x,C=E.y;return Y.createElement(io,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,easing:w},Y.createElement("path",U0({},Ye(r,!0),{className:S,d:MV(I,C,R,N,M),ref:n})))}):Y.createElement("g",null,Y.createElement("path",U0({},Ye(r,!0),{className:S,d:MV(c,u,f,p,g)})))},$Te=["option","shapeType","propTransformer","activeClassName","isActive"];function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function FTe(t,e){if(t==null)return{};var r=VTe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DV(Object(r),!0).forEach(function(n){BTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BTe(t,e,r){return e=UTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UTe(t){var e=qTe(t,"string");return xm(e)=="symbol"?e:e+""}function qTe(t,e){if(xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zTe(t,e){return q0(q0({},e),t)}function WTe(t,e){return t==="symbols"}function LV(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Y.createElement(Rk,r);case"trapezoid":return Y.createElement(LTe,r);case"sector":return Y.createElement(tH,r);case"symbols":if(WTe(e))return Y.createElement(ZI,r);break;default:return null}}function HTe(t){return T.isValidElement(t)?t.props:t}function hH(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?zTe:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,c=FTe(t,$Te),u;if(T.isValidElement(e))u=T.cloneElement(e,q0(q0({},c),HTe(e)));else if(rt(e))u=e(c);else if(ETe(e)&&!ATe(e)){var f=i(e,c);u=Y.createElement(LV,{shapeType:r,elementProps:f})}else{var p=c;u=Y.createElement(LV,{shapeType:r,elementProps:p})}return a?Y.createElement(Pt,{className:o},u):u}function Ib(t,e){return e!=null&&"trapezoids"in t.props}function kb(t,e){return e!=null&&"sectors"in t.props}function bm(t,e){return e!=null&&"points"in t.props}function GTe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function KTe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function YTe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function XTe(t,e){var r;return Ib(t,e)?r=GTe:kb(t,e)?r=KTe:bm(t,e)&&(r=YTe),r}function QTe(t,e){var r;return Ib(t,e)?r="trapezoids":kb(t,e)?r="sectors":bm(t,e)&&(r="points"),r}function JTe(t,e){if(Ib(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(kb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return bm(t,e)?e.payload:{}}function ZTe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=QTe(r,e),s=JTe(r,e),o=n.filter(function(c,u){var f=ng(s,c),p=r.props[i].filter(function(w){var x=XTe(r,e);return x(w,e)}),g=r.props[i].indexOf(p[p.length-1]),v=u===g;return f&&v}),a=n.indexOf(o[o.length-1]);return a}var Pv;function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ud.apply(this,arguments)}function $V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$V(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$V(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ePe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mH(n.key),n)}}function tPe(t,e,r){return e&&FV(t.prototype,e),r&&FV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rPe(t,e,r){return e=z0(e),nPe(t,pH()?Reflect.construct(e,r||[],z0(t).constructor):e.apply(t,r))}function nPe(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iPe(t)}function iPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z0(t)}function sPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TC(t,e)}function TC(t,e){return TC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TC(t,e)}function Ui(t,e,r){return e=mH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mH(t){var e=oPe(t,"string");return nf(e)=="symbol"?e:e+""}function oPe(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ua=(function(t){function e(r){var n;return ePe(this,e),n=rPe(this,e,[r]),Ui(n,"pieRef",null),Ui(n,"sectorRefs",[]),Ui(n,"id",Vf("recharts-pie-")),Ui(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),rt(i)&&i()}),Ui(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),rt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return sPe(e,t),tPe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,c=s.dataKey,u=s.valueKey,f=Ye(this.props,!1),p=Ye(o,!1),g=Ye(a,!1),v=o&&o.offsetRadius||20,w=n.map(function(x,_){var P=(x.startAngle+x.endAngle)/2,S=Ht(x.cx,x.cy,x.outerRadius+v,P),E=zt(zt(zt(zt({},f),x),{},{stroke:"none"},p),{},{index:_,textAnchor:e.getTextAnchor(S.x,x.cx)},S),R=zt(zt(zt(zt({},f),x),{},{fill:"none",stroke:x.fill},g),{},{index:_,points:[Ht(x.cx,x.cy,x.outerRadius,P),S]}),N=c;return ot(c)&&ot(u)?N="value":ot(c)&&(N=u),Y.createElement(Pt,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(_)},a&&e.renderLabelLineItem(a,R,"line"),e.renderLabelItem(o,E,Vr(x,N)))});return Y.createElement(Pt,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,c=s.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var p=i.isActiveIndex(f),g=c&&i.hasActiveIndex()?c:null,v=p?o:g,w=zt(zt({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return Y.createElement(Pt,ud({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},$c(i.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),Y.createElement(hH,ud({option:v,isActive:p,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state,g=p.prevSectors,v=p.prevIsAnimationActive;return Y.createElement(io,{begin:a,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var x=w.t,_=[],P=s&&s[0],S=P.startAngle;return s.forEach(function(E,R){var N=g&&g[R],M=R>0?wi(E,"paddingAngle",0):0;if(N){var I=yi(N.endAngle-N.startAngle,E.endAngle-E.startAngle),C=zt(zt({},E),{},{startAngle:S+M,endAngle:S+I(x)+M});_.push(C),S=C.endAngle}else{var j=E.endAngle,F=E.startAngle,L=yi(0,j-F),V=L(x),D=zt(zt({},E),{},{startAngle:S+M,endAngle:S+V+M});_.push(D),S=D.endAngle}}),Y.createElement(Pt,null,n.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!ng(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,c=i.label,u=i.cx,f=i.cy,p=i.innerRadius,g=i.outerRadius,v=i.isAnimationActive,w=this.state.isAnimationFinished;if(s||!o||!o.length||!Ae(u)||!Ae(f)||!Ae(p)||!Ae(g))return null;var x=lt("recharts-pie",a);return Y.createElement(Pt,{tabIndex:this.props.rootTabIndex,className:x,ref:function(P){n.pieRef=P}},this.renderSectors(),c&&this.renderLabels(o),Zr.renderCallByParent(this.props,null,!1),(!v||w)&&qo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(Y.isValidElement(n))return Y.cloneElement(n,i);if(rt(n))return n(i);var o=lt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Y.createElement(M0,ud({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(Y.isValidElement(n))return Y.cloneElement(n,i);var o=s;if(rt(n)&&(o=n(i),Y.isValidElement(o)))return o;var a=lt("recharts-pie-label-text",typeof n!="boolean"&&!rt(n)?n.className:"");return Y.createElement(Fc,ud({},i,{alignmentBaseline:"middle",className:a}),o)}}])})(T.PureComponent);Pv=ua;Ui(ua,"displayName","Pie");Ui(ua,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Qc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ui(ua,"parseDeltaAngle",function(t,e){var r=Vn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ui(ua,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ye(t,!1),i=_i(r,Xp);return e&&e.length?e.map(function(s,o){return zt(zt(zt({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return zt(zt({},n),s.props)}):[]});Ui(ua,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=Q7(i,s),a=n+Bn(t.cx,i,i/2),c=r+Bn(t.cy,s,s/2),u=Bn(t.innerRadius,o,0),f=Bn(t.outerRadius,o,o*.8),p=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:c,innerRadius:u,outerRadius:f,maxRadius:p}});Ui(ua,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?zt(zt({},e.type.defaultProps),e.props):e.props,i=Pv.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,a=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,p=n.valueKey,g=n.tooltipType,v=Math.abs(n.minAngle),w=Pv.parseCoordinateOfPie(n,r),x=Pv.parseDeltaAngle(o,a),_=Math.abs(x),P=u;ot(u)&&ot(p)?(ws(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P="value"):ot(u)&&(ws(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P=p);var S=i.filter(function(C){return Vr(C,P,0)!==0}).length,E=(_>=360?S:S-1)*c,R=_-S*v-E,N=i.reduce(function(C,j){var F=Vr(j,P,0);return C+(Ae(F)?F:0)},0),M;if(N>0){var I;M=i.map(function(C,j){var F=Vr(C,P,0),L=Vr(C,f,j),V=(Ae(F)?F:0)/N,D;j?D=I.endAngle+Vn(x)*c*(F!==0?1:0):D=o;var z=D+Vn(x)*((F!==0?v:0)+V*R),H=(D+z)/2,X=(w.innerRadius+w.outerRadius)/2,K=[{name:L,value:F,payload:C,dataKey:P,type:g}],U=Ht(w.cx,w.cy,X,H);return I=zt(zt(zt({percent:V,cornerRadius:s,name:L,tooltipPayload:K,midAngle:H,middleRadius:X,tooltipPosition:U},C),w),{},{value:Vr(C,P),startAngle:D,endAngle:z,payload:C,paddingAngle:Vn(x)*c}),I})}return zt(zt({},w),{},{sectors:M,data:i})});var FT,VV;function aPe(){if(VV)return FT;VV=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var a=-1,c=e(t((i-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++a]=n,n+=s;return u}return FT=r,FT}var VT,BV;function gH(){if(BV)return VT;BV=1;var t=$W(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return VT=n,VT}var BT,UV;function lPe(){if(UV)return BT;UV=1;var t=aPe(),e=hb(),r=gH();function n(i){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),a=a===void 0?s<o?1:-1:r(a),t(s,o,a,i)}}return BT=n,BT}var UT,qV;function cPe(){if(qV)return UT;qV=1;var t=lPe(),e=t();return UT=e,UT}var uPe=cPe();const W0=It(uPe);function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function zV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zV(Object(r),!0).forEach(function(n){yH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yH(t,e,r){return e=dPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dPe(t){var e=fPe(t,"string");return wm(e)=="symbol"?e:e+""}function fPe(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hPe=["Webkit","Moz","O","ms"],pPe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=hPe.reduce(function(s,o){return WV(WV({},s),{},yH({},o+n,r))},{});return i[e]=r,i};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H0.apply(this,arguments)}function HV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HV(Object(r),!0).forEach(function(n){pi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xH(n.key),n)}}function gPe(t,e,r){return e&&GV(t.prototype,e),r&&GV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yPe(t,e,r){return e=G0(e),vPe(t,vH()?Reflect.construct(e,r||[],G0(t).constructor):e.apply(t,r))}function vPe(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xPe(t)}function xPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G0(t)}function bPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PC(t,e)}function PC(t,e){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PC(t,e)}function pi(t,e,r){return e=xH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xH(t){var e=wPe(t,"string");return sf(e)=="symbol"?e:e+""}function wPe(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _Pe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=wp().domain(W0(0,c)).range([s,s+o-a]),f=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},KV=function(e){return e.changedTouches&&!!e.changedTouches.length},of=(function(t){function e(r){var n;return mPe(this,e),n=yPe(this,e,[r]),pi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),pi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),pi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),n.detachDragEndListener()}),pi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),pi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),pi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),pi(n,"handleSlideDragStart",function(i){var s=KV(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return bPe(e,t),gPe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,a=this.props,c=a.gap,u=a.data,f=u.length-1,p=Math.min(i,s),g=Math.max(i,s),v=e.getIndexInRange(o,p),w=e.getIndexInRange(o,g);return{startIndex:v-v%c,endIndex:w===f?f:w-w%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,c=Vr(s[n],a,n);return rt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,c=this.props,u=c.x,f=c.width,p=c.travellerWidth,g=c.startIndex,v=c.endIndex,w=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,u+f-p-a,u+f-p-o):x<0&&(x=Math.max(x,u-o,u-a));var _=this.getIndex({startX:o+x,endX:a+x});(_.startIndex!==g||_.endIndex!==v)&&w&&w(_),this.setState({startX:o+x,endX:a+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=KV(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,c=i.startX,u=this.state[o],f=this.props,p=f.x,g=f.width,v=f.travellerWidth,w=f.onChange,x=f.gap,_=f.data,P={startX:this.state.startX,endX:this.state.endX},S=n.pageX-s;S>0?S=Math.min(S,p+g-v-u):S<0&&(S=Math.max(S,p-u)),P[o]=u+S;var E=this.getIndex(P),R=E.startIndex,N=E.endIndex,M=function(){var C=_.length-1;return o==="startX"&&(a>c?R%x===0:N%x===0)||a<c&&N===C||o==="endX"&&(a>c?N%x===0:R%x===0)||a>c&&N===C};this.setState(pi(pi({},o,u+S),"brushMoveStartX",n.pageX),function(){w&&M()&&w(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,a=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],p=a.indexOf(f);if(p!==-1){var g=p+n;if(!(g===-1||g>=a.length)){var v=a[g];i==="startX"&&v>=u||i==="endX"&&v<=c||this.setState(pi({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,a=n.height,c=n.fill,u=n.stroke;return Y.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,a=n.height,c=n.data,u=n.children,f=n.padding,p=T.Children.only(u);return p?Y.cloneElement(p,{x:i,y:s,width:o,height:a,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,a=this,c=this.props,u=c.y,f=c.travellerWidth,p=c.height,g=c.traveller,v=c.ariaLabel,w=c.data,x=c.startIndex,_=c.endIndex,P=Math.max(n,this.props.x),S=qT(qT({},Ye(this.props,!1)),{},{x:P,y:u,width:f,height:p}),E=v||"Min value: ".concat((s=w[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=w[_])===null||o===void 0?void 0:o.name);return Y.createElement(Pt,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),a.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,S))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,a=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,i)+u,p=Math.max(Math.abs(i-n)-u,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:p,height:a})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,a=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,p=f.startX,g=f.endX,v=5,w={pointerEvents:"none",fill:u};return Y.createElement(Pt,{className:"recharts-brush-texts"},Y.createElement(Fc,H0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-v,y:o+a/2},w),this.getTextOfTick(i)),Y.createElement(Fc,H0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+c+v,y:o+a/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,a=n.x,c=n.y,u=n.width,f=n.height,p=n.alwaysShowText,g=this.state,v=g.startX,w=g.endX,x=g.isTextActive,_=g.isSlideMoving,P=g.isTravellerMoving,S=g.isTravellerFocused;if(!i||!i.length||!Ae(a)||!Ae(c)||!Ae(u)||!Ae(f)||u<=0||f<=0)return null;var E=lt("recharts-brush",s),R=Y.Children.count(o)===1,N=pPe("userSelect","none");return Y.createElement(Pt,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(v,w),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(w,"endX"),(x||_||P||S||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,a=n.height,c=n.stroke,u=Math.floor(s+a/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:i,y:s,width:o,height:a,fill:c,stroke:"none"}),Y.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return Y.isValidElement(n)?s=Y.cloneElement(n,i):rt(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,a=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,p=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return qT({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?_Pe({data:s,width:o,x:a,travellerWidth:c,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([a,a+o-c]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,a=s-1;a-o>1;){var c=Math.floor((o+a)/2);n[c]>i?a=c:o=c}return i>=n[a]?a:o}}])})(T.PureComponent);pi(of,"displayName","Brush");pi(of,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zT,YV;function SPe(){if(YV)return zT;YV=1;var t=ok();function e(r,n){var i;return t(r,function(s,o,a){return i=n(s,o,a),!i}),!!i}return zT=e,zT}var WT,XV;function EPe(){if(XV)return WT;XV=1;var t=mW(),e=uo(),r=SPe(),n=ii(),i=hb();function s(o,a,c){var u=n(o)?t:r;return c&&i(o,a,c)&&(a=void 0),u(o,e(a,3))}return WT=s,WT}var TPe=EPe();const PPe=It(TPe);var Zs=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},HT,QV;function APe(){if(QV)return HT;QV=1;var t=jW();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return HT=e,HT}var GT,JV;function CPe(){if(JV)return GT;JV=1;var t=APe(),e=kW(),r=uo();function n(i,s){var o={};return s=r(s,3),e(i,function(a,c,u){t(o,c,s(a,c,u))}),o}return GT=n,GT}var NPe=CPe();const IPe=It(NPe);var KT,ZV;function kPe(){if(ZV)return KT;ZV=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return KT=t,KT}var YT,e3;function OPe(){if(e3)return YT;e3=1;var t=ok();function e(r,n){var i=!0;return t(r,function(s,o,a){return i=!!n(s,o,a),i}),i}return YT=e,YT}var XT,t3;function jPe(){if(t3)return XT;t3=1;var t=kPe(),e=OPe(),r=uo(),n=ii(),i=hb();function s(o,a,c){var u=n(o)?t:e;return c&&i(o,a,c)&&(a=void 0),u(o,r(a,3))}return XT=s,XT}var RPe=jPe();const bH=It(RPe);var MPe=["x","y"];function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function AC(){return AC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AC.apply(this,arguments)}function r3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(r),!0).forEach(function(n){DPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DPe(t,e,r){return e=LPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LPe(t){var e=$Pe(t,"string");return _m(e)=="symbol"?e:e+""}function $Pe(t,e){if(_m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FPe(t,e){if(t==null)return{};var r=VPe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BPe(t,e){var r=t.x,n=t.y,i=FPe(t,MPe),s="".concat(r),o=parseInt(s,10),a="".concat(n),c=parseInt(a,10),u="".concat(e.height||i.height),f=parseInt(u,10),p="".concat(e.width||i.width),g=parseInt(p,10);return zh(zh(zh(zh(zh({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:g,name:e.name,radius:e.radius})}function n3(t){return Y.createElement(hH,AC({shapeType:"rectangle",propTransformer:BPe,activeClassName:"recharts-active-bar"},t))}var UPe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=Ae(n)||fme(n);return s?e(n,i):(s||Bc(),r)}},qPe=["value","background"],wH;function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function zPe(t,e){if(t==null)return{};var r=WPe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K0.apply(this,arguments)}function i3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i3(Object(r),!0).forEach(function(n){Ha(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SH(n.key),n)}}function GPe(t,e,r){return e&&s3(t.prototype,e),r&&s3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function KPe(t,e,r){return e=Y0(e),YPe(t,_H()?Reflect.construct(e,r||[],Y0(t).constructor):e.apply(t,r))}function YPe(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XPe(t)}function XPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _H(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_H=function(){return!!t})()}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y0(t)}function QPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CC(t,e)}function CC(t,e){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CC(t,e)}function Ha(t,e,r){return e=SH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SH(t){var e=JPe(t,"string");return af(e)=="symbol"?e:e+""}function JPe(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tu=(function(t){function e(){var r;HPe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=KPe(this,e,[].concat(i)),Ha(r,"state",{isAnimationFinished:!1}),Ha(r,"id",Vf("recharts-bar-")),Ha(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ha(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return QPe(e,t),GPe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,a=s.dataKey,c=s.activeIndex,u=s.activeBar,f=Ye(this.props,!1);return n&&n.map(function(p,g){var v=g===c,w=v?u:o,x=Ar(Ar(Ar({},f),p),{},{isActive:v,option:w,index:g,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Y.createElement(Pt,K0({className:"recharts-bar-rectangle"},$c(i.props,p,g),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(g)}),Y.createElement(n3,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,p=i.animationId,g=this.state.prevData;return Y.createElement(io,{begin:c,duration:u,isActive:a,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t,x=s.map(function(_,P){var S=g&&g[P];if(S){var E=yi(S.x,_.x),R=yi(S.y,_.y),N=yi(S.width,_.width),M=yi(S.height,_.height);return Ar(Ar({},_),{},{x:E(w),y:R(w),width:N(w),height:M(w)})}if(o==="horizontal"){var I=yi(0,_.height),C=I(w);return Ar(Ar({},_),{},{y:_.y+_.height-C,height:C})}var j=yi(0,_.width),F=j(w);return Ar(Ar({},_),{},{width:F})});return Y.createElement(Pt,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!ng(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,c=Ye(this.props.background,!1);return s.map(function(u,f){u.value;var p=u.background,g=zPe(u,qPe);if(!p)return null;var v=Ar(Ar(Ar(Ar(Ar({},g),{},{fill:"#eee"},p),c),$c(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Y.createElement(n3,K0({key:"background-bar-".concat(f),option:n.props.background,isActive:f===a},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,p=_i(f,ig);if(!p)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,v=function(_,P){var S=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:S,errorVal:Vr(_,P)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Y.createElement(Pt,w,p.map(function(x){return Y.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:a,yAxis:c,layout:u,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,a=n.xAxis,c=n.yAxis,u=n.left,f=n.top,p=n.width,g=n.height,v=n.isAnimationActive,w=n.background,x=n.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,P=lt("recharts-bar",o),S=a&&a.allowDataOverflow,E=c&&c.allowDataOverflow,R=S||E,N=ot(x)?this.id:x;return Y.createElement(Pt,{className:P},S||E?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(N)},Y.createElement("rect",{x:S?u:u-p/2,y:E?f:f-g/2,width:S?p:p*2,height:E?g:g*2}))):null,Y.createElement(Pt,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(N,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,N),(!v||_)&&qo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(T.PureComponent);wH=tu;Ha(tu,"displayName","Bar");Ha(tu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ha(tu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,p=t.displayedData,g=t.offset,v=A_e(n,r);if(!v)return null;var w=e.layout,x=r.type.defaultProps,_=x!==void 0?Ar(Ar({},x),r.props):r.props,P=_.dataKey,S=_.children,E=_.minPointSize,R=w==="horizontal"?o:s,N=u?R.scale.domain():null,M=R_e({numericAxis:R}),I=_i(S,Xp),C=p.map(function(j,F){var L,V,D,z,H,X;u?L=C_e(u[f+F],N):(L=Vr(j,P),Array.isArray(L)||(L=[M,L]));var K=UPe(E,wH.defaultProps.minPointSize)(L[1],F);if(w==="horizontal"){var U,te=[o.scale(L[0]),o.scale(L[1])],Q=te[0],W=te[1];V=IF({axis:s,ticks:a,bandSize:i,offset:v.offset,entry:j,index:F}),D=(U=W??Q)!==null&&U!==void 0?U:void 0,z=v.size;var Z=Q-W;if(H=Number.isNaN(Z)?0:Z,X={x:V,y:o.y,width:z,height:o.height},Math.abs(K)>0&&Math.abs(H)<Math.abs(K)){var re=Vn(H||K)*(Math.abs(K)-Math.abs(H));D-=re,H+=re}}else{var me=[s.scale(L[0]),s.scale(L[1])],Ee=me[0],je=me[1];if(V=Ee,D=IF({axis:o,ticks:c,bandSize:i,offset:v.offset,entry:j,index:F}),z=je-Ee,H=v.size,X={x:s.x,y:D,width:s.width,height:H},Math.abs(K)>0&&Math.abs(z)<Math.abs(K)){var he=Vn(z||K)*(Math.abs(K)-Math.abs(z));z+=he}}return Ar(Ar(Ar({},j),{},{x:V,y:D,width:z,height:H,value:u?L:L[1],payload:j,background:X},I&&I[F]&&I[F].props),{},{tooltipPayload:[Y7(r,j)],tooltipPosition:{x:V+z/2,y:D+H/2}})});return Ar({data:C,layout:w},g)});function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function ZPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EH(n.key),n)}}function eAe(t,e,r){return e&&o3(t.prototype,e),r&&o3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ps(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(r),!0).forEach(function(n){Ob(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ob(t,e,r){return e=EH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EH(t){var e=tAe(t,"string");return Sm(e)=="symbol"?e:e+""}function tAe(t,e){if(Sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TH=function(e,r,n,i,s){var o=e.width,a=e.height,c=e.layout,u=e.children,f=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},g=!!mi(u,tu);return f.reduce(function(v,w){var x=r[w],_=x.orientation,P=x.domain,S=x.padding,E=S===void 0?{}:S,R=x.mirror,N=x.reversed,M="".concat(_).concat(R?"Mirror":""),I,C,j,F,L;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var V=P[1]-P[0],D=1/0,z=x.categoricalDomain.sort(mme);if(z.forEach(function(me,Ee){Ee>0&&(D=Math.min((me||0)-(z[Ee-1]||0),D))}),Number.isFinite(D)){var H=D/V,X=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(I=H*X/2),x.padding==="no-gap"){var K=Bn(e.barCategoryGap,H*X),U=H*X/2;I=U-K-(U-K)/X*K}}}i==="xAxis"?C=[n.left+(E.left||0)+(I||0),n.left+n.width-(E.right||0)-(I||0)]:i==="yAxis"?C=c==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(I||0),n.top+n.height-(E.bottom||0)-(I||0)]:C=x.range,N&&(C=[C[1],C[0]]);var te=W7(x,s,g),Q=te.scale,W=te.realScaleType;Q.domain(P).range(C),H7(Q);var Z=G7(Q,ps(ps({},x),{},{realScaleType:W}));i==="xAxis"?(L=_==="top"&&!R||_==="bottom"&&R,j=n.left,F=p[M]-L*x.height):i==="yAxis"&&(L=_==="left"&&!R||_==="right"&&R,j=p[M]-L*x.width,F=n.top);var re=ps(ps(ps({},x),Z),{},{realScaleType:W,x:j,y:F,scale:Q,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return re.bandSize=O0(re,Z),!x.hide&&i==="xAxis"?p[M]+=(L?-1:1)*re.height:x.hide||(p[M]+=(L?-1:1)*re.width),ps(ps({},v),{},Ob({},w,re))},{})},PH=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},rAe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return PH({x:r,y:n},{x:i,y:s})},AH=(function(){function t(e){ZPe(this,t),this.scale=e}return eAe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Ob(AH,"EPS",1e-4);var Mk=function(e){var r=Object.keys(e).reduce(function(n,i){return ps(ps({},n),{},Ob({},i,AH.create(e[i])))},{});return ps(ps({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return IPe(i,function(c,u){return r[u].apply(c,{bandAware:o,position:a})})},isInRange:function(i){return bH(i,function(s,o){return r[o].isInRange(s)})}})};function nAe(t){return(t%180+180)%180}var iAe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=nAe(i),o=s*Math.PI/180,a=Math.atan(n/r),c=o>a&&o<Math.PI-a?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},QT,l3;function sAe(){if(l3)return QT;l3=1;var t=uo(),e=Jm(),r=db();function n(i){return function(s,o,a){var c=Object(s);if(!e(s)){var u=t(o,3);s=r(s),o=function(p){return u(c[p],p,c)}}var f=i(s,o,a);return f>-1?c[u?s[f]:f]:void 0}}return QT=n,QT}var JT,c3;function oAe(){if(c3)return JT;c3=1;var t=gH();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return JT=e,JT}var ZT,u3;function aAe(){if(u3)return ZT;u3=1;var t=PW(),e=uo(),r=oAe(),n=Math.max;function i(s,o,a){var c=s==null?0:s.length;if(!c)return-1;var u=a==null?0:r(a);return u<0&&(u=n(c+u,0)),t(s,e(o,3),u)}return ZT=i,ZT}var eP,d3;function lAe(){if(d3)return eP;d3=1;var t=sAe(),e=aAe(),r=t(e);return eP=r,eP}var cAe=lAe();const uAe=It(cAe);var dAe=U8();const fAe=It(dAe);var hAe=fAe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Dk=T.createContext(void 0),Lk=T.createContext(void 0),CH=T.createContext(void 0),NH=T.createContext({}),IH=T.createContext(void 0),kH=T.createContext(0),OH=T.createContext(0),f3=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,a=e.children,c=e.width,u=e.height,f=hAe(s);return Y.createElement(Dk.Provider,{value:n},Y.createElement(Lk.Provider,{value:i},Y.createElement(NH.Provider,{value:s},Y.createElement(CH.Provider,{value:f},Y.createElement(IH.Provider,{value:o},Y.createElement(kH.Provider,{value:u},Y.createElement(OH.Provider,{value:c},a)))))))},pAe=function(){return T.useContext(IH)},jH=function(e){var r=T.useContext(Dk);r==null&&Bc();var n=r[e];return n==null&&Bc(),n},mAe=function(){var e=T.useContext(Dk);return qa(e)},gAe=function(){var e=T.useContext(Lk),r=uAe(e,function(n){return bH(n.domain,Number.isFinite)});return r||qa(e)},RH=function(e){var r=T.useContext(Lk);r==null&&Bc();var n=r[e];return n==null&&Bc(),n},yAe=function(){var e=T.useContext(CH);return e},vAe=function(){return T.useContext(NH)},$k=function(){return T.useContext(OH)},Fk=function(){return T.useContext(kH)};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function xAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DH(n.key),n)}}function wAe(t,e,r){return e&&bAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ae(t,e,r){return e=X0(e),SAe(t,MH()?Reflect.construct(e,r||[],X0(t).constructor):e.apply(t,r))}function SAe(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EAe(t)}function EAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MH=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X0(t)}function TAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NC(t,e)}function NC(t,e){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NC(t,e)}function h3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h3(Object(r),!0).forEach(function(n){Vk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vk(t,e,r){return e=DH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DH(t){var e=PAe(t,"string");return lf(e)=="symbol"?e:e+""}function PAe(t,e){if(lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AAe(t,e){return kAe(t)||IAe(t,e)||NAe(t,e)||CAe()}function CAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NAe(t,e){if(t){if(typeof t=="string")return m3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m3(t,e)}}function m3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function kAe(t){if(Array.isArray(t))return t}function IC(){return IC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IC.apply(this,arguments)}var OAe=function(e,r){var n;return Y.isValidElement(e)?n=Y.cloneElement(e,r):rt(e)?n=e(r):n=Y.createElement("line",IC({},r,{className:"recharts-reference-line-line"})),n},jAe=function(e,r,n,i,s,o,a,c,u){var f=s.x,p=s.y,g=s.width,v=s.height;if(n){var w=u.y,x=e.y.apply(w,{position:o});if(Zs(u,"discard")&&!e.y.isInRange(x))return null;var _=[{x:f+g,y:x},{x:f,y:x}];return c==="left"?_.reverse():_}if(r){var P=u.x,S=e.x.apply(P,{position:o});if(Zs(u,"discard")&&!e.x.isInRange(S))return null;var E=[{x:S,y:p+v},{x:S,y:p}];return a==="top"?E.reverse():E}if(i){var R=u.segment,N=R.map(function(M){return e.apply(M,{position:o})});return Zs(u,"discard")&&PPe(N,function(M){return!e.isInRange(M)})?null:N}return null};function RAe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,c=t.alwaysShow,u=pAe(),f=jH(i),p=RH(s),g=yAe();if(!u||!g)return null;ws(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Mk({x:f.scale,y:p.scale}),w=Br(e),x=Br(r),_=n&&n.length===2,P=jAe(v,w,x,_,g,t.position,f.orientation,p.orientation,t);if(!P)return null;var S=AAe(P,2),E=S[0],R=E.x,N=E.y,M=S[1],I=M.x,C=M.y,j=Zs(t,"hidden")?"url(#".concat(u,")"):void 0,F=p3(p3({clipPath:j},Ye(t,!0)),{},{x1:R,y1:N,x2:I,y2:C});return Y.createElement(Pt,{className:lt("recharts-reference-line",a)},OAe(o,F),Zr.renderCallByParent(t,rAe({x1:R,y1:N,x2:I,y2:C})))}var Bk=(function(t){function e(){return xAe(this,e),_Ae(this,e,arguments)}return TAe(e,t),wAe(e,[{key:"render",value:function(){return Y.createElement(RAe,this.props)}}])})(Y.Component);Vk(Bk,"displayName","ReferenceLine");Vk(Bk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function kC(){return kC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kC.apply(this,arguments)}function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function g3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g3(Object(r),!0).forEach(function(n){jb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$H(n.key),n)}}function LAe(t,e,r){return e&&DAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Ae(t,e,r){return e=Q0(e),FAe(t,LH()?Reflect.construct(e,r||[],Q0(t).constructor):e.apply(t,r))}function FAe(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VAe(t)}function VAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LH=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q0(t)}function BAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OC(t,e)}function OC(t,e){return OC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OC(t,e)}function jb(t,e,r){return e=$H(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $H(t){var e=UAe(t,"string");return cf(e)=="symbol"?e:e+""}function UAe(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qAe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=Mk({x:i.scale,y:s.scale}),a=o.apply({x:r,y:n},{bandAware:!0});return Zs(e,"discard")&&!o.isInRange(a)?null:a},Rb=(function(t){function e(){return MAe(this,e),$Ae(this,e,arguments)}return BAe(e,t),LAe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,a=n.alwaysShow,c=n.clipPathId,u=Br(i),f=Br(s);if(ws(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var p=qAe(this.props);if(!p)return null;var g=p.x,v=p.y,w=this.props,x=w.shape,_=w.className,P=Zs(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=y3(y3({clipPath:P},Ye(this.props,!0)),{},{cx:g,cy:v});return Y.createElement(Pt,{className:lt("recharts-reference-dot",_)},e.renderDot(x,S),Zr.renderCallByParent(this.props,{x:g-o,y:v-o,width:2*o,height:2*o}))}}])})(Y.Component);jb(Rb,"displayName","ReferenceDot");jb(Rb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jb(Rb,"renderDot",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):rt(t)?r=t(e):r=Y.createElement(Tb,kC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jC.apply(this,arguments)}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function v3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(r),!0).forEach(function(n){Mb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VH(n.key),n)}}function HAe(t,e,r){return e&&WAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GAe(t,e,r){return e=J0(e),KAe(t,FH()?Reflect.construct(e,r||[],J0(t).constructor):e.apply(t,r))}function KAe(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YAe(t)}function YAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FH=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J0(t)}function XAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RC(t,e)}function RC(t,e){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RC(t,e)}function Mb(t,e,r){return e=VH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VH(t){var e=QAe(t,"string");return uf(e)=="symbol"?e:e+""}function QAe(t,e){if(uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JAe=function(e,r,n,i,s){var o=s.x1,a=s.x2,c=s.y1,u=s.y2,f=s.xAxis,p=s.yAxis;if(!f||!p)return null;var g=Mk({x:f.scale,y:p.scale}),v={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},w={x:r?g.x.apply(a,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(u,{position:"end"}):g.y.rangeMax};return Zs(s,"discard")&&(!g.isInRange(v)||!g.isInRange(w))?null:PH(v,w)},Db=(function(t){function e(){return zAe(this,e),GAe(this,e,arguments)}return XAe(e,t),HAe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,a=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;ws(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Br(i),g=Br(s),v=Br(o),w=Br(a),x=this.props.shape;if(!p&&!g&&!v&&!w&&!x)return null;var _=JAe(p,g,v,w,this.props);if(!_&&!x)return null;var P=Zs(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Y.createElement(Pt,{className:lt("recharts-reference-area",c)},e.renderRect(x,x3(x3({clipPath:P},Ye(this.props,!0)),_)),Zr.renderCallByParent(this.props,_))}}])})(Y.Component);Mb(Db,"displayName","ReferenceArea");Mb(Db,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Mb(Db,"renderRect",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):rt(t)?r=t(e):r=Y.createElement(Rk,jC({},e,{className:"recharts-reference-area-rect"})),r});function BH(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function ZAe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return iAe(n,r)}function eCe(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:n?i:s,end:n?i+o:s+a}:{start:n?i+o:s+a,end:n?i:s}}function Z0(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function tCe(t,e){return BH(t,e+1)}function rCe(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,a=e.end,c=0,u=1,f=o,p=function(){var w=n==null?void 0:n[c];if(w===void 0)return{v:BH(n,u)};var x=c,_,P=function(){return _===void 0&&(_=r(w,x)),_},S=w.coordinate,E=c===0||Z0(t,S,P,f,a);E||(c=0,f=o,u+=1),E&&(f=S+t*(P()/2+i),c+=u)},g;u<=s.length;)if(g=p(),g)return g.v;return[]}function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function b3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(r),!0).forEach(function(n){nCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nCe(t,e,r){return e=iCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iCe(t){var e=sCe(t,"string");return Em(e)=="symbol"?e:e+""}function sCe(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oCe(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,a=e.start,c=e.end,u=function(g){var v=s[g],w,x=function(){return w===void 0&&(w=r(v,g)),w};if(g===o-1){var _=t*(v.coordinate+t*x()/2-c);s[g]=v=xn(xn({},v),{},{tickCoord:_>0?v.coordinate-_*t:v.coordinate})}else s[g]=v=xn(xn({},v),{},{tickCoord:v.coordinate});var P=Z0(t,v.tickCoord,x,a,c);P&&(c=v.tickCoord-t*(x()/2+i),s[g]=xn(xn({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return s}function aCe(t,e,r,n,i,s){var o=(n||[]).slice(),a=o.length,c=e.start,u=e.end;if(s){var f=n[a-1],p=r(f,a-1),g=t*(f.coordinate+t*p/2-u);o[a-1]=f=xn(xn({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate});var v=Z0(t,f.tickCoord,function(){return p},c,u);v&&(u=f.tickCoord-t*(p/2+i),o[a-1]=xn(xn({},f),{},{isShow:!0}))}for(var w=s?a-1:a,x=function(S){var E=o[S],R,N=function(){return R===void 0&&(R=r(E,S)),R};if(S===0){var M=t*(E.coordinate-t*N()/2-c);o[S]=E=xn(xn({},E),{},{tickCoord:M<0?E.coordinate-M*t:E.coordinate})}else o[S]=E=xn(xn({},E),{},{tickCoord:E.coordinate});var I=Z0(t,E.tickCoord,N,c,u);I&&(c=E.tickCoord+t*(N()/2+i),o[S]=xn(xn({},E),{},{isShow:!0}))},_=0;_<w;_++)x(_);return o}function Uk(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,c=t.interval,u=t.tickFormatter,f=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(Ae(c)||Qc.isSsr)return tCe(i,typeof c=="number"&&Ae(c)?c:0);var g=[],v=a==="top"||a==="bottom"?"width":"height",w=f&&v==="width"?bp(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(E,R){var N=rt(u)?u(E.value,R):E.value;return v==="width"?ZAe(bp(N,{fontSize:e,letterSpacing:r}),w,p):bp(N,{fontSize:e,letterSpacing:r})[v]},_=i.length>=2?Vn(i[1].coordinate-i[0].coordinate):1,P=eCe(s,_,v);return c==="equidistantPreserveStart"?rCe(_,P,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?g=aCe(_,P,x,i,o,c==="preserveStartEnd"):g=oCe(_,P,x,i,o),g.filter(function(S){return S.isShow}))}var lCe=["viewBox"],cCe=["viewBox"],uCe=["ticks"];function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dd.apply(this,arguments)}function w3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w3(Object(r),!0).forEach(function(n){qk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tP(t,e){if(t==null)return{};var r=dCe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qH(n.key),n)}}function hCe(t,e,r){return e&&_3(t.prototype,e),r&&_3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pCe(t,e,r){return e=ex(e),mCe(t,UH()?Reflect.construct(e,r||[],ex(t).constructor):e.apply(t,r))}function mCe(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gCe(t)}function gCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UH=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(t)}function yCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MC(t,e)}function MC(t,e){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MC(t,e)}function qk(t,e,r){return e=qH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qH(t){var e=vCe(t,"string");return df(e)=="symbol"?e:e+""}function vCe(t,e){if(df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wf=(function(t){function e(r){var n;return fCe(this,e),n=pCe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return yCe(e,t),hCe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=tP(n,lCe),a=this.props,c=a.viewBox,u=tP(a,cCe);return!_d(s,c)||!_d(o,u)||!_d(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,a=i.width,c=i.height,u=i.orientation,f=i.tickSize,p=i.mirror,g=i.tickMargin,v,w,x,_,P,S,E=p?-1:1,R=n.tickSize||f,N=Ae(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":v=w=n.coordinate,_=o+ +!p*c,x=_-E*R,S=x-E*g,P=N;break;case"left":x=_=n.coordinate,w=s+ +!p*a,v=w-E*R,P=v-E*g,S=N;break;case"right":x=_=n.coordinate,w=s+ +p*a,v=w+E*R,P=v+E*g,S=N;break;default:v=w=n.coordinate,_=o+ +p*c,x=_+E*R,S=x+E*g,P=N;break}return{line:{x1:v,y1:x,x2:w,y2:_},tick:{x:P,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,a=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,p=Lr(Lr(Lr({},Ye(this.props,!1)),Ye(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);p=Lr(Lr({},p),{},{x1:i,y1:s+g*a,x2:i+o,y2:s+g*a})}else{var v=+(c==="left"&&!u||c==="right"&&u);p=Lr(Lr({},p),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+a})}return Y.createElement("line",dd({},p,{className:lt("recharts-cartesian-axis-line",wi(f,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,a=this.props,c=a.tickLine,u=a.stroke,f=a.tick,p=a.tickFormatter,g=a.unit,v=Uk(Lr(Lr({},this.props),{},{ticks:n}),i,s),w=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),_=Ye(this.props,!1),P=Ye(f,!1),S=Lr(Lr({},_),{},{fill:"none"},Ye(c,!1)),E=v.map(function(R,N){var M=o.getTickLineCoord(R),I=M.line,C=M.tick,j=Lr(Lr(Lr(Lr({textAnchor:w,verticalAnchor:x},_),{},{stroke:"none",fill:u},P),C),{},{index:N,payload:R,visibleTicksCount:v.length,tickFormatter:p});return Y.createElement(Pt,dd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},$c(o.props,R,N)),c&&Y.createElement("line",dd({},S,I,{className:lt("recharts-cartesian-axis-tick-line",wi(c,"className"))})),f&&e.renderTickItem(f,j,"".concat(rt(p)?p(R.value,N):R.value).concat(g||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var p=this.props,g=p.ticks,v=tP(p,uCe),w=g;return rt(c)&&(w=g&&g.length>0?c(this.props):c(v)),o<=0||a<=0||!w||!w.length?null:Y.createElement(Pt,{className:lt("recharts-cartesian-axis",u),ref:function(_){n.layerReference=_}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Zr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,a=lt(i.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(n)?o=Y.cloneElement(n,Lr(Lr({},i),{},{className:a})):rt(n)?o=n(Lr(Lr({},i),{},{className:a})):o=Y.createElement(Fc,dd({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(T.Component);qk(Wf,"displayName","CartesianAxis");qk(Wf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xCe=["x1","y1","x2","y2","key"],bCe=["offset"];function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function S3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(r),!0).forEach(function(n){wCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wCe(t,e,r){return e=_Ce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Ce(t){var e=SCe(t,"string");return Uc(e)=="symbol"?e:e+""}function SCe(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gc.apply(this,arguments)}function E3(t,e){if(t==null)return{};var r=ECe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ECe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var TCe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,c=e.ry;return Y.createElement("rect",{x:i,y:s,ry:c,width:o,height:a,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zH(t,e){var r;if(Y.isValidElement(t))r=Y.cloneElement(t,e);else if(rt(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,c=E3(e,xCe),u=Ye(c,!1);u.offset;var f=E3(u,bCe);r=Y.createElement("line",gc({},f,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:a}))}return r}function PCe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,c){var u=Sn(Sn({},t),{},{x1:e,y1:a,x2:e+r,y2:a,key:"line-".concat(c),index:c});return zH(i,u)});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ACe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,c){var u=Sn(Sn({},t),{},{x1:a,y1:e,x2:a,y2:e+r,key:"line-".concat(c),index:c});return zH(i,u)});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function CCe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var f=a.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==f[0]&&f.unshift(0);var p=f.map(function(g,v){var w=!f[v+1],x=w?i+o-g:f[v+1]-g;if(x<=0)return null;var _=v%e.length;return Y.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:x,width:s,stroke:"none",fill:e[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function NCe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==f[0]&&f.unshift(0);var p=f.map(function(g,v){var w=!f[v+1],x=w?s+a-g:f[v+1]-g;if(x<=0)return null;var _=v%n.length;return Y.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:x,height:c,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var ICe=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return z7(Uk(Sn(Sn(Sn({},Wf.defaultProps),n),{},{ticks:Mo(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},kCe=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return z7(Uk(Sn(Sn(Sn({},Wf.defaultProps),n),{},{ticks:Mo(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},Gu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zk(t){var e,r,n,i,s,o,a=$k(),c=Fk(),u=vAe(),f=Sn(Sn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Gu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Gu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Gu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Gu.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Gu.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Gu.verticalFill,x:Ae(t.x)?t.x:u.left,y:Ae(t.y)?t.y:u.top,width:Ae(t.width)?t.width:u.width,height:Ae(t.height)?t.height:u.height}),p=f.x,g=f.y,v=f.width,w=f.height,x=f.syncWithTicks,_=f.horizontalValues,P=f.verticalValues,S=mAe(),E=gAe();if(!Ae(v)||v<=0||!Ae(w)||w<=0||!Ae(p)||p!==+p||!Ae(g)||g!==+g)return null;var R=f.verticalCoordinatesGenerator||ICe,N=f.horizontalCoordinatesGenerator||kCe,M=f.horizontalPoints,I=f.verticalPoints;if((!M||!M.length)&&rt(N)){var C=_&&_.length,j=N({yAxis:E?Sn(Sn({},E),{},{ticks:C?_:E.ticks}):void 0,width:a,height:c,offset:u},C?!0:x);ws(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Uc(j),"]")),Array.isArray(j)&&(M=j)}if((!I||!I.length)&&rt(R)){var F=P&&P.length,L=R({xAxis:S?Sn(Sn({},S),{},{ticks:F?P:S.ticks}):void 0,width:a,height:c,offset:u},F?!0:x);ws(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Uc(L),"]")),Array.isArray(L)&&(I=L)}return Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement(TCe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Y.createElement(PCe,gc({},f,{offset:u,horizontalPoints:M,xAxis:S,yAxis:E})),Y.createElement(ACe,gc({},f,{offset:u,verticalPoints:I,xAxis:S,yAxis:E})),Y.createElement(CCe,gc({},f,{horizontalPoints:M})),Y.createElement(NCe,gc({},f,{verticalPoints:I})))}zk.displayName="CartesianGrid";var OCe=["type","layout","connectNulls","ref"],jCe=["key"];function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function T3(t,e){if(t==null)return{};var r=RCe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pp.apply(this,arguments)}function P3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(r),!0).forEach(function(n){ms(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ku(t){return $Ce(t)||LCe(t)||DCe(t)||MCe()}function MCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DCe(t,e){if(t){if(typeof t=="string")return DC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DC(t,e)}}function LCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ce(t){if(Array.isArray(t))return DC(t)}function DC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HH(n.key),n)}}function VCe(t,e,r){return e&&A3(t.prototype,e),r&&A3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BCe(t,e,r){return e=tx(e),UCe(t,WH()?Reflect.construct(e,r||[],tx(t).constructor):e.apply(t,r))}function UCe(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qCe(t)}function qCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WH=function(){return!!t})()}function tx(t){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(t)}function zCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LC(t,e)}function LC(t,e){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LC(t,e)}function ms(t,e,r){return e=HH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HH(t){var e=WCe(t,"string");return ff(e)=="symbol"?e:e+""}function WCe(t,e){if(ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sg=(function(t){function e(){var r;FCe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=BCe(this,e,[].concat(i)),ms(r,"state",{isAnimationFinished:!0,totalLength:0}),ms(r,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),ms(r,"getStrokeDasharray",function(o,a,c){var u=c.reduce(function(P,S){return P+S});if(!u)return r.generateSimpleStrokeDasharray(a,o);for(var f=Math.floor(o/u),p=o%u,g=a-o,v=[],w=0,x=0;w<c.length;x+=c[w],++w)if(x+c[w]>p){v=[].concat(Ku(c.slice(0,w)),[p-x]);break}var _=v.length%2===0?[0,g]:[g];return[].concat(Ku(e.repeat(c,f)),Ku(v),_).map(function(P){return"".concat(P,"px")}).join(", ")}),ms(r,"id",Vf("recharts-line-")),ms(r,"pathRef",function(o){r.mainCurve=o}),ms(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ms(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return zCe(e,t),VCe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,p=_i(f,ig);if(!p)return null;var g=function(x,_){return{x:x.x,y:x.y,value:x.value,errorVal:Vr(x.payload,_)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Y.createElement(Pt,v,p.map(function(w){return Y.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:a,yAxis:c,layout:u,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,c=a.dot,u=a.points,f=a.dataKey,p=Ye(this.props,!1),g=Ye(c,!0),v=u.map(function(x,_){var P=hi(hi(hi({key:"dot-".concat(_),r:3},p),g),{},{index:_,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:u});return e.renderDotItem(c,P)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Y.createElement(Pt,Pp({className:"recharts-line-dots",key:"dots"},w),v)}},{key:"renderCurveStatically",value:function(n,i,s,o){var a=this.props,c=a.type,u=a.layout,f=a.connectNulls;a.ref;var p=T3(a,OCe),g=hi(hi(hi({},Ye(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return Y.createElement(M0,Pp({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,a=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,p=o.animationDuration,g=o.animationEasing,v=o.animationId,w=o.animateNewValues,x=o.width,_=o.height,P=this.state,S=P.prevPoints,E=P.totalLength;return Y.createElement(io,{begin:f,duration:p,isActive:u,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(R){var N=R.t;if(S){var M=S.length/a.length,I=a.map(function(V,D){var z=Math.floor(D*M);if(S[z]){var H=S[z],X=yi(H.x,V.x),K=yi(H.y,V.y);return hi(hi({},V),{},{x:X(N),y:K(N)})}if(w){var U=yi(x*2,V.x),te=yi(_/2,V.y);return hi(hi({},V),{},{x:U(N),y:te(N)})}return hi(hi({},V),{},{x:V.x,y:V.y})});return s.renderCurveStatically(I,n,i)}var C=yi(0,E),j=C(N),F;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});F=s.getStrokeDasharray(j,E,L)}else F=s.generateSimpleStrokeDasharray(E,j);return s.renderCurveStatically(a,n,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,a=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return a&&o&&o.length&&(!u&&f>0||!ng(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,a=i.points,c=i.className,u=i.xAxis,f=i.yAxis,p=i.top,g=i.left,v=i.width,w=i.height,x=i.isAnimationActive,_=i.id;if(s||!a||!a.length)return null;var P=this.state.isAnimationFinished,S=a.length===1,E=lt("recharts-line",c),R=u&&u.allowDataOverflow,N=f&&f.allowDataOverflow,M=R||N,I=ot(_)?this.id:_,C=(n=Ye(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},j=C.r,F=j===void 0?3:j,L=C.strokeWidth,V=L===void 0?2:L,D=Eme(o)?o:{},z=D.clipDot,H=z===void 0?!0:z,X=F*2+V;return Y.createElement(Pt,{className:E},R||N?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(I)},Y.createElement("rect",{x:R?g:g-v/2,y:N?p:p-w/2,width:R?v:v*2,height:N?w:w*2})),!H&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(I)},Y.createElement("rect",{x:g-X/2,y:p-X/2,width:v+X,height:w+X}))):null,!S&&this.renderCurve(M,I),this.renderErrorBar(M,I),(S||o)&&this.renderDots(M,H,I),(!x||P)&&qo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Ku(n),[0]):n,o=[],a=0;a<i;++a)o=[].concat(Ku(o),Ku(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(Y.isValidElement(n))s=Y.cloneElement(n,i);else if(rt(n))s=n(i);else{var o=i.key,a=T3(i,jCe),c=lt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=Y.createElement(Tb,Pp({key:o},a,{className:c}))}return s}}])})(T.PureComponent);ms(sg,"displayName","Line");ms(sg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Qc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ms(sg,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,c=t.displayedData,u=t.offset,f=e.layout,p=c.map(function(g,v){var w=Vr(g,o);return f==="horizontal"?{x:NF({axis:r,ticks:i,bandSize:a,entry:g,index:v}),y:ot(w)?null:n.scale(w),value:w,payload:g}:{x:ot(w)?null:r.scale(w),y:NF({axis:n,ticks:s,bandSize:a,entry:g,index:v}),value:w,payload:g}});return hi({points:p,layout:f},u)});function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function HCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YH(n.key),n)}}function KCe(t,e,r){return e&&GCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YCe(t,e,r){return e=rx(e),XCe(t,GH()?Reflect.construct(e,r||[],rx(t).constructor):e.apply(t,r))}function XCe(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QCe(t)}function QCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GH=function(){return!!t})()}function rx(t){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(t)}function JCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$C(t,e)}function KH(t,e,r){return e=YH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YH(t){var e=ZCe(t,"string");return hf(e)=="symbol"?e:e+""}function ZCe(t,e){if(hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function FC(){return FC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FC.apply(this,arguments)}function eNe(t){var e=t.xAxisId,r=$k(),n=Fk(),i=jH(e);return i==null?null:T.createElement(Wf,FC({},i,{className:lt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Mo(o,!0)}}))}var Hf=(function(t){function e(){return HCe(this,e),YCe(this,e,arguments)}return JCe(e,t),KCe(e,[{key:"render",value:function(){return T.createElement(eNe,this.props)}}])})(T.Component);KH(Hf,"displayName","XAxis");KH(Hf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function tNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JH(n.key),n)}}function nNe(t,e,r){return e&&rNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iNe(t,e,r){return e=nx(e),sNe(t,XH()?Reflect.construct(e,r||[],nx(t).constructor):e.apply(t,r))}function sNe(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oNe(t)}function oNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XH=function(){return!!t})()}function nx(t){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nx(t)}function aNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VC(t,e)}function VC(t,e){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VC(t,e)}function QH(t,e,r){return e=JH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JH(t){var e=lNe(t,"string");return pf(e)=="symbol"?e:e+""}function lNe(t,e){if(pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function BC(){return BC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BC.apply(this,arguments)}var cNe=function(e){var r=e.yAxisId,n=$k(),i=Fk(),s=RH(r);return s==null?null:T.createElement(Wf,BC({},s,{className:lt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(a){return Mo(a,!0)}}))},Gf=(function(t){function e(){return tNe(this,e),iNe(this,e,arguments)}return aNe(e,t),nNe(e,[{key:"render",value:function(){return T.createElement(cNe,this.props)}}])})(T.Component);QH(Gf,"displayName","YAxis");QH(Gf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function C3(t){return hNe(t)||fNe(t)||dNe(t)||uNe()}function uNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dNe(t,e){if(t){if(typeof t=="string")return UC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UC(t,e)}}function fNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hNe(t){if(Array.isArray(t))return UC(t)}function UC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var qC=function(e,r,n,i,s){var o=_i(e,Bk),a=_i(e,Rb),c=[].concat(C3(o),C3(a)),u=_i(e,Db),f="".concat(i,"Id"),p=i[0],g=r;if(c.length&&(g=c.reduce(function(x,_){if(_.props[f]===n&&Zs(_.props,"extendDomain")&&Ae(_.props[p])){var P=_.props[p];return[Math.min(x[0],P),Math.max(x[1],P)]}return x},g)),u.length){var v="".concat(p,"1"),w="".concat(p,"2");g=u.reduce(function(x,_){if(_.props[f]===n&&Zs(_.props,"extendDomain")&&Ae(_.props[v])&&Ae(_.props[w])){var P=_.props[v],S=_.props[w];return[Math.min(x[0],P,S),Math.max(x[1],P,S)]}return x},g)}return s&&s.length&&(g=s.reduce(function(x,_){return Ae(_)?[Math.min(x[0],_),Math.max(x[1],_)]:x},g)),g},rP={exports:{}},N3;function pNe(){return N3||(N3=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||c,g),w=r?r+u:u;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],v]:c._events[w].push(v):(c._events[w]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,p;if(this._eventsCount===0)return u;for(p in f=this._events)e.call(f,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=r?r+u:u,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,w=new Array(v);g<v;g++)w[g]=p[g].fn;return w},a.prototype.listenerCount=function(u){var f=r?r+u:u,p=this._events[f];return p?p.fn?1:p.length:0},a.prototype.emit=function(u,f,p,g,v,w){var x=r?r+u:u;if(!this._events[x])return!1;var _=this._events[x],P=arguments.length,S,E;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),P){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,p),!0;case 4:return _.fn.call(_.context,f,p,g),!0;case 5:return _.fn.call(_.context,f,p,g,v),!0;case 6:return _.fn.call(_.context,f,p,g,v,w),!0}for(E=1,S=new Array(P-1);E<P;E++)S[E-1]=arguments[E];_.fn.apply(_.context,S)}else{var R=_.length,N;for(E=0;E<R;E++)switch(_[E].once&&this.removeListener(u,_[E].fn,void 0,!0),P){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,f);break;case 3:_[E].fn.call(_[E].context,f,p);break;case 4:_[E].fn.call(_[E].context,f,p,g);break;default:if(!S)for(N=1,S=new Array(P-1);N<P;N++)S[N-1]=arguments[N];_[E].fn.apply(_[E].context,S)}}return!0},a.prototype.on=function(u,f,p){return s(this,u,f,p,!1)},a.prototype.once=function(u,f,p){return s(this,u,f,p,!0)},a.prototype.removeListener=function(u,f,p,g){var v=r?r+u:u;if(!this._events[v])return this;if(!f)return o(this,v),this;var w=this._events[v];if(w.fn)w.fn===f&&(!g||w.once)&&(!p||w.context===p)&&o(this,v);else{for(var x=0,_=[],P=w.length;x<P;x++)(w[x].fn!==f||g&&!w[x].once||p&&w[x].context!==p)&&_.push(w[x]);_.length?this._events[v]=_.length===1?_[0]:_:o(this,v)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(rP)),rP.exports}var mNe=pNe();const gNe=It(mNe);var nP=new gNe,iP="recharts.syncMouseEvents";function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function yNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZH(n.key),n)}}function xNe(t,e,r){return e&&vNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sP(t,e,r){return e=ZH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZH(t){var e=bNe(t,"string");return Tm(e)=="symbol"?e:e+""}function bNe(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wNe=(function(){function t(){yNe(this,t),sP(this,"activeIndex",0),sP(this,"coordinateList",[]),sP(this,"layout","horizontal")}return xNe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,a=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,p=f===void 0?null:f,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=s+c+u,g=o+this.offset.top+a/2+f;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])})();function _Ne(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Ae(n)&&Ae(i))return!0}return!1}function SNe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function eG(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=Ht(e,r,n,i),a=Ht(e,r,n,s);return{points:[o,a],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function ENe(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,c=e.cy,u=e.innerRadius,f=e.outerRadius,p=e.angle,g=Ht(a,c,u,p),v=Ht(a,c,f,p);n=g.x,i=g.y,s=v.x,o=v.y}else return eG(e);return[{x:n,y:i},{x:s,y:o}]}function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function I3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(r),!0).forEach(function(n){TNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TNe(t,e,r){return e=PNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PNe(t){var e=ANe(t,"string");return Pm(e)=="symbol"?e:e+""}function ANe(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CNe(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,c=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,p=t.layout,g=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!o||g!=="ScatterChart"&&i!=="axis")return null;var w,x=M0;if(g==="ScatterChart")w=o,x=XEe;else if(g==="BarChart")w=SNe(p,o,c,f),x=Rk;else if(p==="radial"){var _=eG(o),P=_.cx,S=_.cy,E=_.radius,R=_.startAngle,N=_.endAngle;w={cx:P,cy:S,startAngle:R,endAngle:N,innerRadius:E,outerRadius:E},x=tH}else w={points:ENe(p,o,c)},x=M0;var M=rv(rv(rv(rv({stroke:"#ccc",pointerEvents:"none"},c),w),Ye(v,!1)),{},{payload:a,payloadIndex:u,className:lt("recharts-tooltip-cursor",v.className)});return T.isValidElement(v)?T.cloneElement(v,M):T.createElement(x,M)}var NNe=["item"],INe=["children","className","width","height","style","compact","title","desc"];function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fd.apply(this,arguments)}function k3(t,e){return jNe(t)||ONe(t,e)||rG(t,e)||kNe()}function kNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ONe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function jNe(t){if(Array.isArray(t))return t}function O3(t,e){if(t==null)return{};var r=RNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nG(n.key),n)}}function LNe(t,e,r){return e&&DNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Ne(t,e,r){return e=ix(e),FNe(t,tG()?Reflect.construct(e,r||[],ix(t).constructor):e.apply(t,r))}function FNe(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VNe(t)}function VNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tG=function(){return!!t})()}function ix(t){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ix(t)}function BNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zC(t,e)}function zC(t,e){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zC(t,e)}function gf(t){return zNe(t)||qNe(t)||rG(t)||UNe()}function UNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rG(t,e){if(t){if(typeof t=="string")return WC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WC(t,e)}}function qNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zNe(t){if(Array.isArray(t))return WC(t)}function WC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(r),!0).forEach(function(n){Je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Je(t,e,r){return e=nG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nG(t){var e=WNe(t,"string");return mf(e)=="symbol"?e:e+""}function WNe(t,e){if(mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HNe={xAxis:["bottom","top"],yAxis:["left","right"]},GNe={width:"100%",height:"100%"},iG={x:0,y:0};function nv(t){return t}var KNe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},YNe=function(e,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return ce(ce(ce({},i),Ht(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var c=s.coordinate,u=i.angle;return ce(ce(ce({},i),Ht(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return iG},Lb=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(a,c){var u=c.props.data;return u&&u.length?[].concat(gf(a),gf(u)):a},[]);return o.length>0?o:e&&e.length&&Ae(i)&&Ae(s)?e.slice(i,s+1):[]};function sG(t){return t==="number"?[0,"auto"]:void 0}var HC=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,a=Lb(r,e);return n<0||!s||!s.length||n>=a.length?null:s.reduce(function(c,u){var f,p=(f=u.props.data)!==null&&f!==void 0?f:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var v=p===void 0?a:p;g=a0(v,o.dataKey,i)}else g=p&&p[n]||a[n];return g?[].concat(gf(c),[Y7(u,g)]):c},[])},R3=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=KNe(s,n),a=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,f=w_e(o,a,u,c);if(f>=0&&u){var p=u[f]&&u[f].value,g=HC(e,r,f,p),v=YNe(n,a,f,s);return{activeTooltipIndex:f,activeLabel:p,activePayload:g,activeCoordinate:v}}return null},XNe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,a=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,p=e.children,g=e.stackOffset,v=q7(f,s);return n.reduce(function(w,x){var _,P=x.type.defaultProps!==void 0?ce(ce({},x.type.defaultProps),x.props):x.props,S=P.type,E=P.dataKey,R=P.allowDataOverflow,N=P.allowDuplicatedCategory,M=P.scale,I=P.ticks,C=P.includeHidden,j=P[o];if(w[j])return w;var F=Lb(e.data,{graphicalItems:i.filter(function(Z){var re,me=o in Z.props?Z.props[o]:(re=Z.type.defaultProps)===null||re===void 0?void 0:re[o];return me===j}),dataStartIndex:c,dataEndIndex:u}),L=F.length,V,D,z;_Ne(P.domain,R,S)&&(V=oC(P.domain,null,R),v&&(S==="number"||M!=="auto")&&(z=_p(F,E,"category")));var H=sG(S);if(!V||V.length===0){var X,K=(X=P.domain)!==null&&X!==void 0?X:H;if(E){if(V=_p(F,E,S),S==="category"&&v){var U=pme(V);N&&U?(D=V,V=W0(0,L)):N||(V=jF(K,V,x).reduce(function(Z,re){return Z.indexOf(re)>=0?Z:[].concat(gf(Z),[re])},[]))}else if(S==="category")N?V=V.filter(function(Z){return Z!==""&&!ot(Z)}):V=jF(K,V,x).reduce(function(Z,re){return Z.indexOf(re)>=0||re===""||ot(re)?Z:[].concat(gf(Z),[re])},[]);else if(S==="number"){var te=P_e(F,i.filter(function(Z){var re,me,Ee=o in Z.props?Z.props[o]:(re=Z.type.defaultProps)===null||re===void 0?void 0:re[o],je="hide"in Z.props?Z.props.hide:(me=Z.type.defaultProps)===null||me===void 0?void 0:me.hide;return Ee===j&&(C||!je)}),E,s,f);te&&(V=te)}v&&(S==="number"||M!=="auto")&&(z=_p(F,E,"category"))}else v?V=W0(0,L):a&&a[j]&&a[j].hasStack&&S==="number"?V=g==="expand"?[0,1]:K7(a[j].stackGroups,c,u):V=U7(F,i.filter(function(Z){var re=o in Z.props?Z.props[o]:Z.type.defaultProps[o],me="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return re===j&&(C||!me)}),S,f,!0);if(S==="number")V=qC(p,V,j,s,I),K&&(V=oC(K,V,R));else if(S==="category"&&K){var Q=K,W=V.every(function(Z){return Q.indexOf(Z)>=0});W&&(V=Q)}}return ce(ce({},w),{},Je({},j,ce(ce({},P),{},{axisType:s,domain:V,categoricalDomain:z,duplicateDomain:D,originalDomain:(_=P.domain)!==null&&_!==void 0?_:H,isCategorical:v,layout:f})))},{})},QNe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,a=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,p=e.children,g=Lb(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),v=g.length,w=q7(f,s),x=-1;return n.reduce(function(_,P){var S=P.type.defaultProps!==void 0?ce(ce({},P.type.defaultProps),P.props):P.props,E=S[o],R=sG("number");if(!_[E]){x++;var N;return w?N=W0(0,v):a&&a[E]&&a[E].hasStack?(N=K7(a[E].stackGroups,c,u),N=qC(p,N,E,s)):(N=oC(R,U7(g,n.filter(function(M){var I,C,j=o in M.props?M.props[o]:(I=M.type.defaultProps)===null||I===void 0?void 0:I[o],F="hide"in M.props?M.props.hide:(C=M.type.defaultProps)===null||C===void 0?void 0:C.hide;return j===E&&!F}),"number",f),i.defaultProps.allowDataOverflow),N=qC(p,N,E,s)),ce(ce({},_),{},Je({},E,ce(ce({axisType:s},i.defaultProps),{},{hide:!0,orientation:wi(HNe,"".concat(s,".").concat(x%2),null),domain:N,originalDomain:R,isCategorical:w,layout:f})))}return _},{})},JNe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,a=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.children,p="".concat(i,"Id"),g=_i(f,s),v={};return g&&g.length?v=XNe(e,{axes:g,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:a,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(v=QNe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:a,dataStartIndex:c,dataEndIndex:u})),v},ZNe=function(e){var r=qa(e),n=Mo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ak(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:O0(r,n)}},M3=function(e){var r=e.children,n=e.defaultShowTooltip,i=mi(r,of),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},eIe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Bo(r&&r.type);return n&&n.indexOf("Bar")>=0})},D3=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tIe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,c=a===void 0?{}:a,u=n.width,f=n.height,p=n.children,g=n.margin||{},v=mi(p,of),w=mi(p,Sd),x=Object.keys(c).reduce(function(N,M){var I=c[M],C=I.orientation;return!I.mirror&&!I.hide?ce(ce({},N),{},Je({},C,N[C]+I.width)):N},{left:g.left||0,right:g.right||0}),_=Object.keys(o).reduce(function(N,M){var I=o[M],C=I.orientation;return!I.mirror&&!I.hide?ce(ce({},N),{},Je({},C,wi(N,"".concat(C))+I.height)):N},{top:g.top||0,bottom:g.bottom||0}),P=ce(ce({},_),x),S=P.bottom;v&&(P.bottom+=v.props.height||of.defaultProps.height),w&&r&&(P=E_e(P,i,n,r));var E=u-P.left-P.right,R=f-P.top-P.bottom;return ce(ce({brushBottom:S},P),{},{width:Math.max(E,0),height:Math.max(R,0)})},rIe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Wk=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,p=e.defaultProps,g=function(P,S){var E=S.graphicalItems,R=S.stackGroups,N=S.offset,M=S.updateId,I=S.dataStartIndex,C=S.dataEndIndex,j=P.barSize,F=P.layout,L=P.barGap,V=P.barCategoryGap,D=P.maxBarSize,z=D3(F),H=z.numericAxisName,X=z.cateAxisName,K=eIe(E),U=[];return E.forEach(function(te,Q){var W=Lb(P.data,{graphicalItems:[te],dataStartIndex:I,dataEndIndex:C}),Z=te.type.defaultProps!==void 0?ce(ce({},te.type.defaultProps),te.props):te.props,re=Z.dataKey,me=Z.maxBarSize,Ee=Z["".concat(H,"Id")],je=Z["".concat(X,"Id")],he={},Te=c.reduce(function(Lt,or){var _r=S["".concat(or.axisType,"Map")],kn=Z["".concat(or.axisType,"Id")];_r&&_r[kn]||or.axisType==="zAxis"||Bc();var On=_r[kn];return ce(ce({},Lt),{},Je(Je({},or.axisType,On),"".concat(or.axisType,"Ticks"),Mo(On)))},he),ue=Te[X],ve=Te["".concat(X,"Ticks")],Pe=R&&R[Ee]&&R[Ee].hasStack&&M_e(te,R[Ee].stackGroups),ae=Bo(te.type).indexOf("Bar")>=0,Xe=O0(ue,ve),de=[],xe=K&&__e({barSize:j,stackGroups:R,totalSize:rIe(Te,X)});if(ae){var ke,Re,dt=ot(me)?D:me,ct=(ke=(Re=O0(ue,ve,!0))!==null&&Re!==void 0?Re:dt)!==null&&ke!==void 0?ke:0;de=S_e({barGap:L,barCategoryGap:V,bandSize:ct!==Xe?ct:Xe,sizeList:xe[je],maxBarSize:dt}),ct!==Xe&&(de=de.map(function(Lt){return ce(ce({},Lt),{},{position:ce(ce({},Lt.position),{},{offset:Lt.position.offset-ct/2})})}))}var kt=te&&te.type&&te.type.getComposedData;kt&&U.push({props:ce(ce({},kt(ce(ce({},Te),{},{displayedData:W,props:P,dataKey:re,item:te,bandSize:Xe,barPosition:de,offset:N,stackedData:Pe,layout:F,dataStartIndex:I,dataEndIndex:C}))),{},Je(Je(Je({key:te.key||"item-".concat(Q)},H,Te[H]),X,Te[X]),"animationId",M)),childIndex:Ame(te,P.children),item:te})}),U},v=function(P,S){var E=P.props,R=P.dataStartIndex,N=P.dataEndIndex,M=P.updateId;if(!GL({props:E}))return null;var I=E.children,C=E.layout,j=E.stackOffset,F=E.data,L=E.reverseStackOrder,V=D3(C),D=V.numericAxisName,z=V.cateAxisName,H=_i(I,n),X=j_e(F,H,"".concat(D,"Id"),"".concat(z,"Id"),j,L),K=c.reduce(function(Z,re){var me="".concat(re.axisType,"Map");return ce(ce({},Z),{},Je({},me,JNe(E,ce(ce({},re),{},{graphicalItems:H,stackGroups:re.axisType===D&&X,dataStartIndex:R,dataEndIndex:N}))))},{}),U=tIe(ce(ce({},K),{},{props:E,graphicalItems:H}),S==null?void 0:S.legendBBox);Object.keys(K).forEach(function(Z){K[Z]=f(E,K[Z],U,Z.replace("Map",""),r)});var te=K["".concat(z,"Map")],Q=ZNe(te),W=g(E,ce(ce({},K),{},{dataStartIndex:R,dataEndIndex:N,updateId:M,graphicalItems:H,stackGroups:X,offset:U}));return ce(ce({formattedGraphicalItems:W,graphicalItems:H,offset:U,stackGroups:X},Q),K)},w=(function(_){function P(S){var E,R,N;return MNe(this,P),N=$Ne(this,P,[S]),Je(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Je(N,"accessibilityManager",new wNe),Je(N,"handleLegendBBoxUpdate",function(M){if(M){var I=N.state,C=I.dataStartIndex,j=I.dataEndIndex,F=I.updateId;N.setState(ce({legendBBox:M},v({props:N.props,dataStartIndex:C,dataEndIndex:j,updateId:F},ce(ce({},N.state),{},{legendBBox:M}))))}}),Je(N,"handleReceiveSyncEvent",function(M,I,C){if(N.props.syncId===M){if(C===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(I)}}),Je(N,"handleBrushChange",function(M){var I=M.startIndex,C=M.endIndex;if(I!==N.state.dataStartIndex||C!==N.state.dataEndIndex){var j=N.state.updateId;N.setState(function(){return ce({dataStartIndex:I,dataEndIndex:C},v({props:N.props,dataStartIndex:I,dataEndIndex:C,updateId:j},N.state))}),N.triggerSyncEvent({dataStartIndex:I,dataEndIndex:C})}}),Je(N,"handleMouseEnter",function(M){var I=N.getMouseInfo(M);if(I){var C=ce(ce({},I),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var j=N.props.onMouseEnter;rt(j)&&j(C,M)}}),Je(N,"triggeredAfterMouseMove",function(M){var I=N.getMouseInfo(M),C=I?ce(ce({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var j=N.props.onMouseMove;rt(j)&&j(C,M)}),Je(N,"handleItemMouseEnter",function(M){N.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),Je(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Je(N,"handleMouseMove",function(M){M.persist(),N.throttleTriggeredAfterMouseMove(M)}),Je(N,"handleMouseLeave",function(M){N.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};N.setState(I),N.triggerSyncEvent(I);var C=N.props.onMouseLeave;rt(C)&&C(I,M)}),Je(N,"handleOuterEvent",function(M){var I=Pme(M),C=wi(N.props,"".concat(I));if(I&&rt(C)){var j,F;/.*touch.*/i.test(I)?F=N.getMouseInfo(M.changedTouches[0]):F=N.getMouseInfo(M),C((j=F)!==null&&j!==void 0?j:{},M)}}),Je(N,"handleClick",function(M){var I=N.getMouseInfo(M);if(I){var C=ce(ce({},I),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var j=N.props.onClick;rt(j)&&j(C,M)}}),Je(N,"handleMouseDown",function(M){var I=N.props.onMouseDown;if(rt(I)){var C=N.getMouseInfo(M);I(C,M)}}),Je(N,"handleMouseUp",function(M){var I=N.props.onMouseUp;if(rt(I)){var C=N.getMouseInfo(M);I(C,M)}}),Je(N,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),Je(N,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&N.handleMouseDown(M.changedTouches[0])}),Je(N,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&N.handleMouseUp(M.changedTouches[0])}),Je(N,"handleDoubleClick",function(M){var I=N.props.onDoubleClick;if(rt(I)){var C=N.getMouseInfo(M);I(C,M)}}),Je(N,"handleContextMenu",function(M){var I=N.props.onContextMenu;if(rt(I)){var C=N.getMouseInfo(M);I(C,M)}}),Je(N,"triggerSyncEvent",function(M){N.props.syncId!==void 0&&nP.emit(iP,N.props.syncId,M,N.eventEmitterSymbol)}),Je(N,"applySyncEvent",function(M){var I=N.props,C=I.layout,j=I.syncMethod,F=N.state.updateId,L=M.dataStartIndex,V=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)N.setState(ce({dataStartIndex:L,dataEndIndex:V},v({props:N.props,dataStartIndex:L,dataEndIndex:V,updateId:F},N.state)));else if(M.activeTooltipIndex!==void 0){var D=M.chartX,z=M.chartY,H=M.activeTooltipIndex,X=N.state,K=X.offset,U=X.tooltipTicks;if(!K)return;if(typeof j=="function")H=j(U,M);else if(j==="value"){H=-1;for(var te=0;te<U.length;te++)if(U[te].value===M.activeLabel){H=te;break}}var Q=ce(ce({},K),{},{x:K.left,y:K.top}),W=Math.min(D,Q.x+Q.width),Z=Math.min(z,Q.y+Q.height),re=U[H]&&U[H].value,me=HC(N.state,N.props.data,H),Ee=U[H]?{x:C==="horizontal"?U[H].coordinate:W,y:C==="horizontal"?Z:U[H].coordinate}:iG;N.setState(ce(ce({},M),{},{activeLabel:re,activeCoordinate:Ee,activePayload:me,activeTooltipIndex:H}))}else N.setState(M)}),Je(N,"renderCursor",function(M){var I,C=N.state,j=C.isTooltipActive,F=C.activeCoordinate,L=C.activePayload,V=C.offset,D=C.activeTooltipIndex,z=C.tooltipAxisBandSize,H=N.getTooltipEventType(),X=(I=M.props.active)!==null&&I!==void 0?I:j,K=N.props.layout,U=M.key||"_recharts-cursor";return Y.createElement(CNe,{key:U,activeCoordinate:F,activePayload:L,activeTooltipIndex:D,chartName:r,element:M,isActive:X,layout:K,offset:V,tooltipAxisBandSize:z,tooltipEventType:H})}),Je(N,"renderPolarAxis",function(M,I,C){var j=wi(M,"type.axisType"),F=wi(N.state,"".concat(j,"Map")),L=M.type.defaultProps,V=L!==void 0?ce(ce({},L),M.props):M.props,D=F&&F[V["".concat(j,"Id")]];return T.cloneElement(M,ce(ce({},D),{},{className:lt(j,D.className),key:M.key||"".concat(I,"-").concat(C),ticks:Mo(D,!0)}))}),Je(N,"renderPolarGrid",function(M){var I=M.props,C=I.radialLines,j=I.polarAngles,F=I.polarRadius,L=N.state,V=L.radiusAxisMap,D=L.angleAxisMap,z=qa(V),H=qa(D),X=H.cx,K=H.cy,U=H.innerRadius,te=H.outerRadius;return T.cloneElement(M,{polarAngles:Array.isArray(j)?j:Mo(H,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(F)?F:Mo(z,!0).map(function(Q){return Q.coordinate}),cx:X,cy:K,innerRadius:U,outerRadius:te,key:M.key||"polar-grid",radialLines:C})}),Je(N,"renderLegend",function(){var M=N.state.formattedGraphicalItems,I=N.props,C=I.children,j=I.width,F=I.height,L=N.props.margin||{},V=j-(L.left||0)-(L.right||0),D=V7({children:C,formattedGraphicalItems:M,legendWidth:V,legendContent:u});if(!D)return null;var z=D.item,H=O3(D,NNe);return T.cloneElement(z,ce(ce({},H),{},{chartWidth:j,chartHeight:F,margin:L,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Je(N,"renderTooltip",function(){var M,I=N.props,C=I.children,j=I.accessibilityLayer,F=mi(C,Fi);if(!F)return null;var L=N.state,V=L.isTooltipActive,D=L.activeCoordinate,z=L.activePayload,H=L.activeLabel,X=L.offset,K=(M=F.props.active)!==null&&M!==void 0?M:V;return T.cloneElement(F,{viewBox:ce(ce({},X),{},{x:X.left,y:X.top}),active:K,label:H,payload:K?z:[],coordinate:D,accessibilityLayer:j})}),Je(N,"renderBrush",function(M){var I=N.props,C=I.margin,j=I.data,F=N.state,L=F.offset,V=F.dataStartIndex,D=F.dataEndIndex,z=F.updateId;return T.cloneElement(M,{key:M.key||"_recharts-brush",onChange:Jy(N.handleBrushChange,M.props.onChange),data:j,x:Ae(M.props.x)?M.props.x:L.left,y:Ae(M.props.y)?M.props.y:L.top+L.height+L.brushBottom-(C.bottom||0),width:Ae(M.props.width)?M.props.width:L.width,startIndex:V,endIndex:D,updateId:"brush-".concat(z)})}),Je(N,"renderReferenceElement",function(M,I,C){if(!M)return null;var j=N,F=j.clipPathId,L=N.state,V=L.xAxisMap,D=L.yAxisMap,z=L.offset,H=M.type.defaultProps||{},X=M.props,K=X.xAxisId,U=K===void 0?H.xAxisId:K,te=X.yAxisId,Q=te===void 0?H.yAxisId:te;return T.cloneElement(M,{key:M.key||"".concat(I,"-").concat(C),xAxis:V[U],yAxis:D[Q],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:F})}),Je(N,"renderActivePoints",function(M){var I=M.item,C=M.activePoint,j=M.basePoint,F=M.childIndex,L=M.isRange,V=[],D=I.props.key,z=I.item.type.defaultProps!==void 0?ce(ce({},I.item.type.defaultProps),I.item.props):I.item.props,H=z.activeDot,X=z.dataKey,K=ce(ce({index:F,dataKey:X,cx:C.x,cy:C.y,r:4,fill:jk(I.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ye(H,!1)),l0(H));return V.push(P.renderActiveDot(H,K,"".concat(D,"-activePoint-").concat(F))),j?V.push(P.renderActiveDot(H,ce(ce({},K),{},{cx:j.x,cy:j.y}),"".concat(D,"-basePoint-").concat(F))):L&&V.push(null),V}),Je(N,"renderGraphicChild",function(M,I,C){var j=N.filterFormatItem(M,I,C);if(!j)return null;var F=N.getTooltipEventType(),L=N.state,V=L.isTooltipActive,D=L.tooltipAxis,z=L.activeTooltipIndex,H=L.activeLabel,X=N.props.children,K=mi(X,Fi),U=j.props,te=U.points,Q=U.isRange,W=U.baseLine,Z=j.item.type.defaultProps!==void 0?ce(ce({},j.item.type.defaultProps),j.item.props):j.item.props,re=Z.activeDot,me=Z.hide,Ee=Z.activeBar,je=Z.activeShape,he=!!(!me&&V&&K&&(re||Ee||je)),Te={};F!=="axis"&&K&&K.props.trigger==="click"?Te={onClick:Jy(N.handleItemMouseEnter,M.props.onClick)}:F!=="axis"&&(Te={onMouseLeave:Jy(N.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:Jy(N.handleItemMouseEnter,M.props.onMouseEnter)});var ue=T.cloneElement(M,ce(ce({},j.props),Te));function ve(or){return typeof D.dataKey=="function"?D.dataKey(or.payload):null}if(he)if(z>=0){var Pe,ae;if(D.dataKey&&!D.allowDuplicatedCategory){var Xe=typeof D.dataKey=="function"?ve:"payload.".concat(D.dataKey.toString());Pe=a0(te,Xe,H),ae=Q&&W&&a0(W,Xe,H)}else Pe=te==null?void 0:te[z],ae=Q&&W&&W[z];if(je||Ee){var de=M.props.activeIndex!==void 0?M.props.activeIndex:z;return[T.cloneElement(M,ce(ce(ce({},j.props),Te),{},{activeIndex:de})),null,null]}if(!ot(Pe))return[ue].concat(gf(N.renderActivePoints({item:j,activePoint:Pe,basePoint:ae,childIndex:z,isRange:Q})))}else{var xe,ke=(xe=N.getItemByXY(N.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:ue},Re=ke.graphicalItem,dt=Re.item,ct=dt===void 0?M:dt,kt=Re.childIndex,Lt=ce(ce(ce({},j.props),Te),{},{activeIndex:kt});return[T.cloneElement(ct,Lt),null,null]}return Q?[ue,null,null]:[ue,null]}),Je(N,"renderCustomized",function(M,I,C){return T.cloneElement(M,ce(ce({key:"recharts-customized-".concat(C)},N.props),N.state))}),Je(N,"renderMap",{CartesianGrid:{handler:nv,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:nv},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:nv},YAxis:{handler:nv},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((E=S.id)!==null&&E!==void 0?E:Vf("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=FW(N.triggeredAfterMouseMove,(R=S.throttleDelay)!==null&&R!==void 0?R:1e3/60),N.state={},N}return BNe(P,_),LNe(P,[{key:"componentDidMount",value:function(){var E,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,R=E.children,N=E.data,M=E.height,I=E.layout,C=mi(R,Fi);if(C){var j=C.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,L=HC(this.state,N,j,F),V=this.state.tooltipTicks[j].coordinate,D=(this.state.offset.top+M)/2,z=I==="horizontal",H=z?{x:V,y:D}:{y:V,x:D},X=this.state.formattedGraphicalItems.find(function(U){var te=U.item;return te.type.name==="Scatter"});X&&(H=ce(ce({},H),X.props.points[j].tooltipPosition),L=X.props.points[j].tooltipPayload);var K={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:F,activePayload:L,activeCoordinate:H};this.setState(K),this.renderCursor(C),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var N,M;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(E){AA([mi(E.children,Fi)],[mi(this.props.children,Fi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=mi(this.props.children,Fi);if(E&&typeof E.props.shared=="boolean"){var R=E.props.shared?"axis":"item";return a.indexOf(R)>=0?R:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var R=this.container,N=R.getBoundingClientRect(),M=h0e(N),I={chartX:Math.round(E.pageX-M.left),chartY:Math.round(E.pageY-M.top)},C=N.width/R.offsetWidth||1,j=this.inRange(I.chartX,I.chartY,C);if(!j)return null;var F=this.state,L=F.xAxisMap,V=F.yAxisMap,D=this.getTooltipEventType(),z=R3(this.state,this.props.data,this.props.layout,j);if(D!=="axis"&&L&&V){var H=qa(L).scale,X=qa(V).scale,K=H&&H.invert?H.invert(I.chartX):null,U=X&&X.invert?X.invert(I.chartY):null;return ce(ce({},I),{},{xValue:K,yValue:U},z)}return z?ce(ce({},I),z):null}},{key:"inRange",value:function(E,R){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,I=E/N,C=R/N;if(M==="horizontal"||M==="vertical"){var j=this.state.offset,F=I>=j.left&&I<=j.left+j.width&&C>=j.top&&C<=j.top+j.height;return F?{x:I,y:C}:null}var L=this.state,V=L.angleAxisMap,D=L.radiusAxisMap;if(V&&D){var z=qa(V);return DF({x:I,y:C},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,R=this.getTooltipEventType(),N=mi(E,Fi),M={};N&&R==="axis"&&(N.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=l0(this.props,this.handleOuterEvent);return ce(ce({},I),M)}},{key:"addListener",value:function(){nP.on(iP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){nP.removeListener(iP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,R,N){for(var M=this.state.formattedGraphicalItems,I=0,C=M.length;I<C;I++){var j=M[I];if(j.item===E||j.props.key===E.key||R===Bo(j.item.type)&&N===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,R=this.state.offset,N=R.left,M=R.top,I=R.height,C=R.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:E},Y.createElement("rect",{x:N,y:M,height:I,width:C})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(R,N){var M=k3(N,2),I=M[0],C=M[1];return ce(ce({},R),{},Je({},I,C.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(R,N){var M=k3(N,2),I=M[0],C=M[1];return ce(ce({},R),{},Je({},I,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[E])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(E){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[E])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(E){var R=this.state,N=R.formattedGraphicalItems,M=R.activeItem;if(N&&N.length)for(var I=0,C=N.length;I<C;I++){var j=N[I],F=j.props,L=j.item,V=L.type.defaultProps!==void 0?ce(ce({},L.type.defaultProps),L.props):L.props,D=Bo(L.type);if(D==="Bar"){var z=(F.data||[]).find(function(U){return IEe(E,U)});if(z)return{graphicalItem:j,payload:z}}else if(D==="RadialBar"){var H=(F.data||[]).find(function(U){return DF(E,U)});if(H)return{graphicalItem:j,payload:H}}else if(Ib(j,M)||kb(j,M)||bm(j,M)){var X=ZTe({graphicalItem:j,activeTooltipItem:M,itemData:V.data}),K=V.activeIndex===void 0?X:V.activeIndex;return{graphicalItem:ce(ce({},j),{},{childIndex:K}),payload:bm(j,M)?V.data[X]:j.props.data[X]}}}return null}},{key:"render",value:function(){var E=this;if(!GL(this))return null;var R=this.props,N=R.children,M=R.className,I=R.width,C=R.height,j=R.style,F=R.compact,L=R.title,V=R.desc,D=O3(R,INe),z=Ye(D,!1);if(F)return Y.createElement(f3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(NA,fd({},z,{width:I,height:C,title:L,desc:V}),this.renderClipPath(),YL(N,this.renderMap)));if(this.props.accessibilityLayer){var H,X;z.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,z.role=(X=this.props.role)!==null&&X!==void 0?X:"application",z.onKeyDown=function(U){E.accessibilityManager.keyboardEvent(U)},z.onFocus=function(){E.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return Y.createElement(f3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",fd({className:lt("recharts-wrapper",M),style:ce({position:"relative",cursor:"default",width:I,height:C},j)},K,{ref:function(te){E.container=te}}),Y.createElement(NA,fd({},z,{width:I,height:C,title:L,desc:V,style:GNe}),this.renderClipPath(),YL(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(T.Component);Je(w,"displayName",r),Je(w,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Je(w,"getDerivedStateFromProps",function(_,P){var S=_.dataKey,E=_.data,R=_.children,N=_.width,M=_.height,I=_.layout,C=_.stackOffset,j=_.margin,F=P.dataStartIndex,L=P.dataEndIndex;if(P.updateId===void 0){var V=M3(_);return ce(ce(ce({},V),{},{updateId:0},v(ce(ce({props:_},V),{},{updateId:0}),P)),{},{prevDataKey:S,prevData:E,prevWidth:N,prevHeight:M,prevLayout:I,prevStackOffset:C,prevMargin:j,prevChildren:R})}if(S!==P.prevDataKey||E!==P.prevData||N!==P.prevWidth||M!==P.prevHeight||I!==P.prevLayout||C!==P.prevStackOffset||!_d(j,P.prevMargin)){var D=M3(_),z={chartX:P.chartX,chartY:P.chartY,isTooltipActive:P.isTooltipActive},H=ce(ce({},R3(P,E,I)),{},{updateId:P.updateId+1}),X=ce(ce(ce({},D),z),H);return ce(ce(ce({},X),v(ce({props:_},X),P)),{},{prevDataKey:S,prevData:E,prevWidth:N,prevHeight:M,prevLayout:I,prevStackOffset:C,prevMargin:j,prevChildren:R})}if(!AA(R,P.prevChildren)){var K,U,te,Q,W=mi(R,of),Z=W&&(K=(U=W.props)===null||U===void 0?void 0:U.startIndex)!==null&&K!==void 0?K:F,re=W&&(te=(Q=W.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&te!==void 0?te:L,me=Z!==F||re!==L,Ee=!ot(E),je=Ee&&!me?P.updateId:P.updateId+1;return ce(ce({updateId:je},v(ce(ce({props:_},P),{},{updateId:je,dataStartIndex:Z,dataEndIndex:re}),P)),{},{prevChildren:R,dataStartIndex:Z,dataEndIndex:re})}return null}),Je(w,"renderActiveDot",function(_,P,S){var E;return T.isValidElement(_)?E=T.cloneElement(_,P):rt(_)?E=_(P):E=Y.createElement(Tb,P),Y.createElement(Pt,{className:"recharts-active-dot",key:S},E)});var x=T.forwardRef(function(P,S){return Y.createElement(w,fd({},P,{ref:S}))});return x.displayName=w.displayName,x},nIe=Wk({chartName:"LineChart",GraphicalChild:sg,axisComponents:[{axisType:"xAxis",AxisComp:Hf},{axisType:"yAxis",AxisComp:Gf}],formatAxisMap:TH}),iIe=Wk({chartName:"BarChart",GraphicalChild:tu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hf},{axisType:"yAxis",AxisComp:Gf}],formatAxisMap:TH}),sIe=Wk({chartName:"PieChart",GraphicalChild:ua,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Nb},{axisType:"radiusAxis",AxisComp:Ab}],formatAxisMap:W_e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function zr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function so(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function oG(t,e){const r=zr(t);return isNaN(e)?so(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function oIe(t,e){const r=zr(t);if(isNaN(e))return so(t,NaN);const n=r.getDate(),i=so(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const aG=6048e5,aIe=864e5,lG=6e4,cG=36e5;let lIe={};function og(){return lIe}function _s(t,e){var a,c,u,f;const r=og(),n=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=zr(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function sx(t){return _s(t,{weekStartsOn:1})}function uG(t){const e=zr(t),r=e.getFullYear(),n=so(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=sx(n),s=so(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=sx(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function L3(t){const e=zr(t);return e.setHours(0,0,0,0),e}function $3(t){const e=zr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function cIe(t,e){const r=L3(t),n=L3(e),i=+r-$3(r),s=+n-$3(n);return Math.round((i-s)/aIe)}function uIe(t){const e=uG(t),r=so(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),sx(r)}function dIe(t,e){const r=e*7;return oG(t,r)}function fIe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function hIe(t){if(!fIe(t)&&typeof t!="number")return!1;const e=zr(t);return!isNaN(Number(e))}function ox(t){const e=zr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function pIe(t,e){const r=zr(t.start),n=zr(t.end);let i=+r>+n;const s=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let a=1;const c=[];for(;+o<=s;)c.push(zr(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return i?c.reverse():c}function ax(t){const e=zr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function mIe(t){const e=zr(t),r=so(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Pd(t,e){var a,c;const r=og(),n=r.weekStartsOn??((c=(a=r.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??0,i=zr(t),s=i.getDay(),o=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const gIe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yIe=(t,e,r)=>{let n;const i=gIe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function oP(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const vIe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xIe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bIe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wIe={date:oP({formats:vIe,defaultWidth:"full"}),time:oP({formats:xIe,defaultWidth:"full"}),dateTime:oP({formats:bIe,defaultWidth:"full"})},_Ie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},SIe=(t,e,r,n)=>_Ie[t];function Wh(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const EIe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TIe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PIe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AIe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CIe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NIe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},IIe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kIe={ordinalNumber:IIe,era:Wh({values:EIe,defaultWidth:"wide"}),quarter:Wh({values:TIe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Wh({values:PIe,defaultWidth:"wide"}),day:Wh({values:AIe,defaultWidth:"wide"}),dayPeriod:Wh({values:CIe,defaultWidth:"wide",formattingValues:NIe,defaultFormattingWidth:"wide"})};function Hh(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?jIe(a,p=>p.test(o)):OIe(a,p=>p.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=e.slice(o.length);return{value:u,rest:f}}}function OIe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function jIe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function RIe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const MIe=/^(\d+)(th|st|nd|rd)?/i,DIe=/\d+/i,LIe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$Ie={any:[/^b/i,/^(a|c)/i]},FIe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VIe={any:[/1/i,/2/i,/3/i,/4/i]},BIe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UIe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qIe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zIe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},WIe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HIe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GIe={ordinalNumber:RIe({matchPattern:MIe,parsePattern:DIe,valueCallback:t=>parseInt(t,10)}),era:Hh({matchPatterns:LIe,defaultMatchWidth:"wide",parsePatterns:$Ie,defaultParseWidth:"any"}),quarter:Hh({matchPatterns:FIe,defaultMatchWidth:"wide",parsePatterns:VIe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hh({matchPatterns:BIe,defaultMatchWidth:"wide",parsePatterns:UIe,defaultParseWidth:"any"}),day:Hh({matchPatterns:qIe,defaultMatchWidth:"wide",parsePatterns:zIe,defaultParseWidth:"any"}),dayPeriod:Hh({matchPatterns:WIe,defaultMatchWidth:"any",parsePatterns:HIe,defaultParseWidth:"any"})},KIe={code:"en-US",formatDistance:yIe,formatLong:wIe,formatRelative:SIe,localize:kIe,match:GIe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function YIe(t){const e=zr(t);return cIe(e,mIe(e))+1}function XIe(t){const e=zr(t),r=+sx(e)-+uIe(e);return Math.round(r/aG)+1}function dG(t,e){var f,p,g,v;const r=zr(t),n=r.getFullYear(),i=og(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(g=i.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,o=so(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const a=_s(o,e),c=so(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=_s(c,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function QIe(t,e){var a,c,u,f;const r=og(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=dG(t,e),s=so(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),_s(s,e)}function JIe(t,e){const r=zr(t),n=+_s(r,e)-+QIe(r,e);return Math.round(n/aG)+1}function Mt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Da={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Mt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Mt(r+1,2)},d(t,e){return Mt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Mt(t.getHours()%12||12,e.length)},H(t,e){return Mt(t.getHours(),e.length)},m(t,e){return Mt(t.getMinutes(),e.length)},s(t,e){return Mt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Mt(i,e.length)}},Yu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},F3={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Da.y(t,e)},Y:function(t,e,r,n){const i=dG(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Mt(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Mt(s,e.length)},R:function(t,e){const r=uG(t);return Mt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Mt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Mt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Mt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Da.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Mt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=JIe(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Mt(i,e.length)},I:function(t,e,r){const n=XIe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Mt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Da.d(t,e)},D:function(t,e,r){const n=YIe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Mt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Mt(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Mt(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Yu.noon:n===0?i=Yu.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Yu.evening:n>=12?i=Yu.afternoon:n>=4?i=Yu.morning:i=Yu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Da.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Da.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Da.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Da.s(t,e)},S:function(t,e){return Da.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return B3(n);case"XXXX":case"XX":return ic(n);case"XXXXX":case"XXX":default:return ic(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return B3(n);case"xxxx":case"xx":return ic(n);case"xxxxx":case"xxx":default:return ic(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+V3(n,":");case"OOOO":default:return"GMT"+ic(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+V3(n,":");case"zzzz":default:return"GMT"+ic(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Mt(n,e.length)},T:function(t,e,r){const n=t.getTime();return Mt(n,e.length)}};function V3(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Mt(s,2)}function B3(t,e){return t%60===0?(t>0?"-":"+")+Mt(Math.abs(t)/60,2):ic(t,e)}function ic(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Mt(Math.trunc(n/60),2),s=Mt(n%60,2);return r+i+e+s}const U3=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ZIe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return U3(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",U3(n,e)).replace("{{time}}",fG(i,e))},eke={p:fG,P:ZIe},tke=/^D+$/,rke=/^Y+$/,nke=["D","DD","YY","YYYY"];function ike(t){return tke.test(t)}function ske(t){return rke.test(t)}function oke(t,e,r){const n=ake(t,e,r);if(console.warn(n),nke.includes(t))throw new RangeError(n)}function ake(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uke=/^'([^]*?)'?$/,dke=/''/g,fke=/[a-zA-Z]/;function lc(t,e,r){var f,p,g,v;const n=og(),i=n.locale??KIe,s=n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,a=zr(t);if(!hIe(a))throw new RangeError("Invalid time value");let c=e.match(cke).map(w=>{const x=w[0];if(x==="p"||x==="P"){const _=eke[x];return _(w,i.formatLong)}return w}).join("").match(lke).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const x=w[0];if(x==="'")return{isToken:!1,value:hke(w)};if(F3[x])return{isToken:!0,value:w};if(x.match(fke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const x=w.value;(ske(x)||ike(x))&&oke(x,e,String(t));const _=F3[x[0]];return _(a,x,i.localize,u)}).join("")}function hke(t){const e=t.match(uke);return e?e[1].replace(dke,"'"):t}function Ga(t,e){return oG(t,-e)}function yc(t,e){const n=yke(t);let i;if(n.date){const c=vke(n.date,2);i=xke(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(n.time&&(o=bke(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(a=wke(n.timezone),isNaN(a))return new Date(NaN)}else{const c=new Date(s+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(s+o+a)}const iv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},pke=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,mke=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gke=/^([+-])(\d{2})(?::?(\d{2}))?$/;function yke(t){const e={},r=t.split(iv.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],iv.timeZoneDelimiter.test(e.date)&&(e.date=t.split(iv.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=iv.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function vke(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function xke(t,e){if(e===null)return new Date(NaN);const r=t.match(pke);if(!r)return new Date(NaN);const n=!!r[4],i=Gh(r[1]),s=Gh(r[2])-1,o=Gh(r[3]),a=Gh(r[4]),c=Gh(r[5])-1;if(n)return Pke(e,a,c)?_ke(e,a,c):new Date(NaN);{const u=new Date(0);return!Eke(e,s,o)||!Tke(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}}function Gh(t){return t?parseInt(t):1}function bke(t){const e=t.match(mke);if(!e)return NaN;const r=aP(e[1]),n=aP(e[2]),i=aP(e[3]);return Ake(r,n,i)?r*cG+n*lG+i*1e3:NaN}function aP(t){return t&&parseFloat(t.replace(",","."))||0}function wke(t){if(t==="Z")return 0;const e=t.match(gke);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Cke(n,i)?r*(n*cG+i*lG):NaN}function _ke(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const Ske=[31,null,31,30,31,30,31,31,30,31,30,31];function hG(t){return t%400===0||t%4===0&&t%100!==0}function Eke(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Ske[e]||(hG(t)?29:28))}function Tke(t,e){return e>=1&&e<=(hG(t)?366:365)}function Pke(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Ake(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Cke(t,e){return e>=0&&e<=59}function pG(t,e){return oIe(t,-1)}function lx(t,e){return dIe(t,-1)}function Nke({prompts:t,businessId:e}){const{t:r,isRTL:n,isHebrew:i}=fr(),[s,o]=T.useState("week"),[a,c]=T.useState({start:"",end:""}),u=()=>{const v=new Date;switch(s){case"week":return{start:_s(v),end:Pd(v)};case"lastWeek":const w=_s(lx(v)),x=Pd(lx(v));return{start:w,end:x};case"7days":return{start:Ga(v,6),end:v};case"14days":return{start:Ga(v,13),end:v};case"30days":return{start:Ga(v,29),end:v};case"month":return{start:ax(v),end:ox(v)};case"lastMonth":const _=pG(v);return{start:ax(_),end:ox(_)};case"custom":return a.start&&a.end?{start:yc(a.start),end:yc(a.end)}:{start:Ga(v,6),end:v};default:return{start:_s(v),end:Pd(v)}}},p=(()=>{if(t.length===0)return[];const v={},w=u();return t.filter(S=>{let E;return S.created_date instanceof Date?E=S.created_date:typeof S.created_date=="string"?E=yc(S.created_date):E=new Date,E>=w.start&&E<=w.end}).forEach(S=>{var N,M,I,C,j;let E;S.created_date instanceof Date?E=lc(S.created_date,"yyyy-MM-dd"):typeof S.created_date=="string"?E=lc(yc(S.created_date),"yyyy-MM-dd"):E=lc(new Date,"yyyy-MM-dd"),v[E]||(v[E]=0);let R=0;(M=(N=S[1])==null?void 0:N.counts)!=null&&M.businessNameMentions?R=S[1].counts.businessNameMentions:(C=(I=S[0])==null?void 0:I.counts)!=null&&C.businessNameMentions?R=S[0].counts.businessNameMentions:(j=S.counts)!=null&&j.businessNameMentions?R=S.counts.businessNameMentions:S.businessNameMentions?R=S.businessNameMentions:S.business_mentions&&(R=S.business_mentions),v[E]+=R}),pIe({start:w.start,end:w.end}).map(S=>{const E=lc(S,"yyyy-MM-dd"),R=(s.includes("30")||s.includes("month"),"MMM dd");return{date:lc(S,R),mentions:v[E]||0,fullDate:E}})})(),g=[{value:"week",label:r("competitors.thisWeek")},{value:"lastWeek",label:r("competitors.lastWeek")},{value:"7days",label:r("competitors.last7Days")},{value:"14days",label:r("competitors.last14Days")},{value:"30days",label:r("competitors.last30Days")},{value:"month",label:r("competitors.thisMonth")},{value:"lastMonth",label:r("competitors.lastMonth")},{value:"custom",label:r("competitors.customRange")}];return h.jsxs(Nt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(kr,{children:h.jsxs("div",{className:`flex flex-col gap-4 ${n?"text-right":""}`,children:[h.jsx(qr,{className:`flex items-center gap-2 ${n?"flex-row-reverse":""} ${i?"justify-end":""}`,children:i?h.jsxs(h.Fragment,{children:[r("analytics.mentionTrends"),h.jsx(xs,{className:"w-5 h-5 text-blue-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(xs,{className:"w-5 h-5 text-blue-600"}),r("analytics.mentionTrends")]})}),h.jsx("div",{className:`flex flex-wrap gap-2 ${n?"flex-row-reverse":""}`,children:g.map(v=>h.jsx(Ie,{variant:s===v.value?"default":"outline",size:"sm",onClick:()=>o(v.value),className:`text-xs h-8 ${s===v.value?"bg-blue-600 hover:bg-blue-700 text-white":"hover:bg-blue-50 hover:text-blue-700 hover:border-blue-300"}`,children:v.label},v.value))}),s==="custom"&&h.jsxs("div",{className:`flex gap-2 items-center ${n?"flex-row-reverse":""}`,children:[h.jsx(Ad,{className:"w-4 h-4 text-gray-500"}),h.jsx("input",{type:"date",value:a.start,onChange:v=>c(w=>({...w,start:v.target.value})),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Start Date"}),h.jsx("span",{className:"text-gray-500 text-sm",children:"to"}),h.jsx("input",{type:"date",value:a.end,onChange:v=>c(w=>({...w,end:v.target.value})),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"End Date"})]})]})}),h.jsx(mt,{children:p.length>0?h.jsx(qA,{width:"100%",height:305,children:h.jsxs(nIe,{data:p,margin:{top:5,right:30,left:20,bottom:5},children:[h.jsx(zk,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),h.jsx(Hf,{dataKey:"date",stroke:"#6B7280",tick:{fontSize:12}}),h.jsx(Gf,{stroke:"#6B7280"}),h.jsx(Fi,{contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"}}),h.jsx(sg,{type:"monotone",dataKey:"mentions",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,r:4},activeDot:{r:6,fill:"#1D4ED8"}})]})}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(xs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-500",children:r("analytics.noTrend")})]})})]})}function Ike({prompts:t,businessId:e}){const{t:r,isRTL:n,isHebrew:i}=fr(),o=(()=>{var f,p,g,v,w,x,_;const a=[];if(t.length>0){const P=t[0];(f=P.brandAnalysis)!=null&&f.keywords?a.push(...P.brandAnalysis.keywords):(g=(p=P[1])==null?void 0:p.brandAnalysis)!=null&&g.keywords?a.push(...P[1].brandAnalysis.keywords):(w=(v=P[0])==null?void 0:v.brandAnalysis)!=null&&w.keywords?a.push(...P[0].brandAnalysis.keywords):(_=(x=P.responses)==null?void 0:x.brandAnalysis)!=null&&_.keywords&&a.push(...P.responses.brandAnalysis.keywords)}if(a.length===0)return[];const c={};a.forEach(P=>{c[P]=(c[P]||0)+1});const u=["bg-blue-100 text-blue-700 border-blue-200","bg-green-100 text-green-700 border-green-200","bg-purple-100 text-purple-700 border-purple-200","bg-pink-100 text-pink-700 border-pink-200","bg-indigo-100 text-indigo-700 border-indigo-200","bg-teal-100 text-teal-700 border-teal-200","bg-orange-100 text-orange-700 border-orange-200","bg-cyan-100 text-cyan-700 border-cyan-200","bg-rose-100 text-rose-700 border-rose-200","bg-emerald-100 text-emerald-700 border-emerald-200"];return Object.entries(c).map(([P,S],E)=>({text:P,size:Math.random()*20+10,colorClass:u[E%u.length]}))})();return h.jsxs(Nt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(kr,{children:h.jsx(qr,{className:`flex items-center gap-2 ${n?"flex-row-reverse text-right":""} ${i?"justify-end":""}`,children:i?h.jsxs(h.Fragment,{children:[r("analytics.keyThemes"),h.jsx(y_,{className:"w-5 h-5 text-blue-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(y_,{className:"w-5 h-5 text-blue-600"}),r("analytics.keyThemes")]})})}),h.jsx(mt,{children:o.length>0?h.jsx("div",{className:"relative",children:h.jsxs("div",{className:`overflow-y-auto p-4 ${n?"text-right":""}`,style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[h.jsx("style",{jsx:!0,children:`
                div::-webkit-scrollbar {
                  display: none; /* Chrome, Safari, Opera */
                }
              `}),h.jsx("div",{className:`flex flex-wrap gap-2 justify-center items-start ${n?"text-right":""}`,children:o.map((a,c)=>h.jsx("span",{className:`inline-flex items-center justify-center px-3 py-2 rounded-full font-normal hover:shadow-md transition-all duration-200 cursor-default whitespace-nowrap ${a.colorClass}`,style:{fontSize:`${Math.min(18,Math.max(10,a.size*.8))}px`,fontFamily:i?"'Segoe UI', Tahoma, Arial, 'Noto Sans Hebrew', sans-serif":"inherit"},children:a.text},c))})]})}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx(y_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:i?"   ":"No Keywords Available"}),h.jsx("p",{className:"text-sm text-gray-600",children:i?"         .":"Keywords will appear here after running prompts with brand analysis."})]})})]})}function kke({prompts:t,businessProfile:e,businessId:r}){const{t:n,isRTL:i,isHebrew:s}=fr(),o=[];if(t.forEach(w=>{w.brandAnalysis?o.push(w.brandAnalysis):w[1]&&w[1].brandAnalysis?o.push(w[1].brandAnalysis):w[0]&&w[0].brandAnalysis&&o.push(w[0].brandAnalysis)}),o.length===0)return h.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:h.jsxs(Nt,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(kr,{className:"pb-4",children:h.jsxs(qr,{className:"flex items-center gap-2 text-lg font-semibold",children:[h.jsx(yR,{className:"w-5 h-5 text-blue-600"}),s?" ":"Brand Analysis"]})}),h.jsx(mt,{children:h.jsxs("div",{className:"text-center py-8",children:[h.jsx(td,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:s?"   ":"No Brand Analysis Data Available"}),h.jsx("p",{className:"text-sm text-gray-600",children:s?"          .":"Brand analysis data will appear here after running prompts with brand analysis."})]})})]})});const a=o[0],c=a.keywords||[],u=a.sentiment||"Neutral",f=[];t.forEach((w,x)=>{w.counts?f.push(w.counts):w[1]&&w[1].counts?f.push(w[1].counts):w[0]&&w[0].counts&&f.push(w[0].counts)});const p=f[0]||{},v=(w=>{switch(w.toLowerCase()){case"positive":return{color:"bg-green-100 text-green-800 border-green-200",icon:h.jsx(Jl,{className:"w-4 h-4 text-green-600"}),bgColor:"bg-green-50"};case"negative":return{color:"bg-red-100 text-red-800 border-red-200",icon:h.jsx(xs,{className:"w-4 h-4 text-red-600 rotate-180"}),bgColor:"bg-red-50"};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:h.jsx(td,{className:"w-4 h-4 text-gray-600"}),bgColor:"bg-gray-50"}}})(u);return h.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:h.jsxs(Nt,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm h-full flex flex-col min-h-[800px]",children:[h.jsx(kr,{className:"pb-4",children:h.jsxs(qr,{className:"flex items-center gap-2 text-lg font-semibold",children:[h.jsx(yR,{className:"w-5 h-5 text-blue-600"}),s?" ":"Brand Analysis"]})}),h.jsxs(mt,{className:"space-y-6 flex-1 flex flex-col",children:[h.jsxs("div",{className:`p-4 rounded-lg border ${v.bgColor} ${v.color} relative`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[v.icon,h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium",children:s?" ":"Overall Sentiment"}),h.jsx("p",{className:"text-sm opacity-80",children:s?"   ":"The overall sentiment of your brand"})]})]}),h.jsx("div",{className:`absolute top-3 ${s?"left-3":"right-3"}`,children:h.jsx(_n,{variant:"outline",className:`${v.color} font-medium`,children:u})})]}),Object.keys(p).length>0&&h.jsxs("div",{children:[h.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[h.jsx(xs,{className:"w-4 h-4 text-green-600"}),s?" ":"Mention Statistics"]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs(_n,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 flex items-center gap-1 whitespace-nowrap",children:[h.jsx("span",{className:"font-bold",children:p.businessNameMentions||0}),h.jsx("span",{children:s?" ":"Business"})]}),h.jsxs(_n,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 flex items-center gap-1 whitespace-nowrap",children:[h.jsx("span",{className:"font-bold",children:p.competitorsMentions||0}),h.jsx("span",{children:s?"":"Competitors"})]}),h.jsxs(_n,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200 flex items-center gap-1 whitespace-nowrap",children:[h.jsx("span",{className:"font-bold",children:p.industryMentions||0}),h.jsx("span",{children:s?"":"Industry"})]}),h.jsxs(_n,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200 flex items-center gap-1 whitespace-nowrap",children:[h.jsx("span",{className:"font-bold",children:p.productsServicesMentions||0}),h.jsx("span",{children:s?"":"Products"})]})]})]}),c.length>0&&h.jsxs("div",{children:[h.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[h.jsx(td,{className:"w-4 h-4 text-blue-600"}),s?"  ":"Key Keywords"]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:c.slice(0,8).map((w,x)=>h.jsx(Tt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*x},children:h.jsx(_n,{variant:"secondary",className:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100 transition-colors",children:w})},x))})]}),h.jsxs("div",{children:[h.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[h.jsx(td,{className:"w-4 h-4 text-purple-600"}),s?" ":"Action Recommendations"]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-blue-800",children:s?"  ":"Increase Digital Presence"}),h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:s?"     ":"Use key keywords in your content strategy"})]})]})}),h.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-green-800",children:s?"   ":"Enhance Positive Sentiment"}),h.jsx("p",{className:"text-xs text-green-600 mt-1",children:s?"    ":"Focus on positive brand aspects in communications"})]})]})}),h.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-orange-800",children:s?" ":"Monitor Competitors"}),h.jsx("p",{className:"text-xs text-orange-600 mt-1",children:s?"       ":"Track competitor mentions and analyze their strategy"})]})]})})]})]}),h.jsxs("div",{className:"-mb-[-10px] border-t border-gray-100",children:[h.jsx("h3",{className:"font-medium mb-2",children:s?" ":"Analysis Summary"}),h.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:s?`  ${u.toLowerCase()==="positive"?" ":u.toLowerCase()==="negative"?" ":" "}  ${c.length}   .          .`:`The analysis shows a ${u.toLowerCase()} sentiment with ${c.length} key keywords identified. The brand demonstrates strong performance with positive trends in mentions and overall perception.`})]})]})]})})}function GC({businessId:t,refreshBusinessData:e}){const{t:r,isRTL:n,isHebrew:i}=fr(),s=qc(),[o,a]=T.useState([]),[c,u]=T.useState(null),[f,p]=T.useState(!0),[g,v]=T.useState(0),w=t||null;T.useEffect(()=>{x()},[t,w,g]),T.useEffect(()=>{e&&v(_=>_+1)},[e]);const x=async()=>{try{const[_,P,S]=await Promise.all([Kx.list("-created_date",w),Gi.checkExists(w),Gi.getCurrentUser(w)]);a(_),u(P&&S?S:null)}catch(_){console.error("Error loading data:",_),u(null)}p(!1)};return f?h.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-140px)] gap-4",children:[h.jsx(In,{size:"lg",variant:"primary"}),h.jsx("p",{className:"text-sm text-gray-500 animate-pulse"})]}):c?o.length===0?h.jsx("div",{className:"p-4 sm:p-6 max-w-2xl mx-auto",children:h.jsx(Nt,{className:"text-center shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:h.jsxs(mt,{className:"pt-8 pb-8",children:[h.jsx(td,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:r("analytics.noData")}),h.jsx("p",{className:"text-gray-600 mb-4",children:r("analytics.noDataMessage")})]})})}):h.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-6 lg:space-y-8 analytics-page-desktop-shift laptop-spacing laptop-lg-spacing desktop-spacing desktop-lg-spacing ${n?"text-right":""}`,children:[h.jsx(Lf,{icon:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Np,{className:"w-8 h-8 text-blue-600"}),h.jsx(zi,{className:"w-5 h-5 text-sky-500"})]}),title:r("analytics.title"),subtitle:r("analytics.subtitle"),isRTL:n,showOnMobile:!1}),h.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:h.jsx(Epe,{prompts:o,businessProfile:c,businessId:w})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 responsive-grid-3",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 responsive-grid-2",children:[h.jsx(Tt.div,{initial:{opacity:0,x:n?20:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:h.jsx(Tpe,{prompts:o,businessProfile:c,businessId:w})}),h.jsx(Tt.div,{initial:{opacity:0,x:n?-20:20},animate:{opacity:1,x:0},transition:{delay:.3},children:h.jsx(Ike,{prompts:o,businessId:w})})]}),h.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:h.jsx(Nke,{prompts:o,businessId:w})})]}),h.jsx("div",{className:"space-y-4 sm:space-y-6",children:h.jsx(kke,{prompts:o,businessProfile:c,businessId:w})})]})]}):h.jsx("div",{className:"p-4 sm:p-6 max-w-2xl mx-auto",children:h.jsx(Nt,{className:"text-center shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:h.jsxs(mt,{className:"pt-8 pb-8",children:[h.jsx(Np,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:i?"  ":"Business Profile Required"}),h.jsx("p",{className:"text-gray-600 mb-4",children:i?"          .":"Please set up your business profile first to view analytics and insights."}),h.jsxs(Ie,{onClick:()=>s(ei("BusinessProfile")),className:"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700",children:[h.jsx(An,{className:"w-4 h-4 mr-2"}),i?"  ":"Set Up Business Profile"]})]})})})}function Oke({persona:t,index:e}){const{t:r,isRTL:n,isHebrew:i}=fr();return h.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},exit:{opacity:0,scale:.9},whileHover:{y:-5},children:h.jsxs(Nt,{className:"h-full shadow-lg hover:shadow-xl transition-all duration-300 border-0 bg-white/90 backdrop-blur-sm overflow-hidden group persona-card responsive-card hover-optimized",dir:n?"rtl":"ltr",children:[h.jsx("div",{className:"h-2 bg-gradient-to-r from-sky-400 to-blue-500"}),h.jsx(kr,{className:"pb-4 card-header",children:h.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[h.jsxs(_n,{variant:"outline",className:`bg-sky-50 text-sky-700 border-sky-200 text-center min-w-[80px] flex items-center justify-center ${n?"order-1":"order-2"}`,children:[t.age," ",i?"":"Years"]}),h.jsxs("div",{className:`flex items-center gap-3 ${n?"flex-row-reverse order-2":"order-1"}`,children:[h.jsxs("div",{className:n?"text-right":"",children:[h.jsx("h3",{className:"font-bold text-gray-900",children:t.name}),h.jsx("p",{className:"text-sm text-gray-600",children:t.job_title})]}),h.jsxs("div",{className:"relative",children:[t.avatar_url?h.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-8 h-8 rounded-full object-cover ring-2 ring-blue-100"}):h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-sky-400 to-blue-500 rounded-full flex items-center justify-center",children:h.jsx(rl,{className:"w-4 h-4 text-white"})}),t.is_ai_generated&&h.jsx("div",{className:`absolute -top-1 w-4 h-4 bg-sky-500 rounded-full flex items-center justify-center ${n?"-left-1":"-right-1"}`,children:h.jsx(zi,{className:"w-2.5 h-2.5 text-white"})})]})]})]})}),h.jsx(mt,{className:"space-y-4 w-full card-content",children:h.jsxs("div",{className:"space-y-3 w-full",children:[h.jsxs("div",{className:`w-full ${n?"text-right":""}`,children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:i?"":"Goals"}),h.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 w-full",children:t.goals})]}),h.jsxs("div",{className:`w-full ${n?"text-right":""}`,children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:i?" ":"Pain Points"}),h.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 w-full",children:t.pain_points})]}),h.jsxs("div",{className:`w-full ${n?"text-right":""}`,children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:i?" ":"Lifestyle"}),h.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 w-full",children:t.lifestyle})]})]})})]})})}function jke({isOpen:t,onClose:e,onPersonaCreated:r,editingPersona:n,businessId:i=null}){const{isRTL:s,isHebrew:o,t:a}=fr(),[c,u]=T.useState({name:"",age:"",job_title:"",lifestyle:"",goals:"",pain_points:"",motivations:"",purchasing_habits:"",backstory:"",avatar_url:"",is_ai_generated:!1}),[f,p]=T.useState(!1),{clearErrors:g,clearFieldError:v,validateFields:w,getFieldError:x}=Wm();T.useEffect(()=>{u(n||{name:"",age:"",job_title:"",lifestyle:"",goals:"",pain_points:"",motivations:"",purchasing_habits:"",backstory:"",avatar_url:"",is_ai_generated:!1})},[n]);const _=(S,E)=>{u(R=>({...R,[S]:E})),v(S)},P=async S=>{if(S.preventDefault(),g(),!!w({name:{value:c.name,required:!0,customMessage:a("validation.personaNameRequired")},job_title:{value:c.job_title,required:!0,customMessage:a("validation.personaRoleRequired")},age:{value:c.age,age:!0}})){p(!0);try{const R={...c,age:parseInt(c.age)||0};n?await Ks.update(n.id,R,i):await Ks.create(R,i),r()}catch(R){console.error("Error saving persona:",R),alert(o?"  .        .":"Error saving avatar. Please ensure all required fields are filled and try again.")}p(!1)}};return h.jsx(dl,{open:t,onOpenChange:e,children:h.jsx(Xo,{className:"lg:max-w-3xl",dir:s?"rtl":"ltr",children:h.jsxs("form",{onSubmit:P,className:"flex h-full min-h-0 flex-col",children:[h.jsx(Qo,{className:`${s?"flex-row-reverse text-right":""}`,children:h.jsxs(Zo,{className:"flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900",children:[h.jsx(rl,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),h.jsx("span",{className:"hidden sm:inline",children:n?o?" ":"Edit Avatar":o?"  ":"Create New Avatar"}),h.jsx("span",{className:"sm:hidden",children:n?o?"":"Edit":o?"":"Create"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-5 min-h-0",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[h.jsxs(pp,{error:x("name"),isRTL:s,children:[h.jsx(ut,{htmlFor:"name",children:o?" *":"Name *"}),h.jsx(wv,{id:"name",value:c.name,onChange:S=>_("name",S.target.value),placeholder:o?",  ":"e.g., Sarah Johnson",error:x("name"),isRTL:s,dir:"auto"})]}),h.jsxs(pp,{error:x("age"),isRTL:s,children:[h.jsx(ut,{htmlFor:"age",children:o?"":"Age"}),h.jsx(wv,{id:"age",type:"number",value:c.age,onChange:S=>_("age",S.target.value),placeholder:o?", 32":"e.g., 32",min:"1",max:"100",error:x("age"),isRTL:s})]})]}),h.jsxs(pp,{error:x("job_title"),isRTL:s,children:[h.jsx(ut,{htmlFor:"job_title",children:o?" *":"Job Title *"}),h.jsx(wv,{id:"job_title",value:c.job_title||"",onChange:S=>_("job_title",S.target.value),placeholder:o?",  ":"e.g., Marketing Manager",error:x("job_title"),isRTL:s,dir:"auto"})]}),h.jsxs("div",{className:s?"text-right":"",children:[h.jsx(ut,{htmlFor:"goals",children:o?" ":"Goals & Aspirations"}),h.jsx(Nr,{id:"goals",value:c.goals||"",onChange:S=>_("goals",S.target.value),placeholder:o?"    ?":"What does this avatar want to achieve?",rows:3,className:s?"text-right":"",dir:"auto"})]}),h.jsxs("div",{className:s?"text-right":"",children:[h.jsx(ut,{htmlFor:"pain_points",children:o?"  ":"Pain Points & Challenges"}),h.jsx(Nr,{id:"pain_points",value:c.pain_points||"",onChange:S=>_("pain_points",S.target.value),placeholder:o?"     ?":"What problems does this avatar face?",rows:3,className:s?"text-right":"",dir:"auto"})]}),h.jsxs("div",{className:s?"text-right":"",children:[h.jsx(ut,{htmlFor:"lifestyle",children:o?" ":"Lifestyle"}),h.jsx(Nr,{id:"lifestyle",value:c.lifestyle||"",onChange:S=>_("lifestyle",S.target.value),placeholder:o?"   ,  ":"Describe their daily life, habits, and preferences",rows:2,className:s?"text-right":"",dir:"auto"})]}),h.jsxs("div",{className:s?"text-right":"",children:[h.jsx(ut,{htmlFor:"motivations",children:o?" ":"Key Motivations"}),h.jsx(Nr,{id:"motivations",value:c.motivations||"",onChange:S=>_("motivations",S.target.value),placeholder:o?"    ?":"What drives their decisions?",rows:2,className:s?"text-right":"",dir:"auto"})]}),h.jsxs("div",{className:s?"text-right":"",children:[h.jsx(ut,{htmlFor:"purchasing_habits",children:o?" ":"Purchasing Habits"}),h.jsx(Nr,{id:"purchasing_habits",value:c.purchasing_habits||"",onChange:S=>_("purchasing_habits",S.target.value),placeholder:o?"    /?":"How do they research and buy products/services?",rows:2,className:s?"text-right":"",dir:"auto"})]}),h.jsxs("div",{className:s?"text-right":"",children:[h.jsx(ut,{htmlFor:"backstory",children:o?" ":"Personal Backstory"}),h.jsx(Nr,{id:"backstory",value:c.backstory||"",onChange:S=>_("backstory",S.target.value),placeholder:o?"    ":"Background information about this avatar",rows:2,className:s?"text-right":"",dir:"auto"})]})]}),h.jsxs(Jo,{className:`${s?"flex-row-reverse text-right":""}`,children:[h.jsx(fl,{asChild:!0,children:h.jsxs(Ie,{type:"button",variant:"ghost",className:`h-12 sm:h-12 px-4 sm:px-6 text-base text-slate-500 hover:text-slate-700 flex-1 sm:flex-none ${s?"flex-row-reverse":""}`,children:[h.jsx(qn,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?"":"Close"]})}),h.jsx(Ie,{type:"submit",disabled:f,className:`flex-1 sm:min-w-[160px] h-12 sm:h-12 px-4 sm:px-6 text-base font-semibold bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 shadow-lg hover:shadow-xl transition-all ${s?"flex-row-reverse":""}`,children:f?h.jsxs(h.Fragment,{children:[h.jsx(In,{size:"sm",variant:"white",className:s?"ml-2":"mr-2"}),o?"...":"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(dx,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),n?o?" ":"Update Avatar":o?" ":"Create Avatar"]})})]})]})})})}function Rke({isOpen:t,onClose:e,onPersonasGenerated:r,businessId:n=null}){const{isRTL:i,isHebrew:s}=fr(),[o,a]=T.useState(3),[c,u]=T.useState(!1),[f,p]=T.useState(""),[g,v]=T.useState(""),[w,x]=T.useState(!1),[_,P]=T.useState(0),S=T.useRef(null),E=j=>{if(!S.current)return;const F=S.current.getBoundingClientRect(),L=j-F.left,V=Math.max(0,Math.min(1,L/F.width)),D=Math.round(1+V*4);a(Math.max(1,Math.min(5,D)))},R=j=>{if(!S.current)return;const F=S.current.getBoundingClientRect(),L=j-F.left,V=Math.max(0,Math.min(1,L/F.width));P(V)},N=j=>{j.preventDefault(),x(!0),R(j.clientX),E(j.clientX)},M=j=>{w||E(j.clientX)},I=j=>{j.preventDefault(),x(!0);const F=j.touches[0];R(F.clientX),E(F.clientX)};T.useEffect(()=>{const j=D=>{w&&(D.preventDefault(),R(D.clientX))},F=D=>{if(w&&(D.preventDefault(),x(!1),S.current)){const z=S.current.getBoundingClientRect(),H=D.clientX-z.left,X=Math.max(0,Math.min(1,H/z.width)),K=Math.round(1+X*4);a(Math.max(1,Math.min(5,K)))}},L=D=>{if(w){D.preventDefault();const z=D.touches[0];R(z.clientX)}},V=D=>{if(w&&(D.preventDefault(),x(!1),S.current&&D.changedTouches[0])){const z=S.current.getBoundingClientRect(),H=D.changedTouches[0].clientX-z.left,X=Math.max(0,Math.min(1,H/z.width)),K=Math.round(1+X*4);a(Math.max(1,Math.min(5,K)))}};if(w)return document.addEventListener("mousemove",j,{passive:!1}),document.addEventListener("mouseup",F,{passive:!1}),document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("touchend",V,{passive:!1}),document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",F),document.removeEventListener("touchmove",L),document.removeEventListener("touchend",V),document.body.style.userSelect=""}},[w]);const C=async()=>{u(!0),p(s?` ${o}  -AI...`:`Creating ${o} AI avatars...`),v("");try{await Ks.createAI(o,n),p(s?`${o}   !`:`${o} avatars created successfully!`),setTimeout(()=>{r(),e()},1500)}catch(j){console.error("Error generating personas:",j);let F=s?"  .":"Failed to generate avatars.";j.message&&j.message.includes("parse")?F=s?"   -AI.         ,  /.   .":"Error processing AI response. Please ensure your business profile is complete with business name, industry, and products/services. Please try again.":j.message&&j.message.includes("not found")&&(F=s?"   .     .":"Business profile not found. Please create a business profile first."),v(F)}u(!1),p("")};return h.jsx(dl,{open:t,onOpenChange:e,children:h.jsx(Xo,{className:"max-w-lg sm:max-w-md min-h-[540px]",dir:i?"rtl":"ltr",children:h.jsxs("div",{className:"flex h-full min-h-[540px] flex-col",children:[h.jsx(Qo,{className:`${i?"flex-row-reverse text-right":""}`,children:h.jsxs(Zo,{className:"flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900",children:[h.jsx(zi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-sky-600"}),h.jsx("span",{className:"hidden sm:inline",children:s?"  -AI":"Generate AI Avatars"}),h.jsx("span",{className:"sm:hidden",children:s?" ":"Generate"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 min-h-0",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-sky-100 to-sky-200 rounded-full flex items-center justify-center mx-auto",children:h.jsx(cQ,{className:"w-8 h-8 text-sky-600"})}),h.jsx("p",{className:`text-gray-600 ${i?"text-right":""}`,children:s?"AI             .":"AI will analyze your business profile and create detailed customer avatars with custom prompts."})]}),h.jsxs("div",{className:i?"text-right":"",children:[h.jsx(ut,{className:"text-sm font-medium text-slate-700 mb-4 block",children:s?"  ":"Number of Avatars to Generate"}),h.jsxs("div",{className:"relative",children:[h.jsxs("div",{ref:S,className:"relative h-2 bg-slate-200 rounded-full cursor-pointer",onClick:M,children:[h.jsx("div",{className:"absolute top-0 h-2 bg-slate-900 rounded-full transition-all duration-200",style:{left:"0%",width:w?`${_*100}%`:`${(o-1)/4*100}%`}}),h.jsx("div",{className:`absolute top-1/2 w-6 h-6 bg-white border-2 border-slate-900 rounded-full shadow-lg transform -translate-y-1/2 cursor-pointer transition-all duration-200 hover:scale-110 ${w?"scale-110":""}`,style:{left:w?`${_*100}%`:`${(o-1)/4*100}%`,transform:"translateX(-50%) translateY(-50%)"},onMouseDown:N,onTouchStart:I})]}),h.jsxs("div",{className:"flex justify-between mt-4 text-xs text-slate-500",children:[h.jsx("span",{className:"text-center",children:"1"}),h.jsx("span",{className:"text-center",children:"2"}),h.jsx("span",{className:"text-center",children:"3"}),h.jsx("span",{className:"text-center",children:"4"}),h.jsx("span",{className:"text-center",children:"5"})]})]}),h.jsxs("div",{className:"mt-4 text-center",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-slate-100 rounded-full",children:h.jsx("span",{className:"text-lg font-semibold text-slate-900",children:o})}),h.jsx("p",{className:"text-xs text-slate-500 mt-2",children:s?` ${o} `:`${o} avatar${o>1?"s":""} selected`})]})]}),f&&h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx(In,{size:"default",variant:"primary",className:"mx-auto"}),h.jsx("p",{className:`text-sm text-gray-600 ${i?"text-right":""}`,children:f})]})]}),h.jsxs(Jo,{className:`${i?"flex-row-reverse text-right":""}`,children:[h.jsx(fl,{asChild:!0,children:h.jsxs(Ie,{type:"button",variant:"ghost",className:`h-12 sm:h-12 px-4 sm:px-6 text-base text-slate-500 hover:text-slate-700 flex-1 sm:flex-none ${i?"flex-row-reverse":""}`,children:[h.jsx(qn,{className:`w-4 h-4 ${i?"ml-2":"mr-2"}`}),s?"":"Close"]})}),h.jsx(Ie,{onClick:C,disabled:c,className:`flex-1 sm:min-w-[160px] h-12 sm:h-12 px-4 sm:px-6 text-base font-semibold bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 shadow-lg hover:shadow-xl transition-all ${i?"flex-row-reverse":""}`,children:c?h.jsxs(h.Fragment,{children:[h.jsx(In,{size:"sm",variant:"white",className:i?"ml-2":"mr-2"}),s?"...":"Generating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(zi,{className:`w-4 h-4 ${i?"ml-2":"mr-2"}`}),s?" ":"Generate Avatars"]})})]}),g&&h.jsx("div",{className:"px-6 pb-4",children:h.jsxs("div",{className:`flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg ${i?"text-right":""}`,children:[h.jsx(d6,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),h.jsx("span",{className:"text-red-800 text-sm",children:g})]})})]})})})}function KC({businessId:t,refreshBusinessData:e}){const{t:r,isRTL:n,isHebrew:i}=fr(),[s,o]=T.useState([]),[a,c]=T.useState(null),[u,f]=T.useState(!0),[p,g]=T.useState(!1),[v,w]=T.useState(!1),[x,_]=T.useState(null),[P,S]=T.useState(0),[E,R]=T.useState({isOpen:!1,persona:null}),N=qc(),M=t||null;T.useEffect(()=>{I()},[t,M,P]),T.useEffect(()=>{e&&S(H=>H+1)},[e]);const I=async()=>{try{const[H,X,K]=await Promise.all([Ks.list("-created_date",M),Gi.checkExists(),Gi.getCurrentUser()]);o(H),c(X&&K?K:null)}catch(H){console.error("Error loading data:",H),c(null)}f(!1)},C=()=>{I(),g(!1),_(null),e&&e()},j=H=>{_(H),g(!0)},F=H=>{const X=s.find(K=>K.id===H);R({isOpen:!0,persona:X})},L=async()=>{try{await Ks.delete(E.persona.id,M),I(),R({isOpen:!1,persona:null})}catch(H){console.error("Error deleting persona:",H)}},V=()=>{R({isOpen:!1,persona:null})};if(u)return h.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-140px)] gap-4",children:[h.jsx(In,{size:"lg",variant:"primary"}),h.jsx("p",{className:"text-sm text-gray-500 animate-pulse"})]});if(!a)return h.jsx("div",{className:"p-4 sm:p-6 max-w-2xl mx-auto",children:h.jsx(Nt,{className:"text-center shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:h.jsxs(mt,{className:"pt-8 pb-8",children:[h.jsx(Vs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:i?"  ":"Business Profile Required"}),h.jsx("p",{className:"text-gray-600 mb-4",children:i?"           AI.":"Please set up your business profile first to create AI-powered avatars."}),h.jsxs(Ie,{onClick:()=>N(ei("BusinessProfile")),className:"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700",children:[h.jsx(An,{className:"w-4 h-4 mr-2"}),i?"  ":"Set Up Business Profile"]})]})})});const D=h.jsxs("div",{className:`flex flex-col gap-3 sm:flex-row ${n?"sm:flex-row-reverse":""} flex-shrink-0`,children:[h.jsxs(Ie,{onClick:()=>w(!0),className:`w-full sm:w-auto bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white h-14 px-4 sm:px-6 rounded-xl font-medium shadow-lg hover:shadow-xl transition-all duration-300 ${n?"flex-row-reverse":""} whitespace-nowrap touch-optimized hover-optimized`,children:[h.jsx(zi,{className:`w-5 h-5 ${n?"ml-2":"mr-2"}`}),r("personas.generateAI")]}),h.jsxs(Ie,{onClick:()=>g(!0),variant:"outline",className:`w-full sm:w-auto border-2 border-sky-200 hover:bg-sky-50 text-sky-700 h-14 px-4 sm:px-6 rounded-xl font-medium transition-all duration-300 ${n?"flex-row-reverse":""} whitespace-nowrap touch-optimized hover-optimized`,children:[h.jsx(rl,{className:`w-5 h-5 ${n?"ml-2":"mr-2"}`}),r("personas.createManual")]})]}),z=s.length>=3?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6 mx-auto responsive-grid-3":s.length===2?"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mx-auto max-w-4xl responsive-grid-2":"grid grid-cols-1 gap-4 sm:gap-6 mx-auto max-w-3xl";return h.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-6 lg:space-y-8 avatar-page-desktop-shift laptop-spacing laptop-lg-spacing desktop-spacing desktop-lg-spacing",children:[h.jsx(Lf,{icon:h.jsx(Vs,{className:"w-8 h-8"}),title:r("personas.title"),subtitle:r("personas.subtitle"),actions:D,isRTL:n,className:"max-w-5xl mx-auto",showOnMobile:!1}),h.jsx("div",{className:"block md:hidden",children:D}),s.length>0?h.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:z,children:h.jsx(Wde,{children:s.map((H,X)=>h.jsx(Oke,{persona:H,index:X,onEdit:j,onDelete:F},H.id))})}):h.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"text-center py-16",children:h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-sky-100 to-sky-200 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(Vs,{className:"w-12 h-12 text-sky-500"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Avatars Yet"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first customer avatar to start analyzing market perception"}),h.jsxs("div",{className:"flex justify-center gap-3 flex-col sm:flex-row",children:[h.jsxs(Ie,{onClick:()=>w(!0),className:"h-14 w-full sm:w-auto px-6 bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700",children:[h.jsx(zi,{className:"w-4 h-4 mr-2"}),"Generate with AI"]}),h.jsxs(Ie,{onClick:()=>g(!0),variant:"outline",className:"h-14 w-full sm:w-auto px-6",children:[h.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Create Manually"]})]})]})}),h.jsx(jke,{isOpen:p,onClose:()=>{g(!1),_(null)},onPersonaCreated:C,editingPersona:x,businessId:M}),h.jsx(Rke,{isOpen:v,onClose:()=>w(!1),onPersonasGenerated:C,businessId:M}),E.isOpen&&E.persona&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[h.jsx("div",{className:"mb-4",children:h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i?" ":"Delete Persona"})}),h.jsx("p",{className:"text-gray-600 mb-6",children:i?h.jsxs(h.Fragment,{children:['       "',E.persona.name,'"?'," ",h.jsx("span",{className:"font-semibold text-red-600",children:"    ."})]}):h.jsxs(h.Fragment,{children:['Are you sure you want to delete the persona "',E.persona.name,'"?',h.jsx("br",{}),h.jsx("span",{className:"font-semibold text-red-600",children:"This action cannot be undone."})]})}),h.jsxs("div",{className:`flex gap-3 ${n?"flex-row-reverse":""}`,children:[h.jsx(Ie,{onClick:V,variant:"outline",className:"flex-1",children:i?"":"Cancel"}),h.jsx(Ie,{onClick:L,variant:"destructive",className:"flex-1",children:i?"":"Delete"})]})]})})]})}const mG=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:r,className:Se("w-full caption-bottom text-sm",t),...e})}));mG.displayName="Table";const gG=T.forwardRef(({className:t,...e},r)=>h.jsx("thead",{ref:r,className:Se("[&_tr]:border-b",t),...e}));gG.displayName="TableHeader";const yG=T.forwardRef(({className:t,...e},r)=>h.jsx("tbody",{ref:r,className:Se("[&_tr:last-child]:border-0",t),...e}));yG.displayName="TableBody";const Mke=T.forwardRef(({className:t,...e},r)=>h.jsx("tfoot",{ref:r,className:Se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Mke.displayName="TableFooter";const YC=T.forwardRef(({className:t,...e},r)=>h.jsx("tr",{ref:r,className:Se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));YC.displayName="TableRow";const sc=T.forwardRef(({className:t,...e},r)=>h.jsx("th",{ref:r,className:Se("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));sc.displayName="TableHead";const oc=T.forwardRef(({className:t,...e},r)=>h.jsx("td",{ref:r,className:Se("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));oc.displayName="TableCell";const Dke=T.forwardRef(({className:t,...e},r)=>h.jsx("caption",{ref:r,className:Se("mt-4 text-sm text-muted-foreground",t),...e}));Dke.displayName="TableCaption";const sv={pending:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border border-amber-200 shadow-sm",analyzing:"bg-gradient-to-r from-blue-100 to-sky-100 text-blue-800 border border-blue-200 shadow-sm",completed:"bg-gradient-to-r from-emerald-100 to-green-100 text-emerald-800 border border-emerald-200 shadow-sm",error:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border border-red-200 shadow-sm"};function Lke({prompts:t,onViewResponses:e}){const{t:r,isRTL:n,isHebrew:i}=fr();return h.jsxs("div",{className:"w-full",dir:n?"rtl":"ltr",children:[h.jsx("div",{className:"block lg:hidden space-y-4",children:t.map(s=>h.jsxs("div",{className:"bg-white/90 backdrop-blur-sm border border-white/20 rounded-2xl p-5 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] group",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:`flex items-center gap-2 text-sm text-gray-600 mb-1 ${n?"flex-row-reverse":""}`,children:[h.jsx(Ad,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),h.jsx("span",{className:"text-xs",children:lc(new Date(s.created_date),"MMM d, yyyy")})]}),h.jsxs("div",{className:`flex items-center gap-2 mb-2 ${n?"flex-row-reverse":""}`,children:[h.jsx(rl,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),h.jsx("span",{className:"font-medium text-sm truncate",children:s.persona_name})]})]}),h.jsx(_n,{className:`text-xs ${sv[s.status]||sv.pending}`,children:i?s.status==="pending"?"":s.status==="analyzing"?"":s.status==="completed"?"":"":s.status})]}),h.jsx("p",{className:`text-sm text-gray-600 mb-3 line-clamp-2 ${n?"text-right":""}`,title:s.prompt,children:s.prompt}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[h.jsx(vi,{className:"w-4 h-4 text-sky-500 flex-shrink-0"}),h.jsx("span",{className:"font-semibold text-sm",children:s.businessNameMentions||0}),h.jsx("span",{className:"text-xs text-gray-500",children:i?"":"Mentions"})]}),h.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>{e(s)},disabled:s.status!=="completed",className:`bg-gradient-to-r from-sky-500/10 to-blue-500/10 hover:from-sky-500/20 hover:to-blue-500/20 border-sky-200 hover:border-sky-300 text-sky-700 hover:text-sky-800 text-xs px-4 py-2 h-9 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 ${n?"flex-row-reverse":""}`,children:[h.jsx(hP,{className:`w-3 h-3 ${n?"ml-1":"mr-1"}`}),i?"":"View"]})]})]},s.id))}),h.jsx("div",{className:"hidden lg:block overflow-x-auto rounded-2xl border border-white/20 shadow-lg bg-white/90 backdrop-blur-sm",children:h.jsxs(mG,{className:"min-w-full",children:[h.jsx(gG,{children:h.jsxs(YC,{className:"bg-gradient-to-r from-sky-50/50 to-blue-50/50 border-b border-white/20",children:[h.jsx(sc,{className:`min-w-[120px] ${n?"text-right":""}`,children:i?"":"Date"}),h.jsx(sc,{className:`min-w-[120px] ${n?"text-right":""}`,children:i?"":"Avatar"}),h.jsx(sc,{className:`min-w-[200px] ${n?"text-right":""}`,children:i?"":"Prompt"}),h.jsx(sc,{className:`min-w-[100px] ${n?"text-right":""}`,children:i?"":"Status"}),h.jsx(sc,{className:`min-w-[100px] ${n?"text-right":""}`,children:i?"":"Mentions"}),h.jsx(sc,{className:`min-w-[100px] ${n?"text-right":""}`,children:i?"":"Actions"})]})}),h.jsx(yG,{children:t.map(s=>h.jsxs(YC,{className:"hover:bg-gradient-to-r hover:from-sky-50/30 hover:to-blue-50/30 transition-all duration-300 border-b border-white/10",children:[h.jsx(oc,{className:"min-w-[120px]",children:h.jsxs("div",{className:`flex items-center gap-2 text-sm whitespace-nowrap ${n?"flex-row-reverse":""}`,children:[h.jsx(Ad,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),h.jsx("span",{className:"text-xs sm:text-sm",children:lc(new Date(s.created_date),"MMM d, yyyy")})]})}),h.jsx(oc,{className:"min-w-[120px]",children:h.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[h.jsx(rl,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),h.jsx("span",{className:"font-medium text-xs sm:text-sm truncate max-w-[100px]",children:s.persona_name})]})}),h.jsx(oc,{className:"min-w-[200px]",children:h.jsx("div",{className:"max-w-[180px] sm:max-w-[250px]",children:h.jsx("p",{className:`truncate text-xs sm:text-sm text-gray-600 ${n?"text-right":""}`,title:s.prompt,children:s.prompt})})}),h.jsx(oc,{className:"min-w-[100px]",children:h.jsx(_n,{className:`text-xs ${sv[s.status]||sv.pending}`,children:i?s.status==="pending"?"":s.status==="analyzing"?"":s.status==="completed"?"":"":s.status})}),h.jsx(oc,{className:"min-w-[100px]",children:h.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[h.jsx(vi,{className:"w-4 h-4 text-sky-500 flex-shrink-0"}),h.jsx("span",{className:"font-semibold text-xs sm:text-sm",children:s.businessNameMentions||0})]})}),h.jsx(oc,{className:"min-w-[100px]",children:h.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>e(s),disabled:s.status!=="completed",className:`bg-gradient-to-r from-sky-500/10 to-blue-500/10 hover:from-sky-500/20 hover:to-blue-500/20 border-sky-200 hover:border-sky-300 text-sky-700 hover:text-sky-800 text-xs px-3 py-2 h-8 rounded-lg shadow-sm hover:shadow-md transition-all duration-300 whitespace-nowrap ${n?"flex-row-reverse":""}`,children:[h.jsx(hP,{className:`w-3 h-3 sm:w-4 sm:h-4 ${n?"ml-1":"mr-1"}`}),h.jsx("span",{className:"hidden sm:inline",children:i?"":"View"})]})})]},s.id))})]})})]})}function $ke({isOpen:t,onClose:e,onPromptSent:r,personas:n,businessId:i=null}){const{isRTL:s,isHebrew:o,t:a}=fr(),[c,u]=T.useState(""),[f,p]=T.useState(""),[g,v]=T.useState(!1),[w,x]=T.useState(!1),{clearErrors:_,clearFieldError:P,validateFields:S,getFieldError:E}=Wm(),R=C=>{u(C),P("selectedPersona");const j=n.find(L=>L.id===C),F=(j==null?void 0:j.prompt_template)||(j==null?void 0:j.aiPrompt)||(j==null?void 0:j.ai_prompt)||(j==null?void 0:j.prompt);F&&p(F)},N=C=>{p(C),P("promptText")},M=()=>{x(!1),e()},I=async()=>{if(_(),!!S({selectedPersona:{value:c,required:!0,customMessage:a("validation.personaSelectionRequired")},promptText:{value:f,required:!0,customMessage:a("validation.promptTextRequired")}})){v(!0);try{const j=n.find(V=>V.id===c),F={prompt:f,personaId:c,models:["openai","claude","perplexity","gemini"]},L=await Kx.create(F,i);r()}catch(j){console.error("Error sending prompt:",j);const F=j.message||"";F.includes("monthly prompt limit")||F.includes("You have reached your monthly prompt limit")||F.includes("upgrade your plan")?x(!0):alert(o?"   -AI.         ,  /.   .":"Error processing AI response. Please ensure your business profile is complete with business name, industry, and products/services. Please try again.")}v(!1)}};return h.jsxs(h.Fragment,{children:[h.jsx(dl,{open:t,onOpenChange:M,children:h.jsx(Xo,{className:"lg:max-w-2xl",dir:s?"rtl":"ltr",children:h.jsxs("div",{className:"flex h-full min-h-0 flex-col relative",children:[h.jsx(Qo,{className:`${s?"flex-row-reverse text-right":""} ${o?"justify-end":""}`,children:h.jsx(Zo,{className:"flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900",children:o?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"hidden sm:inline",children:"   AI"}),h.jsx("span",{className:"sm:hidden",children:" "}),h.jsx(hd,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(hd,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),h.jsx("span",{className:"hidden sm:inline",children:"Send Prompt to AI Tools"}),h.jsx("span",{className:"sm:hidden",children:"Send Prompt"})]})})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 min-h-0",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-sky-100 to-sky-200 rounded-full flex items-center justify-center mx-auto",children:h.jsx(vi,{className:"w-8 h-8 text-blue-600"})}),h.jsx("p",{className:`text-gray-600 ${s?"text-right":""}`,children:o?"        AI    .":"Send a prompt from an avatar's perspective to multiple AI tools and analyze their responses."})]}),h.jsxs(pp,{error:E("selectedPersona"),isRTL:s,children:[h.jsx(ut,{htmlFor:"persona",className:s?"text-right":"",children:o?"  *":"Select Avatar *"}),h.jsxs(e9,{value:c,onValueChange:R,children:[h.jsx(sI,{className:`mt-1 ${s?"text-right":""} ${o?"justify-end":""} ${o?"[&>svg]:order-first [&>svg]:ml-0 [&>svg]:mr-auto":""} ${E("selectedPersona")?"border-red-500 focus:border-red-500 focus:ring-red-500 ring-red-500":""}`,children:h.jsx(Nce,{placeholder:o?" ":"Choose an avatar"})}),h.jsx(oI,{children:n.map(C=>h.jsx(hp,{value:C.id,className:o?"!justify-end":"",children:h.jsxs("div",{className:`flex items-center gap-2 ${s?"flex-row-reverse":""} ${o?"!justify-end":""}`,children:[h.jsx(rl,{className:"w-4 h-4"}),h.jsxs("span",{className:`font-medium ${o?"text-right":""}`,children:[C.name,(C.job_title||C.jobTitle)&&` - ${C.job_title||C.jobTitle}`,!C.job_title&&!C.jobTitle&&" (No job title)"," "]})]})},C.id))})]})]}),h.jsxs(pp,{error:E("promptText"),isRTL:s,children:[h.jsx(ut,{htmlFor:"promptText",className:s?"text-right":"",children:o?"  *":"Prompt Text *"}),h.jsx(a9,{id:"promptText",value:f,onChange:C=>N(C.target.value),placeholder:o?"...AI     ":"Enter the prompt to send to AI tools...",rows:8,error:E("promptText"),isRTL:s,dir:"auto"})]})]}),h.jsxs(Jo,{className:`${s?"flex-row-reverse text-right":""}`,children:[h.jsx(fl,{asChild:!0,children:h.jsxs(Ie,{type:"button",variant:"ghost",className:`h-12 sm:h-12 px-4 sm:px-6 text-base text-slate-500 hover:text-slate-700 flex-1 sm:flex-none ${s?"flex-row-reverse":""}`,children:[h.jsx(qn,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?"":"Close"]})}),h.jsx(Ie,{onClick:I,disabled:g||!c||!f.trim(),className:`flex-1 sm:min-w-[180px] h-12 sm:h-12 px-4 sm:px-6 text-base font-semibold bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 shadow-lg hover:shadow-xl transition-all ${s?"flex-row-reverse":""}`,children:g?h.jsxs(h.Fragment,{children:[h.jsx(In,{size:"sm",variant:"white",className:s?"ml-2":"mr-2"}),o?"  AI...":"Sending to AI Tools..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hd,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?" ":"Send Prompt"]})})]}),g&&h.jsx("div",{className:"absolute inset-0 bg-white/90 backdrop-blur-sm flex flex-col items-center justify-center z-50 rounded-3xl",children:h.jsxs("div",{className:"text-center space-y-4 p-6",children:[h.jsx(In,{size:"lg",variant:"primary"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:o?"  AI...":"Sending to AI Tools..."}),h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsx("p",{className:"text-sm text-slate-600 mb-2",children:o?" :":"Your prompt:"}),h.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 text-sm text-slate-800 border",children:['"',f,'"']})]})]})]})})]})})}),h.jsx(dl,{open:w,onOpenChange:x,children:h.jsx(Xo,{className:"lg:max-w-md",dir:s?"rtl":"ltr",children:h.jsxs("div",{className:"flex h-full min-h-0 flex-col",children:[h.jsx(Qo,{className:`${s?"flex-row-reverse text-right":""}`,children:h.jsxs(Zo,{className:"flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900",children:[h.jsx(kv,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500"}),h.jsx("span",{className:"hidden sm:inline",children:o?"  ":"Monthly Limit Reached"}),h.jsx("span",{className:"sm:hidden",children:o?"":"Limit"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 min-h-0",children:[h.jsxs(Tt.div,{className:"text-center space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(Tt.div,{className:"w-20 h-20 bg-gradient-to-br from-sky-100 to-sky-200 rounded-full flex items-center justify-center mx-auto",initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:h.jsx(kv,{className:"w-10 h-10 text-amber-600"})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${s?"text-right":""}`,children:o?"   ":"You've reached your monthly prompt limit"}),h.jsx("p",{className:`text-gray-600 text-sm ${s?"text-right":""}`,children:o?"    .        .":"You've used all your monthly prompts. Upgrade your plan or wait for next month."})]})]}),h.jsx(Tt.div,{className:`bg-blue-50 border border-blue-200 rounded-lg p-4 ${s?"text-right":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:h.jsx(vi,{className:"w-3 h-3 text-blue-600"})}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-sm font-medium text-blue-900",children:o?":":"Tip:"}),h.jsx("p",{className:"text-xs text-blue-700",children:o?"       .":"Upgraded plans include more monthly prompts and advanced features."})]})]})})]}),h.jsxs(Jo,{className:`${s?"flex-row-reverse text-right":""}`,children:[h.jsx(fl,{asChild:!0,children:h.jsxs(Ie,{type:"button",variant:"ghost",className:`h-12 sm:h-12 px-4 sm:px-6 text-base text-slate-500 hover:text-slate-700 flex-1 sm:flex-none ${s?"flex-row-reverse":""}`,children:[h.jsx(qn,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?"":"Close"]})}),h.jsxs(Ie,{onClick:()=>{x(!1),window.open("#upgrade","_blank")},className:`flex-1 sm:min-w-[160px] h-12 sm:h-12 px-4 sm:px-6 text-base font-semibold bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all ${s?"flex-row-reverse":""}`,children:[h.jsx(kX,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?" ":"Upgrade Now"]}),h.jsxs(Ie,{onClick:()=>x(!1),variant:"outline",className:`flex-1 sm:min-w-[140px] h-12 sm:h-12 px-4 sm:px-6 text-base ${s?"flex-row-reverse":""}`,children:[h.jsx(CX,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?"  ":"Wait for Next Month"]})]})]})})})]})}const Fke={chatgpt:"bg-green-100 text-green-800 border-green-200",claude:"bg-orange-100 text-orange-800 border-orange-200",perplexity:"bg-blue-100 text-blue-800 border-blue-200",grok:"bg-sky-100 text-sky-800 border-sky-200",gemini:"bg-yellow-100 text-yellow-800 border-yellow-200"},q3=(t,e,r)=>{if(!t||!e&&(!r||r.length===0))return h.jsx("span",{children:t});const n=[];let i=0;const s=[];if(e&&e.trim()&&s.push({term:e.trim(),type:"brand"}),r&&r.length>0&&r.forEach(u=>{const f=typeof u=="string"?u:u==null?void 0:u.name;f&&typeof f=="string"&&f.trim()&&s.push({term:f.trim(),type:"competitor"})}),s.length===0)return h.jsx("span",{children:t});s.sort((u,f)=>f.term.length-u.term.length);const o=s.map(({term:u})=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),a=new RegExp(`(${o})`,"gi"),c=[...t.matchAll(a)];return c.length===0?h.jsx("span",{children:t}):(c.forEach((u,f)=>{const p=u[0],g=u.index;g>i&&n.push(h.jsx("span",{children:t.slice(i,g)},`text-${f}`));const v=s.find(({term:x})=>x.toLowerCase()===p.toLowerCase()),w=(v==null?void 0:v.type)==="brand"?"bg-green-200 text-green-800 px-1 rounded":"bg-red-200 text-red-800 px-1 rounded";n.push(h.jsx("span",{className:w,children:p},`highlight-${f}`)),i=g+p.length}),i<t.length&&n.push(h.jsx("span",{children:t.slice(i)},"text-end")),h.jsx("span",{children:n}))};function Vke({isOpen:t,onClose:e,prompt:r}){r!=null&&r.responses&&Object.entries(r.responses).forEach(([u,f])=>{});const{user:n}=Yc(),{t:i,isRTL:s,isHebrew:o}=fr(),[a,c]=T.useState(null);return T.useEffect(()=>{t&&(async()=>{if(n!=null&&n.uid)try{const f=Wc(Kc,"clients",n.uid),p=await Hc(f);if(p.exists()){const g=p.data(),v=(g==null?void 0:g.businessProfile)||(g==null?void 0:g.business_profile)||g,w=Array.isArray(v==null?void 0:v.competitors)?v.competitors:typeof(v==null?void 0:v.competitors)=="string"?v.competitors.split(",").map(x=>x.trim()).filter(Boolean):[];c({business_name:(v==null?void 0:v.business_name)||(v==null?void 0:v.businessName)||"",competitors:w})}}catch(f){console.error("Error loading business profile:",f)}})()},[t,n==null?void 0:n.uid]),r?h.jsx(dl,{open:t,onOpenChange:e,children:h.jsx(Xo,{className:"max-w-4xl lg:max-w-6xl max-h-[90vh]",children:h.jsxs("div",{className:"flex h-full min-h-0 flex-col",children:[h.jsx(Qo,{children:h.jsxs(Zo,{className:`flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900 ${s?"flex-row-reverse":""}`,children:[h.jsx(hP,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),h.jsx("span",{className:"hidden sm:inline",children:o?"  AI":"AI Responses Analysis"}),h.jsx("span",{className:"sm:hidden",children:o?"":"Responses"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 min-h-0",children:[h.jsxs(Nt,{children:[h.jsx(kr,{children:h.jsx(qr,{className:`text-lg ${s?"text-right":""}`,children:o?" ":"Original Prompt"})}),h.jsx(mt,{children:h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(_n,{variant:"outline",children:r.personaName})}),h.jsx("div",{className:"text-gray-700 bg-gray-50 p-4 rounded-lg",children:q3(r.prompt,a==null?void 0:a.business_name,a==null?void 0:a.competitors)})]})})]}),h.jsxs(Nt,{children:[h.jsx(kr,{children:h.jsxs(qr,{className:`flex items-center gap-2 ${s?"flex-row-reverse text-right":""}`,children:[h.jsx(xs,{className:"w-5 h-5"}),o?" ":"Mentions Summary"]})}),h.jsx(mt,{children:h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[h.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.businessNameMentions||0}),h.jsx("div",{className:`text-sm text-blue-700 ${s?"text-right":""}`,children:o?" ":"Business Mentions"})]}),h.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.competitorsMentions||0}),h.jsx("div",{className:`text-sm text-green-700 ${s?"text-right":""}`,children:o?" ":"Competitor Mentions"})]}),h.jsxs("div",{className:"bg-sky-50 p-4 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-sky-600",children:r.industryMentions||0}),h.jsx("div",{className:`text-sm text-sky-700 ${s?"text-right":""}`,children:o?" ":"Industry Mentions"})]}),h.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.productsServicesMentions||0}),h.jsx("div",{className:`text-sm text-orange-700 ${s?"text-right":""}`,children:o?" /":"Products/Services Mentions"})]})]})})]}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:r.responses&&Object.entries(r.responses).map(([u,f])=>h.jsxs(Nt,{className:"h-fit",children:[h.jsx(kr,{children:h.jsxs(qr,{className:`flex items-center gap-2 ${s?"flex-row-reverse":""}`,children:[h.jsx(vi,{className:"w-5 h-5"}),h.jsx(_n,{className:Fke[u],children:u.charAt(0).toUpperCase()+u.slice(1)})]})}),h.jsx(mt,{children:h.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-80 overflow-y-auto",children:h.jsx("div",{className:"text-gray-700 whitespace-pre-wrap text-sm leading-relaxed",children:f?q3(f,a==null?void 0:a.business_name,a==null?void 0:a.competitors):o?"  ":"No response available"})})})]},u))})]}),h.jsx(Jo,{children:h.jsx(fl,{asChild:!0,children:h.jsx(Ie,{type:"button",variant:"outline",children:o?"":"Close"})})})]})})}):null}function XC({businessId:t,refreshBusinessData:e}){const{t:r,isRTL:n,isHebrew:i}=fr(),[s,o]=T.useState([]),[a,c]=T.useState([]),[u,f]=T.useState(!0),[p,g]=T.useState(!1),[v,w]=T.useState(!1),[x,_]=T.useState(null),[P,S]=T.useState(0),E=t||null;T.useEffect(()=>{},[v]),T.useEffect(()=>{},[x]);const R=qc();T.useEffect(()=>{N()},[t,E,P]),T.useEffect(()=>{e&&S(L=>L+1)},[e]);const N=async()=>{try{const[L,V]=await Promise.all([Kx.list("-created_date",E),Ks.list("-created_date",E)]);o(L),c(V)}catch(L){console.error("Error loading data:",L)}f(!1)},M=()=>{N(),g(!1),e&&e()},I=L=>{_(L),w(!0)},j={totalPrompts:s.length,completedPrompts:s.filter(L=>L.status==="completed").length,pendingPrompts:s.filter(L=>L.status==="pending"||L.status==="analyzing").length,totalMentions:s.reduce((L,V)=>L+(V.businessNameMentions||0),0)},F=h.jsxs(Ie,{onClick:()=>g(!0),className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white px-6 py-4 sm:px-6 sm:py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 text-base sm:text-base w-full sm:w-auto h-14 sm:h-auto ${n?"flex-row-reverse":""}`,children:[h.jsx(hd,{className:`w-5 h-5 sm:w-5 sm:h-5 ${n?"ml-2 sm:ml-2":"mr-2 sm:mr-2"}`}),r("prompts.sendNew")]});return u?h.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-140px)] gap-4",children:[h.jsx(In,{size:"lg",variant:"primary"}),h.jsx("p",{className:"text-sm text-gray-500 animate-pulse"})]}):a.length===0?h.jsx("div",{className:"p-4 sm:p-6 max-w-2xl mx-auto",children:h.jsx(Nt,{className:"text-center shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:h.jsxs(mt,{className:"pt-8 pb-8",children:[h.jsx(vi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:r("prompts.noPersonas")}),h.jsx("p",{className:"text-gray-600 mb-4",children:r("prompts.createPersonasFirst")}),h.jsx(Ie,{onClick:()=>R(ei("Avatar")),className:"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700",children:r("prompts.createPersonas")})]})})}):h.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-6 lg:space-y-8 prompt-page-desktop-shift ${n?"text-right":""}`,children:[h.jsx(Lf,{icon:h.jsx(vi,{className:"w-6 h-6 sm:w-8 sm:h-8"}),title:r("prompts.title"),subtitle:r("prompts.subtitle"),actions:F,isRTL:n,showOnMobile:!1}),h.jsx("div",{className:"block lg:hidden",children:h.jsxs(Ie,{onClick:()=>g(!0),className:`relative bg-gradient-to-r from-sky-500 via-blue-500 to-blue-600 hover:from-sky-600 hover:via-blue-600 hover:to-blue-700 text-white px-8 py-6 rounded-2xl font-bold shadow-2xl hover:shadow-3xl transition-all duration-500 text-lg w-full h-16 overflow-hidden group ${n?"flex-row-reverse":""}`,children:[h.jsx("div",{className:"absolute inset-0 -top-1 -bottom-1 bg-gradient-to-r from-transparent via-white/40 to-transparent transform -skew-x-12 animate-lightning"}),h.jsx("div",{className:"absolute inset-0 -top-1 -bottom-1 bg-gradient-to-r from-transparent via-white/30 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out"}),h.jsx(hd,{className:`w-6 h-6 relative z-10 ${n?"ml-3":"mr-3"}`}),h.jsx("span",{className:"relative z-10",children:r("prompts.sendNew")}),h.jsx("style",{jsx:!0,children:`
            @keyframes lightning {
              0%, 90%, 100% {
                transform: translateX(-100%) skewX(-12deg);
              }
              5%, 10% {
                transform: translateX(100%) skewX(-12deg);
              }
            }
            .animate-lightning {
              animation: lightning 3s ease-in-out infinite;
            }
          `})]})}),h.jsxs(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-3 xs:gap-4",children:[h.jsx(Nt,{className:"bg-gradient-to-br from-sky-500 via-blue-500 to-blue-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-500 group",children:h.jsx(mt,{className:"p-3 xs:p-4 lg:p-6",children:h.jsx("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:i?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-8 h-8 xs:w-10 xs:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(vi,{className:"w-4 h-4 xs:w-5 xs:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold text-right",children:j.totalPrompts}),h.jsx("div",{className:"text-sky-100 text-xs xs:text-sm font-medium text-right",children:r("prompts.totalPrompts")})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold",children:j.totalPrompts}),h.jsx("div",{className:"text-sky-100 text-xs xs:text-sm font-medium",children:r("prompts.totalPrompts")})]}),h.jsx("div",{className:"w-8 h-8 xs:w-10 xs:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(vi,{className:"w-4 h-4 xs:w-5 xs:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})})]})})})}),h.jsx(Nt,{className:"bg-gradient-to-br from-emerald-500 via-green-500 to-teal-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-500 group",children:h.jsx(mt,{className:"p-3 xs:p-4 lg:p-6",children:h.jsx("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:i?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(mR,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold text-right",children:j.completedPrompts}),h.jsx("div",{className:"text-sky-100 text-xs xs:text-sm font-medium text-right",children:r("prompts.completed")})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold",children:j.completedPrompts}),h.jsx("div",{className:"text-sky-100 text-xs xs:text-sm font-medium",children:r("prompts.completed")})]}),h.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(mR,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})})]})})})}),h.jsx(Nt,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:h.jsx(mt,{className:"p-3 xs:p-4 lg:p-6",children:h.jsx("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:i?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(Ad,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold text-right",children:j.pendingPrompts}),h.jsx("div",{className:"text-blue-100 text-xs xs:text-sm font-medium text-right",children:r("prompts.pending")})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold",children:j.pendingPrompts}),h.jsx("div",{className:"text-blue-100 text-xs xs:text-sm font-medium",children:r("prompts.pending")})]}),h.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(Ad,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})})]})})})}),h.jsx(Nt,{className:"bg-gradient-to-br from-indigo-500 via-purple-500 to-purple-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-500 group",children:h.jsx(mt,{className:"p-3 xs:p-4 lg:p-6",children:h.jsx("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:i?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(rl,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold text-right",children:j.totalMentions}),h.jsx("div",{className:"text-indigo-100 text-xs xs:text-sm font-medium text-right",children:r("prompts.mentions")})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold",children:j.totalMentions}),h.jsx("div",{className:"text-indigo-100 text-xs xs:text-sm font-medium",children:r("prompts.mentions")})]}),h.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(rl,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})})]})})})})]}),h.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:h.jsxs(Nt,{className:"shadow-2xl border border-white/20 bg-white/90 backdrop-blur-sm rounded-2xl overflow-hidden",children:[h.jsx(kr,{children:h.jsx(qr,{className:`flex items-center gap-2 ${n?"flex-row-reverse text-right":""} ${i?"justify-end":""}`,children:i?h.jsxs(h.Fragment,{children:[r("prompts.recentPrompts"),h.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-sky-500 to-blue-600 rounded-full"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-sky-500 to-blue-600 rounded-full"}),r("prompts.recentPrompts")]})})}),h.jsx(mt,{children:s.length>0?h.jsx(Lke,{prompts:s,onViewResponses:I}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(vi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:r("prompts.noPrompts")}),h.jsx("p",{className:"text-gray-500 mb-4",children:r("prompts.sendFirst")}),h.jsxs(Ie,{onClick:()=>g(!0),className:`bg-gradient-to-r from-sky-500 via-blue-500 to-blue-600 hover:from-sky-600 hover:via-blue-600 hover:to-blue-700 shadow-lg hover:shadow-xl transition-all duration-300 rounded-xl ${n?"flex-row-reverse":""}`,children:[h.jsx(hd,{className:`w-4 h-4 ${n?"ml-2":"mr-2"}`}),r("prompts.sendFirstBtn")]})]})})]})}),h.jsx($ke,{isOpen:p,onClose:()=>g(!1),onPromptSent:M,personas:a,businessId:E}),h.jsx(Vke,{isOpen:v,onClose:()=>{w(!1)},prompt:x})]})}function Bke({businessProfile:t,competitors:e=[],onUpdate:r,businessId:n=null}){const{t:i,isRTL:s,isHebrew:o}=fr(),[a,c]=T.useState(""),[u,f]=T.useState(e),[p,g]=T.useState(!1),[v,w]=T.useState(!1);T.useEffect(()=>{f(e),w(!1)},[e]),T.useEffect(()=>{const S=JSON.stringify(u.sort((E,R)=>E.name.localeCompare(R.name)))!==JSON.stringify((e||[]).sort((E,R)=>E.name.localeCompare(R.name)));w(S)},[u,e]);const x=()=>{if(a.trim()&&!u.some(S=>S.name===a.trim())){const S={id:`temp-${Date.now()}`,name:a.trim(),phone:"",created_date:new Date,updated_date:new Date};f([...u,S]),c("")}},_=S=>{f(u.filter(E=>E.name!==S.name))},P=async()=>{if(v){g(!0);try{const S=(t==null?void 0:t.competitors)||[],E=u.filter(M=>!S.some(I=>(typeof I=="string"?I:I.name)===M.name)),R=S.filter(M=>{const I=typeof M=="string"?M:M.name;return!u.some(C=>C.name===I)}).map(M=>({name:typeof M=="string"?M:M.name}));E.length>0&&await EM.createBulk(E,n),R.length>0&&await EM.deleteBulk(R,n);const N=document.createElement("div");N.className=`fixed ${s?"left-4":"right-4"} top-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50`,N.textContent=o?"  ":"Competitors saved successfully",document.body.appendChild(N),setTimeout(()=>document.body.removeChild(N),3e3),w(!1),r&&r()}catch(S){console.error("Error saving competitors:",S),alert(o?"  ":"Error saving competitors")}finally{g(!1)}}};return h.jsxs(Nt,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm h-fit",dir:s?"rtl":"ltr",children:[h.jsx(kr,{children:h.jsx(qr,{className:`flex items-center gap-2 ${s?"flex-row-reverse text-right":""} ${o?"justify-end":""}`,children:o?h.jsxs(h.Fragment,{children:[i("competitors.manage"),h.jsx(An,{className:"w-5 h-5 text-blue-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(An,{className:"w-5 h-5 text-blue-600"}),i("competitors.manage")]})})}),h.jsxs(mt,{className:"space-y-4",children:[h.jsxs("div",{className:`flex gap-2 ${s?"flex-row-reverse":""}`,children:[h.jsx(fn,{value:a,onChange:S=>c(S.target.value),placeholder:i("competitors.addCompetitor"),className:`flex-1 ${s?"text-right":""}`,onKeyPress:S=>S.key==="Enter"&&(S.preventDefault(),x()),dir:"auto"}),h.jsx(Ie,{onClick:x,size:"icon",className:"bg-blue-600 hover:bg-blue-700",children:h.jsx(Pc,{className:"w-4 h-4"})})]}),u.length>0?h.jsxs("div",{className:"space-y-2",children:[h.jsx("h4",{className:`text-sm font-medium text-gray-700 ${s?"text-right":""}`,children:i("competitors.current")}),h.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:u.map((S,E)=>h.jsxs("div",{className:`flex items-center justify-between p-2 bg-gray-50 rounded-lg ${s?"flex-row-reverse":""}`,children:[h.jsx("span",{className:`text-sm font-medium ${s?"text-right":""}`,children:S.name}),h.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>_(S),className:"h-6 w-6 hover:bg-red-100 hover:text-red-600",children:h.jsx(qn,{className:"w-3 h-3"})})]},S.id||E))})]}):h.jsxs("div",{className:"text-center py-6 text-gray-500",children:[h.jsx(An,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),h.jsx("p",{className:"text-sm",children:i("competitors.noCompetitors")})]}),v&&h.jsx("div",{className:`flex justify-end pt-4 border-t border-gray-200 ${s?"justify-start":""}`,children:h.jsxs(Ie,{onClick:P,disabled:p,className:`inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg shadow-md transition hover:shadow-lg disabled:opacity-70 disabled:cursor-not-allowed ${s?"flex-row-reverse":""}`,children:[p?h.jsx(In,{size:"sm",variant:"white"}):h.jsx(dx,{className:"h-4 w-4"}),h.jsx("span",{children:p?o?"...":"Saving...":o?" ":"Save Changes"})]})})]})]})}function QC({businessId:t,refreshBusinessData:e}){const{t:r,isRTL:n,isHebrew:i}=fr(),s=qc(),[o,a]=T.useState(null),[c,u]=T.useState([]),[f,p]=T.useState(!0),[g,v]=T.useState("week"),[w,x]=T.useState({start:"",end:""}),[_,P]=T.useState(0),S=t||null;T.useEffect(()=>{E()},[t,S,_]),T.useEffect(()=>{e&&P(D=>D+1)},[e]);const E=async()=>{try{const[D,z,H]=await Promise.all([Kx.list("-created_date",S),Gi.checkExists(S),Gi.getCurrentUser(S)]);u(D),a(z&&H?H:null)}catch(D){console.error("Error loading data:",D),a(null)}p(!1)},R=()=>{E(),e&&e()},N=()=>{const D=new Date;switch(g){case"week":return{start:_s(D),end:Pd(D)};case"lastWeek":const z=_s(lx(D)),H=Pd(lx(D));return{start:z,end:H};case"7days":return{start:Ga(D,6),end:D};case"14days":return{start:Ga(D,13),end:D};case"30days":return{start:Ga(D,29),end:D};case"month":return{start:ax(D),end:ox(D)};case"lastMonth":const X=pG(D);return{start:ax(X),end:ox(X)};case"custom":return w.start&&w.end?{start:yc(w.start),end:yc(w.end)}:{start:Ga(D,6),end:D};default:return{start:_s(D),end:Pd(D)}}},M=()=>{if(!c.length)return[];const D=N();return c.filter(z=>{let H;return z.created_date instanceof Date?H=z.created_date:typeof z.created_date=="string"?H=yc(z.created_date):H=new Date,H>=D.start&&H<=D.end})},I=()=>{if(!o)return[];const D=M();if(!D.length)return[];const z=D.reduce((te,Q)=>te+(Q.businessNameMentions||0),0),H=D.reduce((te,Q)=>te+(Q.competitorsMentions||0),0),K=[{name:o.business_name||o.businessName||"Business",mentions:z,type:"business"}],U=o.competitors||[];if(U.length>0){const te=Math.floor(H/U.length),Q=H%U.length;U.forEach((W,Z)=>{const re=te+(Z<Q?1:0);K.push({name:typeof W=="string"?W:W.name,mentions:re,type:"competitor"})})}return K.sort((te,Q)=>Q.mentions-te.mentions)},C=()=>{const D=I(),z=D.reduce((H,X)=>H+X.mentions,0);return z===0?[]:D.map(H=>({name:H.name,value:H.mentions,percentage:(H.mentions/z*100).toFixed(1)}))},j=["#3B82F6","#8B5CF6","#EF4444","#10B981","#F59E0B","#6366F1"],F=[{value:"week",label:r("competitors.thisWeek")},{value:"lastWeek",label:r("competitors.lastWeek")},{value:"7days",label:r("competitors.last7Days")},{value:"14days",label:r("competitors.last14Days")},{value:"30days",label:r("competitors.last30Days")},{value:"month",label:r("competitors.thisMonth")},{value:"lastMonth",label:r("competitors.lastMonth")},{value:"custom",label:r("competitors.customRange")}];if(f)return h.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-140px)] gap-4",children:[h.jsx(In,{size:"lg",variant:"primary"}),h.jsx("p",{className:"text-sm text-gray-500 animate-pulse"})]});if(!o)return h.jsx("div",{className:"p-4 sm:p-6 max-w-2xl mx-auto",children:h.jsx(Nt,{className:"text-center shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:h.jsxs(mt,{className:"pt-8 pb-8",children:[h.jsx(An,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:i?"  ":"Business Profile Required"}),h.jsx("p",{className:"text-gray-600 mb-4",children:i?"            .":"Please set up your business profile and add competitors to view this analysis."}),h.jsxs(Ie,{onClick:()=>s(ei("BusinessProfile")),className:"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700",children:[h.jsx(An,{className:"w-4 h-4 mr-2"}),i?"  ":"Set Up Business Profile"]})]})})});const L=I(),V=C();return h.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-6 lg:space-y-8 competitor-page-desktop-shift ${n?"text-right":""}`,children:[h.jsx(Lf,{icon:h.jsx(xs,{className:"w-8 h-8"}),title:r("competitors.title"),subtitle:r("competitors.subtitle"),isRTL:n,showOnMobile:!1}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[h.jsx(Tt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:h.jsx(Bke,{businessProfile:o,competitors:((o==null?void 0:o.competitors)||[]).map(D=>typeof D=="string"?{id:D,name:D}:D),onUpdate:R,businessId:S})}),h.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[h.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:h.jsxs(Nt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(kr,{children:h.jsxs("div",{className:`flex flex-col gap-4 ${n?"text-right":""}`,children:[h.jsx(qr,{className:`flex items-center gap-2 ${n?"flex-row-reverse":""} ${i?"justify-end":""}`,children:i?h.jsxs(h.Fragment,{children:[r("competitors.mentionComparison"),h.jsx(Np,{className:"w-5 h-5 text-sky-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(Np,{className:"w-5 h-5 text-sky-600"}),r("competitors.mentionComparison")]})}),h.jsx("div",{className:`flex flex-wrap gap-1 sm:gap-2 ${n?"flex-row-reverse":""}`,children:F.map(D=>h.jsx(Ie,{variant:g===D.value?"default":"outline",size:"sm",onClick:()=>v(D.value),className:`text-xs h-8 px-2 sm:px-3 ${g===D.value?"bg-blue-600 hover:bg-blue-700 text-white":"hover:bg-blue-50 hover:text-blue-700 hover:border-blue-300"}`,children:D.label},D.value))}),g==="custom"&&h.jsxs("div",{className:`flex flex-col sm:flex-row gap-2 items-center ${n?"flex-row-reverse":""}`,children:[h.jsx(Ad,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),h.jsx("input",{type:"date",value:w.start,onChange:D=>x(z=>({...z,start:D.target.value})),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full sm:w-auto",placeholder:"Start Date"}),h.jsx("span",{className:"text-gray-500 text-sm",children:i?"":"to"}),h.jsx("input",{type:"date",value:w.end,onChange:D=>x(z=>({...z,end:D.target.value})),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full sm:w-auto",placeholder:"End Date"})]})]})}),h.jsx(mt,{children:L.length>0?h.jsx(qA,{width:"100%",height:250,children:h.jsxs(iIe,{data:L,margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(zk,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),h.jsx(Hf,{dataKey:"name",stroke:"#6B7280",tick:{fontSize:12},angle:-45,textAnchor:"end",height:80}),h.jsx(Gf,{stroke:"#6B7280"}),h.jsx(Fi,{contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"}}),h.jsx(tu,{dataKey:"mentions",fill:(D,z)=>D.type==="business"?"#3B82F6":"#8B5CF6",radius:[4,4,0,0],children:L.map((D,z)=>h.jsx(Xp,{fill:D.type==="business"?"#3B82F6":j[z%j.length]},`cell-${z}`))})]})}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(xs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-500",children:r("competitors.noData")})]})})]})}),V.length>0&&h.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:h.jsxs(Nt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(kr,{children:h.jsxs(qr,{className:"flex items-center gap-2",children:[h.jsx(xs,{className:"w-5 h-5 text-sky-600"}),r("competitors.marketShare")]})}),h.jsx(mt,{children:h.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-4 sm:gap-6",children:[h.jsx(qA,{width:"100%",height:250,children:h.jsxs(sIe,{children:[h.jsx(ua,{data:V,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:D,percentage:z})=>`${z}%`,children:V.map((D,z)=>h.jsx(Xp,{fill:j[z%j.length]},`cell-${z}`))}),h.jsx(Fi,{contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"}})]})}),h.jsx("div",{className:"space-y-2 w-full lg:min-w-[200px]",children:V.map((D,z)=>h.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[h.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:j[z%j.length]}}),h.jsx("span",{className:`text-sm font-medium truncate ${n?"text-right":""}`,children:D.name}),h.jsx("span",{className:`text-sm text-gray-500 ${n?"mr-auto":"ml-auto"}`,children:D.value})]},D.name))})]})})]})})]})]})]})}const z3=t=>{if(!t)return null;if(typeof t.toDate=="function")return t.toDate();if(typeof t=="object"&&typeof t.seconds=="number")return new Date(t.seconds*1e3);const e=new Date(t);return Number.isNaN(e.getTime())?null:e};function vG({businessId:t}){const{t:e,isRTL:r,isHebrew:n}=fr(),{user:i,logout:s}=Yc(),[o,a]=T.useState({loading:!0,error:null,businesses:[],usage:null,lastUpdated:null,rawDatabaseData:null}),[c,u]=T.useState(!1),[f,p]=T.useState(!1),[g,v]=T.useState(!1),w=()=>{if(console.log("Download button clicked!"),console.log("Raw database data:",o.rawDatabaseData),console.log("State:",o),!o.rawDatabaseData){console.log("No raw data in state, trying to fetch fresh data..."),x(!0),setTimeout(()=>{o.rawDatabaseData?w():alert(n?"    ":"No database data available")},1e3);return}const C=JSON.stringify(o.rawDatabaseData,null,2),j=new Blob([C],{type:"application/json"}),F=URL.createObjectURL(j),L=document.createElement("a");L.href=F,L.download=`database-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(F)},x=T.useCallback(async(C=!1)=>{if(!(i!=null&&i.uid)){a({loading:!1,error:e("profile.missingUser"),businesses:[],usage:null,lastUpdated:null});return}a(j=>({...j,loading:C||j.businesses.length===0,error:null})),C||u(!0);try{const j=Wc(Kc,"clients",i.uid),F=Iq(j,"businesses"),[L,V]=await Promise.all([Hc(j),Dq(F).catch(Q=>(console.warn("Unable to load businesses sub-collection:",Q),null))]),D=new Map;let z=null,H=0;const X=(Q="inline")=>(H+=1,`${Q}-business-${H}`),K=(Q,W,Z={})=>{if(!Q)return null;let re=Q,me=W;if(Q&&typeof Q.data=="function"&&(me=Q.id||W,re=Q.data()),typeof re=="string")return{id:me||re||X(Z.source),name:re,industry:"",description:"",website:"",phone:"",...Z};if(typeof re!="object")return null;const Ee=re.business_name||re.businessName||re.name||re.title||me||e("welcome.profile.businessFallbackName");return{id:(re.id||re.uid||me||Ee||X(Z.source)).toString(),name:Ee,industry:re.industry||"",description:re.description||re.businessDescription||re.summary||re.bio||"",website:re.website||re.site||"",phone:re.phone||re.phoneNumber||"",createdAt:z3(re.createdAt||re.created_at||re.created_date),updatedAt:z3(re.updatedAt||re.updated_at||re.updated_date),...Z}},U=Q=>{if(!Q)return;const W=D.get(Q.id);W?D.set(Q.id,{...W,...Q,isPrimary:W.isPrimary||Q.isPrimary||!1,source:W.isPrimary?W.source:Q.source}):D.set(Q.id,Q)};if(L.exists()){const Q=L.data()||{};console.log("Saving raw database data:",Q),console.log("Client data keys:",Object.keys(Q||{})),a(me=>{console.log("Previous state:",me);const Ee={...me,rawDatabaseData:Q};return console.log("New state:",Ee),Ee}),z=Q.usage||Q.usageStats||Q.usage_statistics||null;const W=Q.businessProfile||Q.business_profile||null;U(K(W,`${L.id}-primary`,{source:"primary",isPrimary:!0}));const Z=Q.secondary_buisness||Q.secondary_business||[];Array.isArray(Z)&&Z.forEach((me,Ee)=>{U(K(me,`${L.id}-secondary-${Ee}`,{source:"secondary",isPrimary:!1}))});const re=Q.businesses||Q.business_list;Array.isArray(re)?re.forEach((me,Ee)=>{U(K(me,`${L.id}-list-${Ee}`,{source:"inline"}))}):re&&typeof re=="object"&&Object.entries(re).forEach(([me,Ee])=>{U(K(Ee,me||X("inline"),{source:"inline"}))})}V&&!V.empty&&V.forEach(Q=>{U(K(Q,Q.id,{source:"collection"}))});const te=Array.from(D.values()).sort((Q,W)=>Q.isPrimary===W.isPrimary?Q.name.localeCompare(W.name):Q.isPrimary?-1:1);a({loading:!1,error:null,businesses:te,usage:z,lastUpdated:new Date})}catch(j){console.error("Failed to load profile overview:",j),a(F=>({...F,loading:!1,error:e("profile.loadingError")}))}finally{u(!1)}},[e,i==null?void 0:i.uid]);T.useEffect(()=>{x(!0)},[x]);const _=()=>{E||c||x(!1)},P=async()=>{try{await s(),p(!1)}catch(C){console.error("Failed to logout:",C)}},S=async()=>{try{await s(),v(!1)}catch(C){console.error("Failed to delete account:",C)}},{loading:E,error:R,businesses:N,usage:M}=o,I=Math.max(0,((M==null?void 0:M.maxPrompts)??0)-((M==null?void 0:M.monthlyPrompts)??0));return E?h.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-140px)] gap-4",children:h.jsx(In,{size:"lg",variant:"primary"})}):h.jsxs("div",{className:`p-4 sm:p-6 pt-12 md:pt-6 md:pl-8 max-w-5xl mx-auto space-y-6 profile-page-desktop-shift laptop-spacing laptop-lg-spacing desktop-spacing desktop-lg-spacing ${r?"text-right":""}`,children:[h.jsx(Lf,{title:e("profile.title"),subtitle:e("profile.subtitle"),isRTL:r,showOnMobile:!1,actions:i!=null&&i.uid?h.jsxs("div",{className:`flex gap-3 ${r?"flex-row-reverse":""}`,children:[h.jsxs(Ie,{onClick:_,disabled:E||c,className:`inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-sky-500 to-blue-600 px-6 py-2 text-white shadow-md transition hover:shadow-lg disabled:opacity-70 disabled:cursor-not-allowed ${r?"flex-row-reverse":""}`,children:[c?h.jsx(In,{size:"sm",variant:"white"}):h.jsx(KX,{className:"h-4 w-4"}),h.jsx("span",{children:c?n?"...":"Loading...":n?"":"Refresh"})]}),h.jsxs(Ie,{onClick:w,variant:"outline",className:`inline-flex items-center gap-2 rounded-xl border-2 border-green-500 text-green-600 hover:bg-green-50 px-6 py-2 shadow-md transition hover:shadow-lg ${r?"flex-row-reverse":""}`,children:[h.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),h.jsx("span",{children:n?" JSON":"Download JSON"})]})]}):null}),R&&h.jsx(Nt,{className:"border border-red-100 bg-red-50/70 text-red-700",children:h.jsxs(mt,{className:"flex flex-col gap-3 py-6",children:[h.jsx("span",{children:R}),(i==null?void 0:i.uid)&&h.jsx(Ie,{variant:"outline",onClick:()=>x(!0),className:`self-start border-red-300 text-red-700 hover:bg-red-100 ${r?"self-end":""}`,children:e("profile.retry")})]})}),h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs(Nt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur",children:[h.jsx(kr,{className:`${r?"text-right":""}`,children:h.jsxs(qr,{className:"flex items-center gap-3",children:[h.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-sky-500 to-blue-600 text-white",children:h.jsx(An,{className:"h-5 w-5"})}),e("profile.businessesSection")]})}),h.jsx(mt,{className:"space-y-4",children:N.length===0?h.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50/70 p-6 text-sm text-slate-500",children:e("profile.businessesEmpty")}):h.jsxs("div",{className:"space-y-6",children:[N.filter(C=>C.isPrimary).length>0&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:`flex items-center gap-2 ${r?"flex-row-reverse":""}`,children:[h.jsx("div",{className:"h-px bg-gradient-to-r from-sky-500/30 to-transparent flex-1"}),h.jsx("h3",{className:"text-sm font-semibold text-sky-600 uppercase tracking-wide",children:e("profile.primaryBusinessSection")}),h.jsx("div",{className:"h-px bg-gradient-to-l from-sky-500/30 to-transparent flex-1"})]}),N.filter(C=>C.isPrimary).map(C=>h.jsx(Tt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"rounded-2xl border-2 border-sky-200 bg-gradient-to-br from-sky-50/50 to-white p-5 shadow-sm",children:h.jsxs("div",{className:`flex flex-col gap-3 ${r?"items-end text-right":""}`,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:C.name}),h.jsx(_n,{className:"bg-sky-500/90 text-white shadow-sm",children:e("profile.primaryLabel")})]}),C.industry&&h.jsx("p",{className:"text-sm text-slate-500",children:C.industry}),C.description&&h.jsx("p",{className:"text-sm leading-relaxed text-slate-600",children:C.description}),h.jsx("div",{className:"flex flex-wrap gap-3 text-xs text-slate-500",children:C.phone&&h.jsxs("span",{className:"inline-flex items-center gap-1",children:[h.jsx(zi,{className:"h-3 w-3 text-sky-500"}),C.phone]})})]})},C.id))]}),N.filter(C=>!C.isPrimary).length>0&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:`flex items-center gap-2 ${r?"flex-row-reverse":""}`,children:[h.jsx("div",{className:"h-px bg-gradient-to-r from-emerald-500/30 to-transparent flex-1"}),h.jsx("h3",{className:"text-sm font-semibold text-emerald-600 uppercase tracking-wide",children:e("profile.secondaryBusinessesSection")}),h.jsx("div",{className:"h-px bg-gradient-to-l from-emerald-500/30 to-transparent flex-1"})]}),h.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:N.filter(C=>!C.isPrimary).map(C=>h.jsx(Tt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"rounded-2xl border border-emerald-200 bg-gradient-to-br from-emerald-50/30 to-white p-5 shadow-sm hover:shadow-md transition-shadow",children:h.jsxs("div",{className:`flex flex-col gap-3 ${r?"items-end text-right":""}`,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:C.name}),h.jsx(_n,{variant:"secondary",className:"bg-emerald-100 text-emerald-700 border-emerald-200",children:e("profile.additionalLabel")})]}),C.industry&&h.jsx("p",{className:"text-sm text-slate-500",children:C.industry}),C.description&&h.jsx("p",{className:"text-sm leading-relaxed text-slate-600 line-clamp-3",children:C.description}),h.jsx("div",{className:"flex flex-wrap gap-3 text-xs text-slate-500",children:C.phone&&h.jsxs("span",{className:"inline-flex items-center gap-1",children:[h.jsx(zi,{className:"h-3 w-3 text-emerald-500"}),C.phone]})})]})},C.id))})]})]})})]}),h.jsxs(Nt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur",children:[h.jsx(kr,{className:`${r?"text-right":""}`,children:h.jsxs(qr,{className:"flex items-center gap-3",children:[h.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 text-white",children:h.jsx(zi,{className:"h-5 w-5"})}),e("profile.usageSection")]})}),h.jsx(mt,{children:M?h.jsxs("div",{className:"grid gap-4",children:[h.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[h.jsx(ov,{label:e("profile.maxPrompts"),value:M.maxPrompts??0}),h.jsx(ov,{label:e("profile.monthlyPrompts"),value:M.monthlyPrompts??0}),h.jsx(ov,{label:e("profile.totalPrompts"),value:M.totalPrompts??0}),h.jsx(ov,{label:e("profile.remainingPrompts"),value:I})]}),h.jsx("div",{className:"rounded-xl border border-slate-100 bg-slate-50/70 p-4 text-xs text-slate-500",children:e("analytics.noDataMessage")})]}):h.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50/70 p-6 text-sm text-slate-500",children:e("profile.noUsage")})})]})]}),h.jsxs(Nt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur",children:[h.jsx(kr,{className:`${r?"text-right":""}`,children:h.jsx(qr,{className:"text-lg font-semibold text-slate-900",children:n?" ":"Account Settings"})}),h.jsx(mt,{children:h.jsxs("div",{className:`flex gap-4 ${r?"flex-row-reverse":""}`,children:[h.jsxs(Ie,{onClick:()=>p(!0),variant:"outline",className:"inline-flex items-center gap-2 border-slate-300 text-slate-700 hover:bg-slate-100",children:[h.jsx(f6,{className:"h-4 w-4"}),n?"":"Disconnect"]}),h.jsxs(Ie,{onClick:()=>v(!0),variant:"destructive",className:"inline-flex items-center gap-2 bg-red-600 text-white hover:bg-red-700",children:[h.jsx(rQ,{className:"h-4 w-4"}),n?" ":"Delete Account"]})]})})]}),h.jsx(dl,{open:f,onOpenChange:p,children:h.jsxs(Xo,{className:"sm:max-w-md",children:[h.jsxs(Qo,{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(Zo,{className:"flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900",children:[h.jsx(kv,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500"}),h.jsx("span",{className:"hidden sm:inline",children:n?"    ?":"Are you sure you want to disconnect?"}),h.jsx("span",{className:"sm:hidden",children:n?"?":"Disconnect?"})]}),h.jsx(fl,{asChild:!0,children:h.jsxs("button",{className:"rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":"Close",children:[h.jsx(qn,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})})]}),h.jsx(rA,{className:"text-sm text-slate-600",children:n?"     .":"You will be logged out of your account and redirected to the login screen."})]}),h.jsxs(Jo,{className:"flex-col sm:flex-row gap-2",children:[h.jsx(Ie,{variant:"outline",onClick:()=>p(!1),className:"h-12 sm:h-12 px-4 sm:px-6 text-base text-slate-500 hover:text-slate-700 flex-1 sm:flex-none",children:n?"":"Cancel"}),h.jsx(Ie,{onClick:P,className:"h-12 sm:h-12 px-4 sm:px-6 text-base bg-sky-600 hover:bg-sky-700 text-white flex-1 sm:flex-none",children:n?"":"Disconnect"})]})]})}),h.jsx(dl,{open:g,onOpenChange:v,children:h.jsxs(Xo,{className:"sm:max-w-md",children:[h.jsxs(Qo,{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(Zo,{className:"flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900",children:[h.jsx(kv,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"}),h.jsx("span",{className:"hidden sm:inline",children:n?"      ?":"Are you sure you want to delete your account?"}),h.jsx("span",{className:"sm:hidden",children:n?" ?":"Delete Account?"})]}),h.jsx(fl,{asChild:!0,children:h.jsxs("button",{className:"rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":"Close",children:[h.jsx(qn,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})})]}),h.jsx(rA,{className:"text-sm text-slate-600",children:n?"    .     .":"This action cannot be undone. All your data will be permanently deleted."})]}),h.jsxs(Jo,{className:"flex-col sm:flex-row gap-2",children:[h.jsx(Ie,{variant:"outline",onClick:()=>v(!1),className:"h-12 sm:h-12 px-4 sm:px-6 text-base text-slate-500 hover:text-slate-700 flex-1 sm:flex-none",children:n?"":"Cancel"}),h.jsx(Ie,{onClick:S,variant:"destructive",className:"h-12 sm:h-12 px-4 sm:px-6 text-base bg-red-600 hover:bg-red-700 text-white flex-1 sm:flex-none",children:n?" ":"Delete Account"})]})]})})]})}function ov({label:t,value:e}){return h.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/90 p-4 shadow-sm",children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:t}),h.jsx("p",{className:"mt-2 text-3xl font-semibold text-slate-900",children:e})]})}const Kh={BusinessProfile:EA,Analytics:GC,Avatar:KC,Prompt:XC,Competitor:QC,Profile:vG};function Uke(t){if(t.endsWith("/")&&(t=t.slice(0,-1)),t===""||t==="/")return"BusinessProfile";const e=t.split("/").filter(i=>i!=="");if(e.length>=2){const i=e[e.length-1];if(i.includes("?")){const o=i.split("?")[0];return Object.keys(Kh).find(c=>c.toLowerCase()===o.toLowerCase())||"BusinessProfile"}return Object.keys(Kh).find(o=>o.toLowerCase()===i.toLowerCase())||"BusinessProfile"}if(e.length===1){const i=e[0];if(i.includes("?")){const o=i.split("?")[0];return Object.keys(Kh).find(c=>c.toLowerCase()===o.toLowerCase())||"BusinessProfile"}return Object.keys(Kh).find(o=>o.toLowerCase()===i.toLowerCase())||"BusinessProfile"}let r=t.split("/").pop();return r.includes("?")&&(r=r.split("?")[0]),Object.keys(Kh).find(i=>i.toLowerCase()===r.toLowerCase())||"BusinessProfile"}function qke(){const t=ao(),e=Uke(t.pathname),r=t.pathname.split("/").filter(i=>i!==""),n=r.length>=2?r[0]:null;return h.jsx(Bce,{currentPageName:e,businessId:n,children:h.jsxs(NY,{children:[h.jsx(Xr,{path:"/",element:h.jsx(Vu,{to:"/businessprofile",replace:!0})}),h.jsx(Xr,{path:"/businessprofile",element:h.jsx(EA,{businessId:n})}),h.jsx(Xr,{path:"/analytics",element:h.jsx(GC,{businessId:n})}),h.jsx(Xr,{path:"/avatar",element:h.jsx(KC,{businessId:n})}),h.jsx(Xr,{path:"/prompt",element:h.jsx(XC,{businessId:n})}),h.jsx(Xr,{path:"/competitor",element:h.jsx(QC,{businessId:n})}),h.jsx(Xr,{path:"/profile",element:h.jsx(vG,{businessId:n})}),h.jsx(Xr,{path:"/BusinessProfile",element:h.jsx(Vu,{to:"/businessprofile",replace:!0})}),h.jsx(Xr,{path:"/Analytics",element:h.jsx(Vu,{to:"/analytics",replace:!0})}),h.jsx(Xr,{path:"/Prompt",element:h.jsx(Vu,{to:"/prompt",replace:!0})}),h.jsx(Xr,{path:"/Competitor",element:h.jsx(Vu,{to:"/competitor",replace:!0})}),h.jsx(Xr,{path:"/Profile",element:h.jsx(Vu,{to:"/profile",replace:!0})}),h.jsx(Xr,{path:"/:businessId/businessprofile",element:h.jsx(EA,{businessId:n})}),h.jsx(Xr,{path:"/:businessId/analytics",element:h.jsx(GC,{businessId:n})}),h.jsx(Xr,{path:"/:businessId/avatar",element:h.jsx(KC,{businessId:n})}),h.jsx(Xr,{path:"/:businessId/prompt",element:h.jsx(XC,{businessId:n})}),h.jsx(Xr,{path:"/:businessId/competitor",element:h.jsx(QC,{businessId:n})})]})})}function zke(){return h.jsx(JY,{children:h.jsx(qke,{})})}const lP={business_name:"",description:"",products_services:"",target_market:"",competitors:[],industry:""},Wke={name:"",age:"",job_title:"",lifestyle:"",goals:"",pain_points:"",motivations:"",purchasing_habits:"",backstory:""},fi="h-14 px-10 text-lg font-semibold shadow-lg hover:shadow-xl focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-sky-200",Zn="h-14 px-8 text-base font-medium";function Hke({onComplete:t}){const{t:e,isRTL:r,isHebrew:n,setLanguage:i,lockLanguage:s}=fr(),{user:o}=Yc(),[a,c]=T.useState(0),[u,f]=T.useState(()=>({...lP})),[p,g]=T.useState(()=>({...Wke})),[v,w]=T.useState(""),[x,_]=T.useState(!1),[P,S]=T.useState(null),[E,R]=T.useState({}),[N,M]=T.useState(0),[I,C]=T.useState(0),[j,F]=T.useState({name:"",language:n?"hebrew":"english"}),[L,V]=T.useState(!1),[D,z]=T.useState(!1),[H,X]=T.useState(!1),[K,U]=T.useState(null),[te,Q]=T.useState(!1),[W,Z]=T.useState(null),re=2,me=3,je=[{key:"intro",icon:zi,title:e("welcome.title"),subtitle:e("welcome.subtitle")},{key:"profile",icon:h6,title:e("welcome.profile.title"),subtitle:e("welcome.profile.subtitle")},{key:"business",icon:An,title:e("welcome.business.title"),subtitle:e("welcome.business.subtitle")},{key:"personaIntro",icon:Vs,title:e("welcome.personaIntro.title"),subtitle:e("welcome.personaIntro.subtitle")},{key:"persona",icon:Vs,title:e("welcome.persona.title"),subtitle:e("welcome.persona.subtitle")},{key:"meetPersona",icon:Vs,title:W?e("welcome.meetPersona.title").replace("{name}",W.name):e("welcome.meetPersona.title").replace("{name}","Your Avatar"),subtitle:e("welcome.meetPersona.subtitle")},{key:"businessReview",icon:An,title:e("welcome.businessReview.title"),subtitle:e("welcome.businessReview.subtitle")},{key:"success",icon:gR,title:e("welcome.success.title"),subtitle:e("welcome.success.subtitle")}][a],he=(fe,we)=>{f(Ue=>({...Ue,[fe]:we}))},Te=(fe,we)=>{g(Ue=>({...Ue,[fe]:we}))},ue=async()=>{try{Q(!0),S(null);const fe=await Ks.createAI(1);await new Promise(Ue=>setTimeout(Ue,1e3));const we=await Ks.list("-created_date");if(we&&we.length>0){const Ue=we[0],Yt={name:String(Ue.name||""),age:String(Ue.age||""),job_title:String(Ue.job_title||""),lifestyle:String(Ue.lifestyle||""),goals:String(Ue.goals||""),pain_points:String(Ue.pain_points||""),motivations:String(Ue.motivations||""),purchasing_habits:String(Ue.purchasing_habits||""),backstory:String(Ue.backstory||"")};Z(Yt),c(5)}else console.error("No personas found in database after creation"),S(n?"   -AI.         ,  /.   .":"Error processing AI response. Please ensure your business profile is complete with business name, industry, and products/services. Please try again.")}catch(fe){console.error("Error generating AI persona:",fe),S(n?"   -AI.         ,  /.   .":"Error processing AI response. Please ensure your business profile is complete with business name, industry, and products/services. Please try again.")}finally{Q(!1)}},ve=()=>{const fe=v.trim();if(fe){if(u.competitors.includes(fe)){w("");return}f(we=>({...we,competitors:[...we.competitors,fe]})),w("")}},Pe=fe=>{f(we=>({...we,competitors:we.competitors.filter(Ue=>Ue!==fe)}))};T.useEffect(()=>{S(null)},[a,N,I]),T.useEffect(()=>{if(typeof window>"u"||document.querySelector("script[data-lord-icon]"))return;const we=document.createElement("script");we.src="https://cdn.lordicon.com/lordicon.js",we.async=!0,we.dataset.lordIcon="true",document.head.appendChild(we)},[]),T.useEffect(()=>{const fe=Ue=>{if(!Ue)return;const Yt=Ue.language&&Ue.language.toLowerCase().startsWith("he")?"hebrew":"english";F({name:Ue.name||"",language:Yt}),i(Yt==="hebrew"?"he":"en"),s(),Ue.name&&Ue.name.trim()&&z(!0)};(async()=>{try{let Ue=null;if(typeof window<"u"){const Yt=localStorage.getItem("user-preferences");if(Yt)try{Ue=JSON.parse(Yt)}catch(nt){console.warn("Failed to parse stored user preferences:",nt),Ue=null}}Ue||(Ue=await Yle.get()),Ue&&fe(Ue)}catch(Ue){console.error("Failed to load existing user preferences:",Ue)}})()},[s,i]),T.useEffect(()=>{(async()=>{try{let we={hasBusinessProfile:!1,hasPersonasField:!1,hasPersonal:!1,businessProfile:null,personas:[]},Ue=null;try{if(o!=null&&o.uid){const nt=Wc(Kc,"clients",o.uid),zn=await Hc(nt);if(zn.exists()){const Bt=zn.data(),nn="personal"in Bt&&Bt.personal&&Bt.personal.name,Sr="business_profile"in Bt&&Bt.business_profile,Ei="personas"in Bt;we={hasPersonal:nn,hasBusinessProfile:Sr,hasPersonasField:Ei,businessProfile:Bt.business_profile||null,personas:Bt.personas||[]},nn&&(Ue=Bt.personal)}}}catch{}if(!Ue)try{if(typeof window<"u"){const nt=localStorage.getItem("user-preferences");nt&&(Ue=JSON.parse(nt))}}catch{}let Yt=0;if(!we.hasPersonal)Yt=0;else if(we.hasBusinessProfile){if(we.hasPersonasField){if(we.personas&&we.personas.length>0)Yt=7;else if(Yt=3,we.businessProfile){const nt=we.businessProfile,zn=Array.isArray(nt.competitors)?nt.competitors.map(Sr=>typeof Sr=="string"?Sr:Sr==null?void 0:Sr.name).filter(Boolean):[],Bt=Array.isArray(nt.productsServices)?nt.productsServices.join(", "):nt.productsServices||"",nn={business_name:nt.businessName||"",description:nt.businessDescription||"",products_services:Bt,target_market:nt.targetMarket||"",competitors:zn,industry:nt.industry||""};f(()=>({...lP,...nn})),nt.id&&U(nt.id)}}else if(Yt=3,we.businessProfile){const nt=we.businessProfile,zn=Array.isArray(nt.competitors)?nt.competitors.map(Sr=>typeof Sr=="string"?Sr:Sr==null?void 0:Sr.name).filter(Boolean):[],Bt=Array.isArray(nt.productsServices)?nt.productsServices.join(", "):nt.productsServices||"",nn={business_name:nt.businessName||"",description:nt.businessDescription||"",products_services:Bt,target_market:nt.targetMarket||"",competitors:zn,industry:nt.industry||""};f(()=>({...lP,...nn})),nt.id&&U(nt.id)}}else if(Yt=2,Ue){const nt=Ue.language&&Ue.language.toLowerCase().startsWith("he")?"hebrew":"english";F({name:Ue.name||"",language:nt}),i(nt==="hebrew"?"he":"en"),s(),z(!0)}c(Yt)}catch(we){console.error("Failed to determine starting step:",we)}})()},[]);const ae=()=>{M(0),c(1)},Xe=(fe,we)=>{F(Ue=>({...Ue,[fe]:we}))},de=async fe=>{if(fe.preventDefault(),Kt(),!j.name.trim()){Qe("profileName",e("welcome.errors.profileName"));return}const we=j.language==="hebrew"?"he":"en";i(we),s();const Ue={name:j.name.trim(),language:j.language};localStorage.setItem("user-preferences",JSON.stringify(Ue)),z(!0),(async()=>{try{const nt={"Content-Type":"application/json",...await yz()||{}};await fetch("https://personalset-thg3z73fma-uc.a.run.app",{method:"POST",headers:nt,body:JSON.stringify(Ue)})}catch(Yt){console.error("Profile submission error (background):",Yt)}})(),M(0),c(2)},xe=fe=>{const we={};return fe===0&&(u.business_name.trim()||(we.businessName=e("welcome.errors.businessName")),u.industry.trim()||(we.industry=e("welcome.errors.industry")),u.description.trim()||(we.description=e("welcome.errors.description"))),fe===1&&(u.products_services.trim()||(we.productsServices=e("welcome.errors.productsServices")),u.target_market.trim()||(we.targetMarket=e("welcome.errors.targetMarket")),u.competitors.length===0&&(we.competitors=e("welcome.errors.competitors"))),Object.keys(we).length>0?we:null},ke=fe=>{const we={};return fe===0&&(p.name.trim()||(we.personaName=e("welcome.errors.personaName")),p.age.trim()||(we.personaAge=e("welcome.errors.personaAge")),p.job_title.trim()||(we.personaJobTitle=e("welcome.errors.personaRole"))),fe===1&&(p.goals.trim()||(we.personaGoals=e("welcome.errors.personaGoals")),p.pain_points.trim()||(we.personaPainPoints=e("welcome.errors.personaPainPoints")),p.lifestyle.trim()||(we.personaLifestyle=e("welcome.errors.personaLifestyle"))),fe===2&&(p.motivations.trim()||(we.personaMotivations=e("welcome.errors.personaMotivations")),p.backstory.trim()||(we.personaBackstory=e("welcome.errors.personaBackstory"))),Object.keys(we).length>0?we:null},Re=()=>{const fe=xe(N);if(fe){R(fe);return}Kt(),M(we=>Math.min(we+1,re-1))},dt=()=>{if(N===0){c(D?0:1);return}M(fe=>Math.max(fe-1,0))},ct=async()=>{for(let we=0;we<re;we++){const Ue=xe(we);if(Ue){R(Ue),M(we);return}}Kt(),_(!0);const fe={...u,competitors:u.competitors,products_services:u.products_services};C(0),c(3),_(!1),(async()=>{try{let we=null;K?we=await Gi.update(K,fe):we=await Gi.create(fe),we!=null&&we.id&&U(we.id)}catch(we){console.error("Business profile submission error (background):",we)}})()},kt=()=>{const fe=ke(I);if(fe){R(fe);return}Kt(),C(we=>Math.min(we+1,me-1))},Lt=()=>{if(I===0){c(3);return}C(fe=>Math.max(fe-1,0))},or=()=>{C(0),c(4)},_r=async()=>{for(let fe=0;fe<me;fe++){const we=ke(fe);if(we){R(we),C(fe);return}}Kt(),_(!0);try{const fe={...p,age:parseInt(p.age,10)||0,is_ai_generated:!1};await Ks.create(fe),c(5)}catch(fe){console.error("Welcome onboarding error:",fe),S(e("welcome.errors.saving"))}finally{_(!1)}},kn=async fe=>{fe.preventDefault(),N===re-1?await ct():Re()},On=async fe=>{fe.preventDefault(),I===me-1?await _r():kt()},Gt=()=>{W&&(g(W),c(7))},er=()=>{t&&t()},jn=je.icon,Si=N===re-1,rn=I===me-1,Qe=(fe,we)=>{R(Ue=>({...Ue,[fe]:we}))},Ze=fe=>{R(we=>{const Ue={...we};return delete Ue[fe],Ue})},Kt=()=>{R({}),S(null)},it=({message:fe,className:we=""})=>fe?h.jsxs("div",{className:`flex items-center gap-2 text-sm text-red-600 ${n?"text-right":""} ${we}`,children:[h.jsx(d6,{className:"h-4 w-4 flex-shrink-0"}),h.jsx("span",{className:"flex-1",children:fe})]}):null;return h.jsxs("div",{className:`h-[100dvh] overflow-hidden flex items-center justify-center bg-gradient-to-br from-sky-50 via-white to-blue-100 px-0 py-0 sm:px-4 sm:py-12 ${r?"rtl":""}`,dir:r?"rtl":"ltr",children:[te&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:h.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 text-center shadow-2xl",children:[h.jsx("div",{className:"mb-6",children:h.jsx("lord-icon",{src:"https://cdn.lordicon.com/vmzmljdv.json",trigger:"loop",stroke:"bold",colors:"primary:#66a1ee,secondary:#3080e8",style:{width:"120px",height:"120px"}})}),h.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:n?"    ...":"Generating Avatar with AI..."}),h.jsx("p",{className:"text-slate-600",children:n?"          ":"AI is analyzing your business profile and creating a personalized avatar"})]})}),h.jsx("div",{className:"max-w-4xl w-full h-full mx-auto sm:px-4",children:h.jsx(Tt.div,{className:"w-full h-full",initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:-24},transition:{duration:.4},children:h.jsxs(Nt,{className:"overflow-hidden shadow-xl border-0 bg-white/90 backdrop-blur flex flex-col h-full w-full rounded-none sm:rounded-2xl",children:[h.jsx(kr,{className:`border-b border-slate-100 bg-white/70 ${n?"text-right":""} shrink-0`,style:n?{textAlign:"right"}:{},children:h.jsxs("div",{className:`flex items-center gap-4 ${n?"flex-row-reverse text-right justify-end":""}`,style:n?{textAlign:"right",justifyContent:"flex-end"}:{},children:[h.jsx("div",{className:`p-3 rounded-full bg-gradient-to-r from-sky-500 to-blue-600 text-white shadow-md ${n?"order-2":"order-1"}`,children:h.jsx(jn,{className:"w-6 h-6"})}),h.jsxs("div",{className:`${n?"text-right order-1":"order-2"}`,style:n?{textAlign:"right"}:{},children:[h.jsx(qr,{className:`text-2xl font-semibold text-slate-900 ${n?"text-right !important":""}`,style:n?{textAlign:"right !important"}:{},children:je.title}),h.jsx("p",{className:`text-slate-600 mt-1 ${n?"text-right !important":""}`,style:n?{textAlign:"right !important"}:{},children:je.subtitle})]})]})}),a===0&&h.jsxs(mt,{className:`flex flex-1 flex-col items-center justify-center text-center gap-6 p-4 sm:p-6 lg:p-12 ${r?"text-right":""}`,children:[h.jsx("div",{className:"flex items-center justify-center rounded-full bg-gradient-to-br from-sky-100 to-blue-200/80 shadow-inner p-4",children:h.jsx("lord-icon",{src:"https://cdn.lordicon.com/ytlwczyc.json",trigger:"loop",stroke:"bold",colors:"primary:#0584c7,secondary:#0584c7",style:{width:"140px",height:"140px"}},"welcome-lord-icon")}),h.jsx("p",{className:"text-lg text-slate-600 max-w-2xl",children:e("welcome.description")}),h.jsx(Ie,{size:"lg",className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl transition ${fi}`,onClick:ae,children:e("welcome.start")})]}),a===1&&h.jsxs("form",{onSubmit:de,className:"flex flex-1 flex-col overflow-hidden",noValidate:!0,children:[h.jsxs(mt,{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 flex flex-col gap-6 min-h-0",children:[P&&h.jsx("div",{className:`rounded-xl border border-red-100 bg-red-50 ${r?"text-right":""} px-4 py-3 text-sm text-red-600`,children:P}),h.jsxs("div",{className:`space-y-2 ${n?"text-right":""}`,children:[h.jsx(ut,{htmlFor:"user_name",children:e("welcome.profile.nameLabel")}),h.jsx(fn,{id:"user_name",value:j.name,onChange:fe=>{Xe("name",fe.target.value),E.profileName&&Ze("profileName")},placeholder:e("welcome.profile.namePlaceholder"),className:`${n?"text-right":""} ${E.profileName?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.profileName})]}),h.jsxs("div",{className:`space-y-3 ${n?"text-right":""}`,children:[h.jsx(ut,{children:e("welcome.profile.languageLabel")}),h.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[{value:"english",title:e("welcome.profile.english"),description:e("welcome.profile.englishDescription")},{value:"hebrew",title:e("welcome.profile.hebrew"),description:e("welcome.profile.hebrewDescription")}].map(fe=>h.jsxs("button",{type:"button",onClick:()=>Xe("language",fe.value),className:`rounded-2xl border p-4 text-left transition-all ${j.language===fe.value?"border-sky-500 bg-sky-50 shadow-sm":"border-slate-200 hover:border-sky-300 hover:bg-sky-50/40"} ${n?"text-right":""}`,children:[h.jsx("span",{className:"block text-lg font-semibold text-slate-800",children:fe.title}),h.jsx("span",{className:"mt-2 block text-sm text-slate-500",children:fe.description})]},fe.value))})]})]}),h.jsx("div",{className:"border-t border-slate-200 bg-white/95 px-4 sm:px-6 lg:px-8 py-4 sm:py-5 mt-auto shrink-0",children:n?h.jsxs("div",{className:"flex flex-col sm:flex-row justify-center sm:justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(0),className:`rounded-xl w-full sm:w-auto ${Zn}`,children:e("common.back")}),h.jsx(Ie,{type:"submit",className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${fi}`,children:e("welcome.profile.continue")})]}):h.jsxs("div",{className:"flex flex-col sm:flex-row justify-center sm:justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(0),className:`rounded-xl w-full sm:w-auto ${Zn}`,children:e("common.back")}),h.jsx(Ie,{type:"submit",className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${fi}`,children:e("welcome.profile.continue")})]})})]}),a===2&&h.jsxs("form",{onSubmit:kn,className:"flex flex-1 flex-col overflow-hidden",noValidate:!0,children:[h.jsxs(mt,{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 flex flex-col gap-6 max-h-[calc(100vh-200px)]",children:[P&&h.jsx("div",{className:`rounded-xl border border-red-100 bg-red-50 ${r?"text-right":""} px-4 py-3 text-sm text-red-600`,children:P}),N===0&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs("div",{className:n?"text-right":"",children:[h.jsxs(ut,{htmlFor:"business_name",children:[e("business.businessName")," *"]}),h.jsx(fn,{id:"business_name",value:u.business_name,onChange:fe=>{he("business_name",fe.target.value),E.businessName&&Ze("businessName")},placeholder:e("placeholder.businessName"),className:`${n?"text-right":""} ${E.businessName?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.businessName})]}),h.jsxs("div",{className:n?"text-right":"",children:[h.jsxs(ut,{htmlFor:"industry",children:[e("business.industry")," *"]}),h.jsx(fn,{id:"industry",value:u.industry,onChange:fe=>{he("industry",fe.target.value),E.industry&&Ze("industry")},placeholder:e("placeholder.industry"),className:`${n?"text-right":""} ${E.industry?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.industry})]})]}),h.jsxs("div",{className:`space-y-2 ${n?"text-right":""}`,children:[h.jsxs(ut,{htmlFor:"description",children:[e("business.description")," *"]}),h.jsx(Nr,{id:"description",value:u.description,onChange:fe=>{he("description",fe.target.value),E.description&&Ze("description")},placeholder:e("placeholder.description"),rows:4,className:`${n?"text-right":""} ${E.description?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.description})]})]}),N===1&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:`space-y-2 ${n?"text-right":""}`,children:[h.jsxs(ut,{htmlFor:"products_services",children:[e("business.productsServices")," *"]}),h.jsx(Nr,{id:"products_services",value:u.products_services,onChange:fe=>{he("products_services",fe.target.value),E.productsServices&&Ze("productsServices")},placeholder:e("placeholder.productsServices"),rows:3,className:`${n?"text-right":""} ${E.productsServices?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.productsServices})]}),h.jsxs("div",{className:`space-y-2 ${n?"text-right":""}`,children:[h.jsxs(ut,{htmlFor:"target_market",children:[e("business.targetMarket")," *"]}),h.jsx(Nr,{id:"target_market",value:u.target_market,onChange:fe=>{he("target_market",fe.target.value),E.targetMarket&&Ze("targetMarket")},placeholder:e("placeholder.targetMarket"),rows:3,className:`${n?"text-right":""} ${E.targetMarket?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.targetMarket})]}),h.jsxs("div",{className:`space-y-3 ${n?"text-right":""}`,children:[h.jsxs(ut,{children:[e("business.competitors")," *"]}),h.jsxs("div",{className:`flex flex-col gap-3 sm:flex-row ${n?"sm:flex-row-reverse":""}`,children:[h.jsx(fn,{value:v,onChange:fe=>{w(fe.target.value),E.competitors&&Ze("competitors")},placeholder:e("placeholder.addCompetitor"),className:`${n?"text-right":""} ${E.competitors?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(Ie,{type:"button",onClick:ve,variant:"secondary",className:`rounded-md ${Zn}`,size:"icon",style:{width:"35px",height:"35px"},children:h.jsx(Pc,{className:"w-2 h-2"})})]}),h.jsx(it,{message:E.competitors}),u.competitors.length>0&&h.jsx("div",{className:`flex flex-wrap gap-2 ${n?"justify-end":""}`,children:u.competitors.map(fe=>h.jsxs(_n,{variant:"secondary",className:"gap-2 bg-sky-50 text-sky-700 border border-sky-100",children:[h.jsx("span",{children:fe}),h.jsx("button",{type:"button",onClick:()=>Pe(fe),className:"text-sky-500 hover:text-sky-700",children:"x"})]},fe))})]})]})]}),h.jsx("div",{className:"border-t border-slate-200 bg-white/95 px-4 sm:px-6 lg:px-8 py-4 sm:py-5",children:n?h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:dt,className:`rounded-xl w-full sm:w-auto ${Zn}`,children:e("common.back")}),h.jsx(Ie,{type:"submit",className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${fi}`,children:e(Si?"welcome.business.saveAndContinue":"common.next")})]}):h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:dt,className:`rounded-xl w-full sm:w-auto ${Zn}`,children:e("common.back")}),h.jsx(Ie,{type:"submit",className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${fi}`,children:e(Si?"welcome.business.saveAndContinue":"common.next")})]})})]}),a===3&&h.jsxs(mt,{className:`flex flex-1 flex-col items-center justify-center text-center gap-6 p-4 sm:p-6 lg:p-12 ${r?"text-right":""}`,children:[h.jsx("div",{className:"flex items-center justify-center rounded-full bg-gradient-to-br from-sky-100 to-blue-200/80 shadow-inner p-4",children:h.jsx(Vs,{className:"w-16 h-16 text-sky-600"})}),h.jsx("p",{className:"text-lg text-slate-600 max-w-2xl",children:e("welcome.personaIntro.description")}),h.jsxs("div",{className:`flex flex-col gap-3 sm:flex-row ${r?"sm:flex-row-reverse":""}`,children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(2),className:`rounded-xl ${Zn}`,children:e("welcome.personaIntro.back")}),h.jsx(Ie,{type:"button",onClick:or,className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl ${fi}`,children:e("welcome.personaIntro.cta")})]})]}),a===4&&h.jsxs("form",{onSubmit:On,className:"flex flex-1 flex-col overflow-hidden",noValidate:!0,children:[h.jsxs(mt,{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 flex flex-col gap-6 max-h-[calc(100vh-200px)]",children:[P&&h.jsx("div",{className:`rounded-xl border border-red-100 bg-red-50 ${r?"text-right":""} px-4 py-3 text-sm text-red-600`,children:P}),I===0&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(ut,{htmlFor:"persona_name",children:[e("common.name")," *"]}),h.jsx(fn,{id:"persona_name",value:p.name,onChange:fe=>{Te("name",fe.target.value),E.personaName&&Ze("personaName")},placeholder:n?",  ":"e.g., Dana Cohen",className:`${r?"text-right":""} ${E.personaName?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.personaName})]}),h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(ut,{htmlFor:"persona_age",children:[e("personas.years")," *"]}),h.jsx(fn,{id:"persona_age",type:"number",min:"0",max:"120",value:p.age,onChange:fe=>{Te("age",fe.target.value),E.personaAge&&Ze("personaAge")},placeholder:"32",className:`${r?"text-right":""} ${E.personaAge?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.personaAge})]})]}),h.jsxs("div",{className:r?"text-right":"",children:[h.jsx(ut,{htmlFor:"persona_role",children:n?" *":"Job Title *"}),h.jsx(fn,{id:"persona_role",value:p.job_title,onChange:fe=>{Te("job_title",fe.target.value),E.personaJobTitle&&Ze("personaJobTitle")},placeholder:n?",  ":"e.g., Marketing Manager",className:`${r?"text-right":""} ${E.personaJobTitle?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.personaJobTitle})]}),h.jsx("div",{className:`flex ${r?"justify-start":"justify-center"} mt-6`,children:h.jsxs(Ie,{type:"button",variant:"outline",onClick:ue,disabled:te,className:"w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-4 text-lg bg-gradient-to-r from-purple-50 to-blue-50 hover:from-purple-100 hover:to-blue-100 border-purple-200 text-purple-700 hover:text-purple-800 rounded-xl min-h-[56px]",children:[te?h.jsx(zm,{size:"default",variant:"primary"}):h.jsx(zi,{className:"w-6 h-6"}),n?"   ":"Generate with AI"]})})]}),I===1&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(ut,{htmlFor:"persona_goals",children:[e("personas.goals")," *"]}),h.jsx(Nr,{id:"persona_goals",value:p.goals,onChange:fe=>{Te("goals",fe.target.value),E.personaGoals&&Ze("personaGoals")},rows:3,className:`${r?"text-right":""} ${E.personaGoals?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.personaGoals})]}),h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(ut,{htmlFor:"persona_pain",children:[e("personas.painPoints")," *"]}),h.jsx(Nr,{id:"persona_pain",value:p.pain_points,onChange:fe=>{Te("pain_points",fe.target.value),E.personaPainPoints&&Ze("personaPainPoints")},rows:3,className:`${r?"text-right":""} ${E.personaPainPoints?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.personaPainPoints})]}),h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(ut,{htmlFor:"persona_lifestyle",children:[e("personas.lifestyle")," *"]}),h.jsx(Nr,{id:"persona_lifestyle",value:p.lifestyle,onChange:fe=>{Te("lifestyle",fe.target.value),E.personaLifestyle&&Ze("personaLifestyle")},rows:3,className:`${r?"text-right":""} ${E.personaLifestyle?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.personaLifestyle})]})]}),I===2&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(ut,{htmlFor:"persona_motivations",children:[e("welcome.persona.motivations")," *"]}),h.jsx(Nr,{id:"persona_motivations",value:p.motivations,onChange:fe=>{Te("motivations",fe.target.value),E.personaMotivations&&Ze("personaMotivations")},rows:3,className:`${r?"text-right":""} ${E.personaMotivations?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.personaMotivations})]}),h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(ut,{htmlFor:"persona_backstory",children:[e("welcome.persona.backstory")," *"]}),h.jsx(Nr,{id:"persona_backstory",value:p.backstory,onChange:fe=>{Te("backstory",fe.target.value),E.personaBackstory&&Ze("personaBackstory")},rows:3,className:`${r?"text-right":""} ${E.personaBackstory?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(it,{message:E.personaBackstory})]})]})]}),h.jsx("div",{className:"border-t border-slate-200 bg-white/95 px-4 sm:px-6 lg:px-8 py-4 sm:py-5",children:n?h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:Lt,disabled:x,className:`rounded-xl w-full sm:w-auto disabled:opacity-60 ${Zn}`,children:e("common.back")}),h.jsx(Ie,{type:"submit",disabled:x&&rn,className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto disabled:opacity-70 ${fi}`,children:rn?x?h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(In,{size:"sm",variant:"white"}),e("welcome.creating")]}):e("welcome.finishSetup"):e("common.next")})]}):h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:Lt,disabled:x,className:`rounded-xl w-full sm:w-auto disabled:opacity-60 ${Zn}`,children:e("common.back")}),h.jsx(Ie,{type:"submit",disabled:x&&rn,className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto disabled:opacity-70 ${fi}`,children:rn?x?h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(In,{size:"sm",variant:"white"}),e("welcome.creating")]}):e("welcome.finishSetup"):e("common.next")})]})})]}),a===5&&h.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[h.jsx(mt,{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 max-h-[calc(100vh-200px)]",children:W&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-sky-100 to-blue-200 flex items-center justify-center mx-auto mb-4",children:h.jsx(Vs,{className:"w-10 h-10 text-sky-600"})}),h.jsx("h3",{className:"text-2xl font-semibold text-slate-900 mb-2",children:e("welcome.meetPersona.title").replace("{name}",W.name)}),h.jsx("p",{className:"text-slate-600",children:e("welcome.meetPersona.subtitle")})]}),h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs("div",{className:`space-y-4 ${r?"text-right":""}`,children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?" ":"Basic Details"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:n?":":"Name:"})," ",W.name]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:n?":":"Age:"})," ",W.age]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:n?":":"Job Title:"})," ",W.job_title]})]})]}),W.goals&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?"":"Goals"}),h.jsx("p",{className:"text-sm text-slate-600",children:W.goals})]}),W.pain_points&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?" ":"Pain Points"}),h.jsx("p",{className:"text-sm text-slate-600",children:W.pain_points})]})]}),h.jsxs("div",{className:`space-y-4 ${r?"text-right":""}`,children:[W.lifestyle&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?" ":"Lifestyle"}),h.jsx("p",{className:"text-sm text-slate-600",children:W.lifestyle})]}),W.motivations&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?"":"Motivations"}),h.jsx("p",{className:"text-sm text-slate-600",children:W.motivations})]}),W.purchasing_habits&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?" ":"Purchasing Habits"}),h.jsx("p",{className:"text-sm text-slate-600",children:W.purchasing_habits})]})]})]}),W.backstory&&h.jsxs("div",{className:`${r?"text-right":""}`,children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?"":"Backstory"}),h.jsx("p",{className:"text-sm text-slate-600",children:W.backstory})]})]})}),h.jsx("div",{className:"border-t border-slate-200 bg-white/95 px-4 sm:px-6 lg:px-8 py-4 sm:py-5",children:n?h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(4),className:`rounded-xl w-full sm:w-auto ${Zn}`,children:e("common.back")}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[h.jsx(Ie,{type:"button",variant:"outline",onClick:()=>c(6),className:`rounded-xl w-full sm:w-auto ${Zn}`,children:e("welcome.personaIntro.back")}),h.jsx(Ie,{type:"button",onClick:Gt,className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${fi}`,children:n?"  ":"Use This Avatar"})]})]}):h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(4),className:`rounded-xl w-full sm:w-auto ${Zn}`,children:e("common.back")}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[h.jsx(Ie,{type:"button",variant:"outline",onClick:()=>c(6),className:`rounded-xl w-full sm:w-auto ${Zn}`,children:e("welcome.personaIntro.back")}),h.jsx(Ie,{type:"button",onClick:Gt,className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${fi}`,children:n?"  ":"Use This Avatar"})]})]})})]}),a===6&&h.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[h.jsx(mt,{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 max-h-[calc(100vh-200px)]",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-sky-100 to-blue-200 flex items-center justify-center mx-auto mb-4",children:h.jsx(An,{className:"w-10 h-10 text-sky-600"})}),h.jsx("h3",{className:"text-2xl font-semibold text-slate-900 mb-2",children:n?"  ":"Business Details Review"}),h.jsx("p",{className:"text-slate-600",children:n?"      ":"Review your business details before continuing"})]}),h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs("div",{className:`space-y-4 ${r?"text-right":""}`,children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:e("business.businessName")}),h.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:u.business_name})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:e("business.industry")}),h.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:u.industry})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:e("business.description")}),h.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:u.description})]})]}),h.jsxs("div",{className:`space-y-4 ${r?"text-right":""}`,children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:e("business.productsServices")}),h.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:u.products_services})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:e("business.targetMarket")}),h.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:u.target_market})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:e("business.competitors")}),h.jsx("div",{className:"flex flex-wrap gap-2",children:u.competitors.map(fe=>h.jsx(_n,{variant:"secondary",className:"bg-sky-50 text-sky-700 border border-sky-100",children:fe},fe))})]})]})]})]})}),h.jsx("div",{className:"border-t border-slate-200 bg-white/95 px-4 sm:px-6 lg:px-8 py-4 sm:py-5",children:n?h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(5),className:`rounded-xl w-full sm:w-auto ${Zn}`,children:e("common.back")}),h.jsx(Ie,{type:"button",onClick:()=>c(5),className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${fi}`,children:e("welcome.business.saveAndContinue")})]}):h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(5),className:`rounded-xl w-full sm:w-auto ${Zn}`,children:e("common.back")}),h.jsx(Ie,{type:"button",onClick:()=>c(5),className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${fi}`,children:e("welcome.business.saveAndContinue")})]})})]}),a===7&&h.jsxs(mt,{className:`flex flex-1 flex-col items-center justify-center text-center gap-6 p-4 sm:p-6 lg:p-12 ${r?"text-right":""}`,children:[h.jsx("div",{className:"w-24 h-24 rounded-full bg-green-100 flex items-center justify-center",children:h.jsx(gR,{className:"w-12 h-12 text-green-500"})}),h.jsx("p",{className:"text-lg text-slate-600 max-w-2xl",children:e("welcome.success.message")}),h.jsx(Ie,{size:"lg",onClick:er,className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl transition ${fi}`,children:e("welcome.enterApp")})]})]})},je.key)})]})}const Gke=20,Kke=1e6,Do={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let cP=0;function Yke(){return cP=(cP+1)%Number.MAX_VALUE,cP.toString()}const uP=new Map,W3=t=>{if(uP.has(t))return;const e=setTimeout(()=>{uP.delete(t),Ap({type:Do.REMOVE_TOAST,toastId:t})},Kke);uP.set(t,e)},Xke=(t,e)=>{switch(e.type){case Do.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Gke)};case Do.UPDATE_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case Do.DISMISS_TOAST:{const{toastId:r}=e;return r?W3(r):t.toasts.forEach(n=>{W3(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case Do.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Av=[];let Cv={toasts:[]};function Ap(t){Cv=Xke(Cv,t),Av.forEach(e=>{e(Cv)})}function Qke({...t}){const e=Yke(),r=i=>Ap({type:Do.UPDATE_TOAST,toast:{...i,id:e}}),n=()=>Ap({type:Do.DISMISS_TOAST,toastId:e});return Ap({type:Do.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Jke(){const[t,e]=T.useState(Cv);return T.useEffect(()=>(Av.push(e),()=>{const r=Av.indexOf(e);r>-1&&Av.splice(r,1)}),[t]),{...t,toast:Qke,dismiss:r=>Ap({type:Do.DISMISS_TOAST,toastId:r})}}const xG=T.forwardRef(({...t},e)=>h.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));xG.displayName="ToastProvider";const bG=T.forwardRef(({...t},e)=>h.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));bG.displayName="ToastViewport";const Zke=wf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wG=T.forwardRef(({className:t,variant:e,...r},n)=>h.jsx("div",{ref:n,className:Se(Zke({variant:e}),t),...r}));wG.displayName="Toast";const eOe=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));eOe.displayName="ToastAction";const _G=T.forwardRef(({className:t,...e},r)=>h.jsx("button",{ref:r,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(qn,{className:"h-4 w-4"})}));_G.displayName="ToastClose";const SG=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Se("text-sm font-semibold",t),...e}));SG.displayName="ToastTitle";const EG=T.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Se("text-sm opacity-90",t),...e}));EG.displayName="ToastDescription";function H3(){const{toasts:t}=Jke();return h.jsxs(xG,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return h.jsxs(wG,{...s,children:[h.jsxs("div",{className:"grid gap-1",children:[r&&h.jsx(SG,{children:r}),n&&h.jsx(EG,{children:n})]}),i,h.jsx(_G,{})]},e)}),h.jsx(bG,{})]})}const tOe=()=>{const[t,e]=T.useState(""),[r,n]=T.useState(!1),[i,s]=T.useState(!1),[o,a]=T.useState(""),[c,u]=T.useState(!1),{t:f,isRTL:p}=fr(),{clearErrors:g,validateFields:v}=Wm();T.useEffect(()=>{if(_ae(Oo,window.location.href)){let P=window.localStorage.getItem("emailForSignIn");P||(P=window.prompt("Please provide your email for confirmation")),P&&Sae(Oo,P,window.location.href).then(S=>{window.localStorage.removeItem("emailForSignIn"),console.log("User signed in:",S.user)}).catch(S=>{console.error("Error signing in with email link:",S),a("Invalid or expired sign-in link. Please try again."),setTimeout(()=>a(""),5e3)})}},[]);const w=async P=>{P.preventDefault(),a(""),g();const S={email:{value:t,required:!0,email:!0,customMessage:f("validation.emailRequired")}};if(v(S)){u(!0);try{const R={url:window.location.origin+"/login",handleCodeInApp:!0};await wae(Oo,t,R),window.localStorage.setItem("emailForSignIn",t),s(!0)}catch(R){console.error("Error sending email link:",R),a("Error sending sign-in link. Please try again."),setTimeout(()=>a(""),5e3)}u(!1)}},x=async()=>{a(""),u(!0);try{await Gae(Oo,gz)}catch{a("Error, please try again"),setTimeout(()=>a(""),3e3)}u(!1)},_=()=>{e(""),a(""),n(!1),s(!1)};return h.jsxs("div",{className:"login-container",children:[h.jsx("div",{className:"login-left-panel",children:h.jsxs("div",{className:"login-left-content",children:[h.jsx("h2",{children:"Mole.AI"}),h.jsx("p",{children:"Transform your business insights with advanced AI analytics and personalized recommendations."}),h.jsxs("div",{className:"login-features",children:[h.jsxs("div",{className:"feature-item",children:[h.jsx("div",{className:"feature-icon",children:h.jsx(td,{className:"w-6 h-6"})}),h.jsxs("div",{className:"feature-text",children:[h.jsx("h3",{children:"Smart Analytics"}),h.jsx("p",{children:"Get deep insights into your market position and competitor analysis"})]})]}),h.jsxs("div",{className:"feature-item",children:[h.jsx("div",{className:"feature-icon",children:h.jsx(Vs,{className:"w-6 h-6"})}),h.jsxs("div",{className:"feature-text",children:[h.jsx("h3",{children:"Customer Avatars"}),h.jsx("p",{children:"Create detailed customer profiles with AI-driven behavioral analysis"})]})]}),h.jsxs("div",{className:"feature-item",children:[h.jsx("div",{className:"feature-icon",children:h.jsx(vi,{className:"w-6 h-6"})}),h.jsxs("div",{className:"feature-text",children:[h.jsx("h3",{children:"AI Prompts"}),h.jsx("p",{children:"Generate compelling content and strategies with intelligent prompts"})]})]})]})]})}),h.jsx("div",{className:"login-right-panel",children:h.jsxs("div",{className:"login-content",children:[h.jsx("div",{className:"logo-container",children:h.jsxs("div",{className:"logo-icon",children:[h.jsx("div",{className:"logo-shape"}),h.jsx("div",{className:"logo-shape-accent"})]})}),h.jsxs("div",{className:"login-header",children:[h.jsx("h1",{children:i?"Check your email":r?"Sign in to your account":"Welcome to Mole.AI"}),i&&h.jsxs("p",{className:"reset-success-message",children:["We've sent a sign-in link to ",t,". Click the link in your email to sign in."]}),r&&!i&&h.jsx("p",{className:"login-subtitle",children:"Enter your email address to receive a secure sign-in link"})]}),o&&h.jsx("div",{className:"error-message",children:o}),!r&&!i&&h.jsxs("div",{className:"login-buttons",children:[h.jsxs("button",{onClick:x,className:"auth-button google-button",disabled:c,children:[h.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),h.jsxs("button",{onClick:()=>n(!0),className:"auth-button email-button",disabled:c,children:[h.jsx(VX,{className:"w-5 h-5"}),"Continue with email"]})]}),i?h.jsxs("div",{className:"reset-success",children:[h.jsx("div",{className:"success-icon",children:h.jsx(bX,{className:"w-8 h-8"})}),h.jsx("div",{className:"auth-switch",children:h.jsxs("button",{type:"button",onClick:_,className:"link-button",children:[h.jsx(pR,{className:"w-4 h-4"}),"Back to login"]})})]}):r&&h.jsxs(h.Fragment,{children:[h.jsxs("form",{onSubmit:w,className:"login-form",children:[h.jsx("div",{className:"form-group",children:h.jsx("input",{id:"email",type:"email",value:t,onChange:P=>e(P.target.value),placeholder:"Enter your email address",required:!0,disabled:c})}),h.jsx("button",{type:"submit",className:"auth-button submit-button",disabled:c,children:c?"Sending...":"Send sign-in link"})]}),h.jsx("div",{className:"auth-switch",children:h.jsxs("button",{type:"button",onClick:()=>{n(!1),e(""),a("")},className:"link-button",disabled:c,children:[h.jsx(pR,{className:"w-4 h-4"}),"Back to options"]})})]})]})})]})};function rOe(){const{user:t,loading:e}=Yc(),[r,n]=T.useState(!0),[i,s]=T.useState(!1),o=T.useCallback(async()=>{if(!t){s(!1),n(!1);return}n(!0);try{let c=!1,u=!1;try{c=await Gi.checkExists()}catch{c=!1}try{const p=await Ks.list();u=p&&p.length>0}catch{u=!1}s(!c||!u)}catch(c){console.error("Failed to check onboarding status:",c),s(!0)}finally{n(!1)}},[t]);T.useEffect(()=>{e||o()},[e,o]);const a=T.useCallback(async()=>{s(!1),await o()},[o]);return e||r?h.jsxs("div",{className:"h-screen flex flex-col items-center justify-center gap-4 bg-slate-50",children:[h.jsx(In,{size:"lg",variant:"primary"}),h.jsx("p",{className:"text-sm text-slate-500",children:"Loading..."})]}):t?i?h.jsxs(fv,{children:[h.jsx(Hke,{onComplete:a}),h.jsx(H3,{})]}):h.jsxs(fv,{children:[h.jsx(zke,{}),h.jsx(H3,{})]}):h.jsx(fv,{children:h.jsx(tOe,{})})}function nOe(){return h.jsx(Oce,{children:h.jsx(rOe,{})})}LK.createRoot(document.getElementById("root")).render(h.jsx(nOe,{}));
