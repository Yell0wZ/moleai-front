function DK(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a_={exports:{}},jh={},l_={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj;function LK(){if(Xj)return gt;Xj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,x={};function b(z,Z,ce){this.props=z,this.context=Z,this.refs=x,this.updater=ce||y}b.prototype.isReactComponent={},b.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function T(){}T.prototype=b.prototype;function P(z,Z,ce){this.props=z,this.context=Z,this.refs=x,this.updater=ce||y}var E=P.prototype=new T;E.constructor=P,_(E,b.prototype),E.isPureReactComponent=!0;var I=Array.isArray,C=Object.prototype.hasOwnProperty,R={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function k(z,Z,ce){var ye,Oe={},Me=null,he=null;if(Z!=null)for(ye in Z.ref!==void 0&&(he=Z.ref),Z.key!==void 0&&(Me=""+Z.key),Z)C.call(Z,ye)&&!N.hasOwnProperty(ye)&&(Oe[ye]=Z[ye]);var _e=arguments.length-2;if(_e===1)Oe.children=ce;else if(1<_e){for(var ue=Array(_e),be=0;be<_e;be++)ue[be]=arguments[be+2];Oe.children=ue}if(z&&z.defaultProps)for(ye in _e=z.defaultProps,_e)Oe[ye]===void 0&&(Oe[ye]=_e[ye]);return{$$typeof:t,type:z,key:Me,ref:he,props:Oe,_owner:R.current}}function M(z,Z){return{$$typeof:t,type:z.type,key:Z,ref:z.ref,props:z.props,_owner:z._owner}}function $(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function L(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ce){return Z[ce]})}var V=/\/+/g;function D(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):Z.toString(36)}function H(z,Z,ce,ye,Oe){var Me=typeof z;(Me==="undefined"||Me==="boolean")&&(z=null);var he=!1;if(z===null)he=!0;else switch(Me){case"string":case"number":he=!0;break;case"object":switch(z.$$typeof){case t:case e:he=!0}}if(he)return he=z,Oe=Oe(he),z=ye===""?"."+D(he,0):ye,I(Oe)?(ce="",z!=null&&(ce=z.replace(V,"$&/")+"/"),H(Oe,Z,ce,"",function(be){return be})):Oe!=null&&($(Oe)&&(Oe=M(Oe,ce+(!Oe.key||he&&he.key===Oe.key?"":(""+Oe.key).replace(V,"$&/")+"/")+z)),Z.push(Oe)),1;if(he=0,ye=ye===""?".":ye+":",I(z))for(var _e=0;_e<z.length;_e++){Me=z[_e];var ue=ye+D(Me,_e);he+=H(Me,Z,ce,ue,Oe)}else if(ue=m(z),typeof ue=="function")for(z=ue.call(z),_e=0;!(Me=z.next()).done;)Me=Me.value,ue=ye+D(Me,_e++),he+=H(Me,Z,ce,ue,Oe);else if(Me==="object")throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return he}function W(z,Z,ce){if(z==null)return z;var ye=[],Oe=0;return H(z,ye,"","",function(Me){return Z.call(ce,Me,Oe++)}),ye}function K(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=ce)},function(ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=ce)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var Q={current:null},U={transition:null},G={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:U,ReactCurrentOwner:R};function te(){throw Error("act(...) is not supported in production builds of React.")}return gt.Children={map:W,forEach:function(z,Z,ce){W(z,function(){Z.apply(this,arguments)},ce)},count:function(z){var Z=0;return W(z,function(){Z++}),Z},toArray:function(z){return W(z,function(Z){return Z})||[]},only:function(z){if(!$(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},gt.Component=b,gt.Fragment=r,gt.Profiler=i,gt.PureComponent=P,gt.StrictMode=n,gt.Suspense=c,gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,gt.act=te,gt.cloneElement=function(z,Z,ce){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ye=_({},z.props),Oe=z.key,Me=z.ref,he=z._owner;if(Z!=null){if(Z.ref!==void 0&&(Me=Z.ref,he=R.current),Z.key!==void 0&&(Oe=""+Z.key),z.type&&z.type.defaultProps)var _e=z.type.defaultProps;for(ue in Z)C.call(Z,ue)&&!N.hasOwnProperty(ue)&&(ye[ue]=Z[ue]===void 0&&_e!==void 0?_e[ue]:Z[ue])}var ue=arguments.length-2;if(ue===1)ye.children=ce;else if(1<ue){_e=Array(ue);for(var be=0;be<ue;be++)_e[be]=arguments[be+2];ye.children=_e}return{$$typeof:t,type:z.type,key:Oe,ref:Me,props:ye,_owner:he}},gt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:s,_context:z},z.Consumer=z},gt.createElement=k,gt.createFactory=function(z){var Z=k.bind(null,z);return Z.type=z,Z},gt.createRef=function(){return{current:null}},gt.forwardRef=function(z){return{$$typeof:a,render:z}},gt.isValidElement=$,gt.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:K}},gt.memo=function(z,Z){return{$$typeof:u,type:z,compare:Z===void 0?null:Z}},gt.startTransition=function(z){var Z=U.transition;U.transition={};try{z()}finally{U.transition=Z}},gt.unstable_act=te,gt.useCallback=function(z,Z){return Q.current.useCallback(z,Z)},gt.useContext=function(z){return Q.current.useContext(z)},gt.useDebugValue=function(){},gt.useDeferredValue=function(z){return Q.current.useDeferredValue(z)},gt.useEffect=function(z,Z){return Q.current.useEffect(z,Z)},gt.useId=function(){return Q.current.useId()},gt.useImperativeHandle=function(z,Z,ce){return Q.current.useImperativeHandle(z,Z,ce)},gt.useInsertionEffect=function(z,Z){return Q.current.useInsertionEffect(z,Z)},gt.useLayoutEffect=function(z,Z){return Q.current.useLayoutEffect(z,Z)},gt.useMemo=function(z,Z){return Q.current.useMemo(z,Z)},gt.useReducer=function(z,Z,ce){return Q.current.useReducer(z,Z,ce)},gt.useRef=function(z){return Q.current.useRef(z)},gt.useState=function(z){return Q.current.useState(z)},gt.useSyncExternalStore=function(z,Z,ce){return Q.current.useSyncExternalStore(z,Z,ce)},gt.useTransition=function(){return Q.current.useTransition()},gt.version="18.3.1",gt}var Qj;function HC(){return Qj||(Qj=1,l_.exports=LK()),l_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jj;function $K(){if(Jj)return jh;Jj=1;var t=HC(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var f,p={},m=null,y=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(y=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:e,type:a,key:m,ref:y,props:p,_owner:i.current}}return jh.Fragment=r,jh.jsx=o,jh.jsxs=o,jh}var Zj;function FK(){return Zj||(Zj=1,a_.exports=$K()),a_.exports}var h=FK(),S=HC();const X=Mt(S),GC=DK({__proto__:null,default:X},[S]);var by={},c_={exports:{}},Un={},u_={exports:{}},d_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eR;function VK(){return eR||(eR=1,(function(t){function e(U,G){var te=U.length;U.push(G);e:for(;0<te;){var z=te-1>>>1,Z=U[z];if(0<i(Z,G))U[z]=G,U[te]=Z,te=z;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var G=U[0],te=U.pop();if(te!==G){U[0]=te;e:for(var z=0,Z=U.length,ce=Z>>>1;z<ce;){var ye=2*(z+1)-1,Oe=U[ye],Me=ye+1,he=U[Me];if(0>i(Oe,te))Me<Z&&0>i(he,Oe)?(U[z]=he,U[Me]=te,z=Me):(U[z]=Oe,U[ye]=te,z=ye);else if(Me<Z&&0>i(he,te))U[z]=he,U[Me]=te,z=Me;else break e}}return G}function i(U,G){var te=U.sortIndex-G.sortIndex;return te!==0?te:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,p=null,m=3,y=!1,_=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=U)n(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=r(u)}}function I(U){if(x=!1,E(U),!_)if(r(c)!==null)_=!0,K(C);else{var G=r(u);G!==null&&Q(I,G.startTime-U)}}function C(U,G){_=!1,x&&(x=!1,T(k),k=-1),y=!0;var te=m;try{for(E(G),p=r(c);p!==null&&(!(p.expirationTime>G)||U&&!L());){var z=p.callback;if(typeof z=="function"){p.callback=null,m=p.priorityLevel;var Z=z(p.expirationTime<=G);G=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===r(c)&&n(c),E(G)}else n(c);p=r(c)}if(p!==null)var ce=!0;else{var ye=r(u);ye!==null&&Q(I,ye.startTime-G),ce=!1}return ce}finally{p=null,m=te,y=!1}}var R=!1,N=null,k=-1,M=5,$=-1;function L(){return!(t.unstable_now()-$<M)}function V(){if(N!==null){var U=t.unstable_now();$=U;var G=!0;try{G=N(!0,U)}finally{G?D():(R=!1,N=null)}}else R=!1}var D;if(typeof P=="function")D=function(){P(V)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=V,D=function(){W.postMessage(null)}}else D=function(){b(V,0)};function K(U){N=U,R||(R=!0,D())}function Q(U,G){k=b(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,K(C))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var te=m;m=G;try{return U()}finally{m=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=m;m=U;try{return G()}finally{m=te}},t.unstable_scheduleCallback=function(U,G,te){var z=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?z+te:z):te=z,U){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=te+Z,U={id:f++,callback:G,priorityLevel:U,startTime:te,expirationTime:Z,sortIndex:-1},te>z?(U.sortIndex=te,e(u,U),r(c)===null&&U===r(u)&&(x?(T(k),k=-1):x=!0,Q(I,te-z))):(U.sortIndex=Z,e(c,U),_||y||(_=!0,K(C))),U},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(U){var G=m;return function(){var te=m;m=G;try{return U.apply(this,arguments)}finally{m=te}}}})(d_)),d_}var tR;function BK(){return tR||(tR=1,u_.exports=VK()),u_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR;function UK(){if(rR)return Un;rR=1;var t=HC(),e=BK();function r(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(i[l]=d,l=0;l<d.length;l++)n.add(d[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(l){return c.call(p,l)?!0:c.call(f,l)?!1:u.test(l)?p[l]=!0:(f[l]=!0,!1)}function y(l,d,g,w){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function _(l,d,g,w){if(d===null||typeof d>"u"||y(l,d,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function x(l,d,g,w,A,O,B){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=w,this.attributeNamespace=A,this.mustUseProperty=g,this.propertyName=l,this.type=d,this.sanitizeURL=O,this.removeEmptyString=B}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){b[l]=new x(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];b[d]=new x(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){b[l]=new x(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){b[l]=new x(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){b[l]=new x(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){b[l]=new x(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){b[l]=new x(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){b[l]=new x(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){b[l]=new x(l,5,!1,l.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function P(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(T,P);b[d]=new x(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(T,P);b[d]=new x(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(T,P);b[d]=new x(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){b[l]=new x(l,1,!1,l.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){b[l]=new x(l,1,!1,l.toLowerCase(),null,!0,!0)});function E(l,d,g,w){var A=b.hasOwnProperty(d)?b[d]:null;(A!==null?A.type!==0:w||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(_(d,g,A,w)&&(g=null),w||A===null?m(d)&&(g===null?l.removeAttribute(d):l.setAttribute(d,""+g)):A.mustUseProperty?l[A.propertyName]=g===null?A.type===3?!1:"":g:(d=A.attributeName,w=A.attributeNamespace,g===null?l.removeAttribute(d):(A=A.type,g=A===3||A===4&&g===!0?"":""+g,w?l.setAttributeNS(w,d,g):l.setAttribute(d,g))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),R=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),U=Symbol.iterator;function G(l){return l===null||typeof l!="object"?null:(l=U&&l[U]||l["@@iterator"],typeof l=="function"?l:null)}var te=Object.assign,z;function Z(l){if(z===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);z=d&&d[1]||""}return`
`+z+l}var ce=!1;function ye(l,d){if(!l||ce)return"";ce=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(se){var w=se}Reflect.construct(l,[],d)}else{try{d.call()}catch(se){w=se}l.call(d.prototype)}else{try{throw Error()}catch(se){w=se}l()}}catch(se){if(se&&w&&typeof se.stack=="string"){for(var A=se.stack.split(`
`),O=w.stack.split(`
`),B=A.length-1,Y=O.length-1;1<=B&&0<=Y&&A[B]!==O[Y];)Y--;for(;1<=B&&0<=Y;B--,Y--)if(A[B]!==O[Y]){if(B!==1||Y!==1)do if(B--,Y--,0>Y||A[B]!==O[Y]){var J=`
`+A[B].replace(" at new "," at ");return l.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",l.displayName)),J}while(1<=B&&0<=Y);break}}}finally{ce=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?Z(l):""}function Oe(l){switch(l.tag){case 5:return Z(l.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return l=ye(l.type,!1),l;case 11:return l=ye(l.type.render,!1),l;case 1:return l=ye(l.type,!0),l;default:return""}}function Me(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case N:return"Fragment";case R:return"Portal";case M:return"Profiler";case k:return"StrictMode";case D:return"Suspense";case H:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case L:return(l.displayName||"Context")+".Consumer";case $:return(l._context.displayName||"Context")+".Provider";case V:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case W:return d=l.displayName||null,d!==null?d:Me(l.type)||"Memo";case K:d=l._payload,l=l._init;try{return Me(l(d))}catch{}}return null}function he(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(d);case 8:return d===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function _e(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ue(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function be(l){var d=ue(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),w=""+l[d];if(!l.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var A=g.get,O=g.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return A.call(this)},set:function(B){w=""+B,O.call(this,B)}}),Object.defineProperty(l,d,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(B){w=""+B},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function Ae(l){l._valueTracker||(l._valueTracker=be(l))}function le(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var g=d.getValue(),w="";return l&&(w=ue(l)?l.checked?"true":"false":l.value),l=w,l!==g?(d.setValue(l),!0):!1}function Ze(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function fe(l,d){var g=d.checked;return te({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??l._wrapperState.initialChecked})}function we(l,d){var g=d.defaultValue==null?"":d.defaultValue,w=d.checked!=null?d.checked:d.defaultChecked;g=_e(d.value!=null?d.value:g),l._wrapperState={initialChecked:w,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Ne(l,d){d=d.checked,d!=null&&E(l,"checked",d,!1)}function je(l,d){Ne(l,d);var g=_e(d.value),w=d.type;if(g!=null)w==="number"?(g===0&&l.value===""||l.value!=g)&&(l.value=""+g):l.value!==""+g&&(l.value=""+g);else if(w==="submit"||w==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?Ke(l,d.type,g):d.hasOwnProperty("defaultValue")&&Ke(l,d.type,_e(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function ft(l,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var w=d.type;if(!(w!=="submit"&&w!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,g||d===l.value||(l.value=d),l.defaultValue=d}g=l.name,g!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,g!==""&&(l.name=g)}function Ke(l,d,g){(d!=="number"||Ze(l.ownerDocument)!==l)&&(g==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+g&&(l.defaultValue=""+g))}var ut=Array.isArray;function Dt(l,d,g,w){if(l=l.options,d){d={};for(var A=0;A<g.length;A++)d["$"+g[A]]=!0;for(g=0;g<l.length;g++)A=d.hasOwnProperty("$"+l[g].value),l[g].selected!==A&&(l[g].selected=A),A&&w&&(l[g].defaultSelected=!0)}else{for(g=""+_e(g),d=null,A=0;A<l.length;A++){if(l[A].value===g){l[A].selected=!0,w&&(l[A].defaultSelected=!0);return}d!==null||l[A].disabled||(d=l[A])}d!==null&&(d.selected=!0)}}function ir(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Nr(l,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(r(92));if(ut(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),g=d}l._wrapperState={initialValue:_e(g)}}function Xn(l,d){var g=_e(d.value),w=_e(d.defaultValue);g!=null&&(g=""+g,g!==l.value&&(l.value=g),d.defaultValue==null&&l.defaultValue!==g&&(l.defaultValue=g)),w!=null&&(l.defaultValue=""+w)}function Ur(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Ui(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qi(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?Ui(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Dn,zi=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,w,A){MSApp.execUnsafeLocalFunction(function(){return l(d,g,w,A)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(Dn=Dn||document.createElement("div"),Dn.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Dn.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function un(l,d){if(d){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=d;return}}l.textContent=d}var $e={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vt=["Webkit","ms","Moz","O"];Object.keys($e).forEach(function(l){vt.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),$e[d]=$e[l]})});function mt(l,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||$e.hasOwnProperty(l)&&$e[l]?(""+d).trim():d+"px"}function oe(l,d){l=l.style;for(var g in d)if(d.hasOwnProperty(g)){var w=g.indexOf("--")===0,A=mt(g,d[g],w);g==="float"&&(g="cssFloat"),w?l.setProperty(g,A):l[g]=A}}var me=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(l,d){if(d){if(me[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function ht(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var De=null;function qr(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var At=null,dn=null,xt=null;function bl(l){if(l=vh(l)){if(typeof At!="function")throw Error(r(280));var d=l.stateNode;d&&(d=Rg(d),At(l.stateNode,l.type,d))}}function ia(l){dn?xt?xt.push(l):xt=[l]:dn=l}function sa(){if(dn){var l=dn,d=xt;if(xt=dn=null,bl(l),d)for(l=0;l<d.length;l++)bl(d[l])}}function lg(l,d){return l(d)}function cg(){}var xs=!1;function ug(l,d,g){if(xs)return l(d,g);xs=!0;try{return lg(l,d,g)}finally{xs=!1,(dn!==null||xt!==null)&&(cg(),sa())}}function wl(l,d){var g=l.stateNode;if(g===null)return null;var w=Rg(g);if(w===null)return null;g=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(r(231,d,typeof g));return g}var oa=!1;if(a)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){oa=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{oa=!1}function dg(l,d,g,w,A,O,B,Y,J){var se=Array.prototype.slice.call(arguments,3);try{d.apply(g,se)}catch(ve){this.onError(ve)}}var oo=!1,bs=null,nu=!1,yi=null,fg={onError:function(l){oo=!0,bs=l}};function hg(l,d,g,w,A,O,B,Y,J){oo=!1,bs=null,dg.apply(fg,arguments)}function Hf(l,d,g,w,A,O,B,Y,J){if(hg.apply(this,arguments),oo){if(oo){var se=bs;oo=!1,bs=null}else throw Error(r(198));nu||(nu=!0,yi=se)}}function Wi(l){var d=l,g=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(g=d.return),l=d.return;while(l)}return d.tag===3?g:null}function Gf(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function pg(l){if(Wi(l)!==l)throw Error(r(188))}function mg(l){var d=l.alternate;if(!d){if(d=Wi(l),d===null)throw Error(r(188));return d!==l?null:l}for(var g=l,w=d;;){var A=g.return;if(A===null)break;var O=A.alternate;if(O===null){if(w=A.return,w!==null){g=w;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===g)return pg(A),l;if(O===w)return pg(A),d;O=O.sibling}throw Error(r(188))}if(g.return!==w.return)g=A,w=O;else{for(var B=!1,Y=A.child;Y;){if(Y===g){B=!0,g=A,w=O;break}if(Y===w){B=!0,w=A,g=O;break}Y=Y.sibling}if(!B){for(Y=O.child;Y;){if(Y===g){B=!0,g=O,w=A;break}if(Y===w){B=!0,w=O,g=A;break}Y=Y.sibling}if(!B)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?l:d}function gg(l){return l=mg(l),l!==null?_l(l):null}function _l(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=_l(l);if(d!==null)return d;l=l.sibling}return null}var Kf=e.unstable_scheduleCallback,iu=e.unstable_cancelCallback,Sl=e.unstable_shouldYield,ao=e.unstable_requestPaint,Yt=e.unstable_now,$b=e.unstable_getCurrentPriorityLevel,su=e.unstable_ImmediatePriority,Yf=e.unstable_UserBlockingPriority,El=e.unstable_NormalPriority,Xf=e.unstable_LowPriority,ou=e.unstable_IdlePriority,Pl=null,Qn=null;function yg(l){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Pl,l,void 0,(l.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:Tl,ws=Math.log,vi=Math.LN2;function Tl(l){return l>>>=0,l===0?32:31-(ws(l)/vi|0)|0}var _s=64,la=4194304;function Ot(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function lo(l,d){var g=l.pendingLanes;if(g===0)return 0;var w=0,A=l.suspendedLanes,O=l.pingedLanes,B=g&268435455;if(B!==0){var Y=B&~A;Y!==0?w=Ot(Y):(O&=B,O!==0&&(w=Ot(O)))}else B=g&~A,B!==0?w=Ot(B):O!==0&&(w=Ot(O));if(w===0)return 0;if(d!==0&&d!==w&&(d&A)===0&&(A=w&-w,O=d&-d,A>=O||A===16&&(O&4194240)!==0))return d;if((w&4)!==0&&(w|=g&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=w;0<d;)g=31-Jn(d),A=1<<g,w|=l[g],d&=~A;return w}function Al(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(l,d){for(var g=l.suspendedLanes,w=l.pingedLanes,A=l.expirationTimes,O=l.pendingLanes;0<O;){var B=31-Jn(O),Y=1<<B,J=A[B];J===-1?((Y&g)===0||(Y&w)!==0)&&(A[B]=Al(Y,d)):J<=d&&(l.expiredLanes|=Y),O&=~Y}}function Qf(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Jf(){var l=_s;return _s<<=1,(_s&4194240)===0&&(_s=64),l}function Zf(l){for(var d=[],g=0;31>g;g++)d.push(l);return d}function Nl(l,d,g){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-Jn(d),l[d]=g}function Fb(l,d){var g=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var w=l.eventTimes;for(l=l.expirationTimes;0<g;){var A=31-Jn(g),O=1<<A;d[A]=0,w[A]=-1,l[A]=-1,g&=~O}}function eh(l,d){var g=l.entangledLanes|=d;for(l=l.entanglements;g;){var w=31-Jn(g),A=1<<w;A&d|l[w]&d&&(l[w]|=d),g&=~A}}var wt=0;function Ss(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var th,au,rh,nh,ih,Es=!1,lu=[],Ps=null,Ts=null,en=null,kl=new Map,co=new Map,Zn=[],vg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ca(l,d){switch(l){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":kl.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(d.pointerId)}}function Hi(l,d,g,w,A,O){return l===null||l.nativeEvent!==O?(l={blockedOn:d,domEventName:g,eventSystemFlags:w,nativeEvent:O,targetContainers:[A]},d!==null&&(d=vh(d),d!==null&&au(d)),l):(l.eventSystemFlags|=w,d=l.targetContainers,A!==null&&d.indexOf(A)===-1&&d.push(A),l)}function xg(l,d,g,w,A){switch(d){case"focusin":return Ps=Hi(Ps,l,d,g,w,A),!0;case"dragenter":return Ts=Hi(Ts,l,d,g,w,A),!0;case"mouseover":return en=Hi(en,l,d,g,w,A),!0;case"pointerover":var O=A.pointerId;return kl.set(O,Hi(kl.get(O)||null,l,d,g,w,A)),!0;case"gotpointercapture":return O=A.pointerId,co.set(O,Hi(co.get(O)||null,l,d,g,w,A)),!0}return!1}function cu(l){var d=Rl(l.target);if(d!==null){var g=Wi(d);if(g!==null){if(d=g.tag,d===13){if(d=Gf(g),d!==null){l.blockedOn=d,ih(l.priority,function(){rh(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Ut(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var g=uu(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(g===null){g=l.nativeEvent;var w=new g.constructor(g.type,g);De=w,g.target.dispatchEvent(w),De=null}else return d=vh(g),d!==null&&au(d),l.blockedOn=g,!1;d.shift()}return!0}function bg(l,d,g){Ut(l)&&g.delete(d)}function Vb(){Es=!1,Ps!==null&&Ut(Ps)&&(Ps=null),Ts!==null&&Ut(Ts)&&(Ts=null),en!==null&&Ut(en)&&(en=null),kl.forEach(bg),co.forEach(bg)}function ua(l,d){l.blockedOn===d&&(l.blockedOn=null,Es||(Es=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vb)))}function da(l){function d(A){return ua(A,l)}if(0<lu.length){ua(lu[0],l);for(var g=1;g<lu.length;g++){var w=lu[g];w.blockedOn===l&&(w.blockedOn=null)}}for(Ps!==null&&ua(Ps,l),Ts!==null&&ua(Ts,l),en!==null&&ua(en,l),kl.forEach(d),co.forEach(d),g=0;g<Zn.length;g++)w=Zn[g],w.blockedOn===l&&(w.blockedOn=null);for(;0<Zn.length&&(g=Zn[0],g.blockedOn===null);)cu(g),g.blockedOn===null&&Zn.shift()}var uo=I.ReactCurrentBatchConfig,fo=!0;function As(l,d,g,w){var A=wt,O=uo.transition;uo.transition=null;try{wt=1,sh(l,d,g,w)}finally{wt=A,uo.transition=O}}function wg(l,d,g,w){var A=wt,O=uo.transition;uo.transition=null;try{wt=4,sh(l,d,g,w)}finally{wt=A,uo.transition=O}}function sh(l,d,g,w){if(fo){var A=uu(l,d,g,w);if(A===null)Qb(l,d,w,Cs,g),ca(l,w);else if(xg(A,l,d,g,w))w.stopPropagation();else if(ca(l,w),d&4&&-1<vg.indexOf(l)){for(;A!==null;){var O=vh(A);if(O!==null&&th(O),O=uu(l,d,g,w),O===null&&Qb(l,d,w,Cs,g),O===A)break;A=O}A!==null&&w.stopPropagation()}else Qb(l,d,w,null,g)}}var Cs=null;function uu(l,d,g,w){if(Cs=null,l=qr(w),l=Rl(l),l!==null)if(d=Wi(l),d===null)l=null;else if(g=d.tag,g===13){if(l=Gf(d),l!==null)return l;l=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Cs=l,null}function du(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($b()){case su:return 1;case Yf:return 4;case El:case Xf:return 16;case ou:return 536870912;default:return 16}default:return 16}}var ei=null,fu=null,ho=null;function _g(){if(ho)return ho;var l,d=fu,g=d.length,w,A="value"in ei?ei.value:ei.textContent,O=A.length;for(l=0;l<g&&d[l]===A[l];l++);var B=g-l;for(w=1;w<=B&&d[g-w]===A[O-w];w++);return ho=A.slice(l,1<w?1-w:void 0)}function Il(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Ns(){return!0}function oh(){return!1}function fn(l){function d(g,w,A,O,B){this._reactName=g,this._targetInst=A,this.type=w,this.nativeEvent=O,this.target=B,this.currentTarget=null;for(var Y in l)l.hasOwnProperty(Y)&&(g=l[Y],this[Y]=g?g(O):O[Y]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Ns:oh,this.isPropagationStopped=oh,this}return te(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),d}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=fn(ks),fa=te({},ks,{view:0,detail:0}),hu=fn(fa),pu,mu,ti,jl=te({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:it,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ti&&(ti&&l.type==="mousemove"?(pu=l.screenX-ti.screenX,mu=l.screenY-ti.screenY):mu=pu=0,ti=l),pu)},movementY:function(l){return"movementY"in l?l.movementY:mu}}),ah=fn(jl),Sg=te({},jl,{dataTransfer:0}),Eg=fn(Sg),gu=te({},fa,{relatedTarget:0}),tn=fn(gu),Pg=te({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Tg=fn(Pg),ha=te({},ks,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),v=fn(ha),j=te({},ks,{data:0}),F=fn(j),q={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ce(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=ae[l])?!!d[l]:!1}function it(){return Ce}var pr=te({},fa,{key:function(l){if(l.key){var d=q[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Il(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ne[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:it,charCode:function(l){return l.type==="keypress"?Il(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Il(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Ft=fn(pr),br=te({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ri=fn(br),po=te({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:it}),Is=fn(po),Os=te({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=fn(Os),lh=te({},jl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),kG=fn(lh),IG=[9,13,27,32],Bb=a&&"CompositionEvent"in window,ch=null;a&&"documentMode"in document&&(ch=document.documentMode);var OG=a&&"TextEvent"in window&&!ch,UI=a&&(!Bb||ch&&8<ch&&11>=ch),qI=" ",zI=!1;function WI(l,d){switch(l){case"keyup":return IG.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HI(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var vu=!1;function jG(l,d){switch(l){case"compositionend":return HI(d);case"keypress":return d.which!==32?null:(zI=!0,qI);case"textInput":return l=d.data,l===qI&&zI?null:l;default:return null}}function RG(l,d){if(vu)return l==="compositionend"||!Bb&&WI(l,d)?(l=_g(),ho=fu=ei=null,vu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return UI&&d.locale!=="ko"?null:d.data;default:return null}}var MG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GI(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!MG[l.type]:d==="textarea"}function KI(l,d,g,w){ia(w),d=Ig(d,"onChange"),0<d.length&&(g=new Ol("onChange","change",null,g,w),l.push({event:g,listeners:d}))}var uh=null,dh=null;function DG(l){fO(l,0)}function Ag(l){var d=Su(l);if(le(d))return l}function LG(l,d){if(l==="change")return d}var YI=!1;if(a){var Ub;if(a){var qb="oninput"in document;if(!qb){var XI=document.createElement("div");XI.setAttribute("oninput","return;"),qb=typeof XI.oninput=="function"}Ub=qb}else Ub=!1;YI=Ub&&(!document.documentMode||9<document.documentMode)}function QI(){uh&&(uh.detachEvent("onpropertychange",JI),dh=uh=null)}function JI(l){if(l.propertyName==="value"&&Ag(dh)){var d=[];KI(d,dh,l,qr(l)),ug(DG,d)}}function $G(l,d,g){l==="focusin"?(QI(),uh=d,dh=g,uh.attachEvent("onpropertychange",JI)):l==="focusout"&&QI()}function FG(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ag(dh)}function VG(l,d){if(l==="click")return Ag(d)}function BG(l,d){if(l==="input"||l==="change")return Ag(d)}function UG(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Gi=typeof Object.is=="function"?Object.is:UG;function fh(l,d){if(Gi(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var g=Object.keys(l),w=Object.keys(d);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var A=g[w];if(!c.call(d,A)||!Gi(l[A],d[A]))return!1}return!0}function ZI(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function eO(l,d){var g=ZI(l);l=0;for(var w;g;){if(g.nodeType===3){if(w=l+g.textContent.length,l<=d&&w>=d)return{node:g,offset:d-l};l=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=ZI(g)}}function tO(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?tO(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function rO(){for(var l=window,d=Ze();d instanceof l.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)l=d.contentWindow;else break;d=Ze(l.document)}return d}function zb(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function qG(l){var d=rO(),g=l.focusedElem,w=l.selectionRange;if(d!==g&&g&&g.ownerDocument&&tO(g.ownerDocument.documentElement,g)){if(w!==null&&zb(g)){if(d=w.start,l=w.end,l===void 0&&(l=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(l,g.value.length);else if(l=(d=g.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var A=g.textContent.length,O=Math.min(w.start,A);w=w.end===void 0?O:Math.min(w.end,A),!l.extend&&O>w&&(A=w,w=O,O=A),A=eO(g,O);var B=eO(g,w);A&&B&&(l.rangeCount!==1||l.anchorNode!==A.node||l.anchorOffset!==A.offset||l.focusNode!==B.node||l.focusOffset!==B.offset)&&(d=d.createRange(),d.setStart(A.node,A.offset),l.removeAllRanges(),O>w?(l.addRange(d),l.extend(B.node,B.offset)):(d.setEnd(B.node,B.offset),l.addRange(d)))}}for(d=[],l=g;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)l=d[g],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var zG=a&&"documentMode"in document&&11>=document.documentMode,xu=null,Wb=null,hh=null,Hb=!1;function nO(l,d,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Hb||xu==null||xu!==Ze(w)||(w=xu,"selectionStart"in w&&zb(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),hh&&fh(hh,w)||(hh=w,w=Ig(Wb,"onSelect"),0<w.length&&(d=new Ol("onSelect","select",null,d,g),l.push({event:d,listeners:w}),d.target=xu)))}function Cg(l,d){var g={};return g[l.toLowerCase()]=d.toLowerCase(),g["Webkit"+l]="webkit"+d,g["Moz"+l]="moz"+d,g}var bu={animationend:Cg("Animation","AnimationEnd"),animationiteration:Cg("Animation","AnimationIteration"),animationstart:Cg("Animation","AnimationStart"),transitionend:Cg("Transition","TransitionEnd")},Gb={},iO={};a&&(iO=document.createElement("div").style,"AnimationEvent"in window||(delete bu.animationend.animation,delete bu.animationiteration.animation,delete bu.animationstart.animation),"TransitionEvent"in window||delete bu.transitionend.transition);function Ng(l){if(Gb[l])return Gb[l];if(!bu[l])return l;var d=bu[l],g;for(g in d)if(d.hasOwnProperty(g)&&g in iO)return Gb[l]=d[g];return l}var sO=Ng("animationend"),oO=Ng("animationiteration"),aO=Ng("animationstart"),lO=Ng("transitionend"),cO=new Map,uO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(l,d){cO.set(l,d),s(d,[l])}for(var Kb=0;Kb<uO.length;Kb++){var Yb=uO[Kb],WG=Yb.toLowerCase(),HG=Yb[0].toUpperCase()+Yb.slice(1);pa(WG,"on"+HG)}pa(sO,"onAnimationEnd"),pa(oO,"onAnimationIteration"),pa(aO,"onAnimationStart"),pa("dblclick","onDoubleClick"),pa("focusin","onFocus"),pa("focusout","onBlur"),pa(lO,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GG=new Set("cancel close invalid load scroll toggle".split(" ").concat(ph));function dO(l,d,g){var w=l.type||"unknown-event";l.currentTarget=g,Hf(w,d,void 0,l),l.currentTarget=null}function fO(l,d){d=(d&4)!==0;for(var g=0;g<l.length;g++){var w=l[g],A=w.event;w=w.listeners;e:{var O=void 0;if(d)for(var B=w.length-1;0<=B;B--){var Y=w[B],J=Y.instance,se=Y.currentTarget;if(Y=Y.listener,J!==O&&A.isPropagationStopped())break e;dO(A,Y,se),O=J}else for(B=0;B<w.length;B++){if(Y=w[B],J=Y.instance,se=Y.currentTarget,Y=Y.listener,J!==O&&A.isPropagationStopped())break e;dO(A,Y,se),O=J}}}if(nu)throw l=yi,nu=!1,yi=null,l}function Xt(l,d){var g=d[nw];g===void 0&&(g=d[nw]=new Set);var w=l+"__bubble";g.has(w)||(hO(d,l,2,!1),g.add(w))}function Xb(l,d,g){var w=0;d&&(w|=4),hO(g,l,w,d)}var kg="_reactListening"+Math.random().toString(36).slice(2);function mh(l){if(!l[kg]){l[kg]=!0,n.forEach(function(g){g!=="selectionchange"&&(GG.has(g)||Xb(g,!1,l),Xb(g,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[kg]||(d[kg]=!0,Xb("selectionchange",!1,d))}}function hO(l,d,g,w){switch(du(d)){case 1:var A=As;break;case 4:A=wg;break;default:A=sh}g=A.bind(null,d,g,l),A=void 0,!oa||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(A=!0),w?A!==void 0?l.addEventListener(d,g,{capture:!0,passive:A}):l.addEventListener(d,g,!0):A!==void 0?l.addEventListener(d,g,{passive:A}):l.addEventListener(d,g,!1)}function Qb(l,d,g,w,A){var O=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var B=w.tag;if(B===3||B===4){var Y=w.stateNode.containerInfo;if(Y===A||Y.nodeType===8&&Y.parentNode===A)break;if(B===4)for(B=w.return;B!==null;){var J=B.tag;if((J===3||J===4)&&(J=B.stateNode.containerInfo,J===A||J.nodeType===8&&J.parentNode===A))return;B=B.return}for(;Y!==null;){if(B=Rl(Y),B===null)return;if(J=B.tag,J===5||J===6){w=O=B;continue e}Y=Y.parentNode}}w=w.return}ug(function(){var se=O,ve=qr(g),xe=[];e:{var ge=cO.get(l);if(ge!==void 0){var Re=Ol,Be=l;switch(l){case"keypress":if(Il(g)===0)break e;case"keydown":case"keyup":Re=Ft;break;case"focusin":Be="focus",Re=tn;break;case"focusout":Be="blur",Re=tn;break;case"beforeblur":case"afterblur":Re=tn;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Is;break;case sO:case oO:case aO:Re=Tg;break;case lO:Re=yu;break;case"scroll":Re=hu;break;case"wheel":Re=kG;break;case"copy":case"cut":case"paste":Re=v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=ri}var ze=(d&4)!==0,mr=!ze&&l==="scroll",re=ze?ge!==null?ge+"Capture":null:ge;ze=[];for(var ee=se,ie;ee!==null;){ie=ee;var Se=ie.stateNode;if(ie.tag===5&&Se!==null&&(ie=Se,re!==null&&(Se=wl(ee,re),Se!=null&&ze.push(gh(ee,Se,ie)))),mr)break;ee=ee.return}0<ze.length&&(ge=new Re(ge,Be,null,g,ve),xe.push({event:ge,listeners:ze}))}}if((d&7)===0){e:{if(ge=l==="mouseover"||l==="pointerover",Re=l==="mouseout"||l==="pointerout",ge&&g!==De&&(Be=g.relatedTarget||g.fromElement)&&(Rl(Be)||Be[mo]))break e;if((Re||ge)&&(ge=ve.window===ve?ve:(ge=ve.ownerDocument)?ge.defaultView||ge.parentWindow:window,Re?(Be=g.relatedTarget||g.toElement,Re=se,Be=Be?Rl(Be):null,Be!==null&&(mr=Wi(Be),Be!==mr||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Re=null,Be=se),Re!==Be)){if(ze=ah,Se="onMouseLeave",re="onMouseEnter",ee="mouse",(l==="pointerout"||l==="pointerover")&&(ze=ri,Se="onPointerLeave",re="onPointerEnter",ee="pointer"),mr=Re==null?ge:Su(Re),ie=Be==null?ge:Su(Be),ge=new ze(Se,ee+"leave",Re,g,ve),ge.target=mr,ge.relatedTarget=ie,Se=null,Rl(ve)===se&&(ze=new ze(re,ee+"enter",Be,g,ve),ze.target=ie,ze.relatedTarget=mr,Se=ze),mr=Se,Re&&Be)t:{for(ze=Re,re=Be,ee=0,ie=ze;ie;ie=wu(ie))ee++;for(ie=0,Se=re;Se;Se=wu(Se))ie++;for(;0<ee-ie;)ze=wu(ze),ee--;for(;0<ie-ee;)re=wu(re),ie--;for(;ee--;){if(ze===re||re!==null&&ze===re.alternate)break t;ze=wu(ze),re=wu(re)}ze=null}else ze=null;Re!==null&&pO(xe,ge,Re,ze,!1),Be!==null&&mr!==null&&pO(xe,mr,Be,ze,!0)}}e:{if(ge=se?Su(se):window,Re=ge.nodeName&&ge.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ge.type==="file")var He=LG;else if(GI(ge))if(YI)He=BG;else{He=FG;var Xe=$G}else(Re=ge.nodeName)&&Re.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(He=VG);if(He&&(He=He(l,se))){KI(xe,He,g,ve);break e}Xe&&Xe(l,ge,se),l==="focusout"&&(Xe=ge._wrapperState)&&Xe.controlled&&ge.type==="number"&&Ke(ge,"number",ge.value)}switch(Xe=se?Su(se):window,l){case"focusin":(GI(Xe)||Xe.contentEditable==="true")&&(xu=Xe,Wb=se,hh=null);break;case"focusout":hh=Wb=xu=null;break;case"mousedown":Hb=!0;break;case"contextmenu":case"mouseup":case"dragend":Hb=!1,nO(xe,g,ve);break;case"selectionchange":if(zG)break;case"keydown":case"keyup":nO(xe,g,ve)}var Qe;if(Bb)e:{switch(l){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else vu?WI(l,g)&&(rt="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(rt="onCompositionStart");rt&&(UI&&g.locale!=="ko"&&(vu||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&vu&&(Qe=_g()):(ei=ve,fu="value"in ei?ei.value:ei.textContent,vu=!0)),Xe=Ig(se,rt),0<Xe.length&&(rt=new F(rt,l,null,g,ve),xe.push({event:rt,listeners:Xe}),Qe?rt.data=Qe:(Qe=HI(g),Qe!==null&&(rt.data=Qe)))),(Qe=OG?jG(l,g):RG(l,g))&&(se=Ig(se,"onBeforeInput"),0<se.length&&(ve=new F("onBeforeInput","beforeinput",null,g,ve),xe.push({event:ve,listeners:se}),ve.data=Qe))}fO(xe,d)})}function gh(l,d,g){return{instance:l,listener:d,currentTarget:g}}function Ig(l,d){for(var g=d+"Capture",w=[];l!==null;){var A=l,O=A.stateNode;A.tag===5&&O!==null&&(A=O,O=wl(l,g),O!=null&&w.unshift(gh(l,O,A)),O=wl(l,d),O!=null&&w.push(gh(l,O,A))),l=l.return}return w}function wu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function pO(l,d,g,w,A){for(var O=d._reactName,B=[];g!==null&&g!==w;){var Y=g,J=Y.alternate,se=Y.stateNode;if(J!==null&&J===w)break;Y.tag===5&&se!==null&&(Y=se,A?(J=wl(g,O),J!=null&&B.unshift(gh(g,J,Y))):A||(J=wl(g,O),J!=null&&B.push(gh(g,J,Y)))),g=g.return}B.length!==0&&l.push({event:d,listeners:B})}var KG=/\r\n?/g,YG=/\u0000|\uFFFD/g;function mO(l){return(typeof l=="string"?l:""+l).replace(KG,`
`).replace(YG,"")}function Og(l,d,g){if(d=mO(d),mO(l)!==d&&g)throw Error(r(425))}function jg(){}var Jb=null,Zb=null;function ew(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var tw=typeof setTimeout=="function"?setTimeout:void 0,XG=typeof clearTimeout=="function"?clearTimeout:void 0,gO=typeof Promise=="function"?Promise:void 0,QG=typeof queueMicrotask=="function"?queueMicrotask:typeof gO<"u"?function(l){return gO.resolve(null).then(l).catch(JG)}:tw;function JG(l){setTimeout(function(){throw l})}function rw(l,d){var g=d,w=0;do{var A=g.nextSibling;if(l.removeChild(g),A&&A.nodeType===8)if(g=A.data,g==="/$"){if(w===0){l.removeChild(A),da(d);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=A}while(g);da(d)}function ma(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function yO(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return l;d--}else g==="/$"&&d++}l=l.previousSibling}return null}var _u=Math.random().toString(36).slice(2),js="__reactFiber$"+_u,yh="__reactProps$"+_u,mo="__reactContainer$"+_u,nw="__reactEvents$"+_u,ZG="__reactListeners$"+_u,eK="__reactHandles$"+_u;function Rl(l){var d=l[js];if(d)return d;for(var g=l.parentNode;g;){if(d=g[mo]||g[js]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(l=yO(l);l!==null;){if(g=l[js])return g;l=yO(l)}return d}l=g,g=l.parentNode}return null}function vh(l){return l=l[js]||l[mo],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Su(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Rg(l){return l[yh]||null}var iw=[],Eu=-1;function ga(l){return{current:l}}function Qt(l){0>Eu||(l.current=iw[Eu],iw[Eu]=null,Eu--)}function Wt(l,d){Eu++,iw[Eu]=l.current,l.current=d}var ya={},hn=ga(ya),Ln=ga(!1),Ml=ya;function Pu(l,d){var g=l.type.contextTypes;if(!g)return ya;var w=l.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===d)return w.__reactInternalMemoizedMaskedChildContext;var A={},O;for(O in g)A[O]=d[O];return w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=A),A}function $n(l){return l=l.childContextTypes,l!=null}function Mg(){Qt(Ln),Qt(hn)}function vO(l,d,g){if(hn.current!==ya)throw Error(r(168));Wt(hn,d),Wt(Ln,g)}function xO(l,d,g){var w=l.stateNode;if(d=d.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var A in w)if(!(A in d))throw Error(r(108,he(l)||"Unknown",A));return te({},g,w)}function Dg(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ya,Ml=hn.current,Wt(hn,l),Wt(Ln,Ln.current),!0}function bO(l,d,g){var w=l.stateNode;if(!w)throw Error(r(169));g?(l=xO(l,d,Ml),w.__reactInternalMemoizedMergedChildContext=l,Qt(Ln),Qt(hn),Wt(hn,l)):Qt(Ln),Wt(Ln,g)}var go=null,Lg=!1,sw=!1;function wO(l){go===null?go=[l]:go.push(l)}function tK(l){Lg=!0,wO(l)}function va(){if(!sw&&go!==null){sw=!0;var l=0,d=wt;try{var g=go;for(wt=1;l<g.length;l++){var w=g[l];do w=w(!0);while(w!==null)}go=null,Lg=!1}catch(A){throw go!==null&&(go=go.slice(l+1)),Kf(su,va),A}finally{wt=d,sw=!1}}return null}var Tu=[],Au=0,$g=null,Fg=0,xi=[],bi=0,Dl=null,yo=1,vo="";function Ll(l,d){Tu[Au++]=Fg,Tu[Au++]=$g,$g=l,Fg=d}function _O(l,d,g){xi[bi++]=yo,xi[bi++]=vo,xi[bi++]=Dl,Dl=l;var w=yo;l=vo;var A=32-Jn(w)-1;w&=~(1<<A),g+=1;var O=32-Jn(d)+A;if(30<O){var B=A-A%5;O=(w&(1<<B)-1).toString(32),w>>=B,A-=B,yo=1<<32-Jn(d)+A|g<<A|w,vo=O+l}else yo=1<<O|g<<A|w,vo=l}function ow(l){l.return!==null&&(Ll(l,1),_O(l,1,0))}function aw(l){for(;l===$g;)$g=Tu[--Au],Tu[Au]=null,Fg=Tu[--Au],Tu[Au]=null;for(;l===Dl;)Dl=xi[--bi],xi[bi]=null,vo=xi[--bi],xi[bi]=null,yo=xi[--bi],xi[bi]=null}var ni=null,ii=null,er=!1,Ki=null;function SO(l,d){var g=Ei(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=l,d=l.deletions,d===null?(l.deletions=[g],l.flags|=16):d.push(g)}function EO(l,d){switch(l.tag){case 5:var g=l.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,ni=l,ii=ma(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,ni=l,ii=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=Dl!==null?{id:yo,overflow:vo}:null,l.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=Ei(18,null,null,0),g.stateNode=d,g.return=l,l.child=g,ni=l,ii=null,!0):!1;default:return!1}}function lw(l){return(l.mode&1)!==0&&(l.flags&128)===0}function cw(l){if(er){var d=ii;if(d){var g=d;if(!EO(l,d)){if(lw(l))throw Error(r(418));d=ma(g.nextSibling);var w=ni;d&&EO(l,d)?SO(w,g):(l.flags=l.flags&-4097|2,er=!1,ni=l)}}else{if(lw(l))throw Error(r(418));l.flags=l.flags&-4097|2,er=!1,ni=l}}}function PO(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ni=l}function Vg(l){if(l!==ni)return!1;if(!er)return PO(l),er=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!ew(l.type,l.memoizedProps)),d&&(d=ii)){if(lw(l))throw TO(),Error(r(418));for(;d;)SO(l,d),d=ma(d.nextSibling)}if(PO(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"){if(d===0){ii=ma(l.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}l=l.nextSibling}ii=null}}else ii=ni?ma(l.stateNode.nextSibling):null;return!0}function TO(){for(var l=ii;l;)l=ma(l.nextSibling)}function Cu(){ii=ni=null,er=!1}function uw(l){Ki===null?Ki=[l]:Ki.push(l)}var rK=I.ReactCurrentBatchConfig;function xh(l,d,g){if(l=g.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var w=g.stateNode}if(!w)throw Error(r(147,l));var A=w,O=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===O?d.ref:(d=function(B){var Y=A.refs;B===null?delete Y[O]:Y[O]=B},d._stringRef=O,d)}if(typeof l!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,l))}return l}function Bg(l,d){throw l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function AO(l){var d=l._init;return d(l._payload)}function CO(l){function d(re,ee){if(l){var ie=re.deletions;ie===null?(re.deletions=[ee],re.flags|=16):ie.push(ee)}}function g(re,ee){if(!l)return null;for(;ee!==null;)d(re,ee),ee=ee.sibling;return null}function w(re,ee){for(re=new Map;ee!==null;)ee.key!==null?re.set(ee.key,ee):re.set(ee.index,ee),ee=ee.sibling;return re}function A(re,ee){return re=Ta(re,ee),re.index=0,re.sibling=null,re}function O(re,ee,ie){return re.index=ie,l?(ie=re.alternate,ie!==null?(ie=ie.index,ie<ee?(re.flags|=2,ee):ie):(re.flags|=2,ee)):(re.flags|=1048576,ee)}function B(re){return l&&re.alternate===null&&(re.flags|=2),re}function Y(re,ee,ie,Se){return ee===null||ee.tag!==6?(ee=t_(ie,re.mode,Se),ee.return=re,ee):(ee=A(ee,ie),ee.return=re,ee)}function J(re,ee,ie,Se){var He=ie.type;return He===N?ve(re,ee,ie.props.children,Se,ie.key):ee!==null&&(ee.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===K&&AO(He)===ee.type)?(Se=A(ee,ie.props),Se.ref=xh(re,ee,ie),Se.return=re,Se):(Se=dy(ie.type,ie.key,ie.props,null,re.mode,Se),Se.ref=xh(re,ee,ie),Se.return=re,Se)}function se(re,ee,ie,Se){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ie.containerInfo||ee.stateNode.implementation!==ie.implementation?(ee=r_(ie,re.mode,Se),ee.return=re,ee):(ee=A(ee,ie.children||[]),ee.return=re,ee)}function ve(re,ee,ie,Se,He){return ee===null||ee.tag!==7?(ee=Wl(ie,re.mode,Se,He),ee.return=re,ee):(ee=A(ee,ie),ee.return=re,ee)}function xe(re,ee,ie){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=t_(""+ee,re.mode,ie),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:return ie=dy(ee.type,ee.key,ee.props,null,re.mode,ie),ie.ref=xh(re,null,ee),ie.return=re,ie;case R:return ee=r_(ee,re.mode,ie),ee.return=re,ee;case K:var Se=ee._init;return xe(re,Se(ee._payload),ie)}if(ut(ee)||G(ee))return ee=Wl(ee,re.mode,ie,null),ee.return=re,ee;Bg(re,ee)}return null}function ge(re,ee,ie,Se){var He=ee!==null?ee.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return He!==null?null:Y(re,ee,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:return ie.key===He?J(re,ee,ie,Se):null;case R:return ie.key===He?se(re,ee,ie,Se):null;case K:return He=ie._init,ge(re,ee,He(ie._payload),Se)}if(ut(ie)||G(ie))return He!==null?null:ve(re,ee,ie,Se,null);Bg(re,ie)}return null}function Re(re,ee,ie,Se,He){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return re=re.get(ie)||null,Y(ee,re,""+Se,He);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case C:return re=re.get(Se.key===null?ie:Se.key)||null,J(ee,re,Se,He);case R:return re=re.get(Se.key===null?ie:Se.key)||null,se(ee,re,Se,He);case K:var Xe=Se._init;return Re(re,ee,ie,Xe(Se._payload),He)}if(ut(Se)||G(Se))return re=re.get(ie)||null,ve(ee,re,Se,He,null);Bg(ee,Se)}return null}function Be(re,ee,ie,Se){for(var He=null,Xe=null,Qe=ee,rt=ee=0,Hr=null;Qe!==null&&rt<ie.length;rt++){Qe.index>rt?(Hr=Qe,Qe=null):Hr=Qe.sibling;var Ct=ge(re,Qe,ie[rt],Se);if(Ct===null){Qe===null&&(Qe=Hr);break}l&&Qe&&Ct.alternate===null&&d(re,Qe),ee=O(Ct,ee,rt),Xe===null?He=Ct:Xe.sibling=Ct,Xe=Ct,Qe=Hr}if(rt===ie.length)return g(re,Qe),er&&Ll(re,rt),He;if(Qe===null){for(;rt<ie.length;rt++)Qe=xe(re,ie[rt],Se),Qe!==null&&(ee=O(Qe,ee,rt),Xe===null?He=Qe:Xe.sibling=Qe,Xe=Qe);return er&&Ll(re,rt),He}for(Qe=w(re,Qe);rt<ie.length;rt++)Hr=Re(Qe,re,rt,ie[rt],Se),Hr!==null&&(l&&Hr.alternate!==null&&Qe.delete(Hr.key===null?rt:Hr.key),ee=O(Hr,ee,rt),Xe===null?He=Hr:Xe.sibling=Hr,Xe=Hr);return l&&Qe.forEach(function(Aa){return d(re,Aa)}),er&&Ll(re,rt),He}function ze(re,ee,ie,Se){var He=G(ie);if(typeof He!="function")throw Error(r(150));if(ie=He.call(ie),ie==null)throw Error(r(151));for(var Xe=He=null,Qe=ee,rt=ee=0,Hr=null,Ct=ie.next();Qe!==null&&!Ct.done;rt++,Ct=ie.next()){Qe.index>rt?(Hr=Qe,Qe=null):Hr=Qe.sibling;var Aa=ge(re,Qe,Ct.value,Se);if(Aa===null){Qe===null&&(Qe=Hr);break}l&&Qe&&Aa.alternate===null&&d(re,Qe),ee=O(Aa,ee,rt),Xe===null?He=Aa:Xe.sibling=Aa,Xe=Aa,Qe=Hr}if(Ct.done)return g(re,Qe),er&&Ll(re,rt),He;if(Qe===null){for(;!Ct.done;rt++,Ct=ie.next())Ct=xe(re,Ct.value,Se),Ct!==null&&(ee=O(Ct,ee,rt),Xe===null?He=Ct:Xe.sibling=Ct,Xe=Ct);return er&&Ll(re,rt),He}for(Qe=w(re,Qe);!Ct.done;rt++,Ct=ie.next())Ct=Re(Qe,re,rt,Ct.value,Se),Ct!==null&&(l&&Ct.alternate!==null&&Qe.delete(Ct.key===null?rt:Ct.key),ee=O(Ct,ee,rt),Xe===null?He=Ct:Xe.sibling=Ct,Xe=Ct);return l&&Qe.forEach(function(MK){return d(re,MK)}),er&&Ll(re,rt),He}function mr(re,ee,ie,Se){if(typeof ie=="object"&&ie!==null&&ie.type===N&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:e:{for(var He=ie.key,Xe=ee;Xe!==null;){if(Xe.key===He){if(He=ie.type,He===N){if(Xe.tag===7){g(re,Xe.sibling),ee=A(Xe,ie.props.children),ee.return=re,re=ee;break e}}else if(Xe.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===K&&AO(He)===Xe.type){g(re,Xe.sibling),ee=A(Xe,ie.props),ee.ref=xh(re,Xe,ie),ee.return=re,re=ee;break e}g(re,Xe);break}else d(re,Xe);Xe=Xe.sibling}ie.type===N?(ee=Wl(ie.props.children,re.mode,Se,ie.key),ee.return=re,re=ee):(Se=dy(ie.type,ie.key,ie.props,null,re.mode,Se),Se.ref=xh(re,ee,ie),Se.return=re,re=Se)}return B(re);case R:e:{for(Xe=ie.key;ee!==null;){if(ee.key===Xe)if(ee.tag===4&&ee.stateNode.containerInfo===ie.containerInfo&&ee.stateNode.implementation===ie.implementation){g(re,ee.sibling),ee=A(ee,ie.children||[]),ee.return=re,re=ee;break e}else{g(re,ee);break}else d(re,ee);ee=ee.sibling}ee=r_(ie,re.mode,Se),ee.return=re,re=ee}return B(re);case K:return Xe=ie._init,mr(re,ee,Xe(ie._payload),Se)}if(ut(ie))return Be(re,ee,ie,Se);if(G(ie))return ze(re,ee,ie,Se);Bg(re,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,ee!==null&&ee.tag===6?(g(re,ee.sibling),ee=A(ee,ie),ee.return=re,re=ee):(g(re,ee),ee=t_(ie,re.mode,Se),ee.return=re,re=ee),B(re)):g(re,ee)}return mr}var Nu=CO(!0),NO=CO(!1),Ug=ga(null),qg=null,ku=null,dw=null;function fw(){dw=ku=qg=null}function hw(l){var d=Ug.current;Qt(Ug),l._currentValue=d}function pw(l,d,g){for(;l!==null;){var w=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),l===g)break;l=l.return}}function Iu(l,d){qg=l,dw=ku=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(Fn=!0),l.firstContext=null)}function wi(l){var d=l._currentValue;if(dw!==l)if(l={context:l,memoizedValue:d,next:null},ku===null){if(qg===null)throw Error(r(308));ku=l,qg.dependencies={lanes:0,firstContext:l}}else ku=ku.next=l;return d}var $l=null;function mw(l){$l===null?$l=[l]:$l.push(l)}function kO(l,d,g,w){var A=d.interleaved;return A===null?(g.next=g,mw(d)):(g.next=A.next,A.next=g),d.interleaved=g,xo(l,w)}function xo(l,d){l.lanes|=d;var g=l.alternate;for(g!==null&&(g.lanes|=d),g=l,l=l.return;l!==null;)l.childLanes|=d,g=l.alternate,g!==null&&(g.childLanes|=d),g=l,l=l.return;return g.tag===3?g.stateNode:null}var xa=!1;function gw(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IO(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function bo(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function ba(l,d,g){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(Pt&2)!==0){var A=w.pending;return A===null?d.next=d:(d.next=A.next,A.next=d),w.pending=d,xo(l,g)}return A=w.interleaved,A===null?(d.next=d,mw(w)):(d.next=A.next,A.next=d),w.interleaved=d,xo(l,g)}function zg(l,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var w=d.lanes;w&=l.pendingLanes,g|=w,d.lanes=g,eh(l,g)}}function OO(l,d){var g=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var A=null,O=null;if(g=g.firstBaseUpdate,g!==null){do{var B={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};O===null?A=O=B:O=O.next=B,g=g.next}while(g!==null);O===null?A=O=d:O=O.next=d}else A=O=d;g={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:w.shared,effects:w.effects},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=d:l.next=d,g.lastBaseUpdate=d}function Wg(l,d,g,w){var A=l.updateQueue;xa=!1;var O=A.firstBaseUpdate,B=A.lastBaseUpdate,Y=A.shared.pending;if(Y!==null){A.shared.pending=null;var J=Y,se=J.next;J.next=null,B===null?O=se:B.next=se,B=J;var ve=l.alternate;ve!==null&&(ve=ve.updateQueue,Y=ve.lastBaseUpdate,Y!==B&&(Y===null?ve.firstBaseUpdate=se:Y.next=se,ve.lastBaseUpdate=J))}if(O!==null){var xe=A.baseState;B=0,ve=se=J=null,Y=O;do{var ge=Y.lane,Re=Y.eventTime;if((w&ge)===ge){ve!==null&&(ve=ve.next={eventTime:Re,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Be=l,ze=Y;switch(ge=d,Re=g,ze.tag){case 1:if(Be=ze.payload,typeof Be=="function"){xe=Be.call(Re,xe,ge);break e}xe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=ze.payload,ge=typeof Be=="function"?Be.call(Re,xe,ge):Be,ge==null)break e;xe=te({},xe,ge);break e;case 2:xa=!0}}Y.callback!==null&&Y.lane!==0&&(l.flags|=64,ge=A.effects,ge===null?A.effects=[Y]:ge.push(Y))}else Re={eventTime:Re,lane:ge,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ve===null?(se=ve=Re,J=xe):ve=ve.next=Re,B|=ge;if(Y=Y.next,Y===null){if(Y=A.shared.pending,Y===null)break;ge=Y,Y=ge.next,ge.next=null,A.lastBaseUpdate=ge,A.shared.pending=null}}while(!0);if(ve===null&&(J=xe),A.baseState=J,A.firstBaseUpdate=se,A.lastBaseUpdate=ve,d=A.shared.interleaved,d!==null){A=d;do B|=A.lane,A=A.next;while(A!==d)}else O===null&&(A.shared.lanes=0);Bl|=B,l.lanes=B,l.memoizedState=xe}}function jO(l,d,g){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var w=l[d],A=w.callback;if(A!==null){if(w.callback=null,w=g,typeof A!="function")throw Error(r(191,A));A.call(w)}}}var bh={},Rs=ga(bh),wh=ga(bh),_h=ga(bh);function Fl(l){if(l===bh)throw Error(r(174));return l}function yw(l,d){switch(Wt(_h,d),Wt(wh,l),Wt(Rs,bh),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:qi(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=qi(d,l)}Qt(Rs),Wt(Rs,d)}function Ou(){Qt(Rs),Qt(wh),Qt(_h)}function RO(l){Fl(_h.current);var d=Fl(Rs.current),g=qi(d,l.type);d!==g&&(Wt(wh,l),Wt(Rs,g))}function vw(l){wh.current===l&&(Qt(Rs),Qt(wh))}var sr=ga(0);function Hg(l){for(var d=l;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var xw=[];function bw(){for(var l=0;l<xw.length;l++)xw[l]._workInProgressVersionPrimary=null;xw.length=0}var Gg=I.ReactCurrentDispatcher,ww=I.ReactCurrentBatchConfig,Vl=0,or=null,kr=null,zr=null,Kg=!1,Sh=!1,Eh=0,nK=0;function pn(){throw Error(r(321))}function _w(l,d){if(d===null)return!1;for(var g=0;g<d.length&&g<l.length;g++)if(!Gi(l[g],d[g]))return!1;return!0}function Sw(l,d,g,w,A,O){if(Vl=O,or=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Gg.current=l===null||l.memoizedState===null?aK:lK,l=g(w,A),Sh){O=0;do{if(Sh=!1,Eh=0,25<=O)throw Error(r(301));O+=1,zr=kr=null,d.updateQueue=null,Gg.current=cK,l=g(w,A)}while(Sh)}if(Gg.current=Qg,d=kr!==null&&kr.next!==null,Vl=0,zr=kr=or=null,Kg=!1,d)throw Error(r(300));return l}function Ew(){var l=Eh!==0;return Eh=0,l}function Ms(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?or.memoizedState=zr=l:zr=zr.next=l,zr}function _i(){if(kr===null){var l=or.alternate;l=l!==null?l.memoizedState:null}else l=kr.next;var d=zr===null?or.memoizedState:zr.next;if(d!==null)zr=d,kr=l;else{if(l===null)throw Error(r(310));kr=l,l={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},zr===null?or.memoizedState=zr=l:zr=zr.next=l}return zr}function Ph(l,d){return typeof d=="function"?d(l):d}function Pw(l){var d=_i(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=l;var w=kr,A=w.baseQueue,O=g.pending;if(O!==null){if(A!==null){var B=A.next;A.next=O.next,O.next=B}w.baseQueue=A=O,g.pending=null}if(A!==null){O=A.next,w=w.baseState;var Y=B=null,J=null,se=O;do{var ve=se.lane;if((Vl&ve)===ve)J!==null&&(J=J.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),w=se.hasEagerState?se.eagerState:l(w,se.action);else{var xe={lane:ve,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};J===null?(Y=J=xe,B=w):J=J.next=xe,or.lanes|=ve,Bl|=ve}se=se.next}while(se!==null&&se!==O);J===null?B=w:J.next=Y,Gi(w,d.memoizedState)||(Fn=!0),d.memoizedState=w,d.baseState=B,d.baseQueue=J,g.lastRenderedState=w}if(l=g.interleaved,l!==null){A=l;do O=A.lane,or.lanes|=O,Bl|=O,A=A.next;while(A!==l)}else A===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function Tw(l){var d=_i(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=l;var w=g.dispatch,A=g.pending,O=d.memoizedState;if(A!==null){g.pending=null;var B=A=A.next;do O=l(O,B.action),B=B.next;while(B!==A);Gi(O,d.memoizedState)||(Fn=!0),d.memoizedState=O,d.baseQueue===null&&(d.baseState=O),g.lastRenderedState=O}return[O,w]}function MO(){}function DO(l,d){var g=or,w=_i(),A=d(),O=!Gi(w.memoizedState,A);if(O&&(w.memoizedState=A,Fn=!0),w=w.queue,Aw(FO.bind(null,g,w,l),[l]),w.getSnapshot!==d||O||zr!==null&&zr.memoizedState.tag&1){if(g.flags|=2048,Th(9,$O.bind(null,g,w,A,d),void 0,null),Wr===null)throw Error(r(349));(Vl&30)!==0||LO(g,d,A)}return A}function LO(l,d,g){l.flags|=16384,l={getSnapshot:d,value:g},d=or.updateQueue,d===null?(d={lastEffect:null,stores:null},or.updateQueue=d,d.stores=[l]):(g=d.stores,g===null?d.stores=[l]:g.push(l))}function $O(l,d,g,w){d.value=g,d.getSnapshot=w,VO(d)&&BO(l)}function FO(l,d,g){return g(function(){VO(d)&&BO(l)})}function VO(l){var d=l.getSnapshot;l=l.value;try{var g=d();return!Gi(l,g)}catch{return!0}}function BO(l){var d=xo(l,1);d!==null&&Ji(d,l,1,-1)}function UO(l){var d=Ms();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:l},d.queue=l,l=l.dispatch=oK.bind(null,or,l),[d.memoizedState,l]}function Th(l,d,g,w){return l={tag:l,create:d,destroy:g,deps:w,next:null},d=or.updateQueue,d===null?(d={lastEffect:null,stores:null},or.updateQueue=d,d.lastEffect=l.next=l):(g=d.lastEffect,g===null?d.lastEffect=l.next=l:(w=g.next,g.next=l,l.next=w,d.lastEffect=l)),l}function qO(){return _i().memoizedState}function Yg(l,d,g,w){var A=Ms();or.flags|=l,A.memoizedState=Th(1|d,g,void 0,w===void 0?null:w)}function Xg(l,d,g,w){var A=_i();w=w===void 0?null:w;var O=void 0;if(kr!==null){var B=kr.memoizedState;if(O=B.destroy,w!==null&&_w(w,B.deps)){A.memoizedState=Th(d,g,O,w);return}}or.flags|=l,A.memoizedState=Th(1|d,g,O,w)}function zO(l,d){return Yg(8390656,8,l,d)}function Aw(l,d){return Xg(2048,8,l,d)}function WO(l,d){return Xg(4,2,l,d)}function HO(l,d){return Xg(4,4,l,d)}function GO(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function KO(l,d,g){return g=g!=null?g.concat([l]):null,Xg(4,4,GO.bind(null,d,l),g)}function Cw(){}function YO(l,d){var g=_i();d=d===void 0?null:d;var w=g.memoizedState;return w!==null&&d!==null&&_w(d,w[1])?w[0]:(g.memoizedState=[l,d],l)}function XO(l,d){var g=_i();d=d===void 0?null:d;var w=g.memoizedState;return w!==null&&d!==null&&_w(d,w[1])?w[0]:(l=l(),g.memoizedState=[l,d],l)}function QO(l,d,g){return(Vl&21)===0?(l.baseState&&(l.baseState=!1,Fn=!0),l.memoizedState=g):(Gi(g,d)||(g=Jf(),or.lanes|=g,Bl|=g,l.baseState=!0),d)}function iK(l,d){var g=wt;wt=g!==0&&4>g?g:4,l(!0);var w=ww.transition;ww.transition={};try{l(!1),d()}finally{wt=g,ww.transition=w}}function JO(){return _i().memoizedState}function sK(l,d,g){var w=Ea(l);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},ZO(l))ej(d,g);else if(g=kO(l,d,g,w),g!==null){var A=Nn();Ji(g,l,w,A),tj(g,d,w)}}function oK(l,d,g){var w=Ea(l),A={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(ZO(l))ej(d,A);else{var O=l.alternate;if(l.lanes===0&&(O===null||O.lanes===0)&&(O=d.lastRenderedReducer,O!==null))try{var B=d.lastRenderedState,Y=O(B,g);if(A.hasEagerState=!0,A.eagerState=Y,Gi(Y,B)){var J=d.interleaved;J===null?(A.next=A,mw(d)):(A.next=J.next,J.next=A),d.interleaved=A;return}}catch{}finally{}g=kO(l,d,A,w),g!==null&&(A=Nn(),Ji(g,l,w,A),tj(g,d,w))}}function ZO(l){var d=l.alternate;return l===or||d!==null&&d===or}function ej(l,d){Sh=Kg=!0;var g=l.pending;g===null?d.next=d:(d.next=g.next,g.next=d),l.pending=d}function tj(l,d,g){if((g&4194240)!==0){var w=d.lanes;w&=l.pendingLanes,g|=w,d.lanes=g,eh(l,g)}}var Qg={readContext:wi,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},aK={readContext:wi,useCallback:function(l,d){return Ms().memoizedState=[l,d===void 0?null:d],l},useContext:wi,useEffect:zO,useImperativeHandle:function(l,d,g){return g=g!=null?g.concat([l]):null,Yg(4194308,4,GO.bind(null,d,l),g)},useLayoutEffect:function(l,d){return Yg(4194308,4,l,d)},useInsertionEffect:function(l,d){return Yg(4,2,l,d)},useMemo:function(l,d){var g=Ms();return d=d===void 0?null:d,l=l(),g.memoizedState=[l,d],l},useReducer:function(l,d,g){var w=Ms();return d=g!==void 0?g(d):d,w.memoizedState=w.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},w.queue=l,l=l.dispatch=sK.bind(null,or,l),[w.memoizedState,l]},useRef:function(l){var d=Ms();return l={current:l},d.memoizedState=l},useState:UO,useDebugValue:Cw,useDeferredValue:function(l){return Ms().memoizedState=l},useTransition:function(){var l=UO(!1),d=l[0];return l=iK.bind(null,l[1]),Ms().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,g){var w=or,A=Ms();if(er){if(g===void 0)throw Error(r(407));g=g()}else{if(g=d(),Wr===null)throw Error(r(349));(Vl&30)!==0||LO(w,d,g)}A.memoizedState=g;var O={value:g,getSnapshot:d};return A.queue=O,zO(FO.bind(null,w,O,l),[l]),w.flags|=2048,Th(9,$O.bind(null,w,O,g,d),void 0,null),g},useId:function(){var l=Ms(),d=Wr.identifierPrefix;if(er){var g=vo,w=yo;g=(w&~(1<<32-Jn(w)-1)).toString(32)+g,d=":"+d+"R"+g,g=Eh++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=nK++,d=":"+d+"r"+g.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},lK={readContext:wi,useCallback:YO,useContext:wi,useEffect:Aw,useImperativeHandle:KO,useInsertionEffect:WO,useLayoutEffect:HO,useMemo:XO,useReducer:Pw,useRef:qO,useState:function(){return Pw(Ph)},useDebugValue:Cw,useDeferredValue:function(l){var d=_i();return QO(d,kr.memoizedState,l)},useTransition:function(){var l=Pw(Ph)[0],d=_i().memoizedState;return[l,d]},useMutableSource:MO,useSyncExternalStore:DO,useId:JO,unstable_isNewReconciler:!1},cK={readContext:wi,useCallback:YO,useContext:wi,useEffect:Aw,useImperativeHandle:KO,useInsertionEffect:WO,useLayoutEffect:HO,useMemo:XO,useReducer:Tw,useRef:qO,useState:function(){return Tw(Ph)},useDebugValue:Cw,useDeferredValue:function(l){var d=_i();return kr===null?d.memoizedState=l:QO(d,kr.memoizedState,l)},useTransition:function(){var l=Tw(Ph)[0],d=_i().memoizedState;return[l,d]},useMutableSource:MO,useSyncExternalStore:DO,useId:JO,unstable_isNewReconciler:!1};function Yi(l,d){if(l&&l.defaultProps){d=te({},d),l=l.defaultProps;for(var g in l)d[g]===void 0&&(d[g]=l[g]);return d}return d}function Nw(l,d,g,w){d=l.memoizedState,g=g(w,d),g=g==null?d:te({},d,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Jg={isMounted:function(l){return(l=l._reactInternals)?Wi(l)===l:!1},enqueueSetState:function(l,d,g){l=l._reactInternals;var w=Nn(),A=Ea(l),O=bo(w,A);O.payload=d,g!=null&&(O.callback=g),d=ba(l,O,A),d!==null&&(Ji(d,l,A,w),zg(d,l,A))},enqueueReplaceState:function(l,d,g){l=l._reactInternals;var w=Nn(),A=Ea(l),O=bo(w,A);O.tag=1,O.payload=d,g!=null&&(O.callback=g),d=ba(l,O,A),d!==null&&(Ji(d,l,A,w),zg(d,l,A))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var g=Nn(),w=Ea(l),A=bo(g,w);A.tag=2,d!=null&&(A.callback=d),d=ba(l,A,w),d!==null&&(Ji(d,l,w,g),zg(d,l,w))}};function rj(l,d,g,w,A,O,B){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,O,B):d.prototype&&d.prototype.isPureReactComponent?!fh(g,w)||!fh(A,O):!0}function nj(l,d,g){var w=!1,A=ya,O=d.contextType;return typeof O=="object"&&O!==null?O=wi(O):(A=$n(d)?Ml:hn.current,w=d.contextTypes,O=(w=w!=null)?Pu(l,A):ya),d=new d(g,O),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jg,l.stateNode=d,d._reactInternals=l,w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=A,l.__reactInternalMemoizedMaskedChildContext=O),d}function ij(l,d,g,w){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,w),d.state!==l&&Jg.enqueueReplaceState(d,d.state,null)}function kw(l,d,g,w){var A=l.stateNode;A.props=g,A.state=l.memoizedState,A.refs={},gw(l);var O=d.contextType;typeof O=="object"&&O!==null?A.context=wi(O):(O=$n(d)?Ml:hn.current,A.context=Pu(l,O)),A.state=l.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(Nw(l,d,O,g),A.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(d=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),d!==A.state&&Jg.enqueueReplaceState(A,A.state,null),Wg(l,g,A,w),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308)}function ju(l,d){try{var g="",w=d;do g+=Oe(w),w=w.return;while(w);var A=g}catch(O){A=`
Error generating stack: `+O.message+`
`+O.stack}return{value:l,source:d,stack:A,digest:null}}function Iw(l,d,g){return{value:l,source:null,stack:g??null,digest:d??null}}function Ow(l,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var uK=typeof WeakMap=="function"?WeakMap:Map;function sj(l,d,g){g=bo(-1,g),g.tag=3,g.payload={element:null};var w=d.value;return g.callback=function(){sy||(sy=!0,Gw=w),Ow(l,d)},g}function oj(l,d,g){g=bo(-1,g),g.tag=3;var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var A=d.value;g.payload=function(){return w(A)},g.callback=function(){Ow(l,d)}}var O=l.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(g.callback=function(){Ow(l,d),typeof w!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var B=d.stack;this.componentDidCatch(d.value,{componentStack:B!==null?B:""})}),g}function aj(l,d,g){var w=l.pingCache;if(w===null){w=l.pingCache=new uK;var A=new Set;w.set(d,A)}else A=w.get(d),A===void 0&&(A=new Set,w.set(d,A));A.has(g)||(A.add(g),l=EK.bind(null,l,d,g),d.then(l,l))}function lj(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function cj(l,d,g,w,A){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=bo(-1,1),d.tag=2,ba(g,d,1))),g.lanes|=1),l):(l.flags|=65536,l.lanes=A,l)}var dK=I.ReactCurrentOwner,Fn=!1;function Cn(l,d,g,w){d.child=l===null?NO(d,null,g,w):Nu(d,l.child,g,w)}function uj(l,d,g,w,A){g=g.render;var O=d.ref;return Iu(d,A),w=Sw(l,d,g,w,O,A),g=Ew(),l!==null&&!Fn?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~A,wo(l,d,A)):(er&&g&&ow(d),d.flags|=1,Cn(l,d,w,A),d.child)}function dj(l,d,g,w,A){if(l===null){var O=g.type;return typeof O=="function"&&!e_(O)&&O.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=O,fj(l,d,O,w,A)):(l=dy(g.type,null,w,d,d.mode,A),l.ref=d.ref,l.return=d,d.child=l)}if(O=l.child,(l.lanes&A)===0){var B=O.memoizedProps;if(g=g.compare,g=g!==null?g:fh,g(B,w)&&l.ref===d.ref)return wo(l,d,A)}return d.flags|=1,l=Ta(O,w),l.ref=d.ref,l.return=d,d.child=l}function fj(l,d,g,w,A){if(l!==null){var O=l.memoizedProps;if(fh(O,w)&&l.ref===d.ref)if(Fn=!1,d.pendingProps=w=O,(l.lanes&A)!==0)(l.flags&131072)!==0&&(Fn=!0);else return d.lanes=l.lanes,wo(l,d,A)}return jw(l,d,g,w,A)}function hj(l,d,g){var w=d.pendingProps,A=w.children,O=l!==null?l.memoizedState:null;if(w.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Mu,si),si|=g;else{if((g&1073741824)===0)return l=O!==null?O.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,Wt(Mu,si),si|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=O!==null?O.baseLanes:g,Wt(Mu,si),si|=w}else O!==null?(w=O.baseLanes|g,d.memoizedState=null):w=g,Wt(Mu,si),si|=w;return Cn(l,d,A,g),d.child}function pj(l,d){var g=d.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function jw(l,d,g,w,A){var O=$n(g)?Ml:hn.current;return O=Pu(d,O),Iu(d,A),g=Sw(l,d,g,w,O,A),w=Ew(),l!==null&&!Fn?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~A,wo(l,d,A)):(er&&w&&ow(d),d.flags|=1,Cn(l,d,g,A),d.child)}function mj(l,d,g,w,A){if($n(g)){var O=!0;Dg(d)}else O=!1;if(Iu(d,A),d.stateNode===null)ey(l,d),nj(d,g,w),kw(d,g,w,A),w=!0;else if(l===null){var B=d.stateNode,Y=d.memoizedProps;B.props=Y;var J=B.context,se=g.contextType;typeof se=="object"&&se!==null?se=wi(se):(se=$n(g)?Ml:hn.current,se=Pu(d,se));var ve=g.getDerivedStateFromProps,xe=typeof ve=="function"||typeof B.getSnapshotBeforeUpdate=="function";xe||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(Y!==w||J!==se)&&ij(d,B,w,se),xa=!1;var ge=d.memoizedState;B.state=ge,Wg(d,w,B,A),J=d.memoizedState,Y!==w||ge!==J||Ln.current||xa?(typeof ve=="function"&&(Nw(d,g,ve,w),J=d.memoizedState),(Y=xa||rj(d,g,Y,w,ge,J,se))?(xe||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(d.flags|=4194308)):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=J),B.props=w,B.state=J,B.context=se,w=Y):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{B=d.stateNode,IO(l,d),Y=d.memoizedProps,se=d.type===d.elementType?Y:Yi(d.type,Y),B.props=se,xe=d.pendingProps,ge=B.context,J=g.contextType,typeof J=="object"&&J!==null?J=wi(J):(J=$n(g)?Ml:hn.current,J=Pu(d,J));var Re=g.getDerivedStateFromProps;(ve=typeof Re=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(Y!==xe||ge!==J)&&ij(d,B,w,J),xa=!1,ge=d.memoizedState,B.state=ge,Wg(d,w,B,A);var Be=d.memoizedState;Y!==xe||ge!==Be||Ln.current||xa?(typeof Re=="function"&&(Nw(d,g,Re,w),Be=d.memoizedState),(se=xa||rj(d,g,se,w,ge,Be,J)||!1)?(ve||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(w,Be,J),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(w,Be,J)),typeof B.componentDidUpdate=="function"&&(d.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof B.componentDidUpdate!="function"||Y===l.memoizedProps&&ge===l.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&ge===l.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=Be),B.props=w,B.state=Be,B.context=J,w=se):(typeof B.componentDidUpdate!="function"||Y===l.memoizedProps&&ge===l.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&ge===l.memoizedState||(d.flags|=1024),w=!1)}return Rw(l,d,g,w,O,A)}function Rw(l,d,g,w,A,O){pj(l,d);var B=(d.flags&128)!==0;if(!w&&!B)return A&&bO(d,g,!1),wo(l,d,O);w=d.stateNode,dK.current=d;var Y=B&&typeof g.getDerivedStateFromError!="function"?null:w.render();return d.flags|=1,l!==null&&B?(d.child=Nu(d,l.child,null,O),d.child=Nu(d,null,Y,O)):Cn(l,d,Y,O),d.memoizedState=w.state,A&&bO(d,g,!0),d.child}function gj(l){var d=l.stateNode;d.pendingContext?vO(l,d.pendingContext,d.pendingContext!==d.context):d.context&&vO(l,d.context,!1),yw(l,d.containerInfo)}function yj(l,d,g,w,A){return Cu(),uw(A),d.flags|=256,Cn(l,d,g,w),d.child}var Mw={dehydrated:null,treeContext:null,retryLane:0};function Dw(l){return{baseLanes:l,cachePool:null,transitions:null}}function vj(l,d,g){var w=d.pendingProps,A=sr.current,O=!1,B=(d.flags&128)!==0,Y;if((Y=B)||(Y=l!==null&&l.memoizedState===null?!1:(A&2)!==0),Y?(O=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(A|=1),Wt(sr,A&1),l===null)return cw(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(B=w.children,l=w.fallback,O?(w=d.mode,O=d.child,B={mode:"hidden",children:B},(w&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=B):O=fy(B,w,0,null),l=Wl(l,w,g,null),O.return=d,l.return=d,O.sibling=l,d.child=O,d.child.memoizedState=Dw(g),d.memoizedState=Mw,l):Lw(d,B));if(A=l.memoizedState,A!==null&&(Y=A.dehydrated,Y!==null))return fK(l,d,B,w,Y,A,g);if(O){O=w.fallback,B=d.mode,A=l.child,Y=A.sibling;var J={mode:"hidden",children:w.children};return(B&1)===0&&d.child!==A?(w=d.child,w.childLanes=0,w.pendingProps=J,d.deletions=null):(w=Ta(A,J),w.subtreeFlags=A.subtreeFlags&14680064),Y!==null?O=Ta(Y,O):(O=Wl(O,B,g,null),O.flags|=2),O.return=d,w.return=d,w.sibling=O,d.child=w,w=O,O=d.child,B=l.child.memoizedState,B=B===null?Dw(g):{baseLanes:B.baseLanes|g,cachePool:null,transitions:B.transitions},O.memoizedState=B,O.childLanes=l.childLanes&~g,d.memoizedState=Mw,w}return O=l.child,l=O.sibling,w=Ta(O,{mode:"visible",children:w.children}),(d.mode&1)===0&&(w.lanes=g),w.return=d,w.sibling=null,l!==null&&(g=d.deletions,g===null?(d.deletions=[l],d.flags|=16):g.push(l)),d.child=w,d.memoizedState=null,w}function Lw(l,d){return d=fy({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function Zg(l,d,g,w){return w!==null&&uw(w),Nu(d,l.child,null,g),l=Lw(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function fK(l,d,g,w,A,O,B){if(g)return d.flags&256?(d.flags&=-257,w=Iw(Error(r(422))),Zg(l,d,B,w)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(O=w.fallback,A=d.mode,w=fy({mode:"visible",children:w.children},A,0,null),O=Wl(O,A,B,null),O.flags|=2,w.return=d,O.return=d,w.sibling=O,d.child=w,(d.mode&1)!==0&&Nu(d,l.child,null,B),d.child.memoizedState=Dw(B),d.memoizedState=Mw,O);if((d.mode&1)===0)return Zg(l,d,B,null);if(A.data==="$!"){if(w=A.nextSibling&&A.nextSibling.dataset,w)var Y=w.dgst;return w=Y,O=Error(r(419)),w=Iw(O,w,void 0),Zg(l,d,B,w)}if(Y=(B&l.childLanes)!==0,Fn||Y){if(w=Wr,w!==null){switch(B&-B){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(w.suspendedLanes|B))!==0?0:A,A!==0&&A!==O.retryLane&&(O.retryLane=A,xo(l,A),Ji(w,l,A,-1))}return Zw(),w=Iw(Error(r(421))),Zg(l,d,B,w)}return A.data==="$?"?(d.flags|=128,d.child=l.child,d=PK.bind(null,l),A._reactRetry=d,null):(l=O.treeContext,ii=ma(A.nextSibling),ni=d,er=!0,Ki=null,l!==null&&(xi[bi++]=yo,xi[bi++]=vo,xi[bi++]=Dl,yo=l.id,vo=l.overflow,Dl=d),d=Lw(d,w.children),d.flags|=4096,d)}function xj(l,d,g){l.lanes|=d;var w=l.alternate;w!==null&&(w.lanes|=d),pw(l.return,d,g)}function $w(l,d,g,w,A){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:A}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=w,O.tail=g,O.tailMode=A)}function bj(l,d,g){var w=d.pendingProps,A=w.revealOrder,O=w.tail;if(Cn(l,d,w.children,g),w=sr.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&xj(l,g,d);else if(l.tag===19)xj(l,g,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}if(Wt(sr,w),(d.mode&1)===0)d.memoizedState=null;else switch(A){case"forwards":for(g=d.child,A=null;g!==null;)l=g.alternate,l!==null&&Hg(l)===null&&(A=g),g=g.sibling;g=A,g===null?(A=d.child,d.child=null):(A=g.sibling,g.sibling=null),$w(d,!1,A,g,O);break;case"backwards":for(g=null,A=d.child,d.child=null;A!==null;){if(l=A.alternate,l!==null&&Hg(l)===null){d.child=A;break}l=A.sibling,A.sibling=g,g=A,A=l}$w(d,!0,g,null,O);break;case"together":$w(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ey(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function wo(l,d,g){if(l!==null&&(d.dependencies=l.dependencies),Bl|=d.lanes,(g&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,g=Ta(l,l.pendingProps),d.child=g,g.return=d;l.sibling!==null;)l=l.sibling,g=g.sibling=Ta(l,l.pendingProps),g.return=d;g.sibling=null}return d.child}function hK(l,d,g){switch(d.tag){case 3:gj(d),Cu();break;case 5:RO(d);break;case 1:$n(d.type)&&Dg(d);break;case 4:yw(d,d.stateNode.containerInfo);break;case 10:var w=d.type._context,A=d.memoizedProps.value;Wt(Ug,w._currentValue),w._currentValue=A;break;case 13:if(w=d.memoizedState,w!==null)return w.dehydrated!==null?(Wt(sr,sr.current&1),d.flags|=128,null):(g&d.child.childLanes)!==0?vj(l,d,g):(Wt(sr,sr.current&1),l=wo(l,d,g),l!==null?l.sibling:null);Wt(sr,sr.current&1);break;case 19:if(w=(g&d.childLanes)!==0,(l.flags&128)!==0){if(w)return bj(l,d,g);d.flags|=128}if(A=d.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Wt(sr,sr.current),w)break;return null;case 22:case 23:return d.lanes=0,hj(l,d,g)}return wo(l,d,g)}var wj,Fw,_j,Sj;wj=function(l,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)l.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Fw=function(){},_j=function(l,d,g,w){var A=l.memoizedProps;if(A!==w){l=d.stateNode,Fl(Rs.current);var O=null;switch(g){case"input":A=fe(l,A),w=fe(l,w),O=[];break;case"select":A=te({},A,{value:void 0}),w=te({},w,{value:void 0}),O=[];break;case"textarea":A=ir(l,A),w=ir(l,w),O=[];break;default:typeof A.onClick!="function"&&typeof w.onClick=="function"&&(l.onclick=jg)}ke(g,w);var B;g=null;for(se in A)if(!w.hasOwnProperty(se)&&A.hasOwnProperty(se)&&A[se]!=null)if(se==="style"){var Y=A[se];for(B in Y)Y.hasOwnProperty(B)&&(g||(g={}),g[B]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?O||(O=[]):(O=O||[]).push(se,null));for(se in w){var J=w[se];if(Y=A!=null?A[se]:void 0,w.hasOwnProperty(se)&&J!==Y&&(J!=null||Y!=null))if(se==="style")if(Y){for(B in Y)!Y.hasOwnProperty(B)||J&&J.hasOwnProperty(B)||(g||(g={}),g[B]="");for(B in J)J.hasOwnProperty(B)&&Y[B]!==J[B]&&(g||(g={}),g[B]=J[B])}else g||(O||(O=[]),O.push(se,g)),g=J;else se==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,Y=Y?Y.__html:void 0,J!=null&&Y!==J&&(O=O||[]).push(se,J)):se==="children"?typeof J!="string"&&typeof J!="number"||(O=O||[]).push(se,""+J):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(J!=null&&se==="onScroll"&&Xt("scroll",l),O||Y===J||(O=[])):(O=O||[]).push(se,J))}g&&(O=O||[]).push("style",g);var se=O;(d.updateQueue=se)&&(d.flags|=4)}},Sj=function(l,d,g,w){g!==w&&(d.flags|=4)};function Ah(l,d){if(!er)switch(l.tailMode){case"hidden":d=l.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function mn(l){var d=l.alternate!==null&&l.alternate.child===l.child,g=0,w=0;if(d)for(var A=l.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags&14680064,w|=A.flags&14680064,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=w,l.childLanes=g,d}function pK(l,d,g){var w=d.pendingProps;switch(aw(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(d),null;case 1:return $n(d.type)&&Mg(),mn(d),null;case 3:return w=d.stateNode,Ou(),Qt(Ln),Qt(hn),bw(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(l===null||l.child===null)&&(Vg(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ki!==null&&(Xw(Ki),Ki=null))),Fw(l,d),mn(d),null;case 5:vw(d);var A=Fl(_h.current);if(g=d.type,l!==null&&d.stateNode!=null)_j(l,d,g,w,A),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!w){if(d.stateNode===null)throw Error(r(166));return mn(d),null}if(l=Fl(Rs.current),Vg(d)){w=d.stateNode,g=d.type;var O=d.memoizedProps;switch(w[js]=d,w[yh]=O,l=(d.mode&1)!==0,g){case"dialog":Xt("cancel",w),Xt("close",w);break;case"iframe":case"object":case"embed":Xt("load",w);break;case"video":case"audio":for(A=0;A<ph.length;A++)Xt(ph[A],w);break;case"source":Xt("error",w);break;case"img":case"image":case"link":Xt("error",w),Xt("load",w);break;case"details":Xt("toggle",w);break;case"input":we(w,O),Xt("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!O.multiple},Xt("invalid",w);break;case"textarea":Nr(w,O),Xt("invalid",w)}ke(g,O),A=null;for(var B in O)if(O.hasOwnProperty(B)){var Y=O[B];B==="children"?typeof Y=="string"?w.textContent!==Y&&(O.suppressHydrationWarning!==!0&&Og(w.textContent,Y,l),A=["children",Y]):typeof Y=="number"&&w.textContent!==""+Y&&(O.suppressHydrationWarning!==!0&&Og(w.textContent,Y,l),A=["children",""+Y]):i.hasOwnProperty(B)&&Y!=null&&B==="onScroll"&&Xt("scroll",w)}switch(g){case"input":Ae(w),ft(w,O,!0);break;case"textarea":Ae(w),Ur(w);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(w.onclick=jg)}w=A,d.updateQueue=w,w!==null&&(d.flags|=4)}else{B=A.nodeType===9?A:A.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ui(g)),l==="http://www.w3.org/1999/xhtml"?g==="script"?(l=B.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof w.is=="string"?l=B.createElement(g,{is:w.is}):(l=B.createElement(g),g==="select"&&(B=l,w.multiple?B.multiple=!0:w.size&&(B.size=w.size))):l=B.createElementNS(l,g),l[js]=d,l[yh]=w,wj(l,d,!1,!1),d.stateNode=l;e:{switch(B=ht(g,w),g){case"dialog":Xt("cancel",l),Xt("close",l),A=w;break;case"iframe":case"object":case"embed":Xt("load",l),A=w;break;case"video":case"audio":for(A=0;A<ph.length;A++)Xt(ph[A],l);A=w;break;case"source":Xt("error",l),A=w;break;case"img":case"image":case"link":Xt("error",l),Xt("load",l),A=w;break;case"details":Xt("toggle",l),A=w;break;case"input":we(l,w),A=fe(l,w),Xt("invalid",l);break;case"option":A=w;break;case"select":l._wrapperState={wasMultiple:!!w.multiple},A=te({},w,{value:void 0}),Xt("invalid",l);break;case"textarea":Nr(l,w),A=ir(l,w),Xt("invalid",l);break;default:A=w}ke(g,A),Y=A;for(O in Y)if(Y.hasOwnProperty(O)){var J=Y[O];O==="style"?oe(l,J):O==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&zi(l,J)):O==="children"?typeof J=="string"?(g!=="textarea"||J!=="")&&un(l,J):typeof J=="number"&&un(l,""+J):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?J!=null&&O==="onScroll"&&Xt("scroll",l):J!=null&&E(l,O,J,B))}switch(g){case"input":Ae(l),ft(l,w,!1);break;case"textarea":Ae(l),Ur(l);break;case"option":w.value!=null&&l.setAttribute("value",""+_e(w.value));break;case"select":l.multiple=!!w.multiple,O=w.value,O!=null?Dt(l,!!w.multiple,O,!1):w.defaultValue!=null&&Dt(l,!!w.multiple,w.defaultValue,!0);break;default:typeof A.onClick=="function"&&(l.onclick=jg)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return mn(d),null;case 6:if(l&&d.stateNode!=null)Sj(l,d,l.memoizedProps,w);else{if(typeof w!="string"&&d.stateNode===null)throw Error(r(166));if(g=Fl(_h.current),Fl(Rs.current),Vg(d)){if(w=d.stateNode,g=d.memoizedProps,w[js]=d,(O=w.nodeValue!==g)&&(l=ni,l!==null))switch(l.tag){case 3:Og(w.nodeValue,g,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Og(w.nodeValue,g,(l.mode&1)!==0)}O&&(d.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[js]=d,d.stateNode=w}return mn(d),null;case 13:if(Qt(sr),w=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(er&&ii!==null&&(d.mode&1)!==0&&(d.flags&128)===0)TO(),Cu(),d.flags|=98560,O=!1;else if(O=Vg(d),w!==null&&w.dehydrated!==null){if(l===null){if(!O)throw Error(r(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[js]=d}else Cu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;mn(d),O=!1}else Ki!==null&&(Xw(Ki),Ki=null),O=!0;if(!O)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=g,d):(w=w!==null,w!==(l!==null&&l.memoizedState!==null)&&w&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(sr.current&1)!==0?Ir===0&&(Ir=3):Zw())),d.updateQueue!==null&&(d.flags|=4),mn(d),null);case 4:return Ou(),Fw(l,d),l===null&&mh(d.stateNode.containerInfo),mn(d),null;case 10:return hw(d.type._context),mn(d),null;case 17:return $n(d.type)&&Mg(),mn(d),null;case 19:if(Qt(sr),O=d.memoizedState,O===null)return mn(d),null;if(w=(d.flags&128)!==0,B=O.rendering,B===null)if(w)Ah(O,!1);else{if(Ir!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(B=Hg(l),B!==null){for(d.flags|=128,Ah(O,!1),w=B.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),d.subtreeFlags=0,w=g,g=d.child;g!==null;)O=g,l=w,O.flags&=14680066,B=O.alternate,B===null?(O.childLanes=0,O.lanes=l,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=B.childLanes,O.lanes=B.lanes,O.child=B.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=B.memoizedProps,O.memoizedState=B.memoizedState,O.updateQueue=B.updateQueue,O.type=B.type,l=B.dependencies,O.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),g=g.sibling;return Wt(sr,sr.current&1|2),d.child}l=l.sibling}O.tail!==null&&Yt()>Du&&(d.flags|=128,w=!0,Ah(O,!1),d.lanes=4194304)}else{if(!w)if(l=Hg(B),l!==null){if(d.flags|=128,w=!0,g=l.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),Ah(O,!0),O.tail===null&&O.tailMode==="hidden"&&!B.alternate&&!er)return mn(d),null}else 2*Yt()-O.renderingStartTime>Du&&g!==1073741824&&(d.flags|=128,w=!0,Ah(O,!1),d.lanes=4194304);O.isBackwards?(B.sibling=d.child,d.child=B):(g=O.last,g!==null?g.sibling=B:d.child=B,O.last=B)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=Yt(),d.sibling=null,g=sr.current,Wt(sr,w?g&1|2:g&1),d):(mn(d),null);case 22:case 23:return Jw(),w=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==w&&(d.flags|=8192),w&&(d.mode&1)!==0?(si&1073741824)!==0&&(mn(d),d.subtreeFlags&6&&(d.flags|=8192)):mn(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function mK(l,d){switch(aw(d),d.tag){case 1:return $n(d.type)&&Mg(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Ou(),Qt(Ln),Qt(hn),bw(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return vw(d),null;case 13:if(Qt(sr),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Cu()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return Qt(sr),null;case 4:return Ou(),null;case 10:return hw(d.type._context),null;case 22:case 23:return Jw(),null;case 24:return null;default:return null}}var ty=!1,gn=!1,gK=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Ru(l,d){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){dr(l,d,w)}else g.current=null}function Vw(l,d,g){try{g()}catch(w){dr(l,d,w)}}var Ej=!1;function yK(l,d){if(Jb=fo,l=rO(),zb(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var A=w.anchorOffset,O=w.focusNode;w=w.focusOffset;try{g.nodeType,O.nodeType}catch{g=null;break e}var B=0,Y=-1,J=-1,se=0,ve=0,xe=l,ge=null;t:for(;;){for(var Re;xe!==g||A!==0&&xe.nodeType!==3||(Y=B+A),xe!==O||w!==0&&xe.nodeType!==3||(J=B+w),xe.nodeType===3&&(B+=xe.nodeValue.length),(Re=xe.firstChild)!==null;)ge=xe,xe=Re;for(;;){if(xe===l)break t;if(ge===g&&++se===A&&(Y=B),ge===O&&++ve===w&&(J=B),(Re=xe.nextSibling)!==null)break;xe=ge,ge=xe.parentNode}xe=Re}g=Y===-1||J===-1?null:{start:Y,end:J}}else g=null}g=g||{start:0,end:0}}else g=null;for(Zb={focusedElem:l,selectionRange:g},fo=!1,Fe=d;Fe!==null;)if(d=Fe,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Fe=l;else for(;Fe!==null;){d=Fe;try{var Be=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var ze=Be.memoizedProps,mr=Be.memoizedState,re=d.stateNode,ee=re.getSnapshotBeforeUpdate(d.elementType===d.type?ze:Yi(d.type,ze),mr);re.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var ie=d.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Se){dr(d,d.return,Se)}if(l=d.sibling,l!==null){l.return=d.return,Fe=l;break}Fe=d.return}return Be=Ej,Ej=!1,Be}function Ch(l,d,g){var w=d.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&l)===l){var O=A.destroy;A.destroy=void 0,O!==void 0&&Vw(d,g,O)}A=A.next}while(A!==w)}}function ry(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&l)===l){var w=g.create;g.destroy=w()}g=g.next}while(g!==d)}}function Bw(l){var d=l.ref;if(d!==null){var g=l.stateNode;switch(l.tag){case 5:l=g;break;default:l=g}typeof d=="function"?d(l):d.current=l}}function Pj(l){var d=l.alternate;d!==null&&(l.alternate=null,Pj(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[js],delete d[yh],delete d[nw],delete d[ZG],delete d[eK])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Tj(l){return l.tag===5||l.tag===3||l.tag===4}function Aj(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Tj(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Uw(l,d,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(l,d):g.insertBefore(l,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(l,g)):(d=g,d.appendChild(l)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=jg));else if(w!==4&&(l=l.child,l!==null))for(Uw(l,d,g),l=l.sibling;l!==null;)Uw(l,d,g),l=l.sibling}function qw(l,d,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?g.insertBefore(l,d):g.appendChild(l);else if(w!==4&&(l=l.child,l!==null))for(qw(l,d,g),l=l.sibling;l!==null;)qw(l,d,g),l=l.sibling}var rn=null,Xi=!1;function wa(l,d,g){for(g=g.child;g!==null;)Cj(l,d,g),g=g.sibling}function Cj(l,d,g){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Pl,g)}catch{}switch(g.tag){case 5:gn||Ru(g,d);case 6:var w=rn,A=Xi;rn=null,wa(l,d,g),rn=w,Xi=A,rn!==null&&(Xi?(l=rn,g=g.stateNode,l.nodeType===8?l.parentNode.removeChild(g):l.removeChild(g)):rn.removeChild(g.stateNode));break;case 18:rn!==null&&(Xi?(l=rn,g=g.stateNode,l.nodeType===8?rw(l.parentNode,g):l.nodeType===1&&rw(l,g),da(l)):rw(rn,g.stateNode));break;case 4:w=rn,A=Xi,rn=g.stateNode.containerInfo,Xi=!0,wa(l,d,g),rn=w,Xi=A;break;case 0:case 11:case 14:case 15:if(!gn&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){A=w=w.next;do{var O=A,B=O.destroy;O=O.tag,B!==void 0&&((O&2)!==0||(O&4)!==0)&&Vw(g,d,B),A=A.next}while(A!==w)}wa(l,d,g);break;case 1:if(!gn&&(Ru(g,d),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(Y){dr(g,d,Y)}wa(l,d,g);break;case 21:wa(l,d,g);break;case 22:g.mode&1?(gn=(w=gn)||g.memoizedState!==null,wa(l,d,g),gn=w):wa(l,d,g);break;default:wa(l,d,g)}}function Nj(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new gK),d.forEach(function(w){var A=TK.bind(null,l,w);g.has(w)||(g.add(w),w.then(A,A))})}}function Qi(l,d){var g=d.deletions;if(g!==null)for(var w=0;w<g.length;w++){var A=g[w];try{var O=l,B=d,Y=B;e:for(;Y!==null;){switch(Y.tag){case 5:rn=Y.stateNode,Xi=!1;break e;case 3:rn=Y.stateNode.containerInfo,Xi=!0;break e;case 4:rn=Y.stateNode.containerInfo,Xi=!0;break e}Y=Y.return}if(rn===null)throw Error(r(160));Cj(O,B,A),rn=null,Xi=!1;var J=A.alternate;J!==null&&(J.return=null),A.return=null}catch(se){dr(A,d,se)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)kj(d,l),d=d.sibling}function kj(l,d){var g=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Qi(d,l),Ds(l),w&4){try{Ch(3,l,l.return),ry(3,l)}catch(ze){dr(l,l.return,ze)}try{Ch(5,l,l.return)}catch(ze){dr(l,l.return,ze)}}break;case 1:Qi(d,l),Ds(l),w&512&&g!==null&&Ru(g,g.return);break;case 5:if(Qi(d,l),Ds(l),w&512&&g!==null&&Ru(g,g.return),l.flags&32){var A=l.stateNode;try{un(A,"")}catch(ze){dr(l,l.return,ze)}}if(w&4&&(A=l.stateNode,A!=null)){var O=l.memoizedProps,B=g!==null?g.memoizedProps:O,Y=l.type,J=l.updateQueue;if(l.updateQueue=null,J!==null)try{Y==="input"&&O.type==="radio"&&O.name!=null&&Ne(A,O),ht(Y,B);var se=ht(Y,O);for(B=0;B<J.length;B+=2){var ve=J[B],xe=J[B+1];ve==="style"?oe(A,xe):ve==="dangerouslySetInnerHTML"?zi(A,xe):ve==="children"?un(A,xe):E(A,ve,xe,se)}switch(Y){case"input":je(A,O);break;case"textarea":Xn(A,O);break;case"select":var ge=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!O.multiple;var Re=O.value;Re!=null?Dt(A,!!O.multiple,Re,!1):ge!==!!O.multiple&&(O.defaultValue!=null?Dt(A,!!O.multiple,O.defaultValue,!0):Dt(A,!!O.multiple,O.multiple?[]:"",!1))}A[yh]=O}catch(ze){dr(l,l.return,ze)}}break;case 6:if(Qi(d,l),Ds(l),w&4){if(l.stateNode===null)throw Error(r(162));A=l.stateNode,O=l.memoizedProps;try{A.nodeValue=O}catch(ze){dr(l,l.return,ze)}}break;case 3:if(Qi(d,l),Ds(l),w&4&&g!==null&&g.memoizedState.isDehydrated)try{da(d.containerInfo)}catch(ze){dr(l,l.return,ze)}break;case 4:Qi(d,l),Ds(l);break;case 13:Qi(d,l),Ds(l),A=l.child,A.flags&8192&&(O=A.memoizedState!==null,A.stateNode.isHidden=O,!O||A.alternate!==null&&A.alternate.memoizedState!==null||(Hw=Yt())),w&4&&Nj(l);break;case 22:if(ve=g!==null&&g.memoizedState!==null,l.mode&1?(gn=(se=gn)||ve,Qi(d,l),gn=se):Qi(d,l),Ds(l),w&8192){if(se=l.memoizedState!==null,(l.stateNode.isHidden=se)&&!ve&&(l.mode&1)!==0)for(Fe=l,ve=l.child;ve!==null;){for(xe=Fe=ve;Fe!==null;){switch(ge=Fe,Re=ge.child,ge.tag){case 0:case 11:case 14:case 15:Ch(4,ge,ge.return);break;case 1:Ru(ge,ge.return);var Be=ge.stateNode;if(typeof Be.componentWillUnmount=="function"){w=ge,g=ge.return;try{d=w,Be.props=d.memoizedProps,Be.state=d.memoizedState,Be.componentWillUnmount()}catch(ze){dr(w,g,ze)}}break;case 5:Ru(ge,ge.return);break;case 22:if(ge.memoizedState!==null){jj(xe);continue}}Re!==null?(Re.return=ge,Fe=Re):jj(xe)}ve=ve.sibling}e:for(ve=null,xe=l;;){if(xe.tag===5){if(ve===null){ve=xe;try{A=xe.stateNode,se?(O=A.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(Y=xe.stateNode,J=xe.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null,Y.style.display=mt("display",B))}catch(ze){dr(l,l.return,ze)}}}else if(xe.tag===6){if(ve===null)try{xe.stateNode.nodeValue=se?"":xe.memoizedProps}catch(ze){dr(l,l.return,ze)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===l)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===l)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===l)break e;ve===xe&&(ve=null),xe=xe.return}ve===xe&&(ve=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:Qi(d,l),Ds(l),w&4&&Nj(l);break;case 21:break;default:Qi(d,l),Ds(l)}}function Ds(l){var d=l.flags;if(d&2){try{e:{for(var g=l.return;g!==null;){if(Tj(g)){var w=g;break e}g=g.return}throw Error(r(160))}switch(w.tag){case 5:var A=w.stateNode;w.flags&32&&(un(A,""),w.flags&=-33);var O=Aj(l);qw(l,O,A);break;case 3:case 4:var B=w.stateNode.containerInfo,Y=Aj(l);Uw(l,Y,B);break;default:throw Error(r(161))}}catch(J){dr(l,l.return,J)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function vK(l,d,g){Fe=l,Ij(l)}function Ij(l,d,g){for(var w=(l.mode&1)!==0;Fe!==null;){var A=Fe,O=A.child;if(A.tag===22&&w){var B=A.memoizedState!==null||ty;if(!B){var Y=A.alternate,J=Y!==null&&Y.memoizedState!==null||gn;Y=ty;var se=gn;if(ty=B,(gn=J)&&!se)for(Fe=A;Fe!==null;)B=Fe,J=B.child,B.tag===22&&B.memoizedState!==null?Rj(A):J!==null?(J.return=B,Fe=J):Rj(A);for(;O!==null;)Fe=O,Ij(O),O=O.sibling;Fe=A,ty=Y,gn=se}Oj(l)}else(A.subtreeFlags&8772)!==0&&O!==null?(O.return=A,Fe=O):Oj(l)}}function Oj(l){for(;Fe!==null;){var d=Fe;if((d.flags&8772)!==0){var g=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:gn||ry(5,d);break;case 1:var w=d.stateNode;if(d.flags&4&&!gn)if(g===null)w.componentDidMount();else{var A=d.elementType===d.type?g.memoizedProps:Yi(d.type,g.memoizedProps);w.componentDidUpdate(A,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var O=d.updateQueue;O!==null&&jO(d,O,w);break;case 3:var B=d.updateQueue;if(B!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}jO(d,B,g)}break;case 5:var Y=d.stateNode;if(g===null&&d.flags&4){g=Y;var J=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&g.focus();break;case"img":J.src&&(g.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var se=d.alternate;if(se!==null){var ve=se.memoizedState;if(ve!==null){var xe=ve.dehydrated;xe!==null&&da(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}gn||d.flags&512&&Bw(d)}catch(ge){dr(d,d.return,ge)}}if(d===l){Fe=null;break}if(g=d.sibling,g!==null){g.return=d.return,Fe=g;break}Fe=d.return}}function jj(l){for(;Fe!==null;){var d=Fe;if(d===l){Fe=null;break}var g=d.sibling;if(g!==null){g.return=d.return,Fe=g;break}Fe=d.return}}function Rj(l){for(;Fe!==null;){var d=Fe;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{ry(4,d)}catch(J){dr(d,g,J)}break;case 1:var w=d.stateNode;if(typeof w.componentDidMount=="function"){var A=d.return;try{w.componentDidMount()}catch(J){dr(d,A,J)}}var O=d.return;try{Bw(d)}catch(J){dr(d,O,J)}break;case 5:var B=d.return;try{Bw(d)}catch(J){dr(d,B,J)}}}catch(J){dr(d,d.return,J)}if(d===l){Fe=null;break}var Y=d.sibling;if(Y!==null){Y.return=d.return,Fe=Y;break}Fe=d.return}}var xK=Math.ceil,ny=I.ReactCurrentDispatcher,zw=I.ReactCurrentOwner,Si=I.ReactCurrentBatchConfig,Pt=0,Wr=null,wr=null,nn=0,si=0,Mu=ga(0),Ir=0,Nh=null,Bl=0,iy=0,Ww=0,kh=null,Vn=null,Hw=0,Du=1/0,_o=null,sy=!1,Gw=null,_a=null,oy=!1,Sa=null,ay=0,Ih=0,Kw=null,ly=-1,cy=0;function Nn(){return(Pt&6)!==0?Yt():ly!==-1?ly:ly=Yt()}function Ea(l){return(l.mode&1)===0?1:(Pt&2)!==0&&nn!==0?nn&-nn:rK.transition!==null?(cy===0&&(cy=Jf()),cy):(l=wt,l!==0||(l=window.event,l=l===void 0?16:du(l.type)),l)}function Ji(l,d,g,w){if(50<Ih)throw Ih=0,Kw=null,Error(r(185));Nl(l,g,w),((Pt&2)===0||l!==Wr)&&(l===Wr&&((Pt&2)===0&&(iy|=g),Ir===4&&Pa(l,nn)),Bn(l,w),g===1&&Pt===0&&(d.mode&1)===0&&(Du=Yt()+500,Lg&&va()))}function Bn(l,d){var g=l.callbackNode;Cl(l,d);var w=lo(l,l===Wr?nn:0);if(w===0)g!==null&&iu(g),l.callbackNode=null,l.callbackPriority=0;else if(d=w&-w,l.callbackPriority!==d){if(g!=null&&iu(g),d===1)l.tag===0?tK(Dj.bind(null,l)):wO(Dj.bind(null,l)),QG(function(){(Pt&6)===0&&va()}),g=null;else{switch(Ss(w)){case 1:g=su;break;case 4:g=Yf;break;case 16:g=El;break;case 536870912:g=ou;break;default:g=El}g=zj(g,Mj.bind(null,l))}l.callbackPriority=d,l.callbackNode=g}}function Mj(l,d){if(ly=-1,cy=0,(Pt&6)!==0)throw Error(r(327));var g=l.callbackNode;if(Lu()&&l.callbackNode!==g)return null;var w=lo(l,l===Wr?nn:0);if(w===0)return null;if((w&30)!==0||(w&l.expiredLanes)!==0||d)d=uy(l,w);else{d=w;var A=Pt;Pt|=2;var O=$j();(Wr!==l||nn!==d)&&(_o=null,Du=Yt()+500,ql(l,d));do try{_K();break}catch(Y){Lj(l,Y)}while(!0);fw(),ny.current=O,Pt=A,wr!==null?d=0:(Wr=null,nn=0,d=Ir)}if(d!==0){if(d===2&&(A=Qf(l),A!==0&&(w=A,d=Yw(l,A))),d===1)throw g=Nh,ql(l,0),Pa(l,w),Bn(l,Yt()),g;if(d===6)Pa(l,w);else{if(A=l.current.alternate,(w&30)===0&&!bK(A)&&(d=uy(l,w),d===2&&(O=Qf(l),O!==0&&(w=O,d=Yw(l,O))),d===1))throw g=Nh,ql(l,0),Pa(l,w),Bn(l,Yt()),g;switch(l.finishedWork=A,l.finishedLanes=w,d){case 0:case 1:throw Error(r(345));case 2:zl(l,Vn,_o);break;case 3:if(Pa(l,w),(w&130023424)===w&&(d=Hw+500-Yt(),10<d)){if(lo(l,0)!==0)break;if(A=l.suspendedLanes,(A&w)!==w){Nn(),l.pingedLanes|=l.suspendedLanes&A;break}l.timeoutHandle=tw(zl.bind(null,l,Vn,_o),d);break}zl(l,Vn,_o);break;case 4:if(Pa(l,w),(w&4194240)===w)break;for(d=l.eventTimes,A=-1;0<w;){var B=31-Jn(w);O=1<<B,B=d[B],B>A&&(A=B),w&=~O}if(w=A,w=Yt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*xK(w/1960))-w,10<w){l.timeoutHandle=tw(zl.bind(null,l,Vn,_o),w);break}zl(l,Vn,_o);break;case 5:zl(l,Vn,_o);break;default:throw Error(r(329))}}}return Bn(l,Yt()),l.callbackNode===g?Mj.bind(null,l):null}function Yw(l,d){var g=kh;return l.current.memoizedState.isDehydrated&&(ql(l,d).flags|=256),l=uy(l,d),l!==2&&(d=Vn,Vn=g,d!==null&&Xw(d)),l}function Xw(l){Vn===null?Vn=l:Vn.push.apply(Vn,l)}function bK(l){for(var d=l;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var A=g[w],O=A.getSnapshot;A=A.value;try{if(!Gi(O(),A))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Pa(l,d){for(d&=~Ww,d&=~iy,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var g=31-Jn(d),w=1<<g;l[g]=-1,d&=~w}}function Dj(l){if((Pt&6)!==0)throw Error(r(327));Lu();var d=lo(l,0);if((d&1)===0)return Bn(l,Yt()),null;var g=uy(l,d);if(l.tag!==0&&g===2){var w=Qf(l);w!==0&&(d=w,g=Yw(l,w))}if(g===1)throw g=Nh,ql(l,0),Pa(l,d),Bn(l,Yt()),g;if(g===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,zl(l,Vn,_o),Bn(l,Yt()),null}function Qw(l,d){var g=Pt;Pt|=1;try{return l(d)}finally{Pt=g,Pt===0&&(Du=Yt()+500,Lg&&va())}}function Ul(l){Sa!==null&&Sa.tag===0&&(Pt&6)===0&&Lu();var d=Pt;Pt|=1;var g=Si.transition,w=wt;try{if(Si.transition=null,wt=1,l)return l()}finally{wt=w,Si.transition=g,Pt=d,(Pt&6)===0&&va()}}function Jw(){si=Mu.current,Qt(Mu)}function ql(l,d){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==-1&&(l.timeoutHandle=-1,XG(g)),wr!==null)for(g=wr.return;g!==null;){var w=g;switch(aw(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Mg();break;case 3:Ou(),Qt(Ln),Qt(hn),bw();break;case 5:vw(w);break;case 4:Ou();break;case 13:Qt(sr);break;case 19:Qt(sr);break;case 10:hw(w.type._context);break;case 22:case 23:Jw()}g=g.return}if(Wr=l,wr=l=Ta(l.current,null),nn=si=d,Ir=0,Nh=null,Ww=iy=Bl=0,Vn=kh=null,$l!==null){for(d=0;d<$l.length;d++)if(g=$l[d],w=g.interleaved,w!==null){g.interleaved=null;var A=w.next,O=g.pending;if(O!==null){var B=O.next;O.next=A,w.next=B}g.pending=w}$l=null}return l}function Lj(l,d){do{var g=wr;try{if(fw(),Gg.current=Qg,Kg){for(var w=or.memoizedState;w!==null;){var A=w.queue;A!==null&&(A.pending=null),w=w.next}Kg=!1}if(Vl=0,zr=kr=or=null,Sh=!1,Eh=0,zw.current=null,g===null||g.return===null){Ir=1,Nh=d,wr=null;break}e:{var O=l,B=g.return,Y=g,J=d;if(d=nn,Y.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var se=J,ve=Y,xe=ve.tag;if((ve.mode&1)===0&&(xe===0||xe===11||xe===15)){var ge=ve.alternate;ge?(ve.updateQueue=ge.updateQueue,ve.memoizedState=ge.memoizedState,ve.lanes=ge.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Re=lj(B);if(Re!==null){Re.flags&=-257,cj(Re,B,Y,O,d),Re.mode&1&&aj(O,se,d),d=Re,J=se;var Be=d.updateQueue;if(Be===null){var ze=new Set;ze.add(J),d.updateQueue=ze}else Be.add(J);break e}else{if((d&1)===0){aj(O,se,d),Zw();break e}J=Error(r(426))}}else if(er&&Y.mode&1){var mr=lj(B);if(mr!==null){(mr.flags&65536)===0&&(mr.flags|=256),cj(mr,B,Y,O,d),uw(ju(J,Y));break e}}O=J=ju(J,Y),Ir!==4&&(Ir=2),kh===null?kh=[O]:kh.push(O),O=B;do{switch(O.tag){case 3:O.flags|=65536,d&=-d,O.lanes|=d;var re=sj(O,J,d);OO(O,re);break e;case 1:Y=J;var ee=O.type,ie=O.stateNode;if((O.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(_a===null||!_a.has(ie)))){O.flags|=65536,d&=-d,O.lanes|=d;var Se=oj(O,Y,d);OO(O,Se);break e}}O=O.return}while(O!==null)}Vj(g)}catch(He){d=He,wr===g&&g!==null&&(wr=g=g.return);continue}break}while(!0)}function $j(){var l=ny.current;return ny.current=Qg,l===null?Qg:l}function Zw(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Wr===null||(Bl&268435455)===0&&(iy&268435455)===0||Pa(Wr,nn)}function uy(l,d){var g=Pt;Pt|=2;var w=$j();(Wr!==l||nn!==d)&&(_o=null,ql(l,d));do try{wK();break}catch(A){Lj(l,A)}while(!0);if(fw(),Pt=g,ny.current=w,wr!==null)throw Error(r(261));return Wr=null,nn=0,Ir}function wK(){for(;wr!==null;)Fj(wr)}function _K(){for(;wr!==null&&!Sl();)Fj(wr)}function Fj(l){var d=qj(l.alternate,l,si);l.memoizedProps=l.pendingProps,d===null?Vj(l):wr=d,zw.current=null}function Vj(l){var d=l;do{var g=d.alternate;if(l=d.return,(d.flags&32768)===0){if(g=pK(g,d,si),g!==null){wr=g;return}}else{if(g=mK(g,d),g!==null){g.flags&=32767,wr=g;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Ir=6,wr=null;return}}if(d=d.sibling,d!==null){wr=d;return}wr=d=l}while(d!==null);Ir===0&&(Ir=5)}function zl(l,d,g){var w=wt,A=Si.transition;try{Si.transition=null,wt=1,SK(l,d,g,w)}finally{Si.transition=A,wt=w}return null}function SK(l,d,g,w){do Lu();while(Sa!==null);if((Pt&6)!==0)throw Error(r(327));g=l.finishedWork;var A=l.finishedLanes;if(g===null)return null;if(l.finishedWork=null,l.finishedLanes=0,g===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var O=g.lanes|g.childLanes;if(Fb(l,O),l===Wr&&(wr=Wr=null,nn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||oy||(oy=!0,zj(El,function(){return Lu(),null})),O=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||O){O=Si.transition,Si.transition=null;var B=wt;wt=1;var Y=Pt;Pt|=4,zw.current=null,yK(l,g),kj(g,l),qG(Zb),fo=!!Jb,Zb=Jb=null,l.current=g,vK(g),ao(),Pt=Y,wt=B,Si.transition=O}else l.current=g;if(oy&&(oy=!1,Sa=l,ay=A),O=l.pendingLanes,O===0&&(_a=null),yg(g.stateNode),Bn(l,Yt()),d!==null)for(w=l.onRecoverableError,g=0;g<d.length;g++)A=d[g],w(A.value,{componentStack:A.stack,digest:A.digest});if(sy)throw sy=!1,l=Gw,Gw=null,l;return(ay&1)!==0&&l.tag!==0&&Lu(),O=l.pendingLanes,(O&1)!==0?l===Kw?Ih++:(Ih=0,Kw=l):Ih=0,va(),null}function Lu(){if(Sa!==null){var l=Ss(ay),d=Si.transition,g=wt;try{if(Si.transition=null,wt=16>l?16:l,Sa===null)var w=!1;else{if(l=Sa,Sa=null,ay=0,(Pt&6)!==0)throw Error(r(331));var A=Pt;for(Pt|=4,Fe=l.current;Fe!==null;){var O=Fe,B=O.child;if((Fe.flags&16)!==0){var Y=O.deletions;if(Y!==null){for(var J=0;J<Y.length;J++){var se=Y[J];for(Fe=se;Fe!==null;){var ve=Fe;switch(ve.tag){case 0:case 11:case 15:Ch(8,ve,O)}var xe=ve.child;if(xe!==null)xe.return=ve,Fe=xe;else for(;Fe!==null;){ve=Fe;var ge=ve.sibling,Re=ve.return;if(Pj(ve),ve===se){Fe=null;break}if(ge!==null){ge.return=Re,Fe=ge;break}Fe=Re}}}var Be=O.alternate;if(Be!==null){var ze=Be.child;if(ze!==null){Be.child=null;do{var mr=ze.sibling;ze.sibling=null,ze=mr}while(ze!==null)}}Fe=O}}if((O.subtreeFlags&2064)!==0&&B!==null)B.return=O,Fe=B;else e:for(;Fe!==null;){if(O=Fe,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Ch(9,O,O.return)}var re=O.sibling;if(re!==null){re.return=O.return,Fe=re;break e}Fe=O.return}}var ee=l.current;for(Fe=ee;Fe!==null;){B=Fe;var ie=B.child;if((B.subtreeFlags&2064)!==0&&ie!==null)ie.return=B,Fe=ie;else e:for(B=ee;Fe!==null;){if(Y=Fe,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:ry(9,Y)}}catch(He){dr(Y,Y.return,He)}if(Y===B){Fe=null;break e}var Se=Y.sibling;if(Se!==null){Se.return=Y.return,Fe=Se;break e}Fe=Y.return}}if(Pt=A,va(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Pl,l)}catch{}w=!0}return w}finally{wt=g,Si.transition=d}}return!1}function Bj(l,d,g){d=ju(g,d),d=sj(l,d,1),l=ba(l,d,1),d=Nn(),l!==null&&(Nl(l,1,d),Bn(l,d))}function dr(l,d,g){if(l.tag===3)Bj(l,l,g);else for(;d!==null;){if(d.tag===3){Bj(d,l,g);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(_a===null||!_a.has(w))){l=ju(g,l),l=oj(d,l,1),d=ba(d,l,1),l=Nn(),d!==null&&(Nl(d,1,l),Bn(d,l));break}}d=d.return}}function EK(l,d,g){var w=l.pingCache;w!==null&&w.delete(d),d=Nn(),l.pingedLanes|=l.suspendedLanes&g,Wr===l&&(nn&g)===g&&(Ir===4||Ir===3&&(nn&130023424)===nn&&500>Yt()-Hw?ql(l,0):Ww|=g),Bn(l,d)}function Uj(l,d){d===0&&((l.mode&1)===0?d=1:(d=la,la<<=1,(la&130023424)===0&&(la=4194304)));var g=Nn();l=xo(l,d),l!==null&&(Nl(l,d,g),Bn(l,g))}function PK(l){var d=l.memoizedState,g=0;d!==null&&(g=d.retryLane),Uj(l,g)}function TK(l,d){var g=0;switch(l.tag){case 13:var w=l.stateNode,A=l.memoizedState;A!==null&&(g=A.retryLane);break;case 19:w=l.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(d),Uj(l,g)}var qj;qj=function(l,d,g){if(l!==null)if(l.memoizedProps!==d.pendingProps||Ln.current)Fn=!0;else{if((l.lanes&g)===0&&(d.flags&128)===0)return Fn=!1,hK(l,d,g);Fn=(l.flags&131072)!==0}else Fn=!1,er&&(d.flags&1048576)!==0&&_O(d,Fg,d.index);switch(d.lanes=0,d.tag){case 2:var w=d.type;ey(l,d),l=d.pendingProps;var A=Pu(d,hn.current);Iu(d,g),A=Sw(null,d,w,l,A,g);var O=Ew();return d.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,$n(w)?(O=!0,Dg(d)):O=!1,d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,gw(d),A.updater=Jg,d.stateNode=A,A._reactInternals=d,kw(d,w,l,g),d=Rw(null,d,w,!0,O,g)):(d.tag=0,er&&O&&ow(d),Cn(null,d,A,g),d=d.child),d;case 16:w=d.elementType;e:{switch(ey(l,d),l=d.pendingProps,A=w._init,w=A(w._payload),d.type=w,A=d.tag=CK(w),l=Yi(w,l),A){case 0:d=jw(null,d,w,l,g);break e;case 1:d=mj(null,d,w,l,g);break e;case 11:d=uj(null,d,w,l,g);break e;case 14:d=dj(null,d,w,Yi(w.type,l),g);break e}throw Error(r(306,w,""))}return d;case 0:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:Yi(w,A),jw(l,d,w,A,g);case 1:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:Yi(w,A),mj(l,d,w,A,g);case 3:e:{if(gj(d),l===null)throw Error(r(387));w=d.pendingProps,O=d.memoizedState,A=O.element,IO(l,d),Wg(d,w,null,g);var B=d.memoizedState;if(w=B.element,O.isDehydrated)if(O={element:w,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){A=ju(Error(r(423)),d),d=yj(l,d,w,g,A);break e}else if(w!==A){A=ju(Error(r(424)),d),d=yj(l,d,w,g,A);break e}else for(ii=ma(d.stateNode.containerInfo.firstChild),ni=d,er=!0,Ki=null,g=NO(d,null,w,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Cu(),w===A){d=wo(l,d,g);break e}Cn(l,d,w,g)}d=d.child}return d;case 5:return RO(d),l===null&&cw(d),w=d.type,A=d.pendingProps,O=l!==null?l.memoizedProps:null,B=A.children,ew(w,A)?B=null:O!==null&&ew(w,O)&&(d.flags|=32),pj(l,d),Cn(l,d,B,g),d.child;case 6:return l===null&&cw(d),null;case 13:return vj(l,d,g);case 4:return yw(d,d.stateNode.containerInfo),w=d.pendingProps,l===null?d.child=Nu(d,null,w,g):Cn(l,d,w,g),d.child;case 11:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:Yi(w,A),uj(l,d,w,A,g);case 7:return Cn(l,d,d.pendingProps,g),d.child;case 8:return Cn(l,d,d.pendingProps.children,g),d.child;case 12:return Cn(l,d,d.pendingProps.children,g),d.child;case 10:e:{if(w=d.type._context,A=d.pendingProps,O=d.memoizedProps,B=A.value,Wt(Ug,w._currentValue),w._currentValue=B,O!==null)if(Gi(O.value,B)){if(O.children===A.children&&!Ln.current){d=wo(l,d,g);break e}}else for(O=d.child,O!==null&&(O.return=d);O!==null;){var Y=O.dependencies;if(Y!==null){B=O.child;for(var J=Y.firstContext;J!==null;){if(J.context===w){if(O.tag===1){J=bo(-1,g&-g),J.tag=2;var se=O.updateQueue;if(se!==null){se=se.shared;var ve=se.pending;ve===null?J.next=J:(J.next=ve.next,ve.next=J),se.pending=J}}O.lanes|=g,J=O.alternate,J!==null&&(J.lanes|=g),pw(O.return,g,d),Y.lanes|=g;break}J=J.next}}else if(O.tag===10)B=O.type===d.type?null:O.child;else if(O.tag===18){if(B=O.return,B===null)throw Error(r(341));B.lanes|=g,Y=B.alternate,Y!==null&&(Y.lanes|=g),pw(B,g,d),B=O.sibling}else B=O.child;if(B!==null)B.return=O;else for(B=O;B!==null;){if(B===d){B=null;break}if(O=B.sibling,O!==null){O.return=B.return,B=O;break}B=B.return}O=B}Cn(l,d,A.children,g),d=d.child}return d;case 9:return A=d.type,w=d.pendingProps.children,Iu(d,g),A=wi(A),w=w(A),d.flags|=1,Cn(l,d,w,g),d.child;case 14:return w=d.type,A=Yi(w,d.pendingProps),A=Yi(w.type,A),dj(l,d,w,A,g);case 15:return fj(l,d,d.type,d.pendingProps,g);case 17:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:Yi(w,A),ey(l,d),d.tag=1,$n(w)?(l=!0,Dg(d)):l=!1,Iu(d,g),nj(d,w,A),kw(d,w,A,g),Rw(null,d,w,!0,l,g);case 19:return bj(l,d,g);case 22:return hj(l,d,g)}throw Error(r(156,d.tag))};function zj(l,d){return Kf(l,d)}function AK(l,d,g,w){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(l,d,g,w){return new AK(l,d,g,w)}function e_(l){return l=l.prototype,!(!l||!l.isReactComponent)}function CK(l){if(typeof l=="function")return e_(l)?1:0;if(l!=null){if(l=l.$$typeof,l===V)return 11;if(l===W)return 14}return 2}function Ta(l,d){var g=l.alternate;return g===null?(g=Ei(l.tag,d,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=d,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&14680064,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,d=l.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function dy(l,d,g,w,A,O){var B=2;if(w=l,typeof l=="function")e_(l)&&(B=1);else if(typeof l=="string")B=5;else e:switch(l){case N:return Wl(g.children,A,O,d);case k:B=8,A|=8;break;case M:return l=Ei(12,g,d,A|2),l.elementType=M,l.lanes=O,l;case D:return l=Ei(13,g,d,A),l.elementType=D,l.lanes=O,l;case H:return l=Ei(19,g,d,A),l.elementType=H,l.lanes=O,l;case Q:return fy(g,A,O,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case $:B=10;break e;case L:B=9;break e;case V:B=11;break e;case W:B=14;break e;case K:B=16,w=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return d=Ei(B,g,d,A),d.elementType=l,d.type=w,d.lanes=O,d}function Wl(l,d,g,w){return l=Ei(7,l,w,d),l.lanes=g,l}function fy(l,d,g,w){return l=Ei(22,l,w,d),l.elementType=Q,l.lanes=g,l.stateNode={isHidden:!1},l}function t_(l,d,g){return l=Ei(6,l,null,d),l.lanes=g,l}function r_(l,d,g){return d=Ei(4,l.children!==null?l.children:[],l.key,d),d.lanes=g,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function NK(l,d,g,w,A){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zf(0),this.expirationTimes=Zf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zf(0),this.identifierPrefix=w,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function n_(l,d,g,w,A,O,B,Y,J){return l=new NK(l,d,g,Y,J),d===1?(d=1,O===!0&&(d|=8)):d=0,O=Ei(3,null,null,d),l.current=O,O.stateNode=l,O.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},gw(O),l}function kK(l,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:w==null?null:""+w,children:l,containerInfo:d,implementation:g}}function Wj(l){if(!l)return ya;l=l._reactInternals;e:{if(Wi(l)!==l||l.tag!==1)throw Error(r(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if($n(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(l.tag===1){var g=l.type;if($n(g))return xO(l,g,d)}return d}function Hj(l,d,g,w,A,O,B,Y,J){return l=n_(g,w,!0,l,A,O,B,Y,J),l.context=Wj(null),g=l.current,w=Nn(),A=Ea(g),O=bo(w,A),O.callback=d??null,ba(g,O,A),l.current.lanes=A,Nl(l,A,w),Bn(l,w),l}function hy(l,d,g,w){var A=d.current,O=Nn(),B=Ea(A);return g=Wj(g),d.context===null?d.context=g:d.pendingContext=g,d=bo(O,B),d.payload={element:l},w=w===void 0?null:w,w!==null&&(d.callback=w),l=ba(A,d,B),l!==null&&(Ji(l,A,B,O),zg(l,A,B)),B}function py(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Gj(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<d?g:d}}function i_(l,d){Gj(l,d),(l=l.alternate)&&Gj(l,d)}function IK(){return null}var Kj=typeof reportError=="function"?reportError:function(l){console.error(l)};function s_(l){this._internalRoot=l}my.prototype.render=s_.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));hy(l,d,null,null)},my.prototype.unmount=s_.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;Ul(function(){hy(null,l,null,null)}),d[mo]=null}};function my(l){this._internalRoot=l}my.prototype.unstable_scheduleHydration=function(l){if(l){var d=nh();l={blockedOn:null,target:l,priority:d};for(var g=0;g<Zn.length&&d!==0&&d<Zn[g].priority;g++);Zn.splice(g,0,l),g===0&&cu(l)}};function o_(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function gy(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Yj(){}function OK(l,d,g,w,A){if(A){if(typeof w=="function"){var O=w;w=function(){var se=py(B);O.call(se)}}var B=Hj(d,w,l,0,null,!1,!1,"",Yj);return l._reactRootContainer=B,l[mo]=B.current,mh(l.nodeType===8?l.parentNode:l),Ul(),B}for(;A=l.lastChild;)l.removeChild(A);if(typeof w=="function"){var Y=w;w=function(){var se=py(J);Y.call(se)}}var J=n_(l,0,!1,null,null,!1,!1,"",Yj);return l._reactRootContainer=J,l[mo]=J.current,mh(l.nodeType===8?l.parentNode:l),Ul(function(){hy(d,J,g,w)}),J}function yy(l,d,g,w,A){var O=g._reactRootContainer;if(O){var B=O;if(typeof A=="function"){var Y=A;A=function(){var J=py(B);Y.call(J)}}hy(d,B,l,A)}else B=OK(g,d,l,A,w);return py(B)}th=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var g=Ot(d.pendingLanes);g!==0&&(eh(d,g|1),Bn(d,Yt()),(Pt&6)===0&&(Du=Yt()+500,va()))}break;case 13:Ul(function(){var w=xo(l,1);if(w!==null){var A=Nn();Ji(w,l,1,A)}}),i_(l,1)}},au=function(l){if(l.tag===13){var d=xo(l,134217728);if(d!==null){var g=Nn();Ji(d,l,134217728,g)}i_(l,134217728)}},rh=function(l){if(l.tag===13){var d=Ea(l),g=xo(l,d);if(g!==null){var w=Nn();Ji(g,l,d,w)}i_(l,d)}},nh=function(){return wt},ih=function(l,d){var g=wt;try{return wt=l,d()}finally{wt=g}},At=function(l,d,g){switch(d){case"input":if(je(l,g),d=g.name,g.type==="radio"&&d!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var w=g[d];if(w!==l&&w.form===l.form){var A=Rg(w);if(!A)throw Error(r(90));le(w),je(w,A)}}}break;case"textarea":Xn(l,g);break;case"select":d=g.value,d!=null&&Dt(l,!!g.multiple,d,!1)}},lg=Qw,cg=Ul;var jK={usingClientEntryPoint:!1,Events:[vh,Su,Rg,ia,sa,Qw]},Oh={findFiberByHostInstance:Rl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RK={bundleType:Oh.bundleType,version:Oh.version,rendererPackageName:Oh.rendererPackageName,rendererConfig:Oh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=gg(l),l===null?null:l.stateNode},findFiberByHostInstance:Oh.findFiberByHostInstance||IK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vy.isDisabled&&vy.supportsFiber)try{Pl=vy.inject(RK),Qn=vy}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jK,Un.createPortal=function(l,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o_(d))throw Error(r(200));return kK(l,d,null,g)},Un.createRoot=function(l,d){if(!o_(l))throw Error(r(299));var g=!1,w="",A=Kj;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),d=n_(l,1,!1,null,null,g,!1,w,A),l[mo]=d.current,mh(l.nodeType===8?l.parentNode:l),new s_(d)},Un.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=gg(d),l=l===null?null:l.stateNode,l},Un.flushSync=function(l){return Ul(l)},Un.hydrate=function(l,d,g){if(!gy(d))throw Error(r(200));return yy(null,l,d,!0,g)},Un.hydrateRoot=function(l,d,g){if(!o_(l))throw Error(r(405));var w=g!=null&&g.hydratedSources||null,A=!1,O="",B=Kj;if(g!=null&&(g.unstable_strictMode===!0&&(A=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onRecoverableError!==void 0&&(B=g.onRecoverableError)),d=Hj(d,null,l,1,g??null,A,!1,O,B),l[mo]=d.current,mh(l),w)for(l=0;l<w.length;l++)g=w[l],A=g._getVersion,A=A(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,A]:d.mutableSourceEagerHydrationData.push(g,A);return new my(d)},Un.render=function(l,d,g){if(!gy(d))throw Error(r(200));return yy(null,l,d,!1,g)},Un.unmountComponentAtNode=function(l){if(!gy(l))throw Error(r(40));return l._reactRootContainer?(Ul(function(){yy(null,null,l,!1,function(){l._reactRootContainer=null,l[mo]=null})}),!0):!1},Un.unstable_batchedUpdates=Qw,Un.unstable_renderSubtreeIntoContainer=function(l,d,g,w){if(!gy(g))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return yy(l,d,g,!1,w)},Un.version="18.3.1-next-f1338f8080-20240426",Un}var nR;function Y6(){if(nR)return c_.exports;nR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),c_.exports=UK(),c_.exports}var iR;function qK(){if(iR)return by;iR=1;var t=Y6();return by.createRoot=t.createRoot,by.hydrateRoot=t.hydrateRoot,by}var zK=qK();const WK=Mt(zK),HK="modulepreload",GK=function(t){return"/"+t},sR={},oR=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(r.map(u=>{if(u=GK(u),u in sR)return;sR[u]=!0;const f=u.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":HK,f||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((y,_)=>{m.addEventListener("load",y),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aR="popstate";function KK(t={}){function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return lT("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Np(i)}return XK(e,r,null,t)}function nr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YK(){return Math.random().toString(36).substring(2,10)}function lR(t,e){return{usr:t.state,key:t.key,idx:e}}function lT(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pf(e):e,state:r,key:e&&e.key||n||YK()}}function Np({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function pf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function XK(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",c=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let b=f(),T=b==null?null:b-u;u=b,c&&c({action:a,location:x.location,delta:T})}function m(b,T){a="PUSH";let P=lT(x.location,b,T);u=f()+1;let E=lR(P,u),I=x.createHref(P);try{o.pushState(E,"",I)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(I)}s&&c&&c({action:a,location:x.location,delta:1})}function y(b,T){a="REPLACE";let P=lT(x.location,b,T);u=f();let E=lR(P,u),I=x.createHref(P);o.replaceState(E,"",I),s&&c&&c({action:a,location:x.location,delta:0})}function _(b){return QK(b)}let x={get action(){return a},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(aR,p),c=b,()=>{i.removeEventListener(aR,p),c=null}},createHref(b){return e(i,b)},createURL:_,encodeLocation(b){let T=_(b);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:y,go(b){return o.go(b)}};return x}function QK(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),nr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Np(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function X6(t,e,r="/"){return JK(t,e,r,!1)}function JK(t,e,r,n){let i=typeof e=="string"?pf(e):e,s=Bo(i.pathname||"/",r);if(s==null)return null;let o=Q6(t);ZK(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=uY(s);a=lY(o[c],u,n)}return a}function Q6(t,e=[],r=[],n="",i=!1){let s=(o,a,c=i,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;nr(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=Ro([n,f.relativePath]),m=r.concat(f);o.children&&o.children.length>0&&(nr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Q6(o.children,e,m,p,c)),!(o.path==null&&!o.index)&&e.push({path:p,score:oY(p,o.index),routesMeta:m})};return t.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,a);else for(let u of J6(o.path))s(o,a,!0,u)}),e}function J6(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=J6(n.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function ZK(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:aY(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var eY=/^:[\w-]+$/,tY=3,rY=2,nY=1,iY=10,sY=-2,cR=t=>t==="*";function oY(t,e){let r=t.split("/"),n=r.length;return r.some(cR)&&(n+=sY),e&&(n+=rY),r.filter(i=>!cR(i)).reduce((i,s)=>i+(eY.test(s)?tY:s===""?nY:iY),n)}function aY(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function lY(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Av({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=Av({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Ro([s,p.pathname]),pathnameBase:pY(Ro([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Ro([s,p.pathnameBase]))}return o}function Av(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=cY(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:p},m)=>{if(f==="*"){let _=a[m]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[m];return p&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function cY(t,e=!1,r=!0){fs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function uY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function dY(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?pf(t):t;return{pathname:r?r.startsWith("/")?r:fY(r,e):e,search:mY(n),hash:gY(i)}}function fY(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function f_(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hY(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function KC(t){let e=hY(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function YC(t,e,r,n=!1){let i;typeof t=="string"?i=pf(t):(i={...t},nr(!i.pathname||!i.pathname.includes("?"),f_("?","pathname","search",i)),nr(!i.pathname||!i.pathname.includes("#"),f_("#","pathname","hash",i)),nr(!i.search||!i.search.includes("#"),f_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let c=dY(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var Ro=t=>t.join("/").replace(/\/\/+/g,"/"),pY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Z6=["POST","PUT","PATCH","DELETE"];new Set(Z6);var vY=["GET",...Z6];new Set(vY);var mf=S.createContext(null);mf.displayName="DataRouter";var cx=S.createContext(null);cx.displayName="DataRouterState";S.createContext(!1);var e3=S.createContext({isTransitioning:!1});e3.displayName="ViewTransition";var xY=S.createContext(new Map);xY.displayName="Fetchers";var bY=S.createContext(null);bY.displayName="Await";var ms=S.createContext(null);ms.displayName="Navigation";var Cm=S.createContext(null);Cm.displayName="Location";var to=S.createContext({outlet:null,matches:[],isDataRoute:!1});to.displayName="Route";var XC=S.createContext(null);XC.displayName="RouteError";function wY(t,{relative:e}={}){nr(gf(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=S.useContext(ms),{hash:i,pathname:s,search:o}=Nm(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:Ro([r,s])),n.createHref({pathname:a,search:o,hash:i})}function gf(){return S.useContext(Cm)!=null}function ro(){return nr(gf(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Cm).location}var t3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r3(t){S.useContext(ms).static||S.useLayoutEffect(t)}function zc(){let{isDataRoute:t}=S.useContext(to);return t?RY():_Y()}function _Y(){nr(gf(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(mf),{basename:e,navigator:r}=S.useContext(ms),{matches:n}=S.useContext(to),{pathname:i}=ro(),s=JSON.stringify(KC(n)),o=S.useRef(!1);return r3(()=>{o.current=!0}),S.useCallback((c,u={})=>{if(fs(o.current,t3),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=YC(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ro([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,i,t])}S.createContext(null);function Nm(t,{relative:e}={}){let{matches:r}=S.useContext(to),{pathname:n}=ro(),i=JSON.stringify(KC(r));return S.useMemo(()=>YC(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function SY(t,e){return n3(t,e)}function n3(t,e,r,n,i){var P;nr(gf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(ms),{matches:o}=S.useContext(to),a=o[o.length-1],c=a?a.params:{},u=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let E=p&&p.path||"";i3(u,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=ro(),y;if(e){let E=typeof e=="string"?pf(e):e;nr(f==="/"||((P=E.pathname)==null?void 0:P.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=m;let _=y.pathname||"/",x=_;if(f!=="/"){let E=f.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=X6(t,{pathname:x});fs(p||b!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),fs(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=CY(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:Ro([f,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Ro([f,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,r,n,i);return e&&T?S.createElement(Cm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function EY(){let t=jY(),e=yY(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:i},r):null,o)}var PY=S.createElement(EY,null),TY=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(to.Provider,{value:this.props.routeContext},S.createElement(XC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AY({routeContext:t,match:e,children:r}){let n=S.useContext(mf);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(to.Provider,{value:t},r)}function CY(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=r==null?void 0:r.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);nr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,c=-1;if(r)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:m}=r,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){a=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,p)=>{let m,y=!1,_=null,x=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||PY,a&&(c<0&&p===0?(i3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):c===p&&(y=!0,x=f.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,p+1)),T=()=>{let P;return m?P=_:y?P=x:f.route.Component?P=S.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=u,S.createElement(AY,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:P})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?S.createElement(TY,{location:r.location,revalidation:r.revalidation,component:_,error:m,children:T(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):T()},null)}function QC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NY(t){let e=S.useContext(mf);return nr(e,QC(t)),e}function kY(t){let e=S.useContext(cx);return nr(e,QC(t)),e}function IY(t){let e=S.useContext(to);return nr(e,QC(t)),e}function JC(t){let e=IY(t),r=e.matches[e.matches.length-1];return nr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function OY(){return JC("useRouteId")}function jY(){var n;let t=S.useContext(XC),e=kY("useRouteError"),r=JC("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function RY(){let{router:t}=NY("useNavigate"),e=JC("useNavigate"),r=S.useRef(!1);return r3(()=>{r.current=!0}),S.useCallback(async(i,s={})=>{fs(r.current,t3),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var uR={};function i3(t,e,r){!e&&!uR[t]&&(uR[t]=!0,fs(!1,r))}S.memo(MY);function MY({routes:t,future:e,state:r,unstable_onError:n}){return n3(t,void 0,r,n,e)}function $u({to:t,replace:e,state:r,relative:n}){nr(gf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(ms);fs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=S.useContext(to),{pathname:o}=ro(),a=zc(),c=YC(t,KC(s),o,n==="path"),u=JSON.stringify(c);return S.useEffect(()=>{a(JSON.parse(u),{replace:e,state:r,relative:n})},[a,u,n,e,r]),null}function Gr(t){nr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DY({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){nr(!gf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=pf(r));let{pathname:c="/",search:u="",hash:f="",state:p=null,key:m="default"}=r,y=S.useMemo(()=>{let _=Bo(c,o);return _==null?null:{location:{pathname:_,search:u,hash:f,state:p,key:m},navigationType:n}},[o,c,u,f,p,m,n]);return fs(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:S.createElement(ms.Provider,{value:a},S.createElement(Cm.Provider,{children:e,value:y}))}function LY({children:t,location:e}){return SY(cT(t),e)}function cT(t,e=[]){let r=[];return S.Children.forEach(t,(n,i)=>{if(!S.isValidElement(n))return;let s=[...e,i];if(n.type===S.Fragment){r.push.apply(r,cT(n.props.children,s));return}nr(n.type===Gr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=cT(n.props.children,s)),r.push(o)}),r}var sv="get",ov="application/x-www-form-urlencoded";function ux(t){return t!=null&&typeof t.tagName=="string"}function $Y(t){return ux(t)&&t.tagName.toLowerCase()==="button"}function FY(t){return ux(t)&&t.tagName.toLowerCase()==="form"}function VY(t){return ux(t)&&t.tagName.toLowerCase()==="input"}function BY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UY(t,e){return t.button===0&&(!e||e==="_self")&&!BY(t)}var wy=null;function qY(){if(wy===null)try{new FormData(document.createElement("form"),0),wy=!1}catch{wy=!0}return wy}var zY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function h_(t){return t!=null&&!zY.has(t)?(fs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ov}"`),null):t}function WY(t,e){let r,n,i,s,o;if(FY(t)){let a=t.getAttribute("action");n=a?Bo(a,e):null,r=t.getAttribute("method")||sv,i=h_(t.getAttribute("enctype"))||ov,s=new FormData(t)}else if($Y(t)||VY(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(n=c?Bo(c,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||sv,i=h_(t.getAttribute("formenctype"))||h_(a.getAttribute("enctype"))||ov,s=new FormData(a,t),!qY()){let{name:u,type:f,value:p}=t;if(f==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,p)}}else{if(ux(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=sv,n=null,i=ov,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ZC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HY(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Bo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function GY(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KY(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function YY(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await GY(s,r);return o.links?o.links():[]}return[]}));return ZY(n.flat(1).filter(KY).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function dR(t,e,r,n,i,s){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,a=(c,u)=>{var f;return r[u].pathname!==c.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>o(c,u)||a(c,u)):s==="data"?e.filter((c,u)=>{var p;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,u)||a(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function XY(t,e,{includeHydrateFallback:r}={}){return QY(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function QY(t){return[...new Set(t)]}function JY(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function ZY(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(JY(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function s3(){let t=S.useContext(mf);return ZC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function eX(){let t=S.useContext(cx);return ZC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var eN=S.createContext(void 0);eN.displayName="FrameworkContext";function o3(){let t=S.useContext(eN);return ZC(t,"You must render this element inside a <HydratedRouter> element"),t}function tX(t,e){let r=S.useContext(eN),[n,i]=S.useState(!1),[s,o]=S.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:p}=e,m=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=T=>{T.forEach(P=>{o(P.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[t]),S.useEffect(()=>{if(n){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[n]);let y=()=>{i(!0)},_=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,m,{}]:[s,m,{onFocus:Rh(a,y),onBlur:Rh(c,_),onMouseEnter:Rh(u,y),onMouseLeave:Rh(f,_),onTouchStart:Rh(p,y)}]:[!1,m,{}]}function Rh(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function rX({page:t,...e}){let{router:r}=s3(),n=S.useMemo(()=>X6(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?S.createElement(iX,{page:t,matches:n,...e}):null}function nX(t){let{manifest:e,routeModules:r}=o3(),[n,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return YY(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function iX({page:t,matches:e,...r}){let n=ro(),{manifest:i,routeModules:s}=o3(),{basename:o}=s3(),{loaderData:a,matches:c}=eX(),u=S.useMemo(()=>dR(t,e,c,i,n,"data"),[t,e,c,i,n]),f=S.useMemo(()=>dR(t,e,c,i,n,"assets"),[t,e,c,i,n]),p=S.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let _=new Set,x=!1;if(e.forEach(T=>{var E;let P=i.routes[T.route.id];!P||!P.hasLoader||(!u.some(I=>I.route.id===T.route.id)&&T.route.id in a&&((E=s[T.route.id])!=null&&E.shouldRevalidate)||P.hasClientLoader?x=!0:_.add(T.route.id))}),_.size===0)return[];let b=HY(t,o,"data");return x&&_.size>0&&b.searchParams.set("_routes",e.filter(T=>_.has(T.route.id)).map(T=>T.route.id).join(",")),[b.pathname+b.search]},[o,a,n,i,u,e,t,s]),m=S.useMemo(()=>XY(f,i),[f,i]),y=nX(f);return S.createElement(S.Fragment,null,p.map(_=>S.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),m.map(_=>S.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),y.map(({key:_,link:x})=>S.createElement("link",{key:_,nonce:r.nonce,...x})))}function sX(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var a3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a3&&(window.__reactRouterVersion="7.9.5")}catch{}function oX({basename:t,children:e,window:r}){let n=S.useRef();n.current==null&&(n.current=KK({window:r,v5Compat:!0}));let i=n.current,[s,o]=S.useState({action:i.action,location:i.location}),a=S.useCallback(c=>{S.startTransition(()=>o(c))},[o]);return S.useLayoutEffect(()=>i.listen(a),[i,a]),S.createElement(DY,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var l3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cv=S.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:f,viewTransition:p,...m},y){let{basename:_}=S.useContext(ms),x=typeof u=="string"&&l3.test(u),b,T=!1;if(typeof u=="string"&&x&&(b=u,a3))try{let M=new URL(window.location.href),$=u.startsWith("//")?new URL(M.protocol+u):new URL(u),L=Bo($.pathname,_);$.origin===M.origin&&L!=null?u=L+$.search+$.hash:T=!0}catch{fs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=wY(u,{relative:i}),[E,I,C]=tX(n,m),R=uX(u,{replace:o,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:p});function N(M){e&&e(M),M.defaultPrevented||R(M)}let k=S.createElement("a",{...m,...C,href:b||P,onClick:T||s?e:N,ref:sX(y,I),target:c,"data-discover":!x&&r==="render"?"true":void 0});return E&&!x?S.createElement(S.Fragment,null,k,S.createElement(rX,{page:P})):k});Cv.displayName="Link";var aX=S.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...u},f){let p=Nm(o,{relative:u.relative}),m=ro(),y=S.useContext(cx),{navigator:_,basename:x}=S.useContext(ms),b=y!=null&&mX(p)&&a===!0,T=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,P=m.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(P=P.toLowerCase(),E=E?E.toLowerCase():null,T=T.toLowerCase()),E&&x&&(E=Bo(E,x)||E);const I=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let C=P===T||!i&&P.startsWith(T)&&P.charAt(I)==="/",R=E!=null&&(E===T||!i&&E.startsWith(T)&&E.charAt(T.length)==="/"),N={isActive:C,isPending:R,isTransitioning:b},k=C?e:void 0,M;typeof n=="function"?M=n(N):M=[n,C?"active":null,R?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(N):s;return S.createElement(Cv,{...u,"aria-current":k,className:M,ref:f,style:$,to:o,viewTransition:a},typeof c=="function"?c(N):c)});aX.displayName="NavLink";var lX=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=sv,action:a,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:p,...m},y)=>{let _=hX(),x=pX(a,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",T=typeof a=="string"&&l3.test(a),P=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let I=E.nativeEvent.submitter,C=(I==null?void 0:I.getAttribute("formmethod"))||o;_(I||E.currentTarget,{fetcherKey:e,method:C,navigate:r,replace:i,state:s,relative:u,preventScrollReset:f,viewTransition:p})};return S.createElement("form",{ref:y,method:b,action:x,onSubmit:n?c:P,...m,"data-discover":!T&&t==="render"?"true":void 0})});lX.displayName="Form";function cX(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c3(t){let e=S.useContext(mf);return nr(e,cX(t)),e}function uX(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=zc(),c=ro(),u=Nm(t,{relative:s});return S.useCallback(f=>{if(UY(f,e)){f.preventDefault();let p=r!==void 0?r:Np(c)===Np(u);a(t,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,u,r,n,e,t,i,s,o])}var dX=0,fX=()=>`__${String(++dX)}__`;function hX(){let{router:t}=c3("useSubmit"),{basename:e}=S.useContext(ms),r=OY();return S.useCallback(async(n,i={})=>{let{action:s,method:o,encType:a,formData:c,body:u}=WY(n,e);if(i.navigate===!1){let f=i.fetcherKey||fX();await t.fetch(f,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function pX(t,{relative:e}={}){let{basename:r}=S.useContext(ms),n=S.useContext(to);nr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Nm(t||".",{relative:e})},o=ro();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(f=>f==="")){a.delete("index"),c.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ro([r,s.pathname])),Np(s)}function mX(t,{relative:e}={}){let r=S.useContext(e3);nr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=c3("useViewTransitionState"),i=Nm(t,{relative:e});if(!r.isTransitioning)return!1;let s=Bo(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Bo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Av(i.pathname,o)!=null||Av(i.pathname,s)!=null}var km=Y6();const gX=Mt(km);function zn(t,e,r){let n;return t==="BusinessProfile"?n="/businessprofile":n="/"+t.toLowerCase().replace(/ /g,"-"),r?n:e?`/${e}${n}`:n}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},c)=>S.createElement("svg",{ref:c,...vX,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:u3("lucide",i),...a},[...o.map(([u,f])=>S.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(t,e)=>{const r=S.forwardRef(({className:n,...i},s)=>S.createElement(xX,{ref:s,iconNode:e,className:u3(`lucide-${yX(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fR=ct("ArrowLeft",bX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_X=ct("Award",wX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Zu=ct("Brain",SX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Mn=ct("Building2",EX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pd=ct("Calendar",PX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kp=ct("ChartColumn",TX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],d3=ct("Check",AX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],f3=ct("ChevronDown",CX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kX=ct("ChevronUp",NX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],h3=ct("CircleAlert",IX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hR=ct("CircleCheckBig",OX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pR=ct("CircleCheck",jX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],MX=ct("CircleUser",RX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],LX=ct("ClipboardCheck",DX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],FX=ct("Clock",$X);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],p_=ct("Cloud",VX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],UX=ct("Crown",BX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nv=ct("Eye",qX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],WX=ct("FilePen",zX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],GX=ct("Frown",HX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],YX=ct("Globe",KX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ql=ct("Heart",XX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],p3=ct("LogOut",QX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],m3=ct("Mail",JX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],eQ=ct("Meh",ZX);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],fi=ct("MessageSquare",tQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],nQ=ct("PanelLeft",rQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pc=ct("Plus",iQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],oQ=ct("RefreshCcw",sQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dx=ct("Save",aQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dd=ct("Send",lQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Di=ct("Sparkles",cQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],dQ=ct("SquarePen",uQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],mR=ct("Tag",fQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pQ=ct("Target",hQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],gQ=ct("Trash2",mQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ls=ct("TrendingUp",yQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uT=ct("TriangleAlert",vQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],g3=ct("UserRound",xQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qa=ct("User",bQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],gc=ct("Users",wQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],SQ=ct("WandSparkles",_Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kn=ct("X",EQ);function gR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yf(...t){return e=>{let r=!1;const n=t.map(i=>{const s=gR(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():gR(t[i],null)}}}}function cr(...t){return S.useCallback(yf(...t),t)}var PQ=Symbol.for("react.lazy"),kv=GC[" use ".trim().toString()];function TQ(t){return typeof t=="object"&&t!==null&&"then"in t}function y3(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===PQ&&"_payload"in t&&TQ(t._payload)}function tN(t){const e=AQ(t),r=S.forwardRef((n,i)=>{let{children:s,...o}=n;y3(s)&&typeof kv=="function"&&(s=kv(s._payload));const a=S.Children.toArray(s),c=a.find(NQ);if(c){const u=c.props.children,f=a.map(p=>p===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:p);return h.jsx(e,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,f):null})}return h.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var vf=tN("Slot");function AQ(t){const e=S.forwardRef((r,n)=>{let{children:i,...s}=r;if(y3(i)&&typeof kv=="function"&&(i=kv(i._payload)),S.isValidElement(i)){const o=IQ(i),a=kQ(s,i.props);return i.type!==S.Fragment&&(a.ref=n?yf(n,o):o),S.cloneElement(i,a)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var CQ=Symbol("radix.slottable");function NQ(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===CQ}function kQ(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function IQ(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function v3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=v3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function lt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=v3(t))&&(n&&(n+=" "),n+=e);return n}const yR=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vR=lt,xf=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return vR(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const f=r==null?void 0:r[u],p=s==null?void 0:s[u];if(f===null)return null;const m=yR(f)||yR(p);return i[u][m]}),a=r&&Object.entries(r).reduce((u,f)=>{let[p,m]=f;return m===void 0||(u[p]=m),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:p,className:m,...y}=f;return Object.entries(y).every(_=>{let[x,b]=_;return Array.isArray(b)?b.includes({...s,...a}[x]):{...s,...a}[x]===b})?[...u,p,m]:u},[]);return vR(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},m_=768;function OQ(){const[t,e]=S.useState(void 0);return S.useEffect(()=>{const r=window.matchMedia(`(max-width: ${m_-1}px)`),n=()=>{e(window.innerWidth<m_)};return r.addEventListener("change",n),e(window.innerWidth<m_),()=>r.removeEventListener("change",n)},[]),!!t}const jQ=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},RQ=(t,e)=>({classGroupId:t,validator:e}),x3=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),Iv="-",xR=[],MQ="arbitrary..",DQ=t=>{const e=$Q(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return LQ(o);const a=o.split(Iv),c=a[0]===""&&a.length>1?1:0;return b3(a,c,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const c=n[o],u=r[o];return c?u?jQ(u,c):c:u||xR}return r[o]||xR}}},b3=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const i=t[e],s=r.nextPart.get(i);if(s){const u=b3(t,e+1,s);if(u)return u}const o=r.validators;if(o===null)return;const a=e===0?t.join(Iv):t.slice(e).join(Iv),c=o.length;for(let u=0;u<c;u++){const f=o[u];if(f.validator(a))return f.classGroupId}},LQ=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?MQ+n:void 0})(),$Q=t=>{const{theme:e,classGroups:r}=t;return FQ(r,e)},FQ=(t,e)=>{const r=x3();for(const n in t){const i=t[n];rN(i,r,n,e)}return r},rN=(t,e,r,n)=>{const i=t.length;for(let s=0;s<i;s++){const o=t[s];VQ(o,e,r,n)}},VQ=(t,e,r,n)=>{if(typeof t=="string"){BQ(t,e,r);return}if(typeof t=="function"){UQ(t,e,r,n);return}qQ(t,e,r,n)},BQ=(t,e,r)=>{const n=t===""?e:w3(e,t);n.classGroupId=r},UQ=(t,e,r,n)=>{if(zQ(t)){rN(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(RQ(r,t))},qQ=(t,e,r,n)=>{const i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];rN(c,w3(e,a),r,n)}},w3=(t,e)=>{let r=t;const n=e.split(Iv),i=n.length;for(let s=0;s<i;s++){const o=n[s];let a=r.nextPart.get(o);a||(a=x3(),r.nextPart.set(o,a)),r=a}return r},zQ=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,WQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const i=(s,o)=>{r[s]=o,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(s){let o=r[s];if(o!==void 0)return o;if((o=n[s])!==void 0)return i(s,o),o},set(s,o){s in r?r[s]=o:i(s,o)}}},dT="!",bR=":",HQ=[],wR=(t,e,r,n,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),GQ=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const s=[];let o=0,a=0,c=0,u;const f=i.length;for(let x=0;x<f;x++){const b=i[x];if(o===0&&a===0){if(b===bR){s.push(i.slice(c,x)),c=x+1;continue}if(b==="/"){u=x;continue}}b==="["?o++:b==="]"?o--:b==="("?a++:b===")"&&a--}const p=s.length===0?i:i.slice(c);let m=p,y=!1;p.endsWith(dT)?(m=p.slice(0,-1),y=!0):p.startsWith(dT)&&(m=p.slice(1),y=!0);const _=u&&u>c?u-c:void 0;return wR(s,y,m,_)};if(e){const i=e+bR,s=n;n=o=>o.startsWith(i)?s(o.slice(i.length)):wR(HQ,!1,o,void 0,!0)}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},KQ=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let s=0;s<r.length;s++){const o=r[s],a=o[0]==="[",c=e.has(o);a||c?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(o)):i.push(o)}return i.length>0&&(i.sort(),n.push(...i)),n}},YQ=t=>({cache:WQ(t.cacheSize),parseClassName:GQ(t),sortModifiers:KQ(t),...DQ(t)}),XQ=/\s+/,QQ=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(XQ);let c="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{isExternal:p,modifiers:m,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:x}=r(f);if(p){c=f+(c.length>0?" "+c:c);continue}let b=!!x,T=n(b?_.substring(0,x):_);if(!T){if(!b){c=f+(c.length>0?" "+c:c);continue}if(T=n(_),!T){c=f+(c.length>0?" "+c:c);continue}b=!1}const P=m.length===0?"":m.length===1?m[0]:s(m).join(":"),E=y?P+dT:P,I=E+T;if(o.indexOf(I)>-1)continue;o.push(I);const C=i(T,b);for(let R=0;R<C.length;++R){const N=C[R];o.push(E+N)}c=f+(c.length>0?" "+c:c)}return c},JQ=(...t)=>{let e=0,r,n,i="";for(;e<t.length;)(r=t[e++])&&(n=_3(r))&&(i&&(i+=" "),i+=n);return i},_3=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=_3(t[n]))&&(r&&(r+=" "),r+=e);return r},ZQ=(t,...e)=>{let r,n,i,s;const o=c=>{const u=e.reduce((f,p)=>p(f),t());return r=YQ(u),n=r.cache.get,i=r.cache.set,s=a,a(c)},a=c=>{const u=n(c);if(u)return u;const f=QQ(c,r);return i(c,f),f};return s=o,(...c)=>s(JQ(...c))},eJ=[],Or=t=>{const e=r=>r[t]||eJ;return e.isThemeGetter=!0,e},S3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,E3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tJ=/^\d+\/\d+$/,rJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,sJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fu=t=>tJ.test(t),pt=t=>!!t&&!Number.isNaN(Number(t)),Ca=t=>!!t&&Number.isInteger(Number(t)),g_=t=>t.endsWith("%")&&pt(t.slice(0,-1)),So=t=>rJ.test(t),aJ=()=>!0,lJ=t=>nJ.test(t)&&!iJ.test(t),P3=()=>!1,cJ=t=>sJ.test(t),uJ=t=>oJ.test(t),dJ=t=>!Ue(t)&&!qe(t),fJ=t=>bf(t,C3,P3),Ue=t=>S3.test(t),Hl=t=>bf(t,N3,lJ),y_=t=>bf(t,yJ,pt),_R=t=>bf(t,T3,P3),hJ=t=>bf(t,A3,uJ),_y=t=>bf(t,k3,cJ),qe=t=>E3.test(t),Mh=t=>wf(t,N3),pJ=t=>wf(t,vJ),SR=t=>wf(t,T3),mJ=t=>wf(t,C3),gJ=t=>wf(t,A3),Sy=t=>wf(t,k3,!0),bf=(t,e,r)=>{const n=S3.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},wf=(t,e,r=!1)=>{const n=E3.exec(t);return n?n[1]?e(n[1]):r:!1},T3=t=>t==="position"||t==="percentage",A3=t=>t==="image"||t==="url",C3=t=>t==="length"||t==="size"||t==="bg-size",N3=t=>t==="length",yJ=t=>t==="number",vJ=t=>t==="family-name",k3=t=>t==="shadow",xJ=()=>{const t=Or("color"),e=Or("font"),r=Or("text"),n=Or("font-weight"),i=Or("tracking"),s=Or("leading"),o=Or("breakpoint"),a=Or("container"),c=Or("spacing"),u=Or("radius"),f=Or("shadow"),p=Or("inset-shadow"),m=Or("text-shadow"),y=Or("drop-shadow"),_=Or("blur"),x=Or("perspective"),b=Or("aspect"),T=Or("ease"),P=Or("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...I(),qe,Ue],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],k=()=>[qe,Ue,c],M=()=>[Fu,"full","auto",...k()],$=()=>[Ca,"none","subgrid",qe,Ue],L=()=>["auto",{span:["full",Ca,qe,Ue]},Ca,qe,Ue],V=()=>[Ca,"auto",qe,Ue],D=()=>["auto","min","max","fr",qe,Ue],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...k()],Q=()=>[Fu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],U=()=>[t,qe,Ue],G=()=>[...I(),SR,_R,{position:[qe,Ue]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",mJ,fJ,{size:[qe,Ue]}],Z=()=>[g_,Mh,Hl],ce=()=>["","none","full",u,qe,Ue],ye=()=>["",pt,Mh,Hl],Oe=()=>["solid","dashed","dotted","double"],Me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[pt,g_,SR,_R],_e=()=>["","none",_,qe,Ue],ue=()=>["none",pt,qe,Ue],be=()=>["none",pt,qe,Ue],Ae=()=>[pt,qe,Ue],le=()=>[Fu,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[So],breakpoint:[So],color:[aJ],container:[So],"drop-shadow":[So],ease:["in","out","in-out"],font:[dJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[So],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[So],shadow:[So],spacing:["px",pt],text:[So],"text-shadow":[So],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fu,Ue,qe,b]}],container:["container"],columns:[{columns:[pt,Ue,qe,a]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Ca,"auto",qe,Ue]}],basis:[{basis:[Fu,"full","auto",a,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pt,Fu,"auto","initial","none",Ue]}],grow:[{grow:["",pt,qe,Ue]}],shrink:[{shrink:["",pt,qe,Ue]}],order:[{order:[Ca,"first","last","none",qe,Ue]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[a,"screen",...Q()]}],"min-w":[{"min-w":[a,"screen","none",...Q()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",r,Mh,Hl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,qe,y_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",g_,Ue]}],"font-family":[{font:[pJ,Ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,qe,Ue]}],"line-clamp":[{"line-clamp":[pt,"none",qe,y_]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",qe,Ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qe,Ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[pt,"from-font","auto",qe,Hl]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[pt,"auto",qe,Ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe,Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe,Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ca,qe,Ue],radial:["",qe,Ue],conic:[Ca,qe,Ue]},gJ,hJ]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pt,qe,Ue]}],"outline-w":[{outline:["",pt,Mh,Hl]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",f,Sy,_y]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",p,Sy,_y]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[pt,Hl]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",m,Sy,_y]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[pt,qe,Ue]}],"mix-blend":[{"mix-blend":[...Me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[qe,Ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",qe,Ue]}],filter:[{filter:["","none",qe,Ue]}],blur:[{blur:_e()}],brightness:[{brightness:[pt,qe,Ue]}],contrast:[{contrast:[pt,qe,Ue]}],"drop-shadow":[{"drop-shadow":["","none",y,Sy,_y]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",pt,qe,Ue]}],"hue-rotate":[{"hue-rotate":[pt,qe,Ue]}],invert:[{invert:["",pt,qe,Ue]}],saturate:[{saturate:[pt,qe,Ue]}],sepia:[{sepia:["",pt,qe,Ue]}],"backdrop-filter":[{"backdrop-filter":["","none",qe,Ue]}],"backdrop-blur":[{"backdrop-blur":_e()}],"backdrop-brightness":[{"backdrop-brightness":[pt,qe,Ue]}],"backdrop-contrast":[{"backdrop-contrast":[pt,qe,Ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pt,qe,Ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pt,qe,Ue]}],"backdrop-invert":[{"backdrop-invert":["",pt,qe,Ue]}],"backdrop-opacity":[{"backdrop-opacity":[pt,qe,Ue]}],"backdrop-saturate":[{"backdrop-saturate":[pt,qe,Ue]}],"backdrop-sepia":[{"backdrop-sepia":["",pt,qe,Ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qe,Ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pt,"initial",qe,Ue]}],ease:[{ease:["linear","initial",T,qe,Ue]}],delay:[{delay:[pt,qe,Ue]}],animate:[{animate:["none",P,qe,Ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,qe,Ue]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:Ae()}],"skew-x":[{"skew-x":Ae()}],"skew-y":[{"skew-y":Ae()}],transform:[{transform:[qe,Ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe,Ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe,Ue]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[pt,Mh,Hl,y_]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},bJ=ZQ(xJ);function Ee(...t){return bJ(lt(t))}const wJ=xf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90 active:bg-primary/95",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 active:bg-destructive/95",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground active:bg-accent/80",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 active:bg-secondary/70",ghost:"hover:bg-accent hover:text-accent-foreground active:bg-accent/80",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 min-h-[44px]",sm:"h-9 rounded-md px-3 text-xs min-h-[36px]",lg:"h-12 rounded-md px-8 min-h-[48px]",icon:"h-10 w-10 min-h-[44px] min-w-[44px]"}},defaultVariants:{variant:"default",size:"default"}}),Ie=S.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?vf:"button";return h.jsx(o,{className:Ee(wJ({variant:e,size:r,className:t})),ref:s,...i})});Ie.displayName="Button";const ln=S.forwardRef(({className:t,type:e,...r},n)=>h.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm min-h-[44px] touch-manipulation",t),ref:n,...r}));ln.displayName="Input";var _J=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],SJ=_J.reduce((t,e)=>{const r=tN(`Primitive.${e}`),n=S.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(c,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),EJ="Separator",ER="horizontal",PJ=["horizontal","vertical"],I3=S.forwardRef((t,e)=>{const{decorative:r,orientation:n=ER,...i}=t,s=TJ(n)?n:ER,a=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return h.jsx(SJ.div,{"data-orientation":s,...a,...i,ref:e})});I3.displayName=EJ;function TJ(t){return PJ.includes(t)}var O3=I3;const j3=S.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>h.jsx(O3,{ref:i,decorative:r,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));j3.displayName=O3.displayName;function jt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function AJ(t,e){const r=S.createContext(e),n=s=>{const{children:o,...a}=s,c=S.useMemo(()=>a,Object.values(a));return h.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(s){const o=S.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function Im(t,e=[]){let r=[];function n(s,o){const a=S.createContext(o),c=r.length;r=[...r,o];const u=p=>{var T;const{scope:m,children:y,..._}=p,x=((T=m==null?void 0:m[t])==null?void 0:T[c])||a,b=S.useMemo(()=>_,Object.values(_));return h.jsx(x.Provider,{value:b,children:y})};u.displayName=s+"Provider";function f(p,m){var x;const y=((x=m==null?void 0:m[t])==null?void 0:x[c])||a,_=S.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=r.map(o=>S.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[n,CJ(i,...e)]}function CJ(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const p=c(s)[`__scope${u}`];return{...a,...p}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Tn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},NJ=GC[" useId ".trim().toString()]||(()=>{}),kJ=0;function yc(t){const[e,r]=S.useState(NJ());return Tn(()=>{r(n=>n??String(kJ++))},[t]),t||(e?`radix-${e}`:"")}var IJ=GC[" useInsertionEffect ".trim().toString()]||Tn;function Ov({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=OJ({defaultProp:e,onChange:r}),a=t!==void 0,c=a?t:i;{const f=S.useRef(t!==void 0);S.useEffect(()=>{const p=f.current;p!==a&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,n])}const u=S.useCallback(f=>{var p;if(a){const m=jJ(f)?f(t):f;m!==t&&((p=o.current)==null||p.call(o,m))}else s(f)},[a,t,s,o]);return[c,u]}function OJ({defaultProp:t,onChange:e}){const[r,n]=S.useState(t),i=S.useRef(r),s=S.useRef(e);return IJ(()=>{s.current=e},[e]),S.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function jJ(t){return typeof t=="function"}function RJ(t){const e=MJ(t),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,a=S.Children.toArray(s),c=a.find(LJ);if(c){const u=c.props.children,f=a.map(p=>p===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:p);return h.jsx(e,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,f):null})}return h.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function MJ(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=FJ(i),a=$J(s,i.props);return i.type!==S.Fragment&&(a.ref=n?yf(n,o):o),S.cloneElement(i,a)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var DJ=Symbol("radix.slottable");function LJ(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===DJ}function $J(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function FJ(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var VJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=VJ.reduce((t,e)=>{const r=RJ(`Primitive.${e}`),n=S.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(c,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function BJ(t,e){t&&km.flushSync(()=>t.dispatchEvent(e))}function Tc(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function UJ(t,e=globalThis==null?void 0:globalThis.document){const r=Tc(t);S.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var qJ="DismissableLayer",fT="dismissableLayer.update",zJ="dismissableLayer.pointerDownOutside",WJ="dismissableLayer.focusOutside",PR,R3=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fx=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,u=S.useContext(R3),[f,p]=S.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=S.useState({}),_=cr(e,N=>p(N)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),T=x.indexOf(b),P=f?x.indexOf(f):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,I=P>=T,C=KJ(N=>{const k=N.target,M=[...u.branches].some($=>$.contains(k));!I||M||(i==null||i(N),o==null||o(N),N.defaultPrevented||a==null||a())},m),R=YJ(N=>{const k=N.target;[...u.branches].some($=>$.contains(k))||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},m);return UJ(N=>{P===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},m),S.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(PR=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),TR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=PR)}},[f,m,r,u]),S.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),TR())},[f,u]),S.useEffect(()=>{const N=()=>y({});return document.addEventListener(fT,N),()=>document.removeEventListener(fT,N)},[]),h.jsx(zt.div,{...c,ref:_,style:{pointerEvents:E?I?"auto":"none":void 0,...t.style},onFocusCapture:jt(t.onFocusCapture,R.onFocusCapture),onBlurCapture:jt(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:jt(t.onPointerDownCapture,C.onPointerDownCapture)})});fx.displayName=qJ;var HJ="DismissableLayerBranch",GJ=S.forwardRef((t,e)=>{const r=S.useContext(R3),n=S.useRef(null),i=cr(e,n);return S.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),h.jsx(zt.div,{...t,ref:i})});GJ.displayName=HJ;function KJ(t,e=globalThis==null?void 0:globalThis.document){const r=Tc(t),n=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let c=function(){M3(zJ,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function YJ(t,e=globalThis==null?void 0:globalThis.document){const r=Tc(t),n=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!n.current&&M3(WJ,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function TR(){const t=new CustomEvent(fT);document.dispatchEvent(t)}function M3(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?BJ(i,s):i.dispatchEvent(s)}var v_="focusScope.autoFocusOnMount",x_="focusScope.autoFocusOnUnmount",AR={bubbles:!1,cancelable:!0},XJ="FocusScope",nN=S.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=S.useState(null),u=Tc(i),f=Tc(s),p=S.useRef(null),m=cr(e,x=>c(x)),y=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let x=function(E){if(y.paused||!a)return;const I=E.target;a.contains(I)?p.current=I:Ia(p.current,{select:!0})},b=function(E){if(y.paused||!a)return;const I=E.relatedTarget;I!==null&&(a.contains(I)||Ia(p.current,{select:!0}))},T=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&Ia(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const P=new MutationObserver(T);return a&&P.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),P.disconnect()}}},[n,a,y.paused]),S.useEffect(()=>{if(a){NR.add(y);const x=document.activeElement;if(!a.contains(x)){const T=new CustomEvent(v_,AR);a.addEventListener(v_,u),a.dispatchEvent(T),T.defaultPrevented||(QJ(rZ(D3(a)),{select:!0}),document.activeElement===x&&Ia(a))}return()=>{a.removeEventListener(v_,u),setTimeout(()=>{const T=new CustomEvent(x_,AR);a.addEventListener(x_,f),a.dispatchEvent(T),T.defaultPrevented||Ia(x??document.body,{select:!0}),a.removeEventListener(x_,f),NR.remove(y)},0)}}},[a,u,f,y]);const _=S.useCallback(x=>{if(!r&&!n||y.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,T=document.activeElement;if(b&&T){const P=x.currentTarget,[E,I]=JJ(P);E&&I?!x.shiftKey&&T===I?(x.preventDefault(),r&&Ia(E,{select:!0})):x.shiftKey&&T===E&&(x.preventDefault(),r&&Ia(I,{select:!0})):T===P&&x.preventDefault()}},[r,n,y.paused]);return h.jsx(zt.div,{tabIndex:-1,...o,ref:m,onKeyDown:_})});nN.displayName=XJ;function QJ(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ia(n,{select:e}),document.activeElement!==r)return}function JJ(t){const e=D3(t),r=CR(e,t),n=CR(e.reverse(),t);return[r,n]}function D3(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function CR(t,e){for(const r of t)if(!ZJ(r,{upTo:e}))return r}function ZJ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function eZ(t){return t instanceof HTMLInputElement&&"select"in t}function Ia(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&eZ(t)&&e&&t.select()}}var NR=tZ();function tZ(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=kR(t,e),t.unshift(e)},remove(e){var r;t=kR(t,e),(r=t[0])==null||r.resume()}}}function kR(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function rZ(t){return t.filter(e=>e.tagName!=="A")}var nZ="Portal",hx=S.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[i,s]=S.useState(!1);Tn(()=>s(!0),[]);const o=r||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?gX.createPortal(h.jsx(zt.div,{...n,ref:e}),o):null});hx.displayName=nZ;function iZ(t,e){return S.useReducer((r,n)=>e[r][n]??r,t)}var _f=t=>{const{present:e,children:r}=t,n=sZ(e),i=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),s=cr(n.ref,oZ(i));return typeof r=="function"||n.isPresent?S.cloneElement(i,{ref:s}):null};_f.displayName="Presence";function sZ(t){const[e,r]=S.useState(),n=S.useRef(null),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[a,c]=iZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=Ey(n.current);s.current=a==="mounted"?u:"none"},[a]),Tn(()=>{const u=n.current,f=i.current;if(f!==t){const m=s.current,y=Ey(u);t?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Tn(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,p=y=>{const x=Ey(n.current).includes(CSS.escape(y.animationName));if(y.target===e&&x&&(c("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=y=>{y.target===e&&(s.current=Ey(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ey(t){return(t==null?void 0:t.animationName)||"none"}function oZ(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var b_=0;function L3(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??IR()),document.body.insertAdjacentElement("beforeend",t[1]??IR()),b_++,()=>{b_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),b_--}},[])}function IR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $s=function(){return $s=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$s.apply(this,arguments)};function $3(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function aZ(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var av="right-scroll-bar-position",lv="width-before-scroll-bar",lZ="with-scroll-bars-hidden",cZ="--removed-body-scroll-bar-size";function w_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function uZ(t,e){var r=S.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var dZ=typeof window<"u"?S.useLayoutEffect:S.useEffect,OR=new WeakMap;function fZ(t,e){var r=uZ(null,function(n){return t.forEach(function(i){return w_(i,n)})});return dZ(function(){var n=OR.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(a){s.has(a)||w_(a,null)}),s.forEach(function(a){i.has(a)||w_(a,o)})}OR.set(r,t)},[t]),r}function hZ(t){return t}function pZ(t,e){e===void 0&&(e=hZ);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(s),o=r}var c=function(){var f=o;o=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return i}function mZ(t){t===void 0&&(t={});var e=pZ(null);return e.options=$s({async:!0,ssr:!1},t),e}var F3=function(t){var e=t.sideCar,r=$3(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,$s({},r))};F3.isSideCarExport=!0;function gZ(t,e){return t.useMedium(e),F3}var V3=mZ(),__=function(){},px=S.forwardRef(function(t,e){var r=S.useRef(null),n=S.useState({onScrollCapture:__,onWheelCapture:__,onTouchMoveCapture:__}),i=n[0],s=n[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,f=t.enabled,p=t.shards,m=t.sideCar,y=t.noRelative,_=t.noIsolation,x=t.inert,b=t.allowPinchZoom,T=t.as,P=T===void 0?"div":T,E=t.gapMode,I=$3(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,R=fZ([r,e]),N=$s($s({},I),i);return S.createElement(S.Fragment,null,f&&S.createElement(C,{sideCar:V3,removeScrollBar:u,shards:p,noRelative:y,noIsolation:_,inert:x,setCallbacks:s,allowPinchZoom:!!b,lockRef:r,gapMode:E}),o?S.cloneElement(S.Children.only(a),$s($s({},N),{ref:R})):S.createElement(P,$s({},N,{className:c,ref:R}),a))});px.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};px.classNames={fullWidth:lv,zeroRight:av};var yZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=yZ();return e&&t.setAttribute("nonce",e),t}function xZ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wZ=function(){var t=0,e=null;return{add:function(r){t==0&&(e=vZ())&&(xZ(e,r),bZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_Z=function(){var t=wZ();return function(e,r){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},B3=function(){var t=_Z(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},SZ={left:0,top:0,right:0,gap:0},S_=function(t){return parseInt(t||"",10)||0},EZ=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[S_(r),S_(n),S_(i)]},PZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return SZ;var e=EZ(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},TZ=B3(),fd="data-scroll-locked",AZ=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(lZ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(fd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(av,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(lv,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(av," .").concat(av,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lv," .").concat(lv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(fd,`] {
    `).concat(cZ,": ").concat(a,`px;
  }
`)},jR=function(){var t=parseInt(document.body.getAttribute(fd)||"0",10);return isFinite(t)?t:0},CZ=function(){S.useEffect(function(){return document.body.setAttribute(fd,(jR()+1).toString()),function(){var t=jR()-1;t<=0?document.body.removeAttribute(fd):document.body.setAttribute(fd,t.toString())}},[])},NZ=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;CZ();var s=S.useMemo(function(){return PZ(i)},[i]);return S.createElement(TZ,{styles:AZ(s,!e,i,r?"":"!important")})},hT=!1;if(typeof window<"u")try{var Py=Object.defineProperty({},"passive",{get:function(){return hT=!0,!0}});window.addEventListener("test",Py,Py),window.removeEventListener("test",Py,Py)}catch{hT=!1}var Vu=hT?{passive:!1}:!1,kZ=function(t){return t.tagName==="TEXTAREA"},U3=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!kZ(t)&&r[e]==="visible")},IZ=function(t){return U3(t,"overflowY")},OZ=function(t){return U3(t,"overflowX")},RR=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=q3(t,n);if(i){var s=z3(t,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},jZ=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},RZ=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},q3=function(t,e){return t==="v"?IZ(e):OZ(e)},z3=function(t,e){return t==="v"?jZ(e):RZ(e)},MZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},DZ=function(t,e,r,n,i){var s=MZ(t,window.getComputedStyle(e).direction),o=s*n,a=r.target,c=e.contains(a),u=!1,f=o>0,p=0,m=0;do{if(!a)break;var y=z3(t,a),_=y[0],x=y[1],b=y[2],T=x-b-s*_;(_||T)&&q3(t,a)&&(p+=T,m+=_);var P=a.parentNode;a=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&Math.abs(p)<1||!f&&Math.abs(m)<1)&&(u=!0),u},Ty=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},MR=function(t){return[t.deltaX,t.deltaY]},DR=function(t){return t&&"current"in t?t.current:t},LZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},$Z=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},FZ=0,Bu=[];function VZ(t){var e=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),i=S.useState(FZ++)[0],s=S.useState(B3)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=aZ([t.lockRef.current],(t.shards||[]).map(DR),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var T=Ty(x),P=r.current,E="deltaX"in x?x.deltaX:P[0]-T[0],I="deltaY"in x?x.deltaY:P[1]-T[1],C,R=x.target,N=Math.abs(E)>Math.abs(I)?"h":"v";if("touches"in x&&N==="h"&&R.type==="range")return!1;var k=RR(N,R);if(!k)return!0;if(k?C=N:(C=N==="v"?"h":"v",k=RR(N,R)),!k)return!1;if(!n.current&&"changedTouches"in x&&(E||I)&&(n.current=C),!C)return!0;var M=n.current||C;return DZ(M,b,x,M==="h"?E:I)},[]),c=S.useCallback(function(x){var b=x;if(!(!Bu.length||Bu[Bu.length-1]!==s)){var T="deltaY"in b?MR(b):Ty(b),P=e.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&LZ(C.delta,T)})[0];if(P&&P.should){b.cancelable&&b.preventDefault();return}if(!P){var E=(o.current.shards||[]).map(DR).filter(Boolean).filter(function(C){return C.contains(b.target)}),I=E.length>0?a(b,E[0]):!o.current.noIsolation;I&&b.cancelable&&b.preventDefault()}}},[]),u=S.useCallback(function(x,b,T,P){var E={name:x,delta:b,target:T,should:P,shadowParent:BZ(T)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(I){return I!==E})},1)},[]),f=S.useCallback(function(x){r.current=Ty(x),n.current=void 0},[]),p=S.useCallback(function(x){u(x.type,MR(x),x.target,a(x,t.lockRef.current))},[]),m=S.useCallback(function(x){u(x.type,Ty(x),x.target,a(x,t.lockRef.current))},[]);S.useEffect(function(){return Bu.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Vu),document.addEventListener("touchmove",c,Vu),document.addEventListener("touchstart",f,Vu),function(){Bu=Bu.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Vu),document.removeEventListener("touchmove",c,Vu),document.removeEventListener("touchstart",f,Vu)}},[]);var y=t.removeScrollBar,_=t.inert;return S.createElement(S.Fragment,null,_?S.createElement(s,{styles:$Z(i)}):null,y?S.createElement(NZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function BZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const UZ=gZ(V3,VZ);var iN=S.forwardRef(function(t,e){return S.createElement(px,$s({},t,{ref:e,sideCar:UZ}))});iN.classNames=px.classNames;var qZ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Uu=new WeakMap,Ay=new WeakMap,Cy={},E_=0,W3=function(t){return t&&(t.host||W3(t.parentNode))},zZ=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=W3(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},WZ=function(t,e,r,n){var i=zZ(e,Array.isArray(t)?t:[t]);Cy[r]||(Cy[r]=new WeakMap);var s=Cy[r],o=[],a=new Set,c=new Set(i),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};i.forEach(u);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(m){if(a.has(m))f(m);else try{var y=m.getAttribute(n),_=y!==null&&y!=="false",x=(Uu.get(m)||0)+1,b=(s.get(m)||0)+1;Uu.set(m,x),s.set(m,b),o.push(m),x===1&&_&&Ay.set(m,!0),b===1&&m.setAttribute(r,"true"),_||m.setAttribute(n,"true")}catch(T){console.error("aria-hidden: cannot operate on ",m,T)}})};return f(e),a.clear(),E_++,function(){o.forEach(function(p){var m=Uu.get(p)-1,y=s.get(p)-1;Uu.set(p,m),s.set(p,y),m||(Ay.has(p)||p.removeAttribute(n),Ay.delete(p)),y||p.removeAttribute(r)}),E_--,E_||(Uu=new WeakMap,Uu=new WeakMap,Ay=new WeakMap,Cy={})}},H3=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=qZ(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),WZ(n,i,r,"aria-hidden")):function(){return null}};function HZ(t){const e=GZ(t),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,a=S.Children.toArray(s),c=a.find(YZ);if(c){const u=c.props.children,f=a.map(p=>p===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:p);return h.jsx(e,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,f):null})}return h.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function GZ(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=QZ(i),a=XZ(s,i.props);return i.type!==S.Fragment&&(a.ref=n?yf(n,o):o),S.cloneElement(i,a)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var KZ=Symbol("radix.slottable");function YZ(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===KZ}function XZ(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function QZ(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var mx="Dialog",[G3]=Im(mx),[JZ,gs]=G3(mx),K3=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=S.useRef(null),c=S.useRef(null),[u,f]=Ov({prop:n,defaultProp:i??!1,onChange:s,caller:mx});return h.jsx(JZ,{scope:e,triggerRef:a,contentRef:c,contentId:yc(),titleId:yc(),descriptionId:yc(),open:u,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};K3.displayName=mx;var Y3="DialogTrigger",ZZ=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gs(Y3,r),s=cr(e,i.triggerRef);return h.jsx(zt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":aN(i.open),...n,ref:s,onClick:jt(t.onClick,i.onOpenToggle)})});ZZ.displayName=Y3;var sN="DialogPortal",[eee,X3]=G3(sN,{forceMount:void 0}),Q3=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=gs(sN,e);return h.jsx(eee,{scope:e,forceMount:r,children:S.Children.map(n,o=>h.jsx(_f,{present:r||s.open,children:h.jsx(hx,{asChild:!0,container:i,children:o})}))})};Q3.displayName=sN;var jv="DialogOverlay",J3=S.forwardRef((t,e)=>{const r=X3(jv,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=gs(jv,t.__scopeDialog);return s.modal?h.jsx(_f,{present:n||s.open,children:h.jsx(ree,{...i,ref:e})}):null});J3.displayName=jv;var tee=HZ("DialogOverlay.RemoveScroll"),ree=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gs(jv,r);return h.jsx(iN,{as:tee,allowPinchZoom:!0,shards:[i.contentRef],children:h.jsx(zt.div,{"data-state":aN(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ac="DialogContent",Z3=S.forwardRef((t,e)=>{const r=X3(Ac,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=gs(Ac,t.__scopeDialog);return h.jsx(_f,{present:n||s.open,children:s.modal?h.jsx(nee,{...i,ref:e}):h.jsx(iee,{...i,ref:e})})});Z3.displayName=Ac;var nee=S.forwardRef((t,e)=>{const r=gs(Ac,t.__scopeDialog),n=S.useRef(null),i=cr(e,r.contentRef,n);return S.useEffect(()=>{const s=n.current;if(s)return H3(s)},[]),h.jsx(eB,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:jt(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:jt(t.onFocusOutside,s=>s.preventDefault())})}),iee=S.forwardRef((t,e)=>{const r=gs(Ac,t.__scopeDialog),n=S.useRef(!1),i=S.useRef(!1);return h.jsx(eB,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),eB=S.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=gs(Ac,r),c=S.useRef(null),u=cr(e,c);return L3(),h.jsxs(h.Fragment,{children:[h.jsx(nN,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:h.jsx(fx,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":aN(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(see,{titleId:a.titleId}),h.jsx(aee,{contentRef:c,descriptionId:a.descriptionId})]})]})}),oN="DialogTitle",tB=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gs(oN,r);return h.jsx(zt.h2,{id:i.titleId,...n,ref:e})});tB.displayName=oN;var rB="DialogDescription",nB=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gs(rB,r);return h.jsx(zt.p,{id:i.descriptionId,...n,ref:e})});nB.displayName=rB;var iB="DialogClose",sB=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gs(iB,r);return h.jsx(zt.button,{type:"button",...n,ref:e,onClick:jt(t.onClick,()=>i.onOpenChange(!1))})});sB.displayName=iB;function aN(t){return t?"open":"closed"}var oB="DialogTitleWarning",[oje,aB]=AJ(oB,{contentName:Ac,titleName:oN,docsSlug:"dialog"}),see=({titleId:t})=>{const e=aB(oB),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},oee="DialogDescriptionWarning",aee=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aB(oee).contentName}}.`;return S.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},lB=K3,cB=Q3,gx=J3,yx=Z3,vx=tB,xx=nB,lN=sB;const lee=lB,cee=cB,uB=S.forwardRef(({className:t,...e},r)=>h.jsx(gx,{className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:duration-300 data-[state=open]:duration-300",t),...e,ref:r}));uB.displayName=gx.displayName;const uee=xf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-out data-[state=closed]:duration-300 data-[state=open]:duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),dB=S.forwardRef(({side:t="right",className:e,children:r,...n},i)=>h.jsxs(cee,{children:[h.jsx(uB,{}),h.jsxs(yx,{ref:i,className:Ee(uee({side:t}),e),...n,children:[h.jsxs(lN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[h.jsx(Kn,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));dB.displayName=yx.displayName;const dee=S.forwardRef(({className:t,...e},r)=>h.jsx(vx,{ref:r,className:Ee("text-lg font-semibold text-foreground",t),...e}));dee.displayName=vx.displayName;const fee=S.forwardRef(({className:t,...e},r)=>h.jsx(xx,{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));fee.displayName=xx.displayName;function LR({className:t,...e}){return h.jsx("div",{className:Ee("animate-pulse rounded-md bg-primary/10",t),...e})}const hee=["top","right","bottom","left"],Ja=Math.min,ui=Math.max,Rv=Math.round,Ny=Math.floor,Us=t=>({x:t,y:t}),pee={left:"right",right:"left",bottom:"top",top:"bottom"},mee={start:"end",end:"start"};function pT(t,e,r){return ui(t,Ja(e,r))}function Uo(t,e){return typeof t=="function"?t(e):t}function qo(t){return t.split("-")[0]}function Sf(t){return t.split("-")[1]}function cN(t){return t==="x"?"y":"x"}function uN(t){return t==="y"?"height":"width"}const gee=new Set(["top","bottom"]);function Vs(t){return gee.has(qo(t))?"y":"x"}function dN(t){return cN(Vs(t))}function yee(t,e,r){r===void 0&&(r=!1);const n=Sf(t),i=dN(t),s=uN(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Mv(o)),[o,Mv(o)]}function vee(t){const e=Mv(t);return[mT(t),e,mT(e)]}function mT(t){return t.replace(/start|end/g,e=>mee[e])}const $R=["left","right"],FR=["right","left"],xee=["top","bottom"],bee=["bottom","top"];function wee(t,e,r){switch(t){case"top":case"bottom":return r?e?FR:$R:e?$R:FR;case"left":case"right":return e?xee:bee;default:return[]}}function _ee(t,e,r,n){const i=Sf(t);let s=wee(qo(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(mT)))),s}function Mv(t){return t.replace(/left|right|bottom|top/g,e=>pee[e])}function See(t){return{top:0,right:0,bottom:0,left:0,...t}}function fB(t){return typeof t!="number"?See(t):{top:t,right:t,bottom:t,left:t}}function Dv(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function VR(t,e,r){let{reference:n,floating:i}=t;const s=Vs(e),o=dN(e),a=uN(o),c=qo(e),u=s==="y",f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,m=n[a]/2-i[a]/2;let y;switch(c){case"top":y={x:f,y:n.y-i.height};break;case"bottom":y={x:f,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-i.width,y:p};break;default:y={x:n.x,y:n.y}}switch(Sf(e)){case"start":y[o]-=m*(r&&u?-1:1);break;case"end":y[o]+=m*(r&&u?-1:1);break}return y}const Eee=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=VR(u,n,c),m=n,y={},_=0;for(let x=0;x<a.length;x++){const{name:b,fn:T}=a[x],{x:P,y:E,data:I,reset:C}=await T({x:f,y:p,initialPlacement:n,placement:m,strategy:i,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});f=P??f,p=E??p,y={...y,[b]:{...y[b],...I}},C&&_<=50&&(_++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:f,y:p}=VR(u,m,c)),x=-1)}return{x:f,y:p,placement:m,strategy:i,middlewareData:y}};async function Ip(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:y=0}=Uo(e,t),_=fB(y),b=a[m?p==="floating"?"reference":"floating":p],T=Dv(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),P=p==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),I=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},C=Dv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:P,offsetParent:E,strategy:c}):P);return{top:(T.top-C.top+_.top)/I.y,bottom:(C.bottom-T.bottom+_.bottom)/I.y,left:(T.left-C.left+_.left)/I.x,right:(C.right-T.right+_.right)/I.x}}const Pee=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:f=0}=Uo(t,e)||{};if(u==null)return{};const p=fB(f),m={x:r,y:n},y=dN(i),_=uN(y),x=await o.getDimensions(u),b=y==="y",T=b?"top":"left",P=b?"bottom":"right",E=b?"clientHeight":"clientWidth",I=s.reference[_]+s.reference[y]-m[y]-s.floating[_],C=m[y]-s.reference[y],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=R?R[E]:0;(!N||!await(o.isElement==null?void 0:o.isElement(R)))&&(N=a.floating[E]||s.floating[_]);const k=I/2-C/2,M=N/2-x[_]/2-1,$=Ja(p[T],M),L=Ja(p[P],M),V=$,D=N-x[_]-L,H=N/2-x[_]/2+k,W=pT(V,H,D),K=!c.arrow&&Sf(i)!=null&&H!==W&&s.reference[_]/2-(H<V?$:L)-x[_]/2<0,Q=K?H<V?H-V:H-D:0;return{[y]:m[y]+Q,data:{[y]:W,centerOffset:H-W-Q,...K&&{alignmentOffset:Q}},reset:K}}}),Tee=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:x=!0,...b}=Uo(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const T=qo(i),P=Vs(a),E=qo(a)===a,I=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(E||!x?[Mv(a)]:vee(a)),R=_!=="none";!m&&R&&C.push(..._ee(a,x,_,I));const N=[a,...C],k=await Ip(e,b),M=[];let $=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&M.push(k[T]),p){const H=yee(i,o,I);M.push(k[H[0]],k[H[1]])}if($=[...$,{placement:i,overflows:M}],!M.every(H=>H<=0)){var L,V;const H=(((L=s.flip)==null?void 0:L.index)||0)+1,W=N[H];if(W&&(!(p==="alignment"?P!==Vs(W):!1)||$.every(U=>Vs(U.placement)===P?U.overflows[0]>0:!0)))return{data:{index:H,overflows:$},reset:{placement:W}};let K=(V=$.filter(Q=>Q.overflows[0]<=0).sort((Q,U)=>Q.overflows[1]-U.overflows[1])[0])==null?void 0:V.placement;if(!K)switch(y){case"bestFit":{var D;const Q=(D=$.filter(U=>{if(R){const G=Vs(U.placement);return G===P||G==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(G=>G>0).reduce((G,te)=>G+te,0)]).sort((U,G)=>U[1]-G[1])[0])==null?void 0:D[0];Q&&(K=Q);break}case"initialPlacement":K=a;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function BR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function UR(t){return hee.some(e=>t[e]>=0)}const Aee=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Uo(t,e);switch(n){case"referenceHidden":{const s=await Ip(e,{...i,elementContext:"reference"}),o=BR(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:UR(o)}}}case"escaped":{const s=await Ip(e,{...i,altBoundary:!0}),o=BR(s,r.floating);return{data:{escapedOffsets:o,escaped:UR(o)}}}default:return{}}}}},hB=new Set(["left","top"]);async function Cee(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=qo(r),a=Sf(r),c=Vs(r)==="y",u=hB.has(o)?-1:1,f=s&&c?-1:1,p=Uo(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof _=="number"&&(y=a==="end"?_*-1:_),c?{x:y*f,y:m*u}:{x:m*u,y:y*f}}const Nee=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await Cee(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},kee=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:T,y:P}=b;return{x:T,y:P}}},...c}=Uo(t,e),u={x:r,y:n},f=await Ip(e,c),p=Vs(qo(i)),m=cN(p);let y=u[m],_=u[p];if(s){const b=m==="y"?"top":"left",T=m==="y"?"bottom":"right",P=y+f[b],E=y-f[T];y=pT(P,y,E)}if(o){const b=p==="y"?"top":"left",T=p==="y"?"bottom":"right",P=_+f[b],E=_-f[T];_=pT(P,_,E)}const x=a.fn({...e,[m]:y,[p]:_});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:s,[p]:o}}}}}},Iee=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Uo(t,e),f={x:r,y:n},p=Vs(i),m=cN(p);let y=f[m],_=f[p];const x=Uo(a,e),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const E=m==="y"?"height":"width",I=s.reference[m]-s.floating[E]+b.mainAxis,C=s.reference[m]+s.reference[E]-b.mainAxis;y<I?y=I:y>C&&(y=C)}if(u){var T,P;const E=m==="y"?"width":"height",I=hB.has(qo(i)),C=s.reference[p]-s.floating[E]+(I&&((T=o.offset)==null?void 0:T[p])||0)+(I?0:b.crossAxis),R=s.reference[p]+s.reference[E]+(I?0:((P=o.offset)==null?void 0:P[p])||0)-(I?b.crossAxis:0);_<C?_=C:_>R&&(_=R)}return{[m]:y,[p]:_}}}},Oee=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Uo(t,e),f=await Ip(e,u),p=qo(i),m=Sf(i),y=Vs(i)==="y",{width:_,height:x}=s.floating;let b,T;p==="top"||p==="bottom"?(b=p,T=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=p,b=m==="end"?"top":"bottom");const P=x-f.top-f.bottom,E=_-f.left-f.right,I=Ja(x-f[b],P),C=Ja(_-f[T],E),R=!e.middlewareData.shift;let N=I,k=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(k=E),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(N=P),R&&!m){const $=ui(f.left,0),L=ui(f.right,0),V=ui(f.top,0),D=ui(f.bottom,0);y?k=_-2*($!==0||L!==0?$+L:ui(f.left,f.right)):N=x-2*(V!==0||D!==0?V+D:ui(f.top,f.bottom))}await c({...e,availableWidth:k,availableHeight:N});const M=await o.getDimensions(a.floating);return _!==M.width||x!==M.height?{reset:{rects:!0}}:{}}}};function bx(){return typeof window<"u"}function Ef(t){return pB(t)?(t.nodeName||"").toLowerCase():"#document"}function pi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function no(t){var e;return(e=(pB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pB(t){return bx()?t instanceof Node||t instanceof pi(t).Node:!1}function hs(t){return bx()?t instanceof Element||t instanceof pi(t).Element:!1}function Ys(t){return bx()?t instanceof HTMLElement||t instanceof pi(t).HTMLElement:!1}function qR(t){return!bx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pi(t).ShadowRoot}const jee=new Set(["inline","contents"]);function Om(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=ps(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!jee.has(i)}const Ree=new Set(["table","td","th"]);function Mee(t){return Ree.has(Ef(t))}const Dee=[":popover-open",":modal"];function wx(t){return Dee.some(e=>{try{return t.matches(e)}catch{return!1}})}const Lee=["transform","translate","scale","rotate","perspective"],$ee=["transform","translate","scale","rotate","perspective","filter"],Fee=["paint","layout","strict","content"];function fN(t){const e=hN(),r=hs(t)?ps(t):t;return Lee.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||$ee.some(n=>(r.willChange||"").includes(n))||Fee.some(n=>(r.contain||"").includes(n))}function Vee(t){let e=Za(t);for(;Ys(e)&&!Td(e);){if(fN(e))return e;if(wx(e))return null;e=Za(e)}return null}function hN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Bee=new Set(["html","body","#document"]);function Td(t){return Bee.has(Ef(t))}function ps(t){return pi(t).getComputedStyle(t)}function _x(t){return hs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Za(t){if(Ef(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qR(t)&&t.host||no(t);return qR(e)?e.host:e}function mB(t){const e=Za(t);return Td(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ys(e)&&Om(e)?e:mB(e)}function Op(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=mB(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=pi(i);if(s){const a=gT(o);return e.concat(o,o.visualViewport||[],Om(i)?i:[],a&&r?Op(a):[])}return e.concat(i,Op(i,[],r))}function gT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gB(t){const e=ps(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Ys(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=Rv(r)!==s||Rv(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function pN(t){return hs(t)?t:t.contextElement}function hd(t){const e=pN(t);if(!Ys(e))return Us(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=gB(e);let o=(s?Rv(r.width):r.width)/n,a=(s?Rv(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Uee=Us(0);function yB(t){const e=pi(t);return!hN()||!e.visualViewport?Uee:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qee(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==pi(t)?!1:e}function Cc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=pN(t);let o=Us(1);e&&(n?hs(n)&&(o=hd(n)):o=hd(t));const a=qee(s,r,n)?yB(s):Us(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const m=pi(s),y=n&&hs(n)?pi(n):n;let _=m,x=gT(_);for(;x&&n&&y!==_;){const b=hd(x),T=x.getBoundingClientRect(),P=ps(x),E=T.left+(x.clientLeft+parseFloat(P.paddingLeft))*b.x,I=T.top+(x.clientTop+parseFloat(P.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,p*=b.y,c+=E,u+=I,_=pi(x),x=gT(_)}}return Dv({width:f,height:p,x:c,y:u})}function Sx(t,e){const r=_x(t).scrollLeft;return e?e.left+r:Cc(no(t)).left+r}function vB(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Sx(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function zee(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=no(n),a=e?wx(e.floating):!1;if(n===o||a&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Us(1);const f=Us(0),p=Ys(n);if((p||!p&&!s)&&((Ef(n)!=="body"||Om(o))&&(c=_x(n)),Ys(n))){const y=Cc(n);u=hd(n),f.x=y.x+n.clientLeft,f.y=y.y+n.clientTop}const m=o&&!p&&!s?vB(o,c):Us(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:r.y*u.y-c.scrollTop*u.y+f.y+m.y}}function Wee(t){return Array.from(t.getClientRects())}function Hee(t){const e=no(t),r=_x(t),n=t.ownerDocument.body,i=ui(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=ui(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Sx(t);const a=-r.scrollTop;return ps(n).direction==="rtl"&&(o+=ui(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}const zR=25;function Gee(t,e){const r=pi(t),n=no(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const f=hN();(!f||f&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}const u=Sx(n);if(u<=0){const f=n.ownerDocument,p=f.body,m=getComputedStyle(p),y=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,_=Math.abs(n.clientWidth-p.clientWidth-y);_<=zR&&(s-=_)}else u<=zR&&(s+=u);return{width:s,height:o,x:a,y:c}}const Kee=new Set(["absolute","fixed"]);function Yee(t,e){const r=Cc(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Ys(t)?hd(t):Us(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:o,height:a,x:c,y:u}}function WR(t,e,r){let n;if(e==="viewport")n=Gee(t,r);else if(e==="document")n=Hee(no(t));else if(hs(e))n=Yee(e,r);else{const i=yB(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Dv(n)}function xB(t,e){const r=Za(t);return r===e||!hs(r)||Td(r)?!1:ps(r).position==="fixed"||xB(r,e)}function Xee(t,e){const r=e.get(t);if(r)return r;let n=Op(t,[],!1).filter(a=>hs(a)&&Ef(a)!=="body"),i=null;const s=ps(t).position==="fixed";let o=s?Za(t):t;for(;hs(o)&&!Td(o);){const a=ps(o),c=fN(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&Kee.has(i.position)||Om(o)&&!c&&xB(t,o))?n=n.filter(f=>f!==o):i=a,o=Za(o)}return e.set(t,n),n}function Qee(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?wx(e)?[]:Xee(e,this._c):[].concat(r),n],a=o[0],c=o.reduce((u,f)=>{const p=WR(e,f,i);return u.top=ui(p.top,u.top),u.right=Ja(p.right,u.right),u.bottom=Ja(p.bottom,u.bottom),u.left=ui(p.left,u.left),u},WR(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Jee(t){const{width:e,height:r}=gB(t);return{width:e,height:r}}function Zee(t,e,r){const n=Ys(e),i=no(e),s=r==="fixed",o=Cc(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Us(0);function u(){c.x=Sx(i)}if(n||!n&&!s)if((Ef(e)!=="body"||Om(i))&&(a=_x(e)),n){const y=Cc(e,!0,s,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else i&&u();s&&!n&&i&&u();const f=i&&!n&&!s?vB(i,a):Us(0),p=o.left+a.scrollLeft-c.x-f.x,m=o.top+a.scrollTop-c.y-f.y;return{x:p,y:m,width:o.width,height:o.height}}function P_(t){return ps(t).position==="static"}function HR(t,e){if(!Ys(t)||ps(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return no(t)===r&&(r=r.ownerDocument.body),r}function bB(t,e){const r=pi(t);if(wx(t))return r;if(!Ys(t)){let i=Za(t);for(;i&&!Td(i);){if(hs(i)&&!P_(i))return i;i=Za(i)}return r}let n=HR(t,e);for(;n&&Mee(n)&&P_(n);)n=HR(n,e);return n&&Td(n)&&P_(n)&&!fN(n)?r:n||Vee(t)||r}const ete=async function(t){const e=this.getOffsetParent||bB,r=this.getDimensions,n=await r(t.floating);return{reference:Zee(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tte(t){return ps(t).direction==="rtl"}const rte={convertOffsetParentRelativeRectToViewportRelativeRect:zee,getDocumentElement:no,getClippingRect:Qee,getOffsetParent:bB,getElementRects:ete,getClientRects:Wee,getDimensions:Jee,getScale:hd,isElement:hs,isRTL:tte};function wB(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function nte(t,e){let r=null,n;const i=no(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:f,top:p,width:m,height:y}=u;if(a||e(),!m||!y)return;const _=Ny(p),x=Ny(i.clientWidth-(f+m)),b=Ny(i.clientHeight-(p+y)),T=Ny(f),E={rootMargin:-_+"px "+-x+"px "+-b+"px "+-T+"px",threshold:ui(0,Ja(1,c))||1};let I=!0;function C(R){const N=R[0].intersectionRatio;if(N!==c){if(!I)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!wB(u,t.getBoundingClientRect())&&o(),I=!1}try{r=new IntersectionObserver(C,{...E,root:i.ownerDocument})}catch{r=new IntersectionObserver(C,E)}r.observe(t)}return o(!0),s}function ite(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=pN(t),f=i||s?[...u?Op(u):[],...Op(e)]:[];f.forEach(T=>{i&&T.addEventListener("scroll",r,{passive:!0}),s&&T.addEventListener("resize",r)});const p=u&&a?nte(u,r):null;let m=-1,y=null;o&&(y=new ResizeObserver(T=>{let[P]=T;P&&P.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=y)==null||E.observe(e)})),r()}),u&&!c&&y.observe(u),y.observe(e));let _,x=c?Cc(t):null;c&&b();function b(){const T=Cc(t);x&&!wB(x,T)&&r(),x=T,_=requestAnimationFrame(b)}return r(),()=>{var T;f.forEach(P=>{i&&P.removeEventListener("scroll",r),s&&P.removeEventListener("resize",r)}),p==null||p(),(T=y)==null||T.disconnect(),y=null,c&&cancelAnimationFrame(_)}}const ste=Nee,ote=kee,ate=Tee,lte=Oee,cte=Aee,GR=Pee,ute=Iee,dte=(t,e,r)=>{const n=new Map,i={platform:rte,...r},s={...i.platform,_c:n};return Eee(t,e,{...i,platform:s})};var fte=typeof document<"u",hte=function(){},cv=fte?S.useLayoutEffect:hte;function Lv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Lv(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!Lv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function _B(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function KR(t,e){const r=_B(t);return Math.round(e*r)/r}function T_(t){const e=S.useRef(t);return cv(()=>{e.current=t}),e}function pte(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[f,p]=S.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=S.useState(n);Lv(m,n)||y(n);const[_,x]=S.useState(null),[b,T]=S.useState(null),P=S.useCallback(U=>{U!==R.current&&(R.current=U,x(U))},[]),E=S.useCallback(U=>{U!==N.current&&(N.current=U,T(U))},[]),I=s||_,C=o||b,R=S.useRef(null),N=S.useRef(null),k=S.useRef(f),M=c!=null,$=T_(c),L=T_(i),V=T_(u),D=S.useCallback(()=>{if(!R.current||!N.current)return;const U={placement:e,strategy:r,middleware:m};L.current&&(U.platform=L.current),dte(R.current,N.current,U).then(G=>{const te={...G,isPositioned:V.current!==!1};H.current&&!Lv(k.current,te)&&(k.current=te,km.flushSync(()=>{p(te)}))})},[m,e,r,L,V]);cv(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,p(U=>({...U,isPositioned:!1})))},[u]);const H=S.useRef(!1);cv(()=>(H.current=!0,()=>{H.current=!1}),[]),cv(()=>{if(I&&(R.current=I),C&&(N.current=C),I&&C){if($.current)return $.current(I,C,D);D()}},[I,C,D,$,M]);const W=S.useMemo(()=>({reference:R,floating:N,setReference:P,setFloating:E}),[P,E]),K=S.useMemo(()=>({reference:I,floating:C}),[I,C]),Q=S.useMemo(()=>{const U={position:r,left:0,top:0};if(!K.floating)return U;const G=KR(K.floating,f.x),te=KR(K.floating,f.y);return a?{...U,transform:"translate("+G+"px, "+te+"px)",..._B(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:te}},[r,a,K.floating,f.x,f.y]);return S.useMemo(()=>({...f,update:D,refs:W,elements:K,floatingStyles:Q}),[f,D,W,K,Q])}const mte=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?GR({element:n.current,padding:i}).fn(r):{}:n?GR({element:n,padding:i}).fn(r):{}}}},gte=(t,e)=>({...ste(t),options:[t,e]}),yte=(t,e)=>({...ote(t),options:[t,e]}),vte=(t,e)=>({...ute(t),options:[t,e]}),xte=(t,e)=>({...ate(t),options:[t,e]}),bte=(t,e)=>({...lte(t),options:[t,e]}),wte=(t,e)=>({...cte(t),options:[t,e]}),_te=(t,e)=>({...mte(t),options:[t,e]});var Ste="Arrow",SB=S.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return h.jsx(zt.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});SB.displayName=Ste;var Ete=SB;function Pte(t){const[e,r]=S.useState(void 0);return Tn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var mN="Popper",[EB,Ex]=Im(mN),[Tte,PB]=EB(mN),TB=t=>{const{__scopePopper:e,children:r}=t,[n,i]=S.useState(null);return h.jsx(Tte,{scope:e,anchor:n,onAnchorChange:i,children:r})};TB.displayName=mN;var AB="PopperAnchor",CB=S.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=PB(AB,r),o=S.useRef(null),a=cr(e,o),c=S.useRef(null);return S.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:h.jsx(zt.div,{...i,ref:a})});CB.displayName=AB;var gN="PopperContent",[Ate,Cte]=EB(gN),NB=S.forwardRef((t,e)=>{var he,_e,ue,be,Ae,le;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:_,...x}=t,b=PB(gN,r),[T,P]=S.useState(null),E=cr(e,Ze=>P(Ze)),[I,C]=S.useState(null),R=Pte(I),N=(R==null?void 0:R.width)??0,k=(R==null?void 0:R.height)??0,M=n+(s!=="center"?"-"+s:""),$=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},L=Array.isArray(u)?u:[u],V=L.length>0,D={padding:$,boundary:L.filter(kte),altBoundary:V},{refs:H,floatingStyles:W,placement:K,isPositioned:Q,middlewareData:U}=pte({strategy:"fixed",placement:M,whileElementsMounted:(...Ze)=>ite(...Ze,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[gte({mainAxis:i+k,alignmentAxis:o}),c&&yte({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?vte():void 0,...D}),c&&xte({...D}),bte({...D,apply:({elements:Ze,rects:fe,availableWidth:we,availableHeight:Ne})=>{const{width:je,height:ft}=fe.reference,Ke=Ze.floating.style;Ke.setProperty("--radix-popper-available-width",`${we}px`),Ke.setProperty("--radix-popper-available-height",`${Ne}px`),Ke.setProperty("--radix-popper-anchor-width",`${je}px`),Ke.setProperty("--radix-popper-anchor-height",`${ft}px`)}}),I&&_te({element:I,padding:a}),Ite({arrowWidth:N,arrowHeight:k}),m&&wte({strategy:"referenceHidden",...D})]}),[G,te]=OB(K),z=Tc(_);Tn(()=>{Q&&(z==null||z())},[Q,z]);const Z=(he=U.arrow)==null?void 0:he.x,ce=(_e=U.arrow)==null?void 0:_e.y,ye=((ue=U.arrow)==null?void 0:ue.centerOffset)!==0,[Oe,Me]=S.useState();return Tn(()=>{T&&Me(window.getComputedStyle(T).zIndex)},[T]),h.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Q?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(be=U.transformOrigin)==null?void 0:be.x,(Ae=U.transformOrigin)==null?void 0:Ae.y].join(" "),...((le=U.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(Ate,{scope:r,placedSide:G,onArrowChange:C,arrowX:Z,arrowY:ce,shouldHideArrow:ye,children:h.jsx(zt.div,{"data-side":G,"data-align":te,...x,ref:E,style:{...x.style,animation:Q?void 0:"none"}})})})});NB.displayName=gN;var kB="PopperArrow",Nte={top:"bottom",right:"left",bottom:"top",left:"right"},IB=S.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=Cte(kB,n),o=Nte[s.placedSide];return h.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:h.jsx(Ete,{...i,ref:r,style:{...i.style,display:"block"}})})});IB.displayName=kB;function kte(t){return t!==null}var Ite=t=>({name:"transformOrigin",options:t,fn(e){var b,T,P;const{placement:r,rects:n,middlewareData:i}=e,o=((b=i.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,f]=OB(r),p={start:"0%",center:"50%",end:"100%"}[f],m=(((T=i.arrow)==null?void 0:T.x)??0)+a/2,y=(((P=i.arrow)==null?void 0:P.y)??0)+c/2;let _="",x="";return u==="bottom"?(_=o?p:`${m}px`,x=`${-c}px`):u==="top"?(_=o?p:`${m}px`,x=`${n.floating.height+c}px`):u==="right"?(_=`${-c}px`,x=o?p:`${y}px`):u==="left"&&(_=`${n.floating.width+c}px`,x=o?p:`${y}px`),{data:{x:_,y:x}}}});function OB(t){const[e,r="center"]=t.split("-");return[e,r]}var jB=TB,RB=CB,MB=NB,DB=IB,Ote=Symbol("radix.slottable");function jte(t){const e=({children:r})=>h.jsx(h.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Ote,e}var LB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Rte="VisuallyHidden",$B=S.forwardRef((t,e)=>h.jsx(zt.span,{...t,ref:e,style:{...LB,...t.style}}));$B.displayName=Rte;var Mte=$B,[Px]=Im("Tooltip",[Ex]),Tx=Ex(),FB="TooltipProvider",Dte=700,yT="tooltip.open",[Lte,yN]=Px(FB),VB=t=>{const{__scopeTooltip:e,delayDuration:r=Dte,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=S.useRef(!0),a=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),h.jsx(Lte,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:S.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:s})};VB.displayName=FB;var jp="Tooltip",[$te,jm]=Px(jp),BB=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,c=yN(jp,t.__scopeTooltip),u=Tx(e),[f,p]=S.useState(null),m=yc(),y=S.useRef(0),_=o??c.disableHoverableContent,x=a??c.delayDuration,b=S.useRef(!1),[T,P]=Ov({prop:n,defaultProp:i??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(yT))):c.onClose(),s==null||s(N)},caller:jp}),E=S.useMemo(()=>T?b.current?"delayed-open":"instant-open":"closed",[T]),I=S.useCallback(()=>{window.clearTimeout(y.current),y.current=0,b.current=!1,P(!0)},[P]),C=S.useCallback(()=>{window.clearTimeout(y.current),y.current=0,P(!1)},[P]),R=S.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{b.current=!0,P(!0),y.current=0},x)},[x,P]);return S.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),h.jsx(jB,{...u,children:h.jsx($te,{scope:e,contentId:m,open:T,stateAttribute:E,trigger:f,onTriggerChange:p,onTriggerEnter:S.useCallback(()=>{c.isOpenDelayedRef.current?R():I()},[c.isOpenDelayedRef,R,I]),onTriggerLeave:S.useCallback(()=>{_?C():(window.clearTimeout(y.current),y.current=0)},[C,_]),onOpen:I,onClose:C,disableHoverableContent:_,children:r})})};BB.displayName=jp;var vT="TooltipTrigger",UB=S.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=jm(vT,r),s=yN(vT,r),o=Tx(r),a=S.useRef(null),c=cr(e,a,i.onTriggerChange),u=S.useRef(!1),f=S.useRef(!1),p=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),h.jsx(RB,{asChild:!0,...o,children:h.jsx(zt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:jt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:jt(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:jt(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:jt(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:jt(t.onBlur,i.onClose),onClick:jt(t.onClick,i.onClose)})})});UB.displayName=vT;var vN="TooltipPortal",[Fte,Vte]=Px(vN,{forceMount:void 0}),qB=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:i}=t,s=jm(vN,e);return h.jsx(Fte,{scope:e,forceMount:r,children:h.jsx(_f,{present:r||s.open,children:h.jsx(hx,{asChild:!0,container:i,children:n})})})};qB.displayName=vN;var Ad="TooltipContent",zB=S.forwardRef((t,e)=>{const r=Vte(Ad,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=jm(Ad,t.__scopeTooltip);return h.jsx(_f,{present:n||o.open,children:o.disableHoverableContent?h.jsx(WB,{side:i,...s,ref:e}):h.jsx(Bte,{side:i,...s,ref:e})})}),Bte=S.forwardRef((t,e)=>{const r=jm(Ad,t.__scopeTooltip),n=yN(Ad,t.__scopeTooltip),i=S.useRef(null),s=cr(e,i),[o,a]=S.useState(null),{trigger:c,onClose:u}=r,f=i.current,{onPointerInTransitChange:p}=n,m=S.useCallback(()=>{a(null),p(!1)},[p]),y=S.useCallback((_,x)=>{const b=_.currentTarget,T={x:_.clientX,y:_.clientY},P=Hte(T,b.getBoundingClientRect()),E=Gte(T,P),I=Kte(x.getBoundingClientRect()),C=Xte([...E,...I]);a(C),p(!0)},[p]);return S.useEffect(()=>()=>m(),[m]),S.useEffect(()=>{if(c&&f){const _=b=>y(b,f),x=b=>y(b,c);return c.addEventListener("pointerleave",_),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",_),f.removeEventListener("pointerleave",x)}}},[c,f,y,m]),S.useEffect(()=>{if(o){const _=x=>{const b=x.target,T={x:x.clientX,y:x.clientY},P=(c==null?void 0:c.contains(b))||(f==null?void 0:f.contains(b)),E=!Yte(T,o);P?m():E&&(m(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,f,o,u,m]),h.jsx(WB,{...t,ref:s})}),[Ute,qte]=Px(jp,{isInside:!1}),zte=jte("TooltipContent"),WB=S.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=jm(Ad,r),u=Tx(r),{onClose:f}=c;return S.useEffect(()=>(document.addEventListener(yT,f),()=>document.removeEventListener(yT,f)),[f]),S.useEffect(()=>{if(c.trigger){const p=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,f]),h.jsx(fx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:h.jsxs(MB,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(zte,{children:n}),h.jsx(Ute,{scope:r,isInside:!0,children:h.jsx(Mte,{id:c.contentId,role:"tooltip",children:i||n})})]})})});zB.displayName=Ad;var HB="TooltipArrow",Wte=S.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Tx(r);return qte(HB,r).isInside?null:h.jsx(DB,{...i,...n,ref:e})});Wte.displayName=HB;function Hte(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Gte(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Kte(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Yte(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],u=a.x,f=a.y,p=c.x,m=c.y;f>n!=m>n&&r<(p-u)*(n-f)/(m-f)+u&&(i=!i)}return i}function Xte(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Qte(e)}function Qte(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Jte=VB,Zte=BB,ere=UB,tre=qB,GB=zB;const rre=Jte,nre=Zte,ire=ere,KB=S.forwardRef(({className:t,sideOffset:e=4,...r},n)=>h.jsx(tre,{children:h.jsx(GB,{ref:n,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));KB.displayName=GB.displayName;const sre="sidebar_state",ore=3600*24*7,are="16rem",lre="18rem",cre="3rem",ure="b",YB=S.createContext(null);function Ax(){const t=S.useContext(YB);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const XB=S.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:i,children:s,...o},a)=>{const c=OQ(),[u,f]=S.useState(!1),[p,m]=S.useState(t),y=e??p,_=S.useCallback(P=>{const E=typeof P=="function"?P(y):P;r?r(E):m(E),document.cookie=`${sre}=${E}; path=/; max-age=${ore}`},[r,y]),x=S.useCallback(()=>c?f(P=>!P):_(P=>!P),[c,_,f]);S.useEffect(()=>{const P=E=>{E.key===ure&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),x())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[x]);const b=y?"expanded":"collapsed",T=S.useMemo(()=>({state:b,open:y,setOpen:_,isMobile:c,openMobile:u,setOpenMobile:f,toggleSidebar:x}),[b,y,_,c,u,f,x]);return h.jsx(YB.Provider,{value:T,children:h.jsx(rre,{delayDuration:0,children:h.jsx("div",{style:{"--sidebar-width":are,"--sidebar-width-icon":cre,...i},className:Ee("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:a,...o,children:s})})})});XB.displayName="SidebarProvider";const QB=S.forwardRef(({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:i,...s},o)=>{const{isMobile:a,state:c,openMobile:u,setOpenMobile:f}=Ax();return r==="none"?h.jsx("div",{className:Ee("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...s,children:i}):a?h.jsx(lee,{open:u,onOpenChange:f,...s,children:h.jsx(dB,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":lre},side:t,children:h.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):h.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground xl:block","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":e,"data-side":t,children:[h.jsx("div",{className:Ee("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),h.jsx("div",{className:Ee("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear xl:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:h.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});QB.displayName="Sidebar";const dre=S.forwardRef(({className:t,onClick:e,...r},n)=>{const{toggleSidebar:i}=Ax();return h.jsxs(Ie,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ee("h-7 w-7",t),onClick:s=>{e==null||e(s),i()},...r,children:[h.jsx(nQ,{}),h.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});dre.displayName="SidebarTrigger";const fre=S.forwardRef(({className:t,...e},r)=>{const{toggleSidebar:n}=Ax();return h.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Ee("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});fre.displayName="SidebarRail";const hre=S.forwardRef(({className:t,...e},r)=>h.jsx("main",{ref:r,className:Ee("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));hre.displayName="SidebarInset";const pre=S.forwardRef(({className:t,...e},r)=>h.jsx(ln,{ref:r,"data-sidebar":"input",className:Ee("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));pre.displayName="SidebarInput";const JB=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,"data-sidebar":"header",className:Ee("flex flex-col gap-2 p-2",t),...e}));JB.displayName="SidebarHeader";const ZB=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,"data-sidebar":"footer",className:Ee("flex flex-col gap-2 p-2",t),...e}));ZB.displayName="SidebarFooter";const mre=S.forwardRef(({className:t,...e},r)=>h.jsx(j3,{ref:r,"data-sidebar":"separator",className:Ee("mx-2 w-auto bg-sidebar-border",t),...e}));mre.displayName="SidebarSeparator";const eU=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,"data-sidebar":"content",className:Ee("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));eU.displayName="SidebarContent";const tU=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,"data-sidebar":"group",className:Ee("relative flex w-full min-w-0 flex-col p-2",t),...e}));tU.displayName="SidebarGroup";const rU=S.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?vf:"div";return h.jsx(i,{ref:n,"data-sidebar":"group-label",className:Ee("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});rU.displayName="SidebarGroupLabel";const gre=S.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?vf:"button";return h.jsx(i,{ref:n,"data-sidebar":"group-action",className:Ee("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});gre.displayName="SidebarGroupAction";const nU=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,"data-sidebar":"group-content",className:Ee("w-full text-sm",t),...e}));nU.displayName="SidebarGroupContent";const iU=S.forwardRef(({className:t,...e},r)=>h.jsx("ul",{ref:r,"data-sidebar":"menu",className:Ee("flex w-full min-w-0 flex-col gap-1",t),...e}));iU.displayName="SidebarMenu";const sU=S.forwardRef(({className:t,...e},r)=>h.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Ee("group/menu-item relative",t),...e}));sU.displayName="SidebarMenuItem";const yre=xf("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),oU=S.forwardRef(({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:i,className:s,...o},a)=>{const c=t?vf:"button",{isMobile:u,state:f}=Ax(),p=h.jsx(c,{ref:a,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:Ee(yre({variant:r,size:n}),s),...o});return i?(typeof i=="string"&&(i={children:i}),h.jsxs(nre,{children:[h.jsx(ire,{asChild:!0,children:p}),h.jsx(KB,{side:"right",align:"center",hidden:f!=="collapsed"||u,...i})]})):p});oU.displayName="SidebarMenuButton";const vre=S.forwardRef(({className:t,asChild:e=!1,showOnHover:r=!1,...n},i)=>{const s=e?vf:"button";return h.jsx(s,{ref:i,"data-sidebar":"menu-action",className:Ee("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});vre.displayName="SidebarMenuAction";const xre=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Ee("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));xre.displayName="SidebarMenuBadge";const bre=S.forwardRef(({className:t,showIcon:e=!1,...r},n)=>{const i=S.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return h.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Ee("flex h-8 items-center gap-2 rounded-md px-2",t),...r,children:[e&&h.jsx(LR,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),h.jsx(LR,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});bre.displayName="SidebarMenuSkeleton";const wre=S.forwardRef(({className:t,...e},r)=>h.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Ee("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));wre.displayName="SidebarMenuSub";const _re=S.forwardRef(({...t},e)=>h.jsx("li",{ref:e,...t}));_re.displayName="SidebarMenuSubItem";const Sre=S.forwardRef(({asChild:t=!1,size:e="md",isActive:r,className:n,...i},s)=>{const o=t?vf:"a";return h.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":e,"data-active":r,className:Ee("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});Sre.displayName="SidebarMenuSubButton";const aU=S.createContext(),ur=()=>{const t=S.useContext(aU);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},Ere={en:{"nav.businessProfile":"Business Profile","nav.personas":"Avatars","nav.prompts":"Prompts","nav.competitors":"Competitors","nav.analytics":"Analytics & Insights","nav.profile":"Profile & Usage","nav.platform":"Platform","welcome.title":"Welcome to Mole.AI","welcome.subtitle":"Let's customize the platform for your business.","welcome.description":"Answer a few quick questions so we can tailor insights and generate an avatar that reflects your ideal customer.","welcome.start":"Start Setup","welcome.profile.title":"Let's personalize your experience","welcome.profile.subtitle":"Tell us your name and preferred language to get started.","welcome.profile.nameLabel":"First Name *","welcome.profile.namePlaceholder":"e.g., Sarah","welcome.profile.languageLabel":"Preferred Language","welcome.profile.english":"English","welcome.profile.hebrew":"","welcome.profile.englishDescription":"Keep the interface in English.","welcome.profile.hebrewDescription":"  .","welcome.profile.businessFallbackName":"Unnamed business","welcome.profile.continue":"Continue","welcome.profile.saving":"Saving your preferences...","welcome.business.title":"Tell us about your business","welcome.business.subtitle":"We use this information to personalize AI research and messaging.","welcome.business.saveAndContinue":"Save & continue","welcome.business.saving":"Saving business profile...","welcome.persona.title":"Design your first avatar","welcome.persona.subtitle":"Describe your ideal customer so we can craft AI prompts and insights.","welcome.personaIntro.title":"Meet your first avatar","welcome.personaIntro.subtitle":"We use your business details to craft tailored personas.","welcome.personaIntro.description":"Great personas help Mole.AI produce sharper insights. Take a moment to get ready before we ask about your ideal customer.","welcome.personaIntro.cta":"Start persona setup","welcome.personaIntro.back":"Review business details","welcome.meetPersona.title":"Meet {name}","welcome.meetPersona.subtitle":"Here's your AI-generated customer avatar","welcome.meetPersona.manualSubtitle":"Here's your customer avatar","welcome.businessReview.title":"Review Business Details","welcome.businessReview.subtitle":"Please review your business information before continuing","welcome.persona.motivations":"Key Motivations","welcome.persona.backstory":"Background Story","welcome.creating":"Creating your setup...","welcome.finishSetup":"Create Avatar & Finish","welcome.success.title":"You're all set!","welcome.success.subtitle":"Your business profile and first avatar are ready.","welcome.success.message":"We've saved your business profile and created your first avatar. You can always edit or add more later from the Avatars page.","welcome.enterApp":"Enter Mole.AI","welcome.errors.businessName":"Please enter a business name to continue.","welcome.errors.description":"Please describe your business so we can tailor the experience.","welcome.errors.industry":"Please specify your industry to continue.","welcome.errors.productsServices":"Please describe your products and services.","welcome.errors.targetMarket":"Please describe your target market.","welcome.errors.competitors":"Please add at least one competitor.","welcome.errors.personaName":"Please enter a name for the avatar to continue.","welcome.errors.personaRole":"Please enter a role so we understand who this avatar represents.","welcome.errors.personaAge":"Please enter an age for the avatar.","welcome.errors.personaGoals":"Please describe the avatar's goals.","welcome.errors.personaPainPoints":"Please describe the avatar's pain points and challenges.","welcome.errors.personaLifestyle":"Please describe the avatar's lifestyle.","welcome.errors.personaMotivations":"Please describe the avatar's motivations.","welcome.errors.personaBackstory":"Please provide personal background for the avatar.","welcome.errors.saving":"Error saving settings. Please try again.","welcome.errors.profileName":"Please share your first name so we can personalize the experience.","welcome.errors.profileSubmit":"Error saving preferences. Please try again.","layout.businessFallback":"My Business","layout.businessLoading":"Loading businesses...","layout.businessUnavailable":"No businesses available","layout.businessManageCaption":"Manage businesses","placeholder.businessName":"Your company name","placeholder.industry":"e.g., Technology, Healthcare, Finance","placeholder.phone":"e.g., 0501234567","placeholder.description":"Describe what your company does, its mission, and key value propositions","placeholder.productsServices":"List your main products and services","placeholder.targetMarket":"Describe your ideal customers and target demographics","placeholder.addCompetitor":"Add competitor name","personas.title":"Customer Avatars","personas.subtitle":"AI-generated profiles for market research","personas.generateAI":"Generate AI Avatars","personas.createManual":"Create Manual Avatar","personas.noPersonas":"No Avatars Yet","personas.createFirst":"Create your first customer avatar to start analyzing market perception","personas.generateWith":"Generate with AI","personas.createManually":"Create Manually","personas.businessRequired":"Business Profile Required","personas.setupFirst":"Please set up your business profile first to create AI-powered avatars.","personas.setupProfile":"Set Up Business Profile","personas.edit":"Edit","personas.delete":"Delete","personas.goals":"Goals","personas.painPoints":"Pain Points","personas.lifestyle":"Lifestyle","personas.years":"Age","prompts.title":"Prompt History","prompts.subtitle":"Track AI queries and analyze responses","prompts.totalPrompts":"Total Prompts","prompts.completed":"Completed","prompts.pending":"Pending","prompts.brandMentions":"Brand Mentions","prompts.mentions":"Mentions","prompts.sendNew":"Send New Prompt","prompts.recentPrompts":"Recent Prompts","prompts.noPrompts":"No Prompts Sent Yet","prompts.sendFirst":"Send your first prompt to start analyzing AI responses","prompts.sendFirstBtn":"Send First Prompt","prompts.noPersonas":"No Avatars Available","prompts.createPersonasFirst":"You need to create avatars first before sending prompts to AI tools.","prompts.createPersonas":"Create Avatars","competitors.title":"Competitor Analysis","competitors.subtitle":"Compare your brand against competitors","competitors.manage":"Manage Competitors","competitors.mentionComparison":"Mention Comparison","competitors.marketShare":"Market Share of Mentions","competitors.current":"Current Competitors","competitors.addCompetitor":"Add competitor","competitors.noCompetitors":"No competitors added yet","competitors.saveChanges":"Save Changes","competitors.saving":"Saving...","competitors.updated":"Competitors updated successfully!","competitors.noData":"No data available yet. Send some prompts to see competitor analysis.","competitors.businessRequired":"Business Profile Required","competitors.setupRequired":"Please set up your business profile and add competitors to view this analysis.","competitors.thisWeek":"This Week","competitors.lastWeek":"Last Week","competitors.last7Days":"Last 7 Days","competitors.last14Days":"Last 14 Days","competitors.last30Days":"Last 30 Days","competitors.thisMonth":"This Month","competitors.lastMonth":"Last Month","competitors.customRange":"Custom Range","competitors.lifeTime":"Life Time","analytics.title":"Analytics & Insights","analytics.subtitle":"AI-powered brand perception analysis","analytics.totalMentions":"Total Mentions","analytics.mentionShare":"Mention Share","analytics.avgQuery":"Avg per Query","analytics.brandScore":"Brand Score","analytics.mentionTrends":"Mention Trends","analytics.sentimentAnalysis":"Sentiment Analysis","analytics.keyThemes":"Dominant Keywords","analytics.aiInsights":"AI Insights","analytics.refreshInsights":"Refresh Insights","analytics.analyzing":"Analyzing your brand data...","analytics.noTrend":"No trend data available yet","analytics.positive":"Positive","analytics.neutral":"Neutral","analytics.negative":"Negative","analytics.mentions":"mentions","analytics.setupRequired":"Setup Required","analytics.setupMessage":"Please set up your business profile and send some prompts to view analytics.","analytics.noData":"No Data Yet","analytics.noDataMessage":"Send some prompts from your avatars to start seeing analytics and insights.","analytics.noSentimentData":"No Sentiment Data Available","analytics.noSentimentDataMessage":"Sentiment analysis data will appear here after running prompts with sentiment analysis.","analytics.vsLastWeek":"vs Last Week","analytics.vsCompetitors":"vs Competitors","analytics.mentionsPerPrompt":"mentions per prompt","analytics.outOf100":"out of 100","profile.title":"Account Overview","profile.subtitle":"Review your businesses and track prompt usage in one place.","profile.refresh":"Refresh Data","profile.businessesSection":"Businesses","profile.primaryLabel":"Primary","profile.additionalLabel":"Additional","profile.primaryBusinessSection":"Primary Business","profile.secondaryBusinessesSection":"Secondary Businesses","profile.businessesEmpty":"No businesses found for this account yet.","profile.usageSection":"Usage Summary","profile.maxPrompts":"Plan Limit","profile.monthlyPrompts":"Prompts This Month","profile.totalPrompts":"All-Time Prompts","profile.remainingPrompts":"Remaining This Month","profile.noUsage":"Usage metrics are not available yet.","profile.loadingError":"We could not load your profile details.","profile.retry":"Try Again","profile.missingUser":"Sign in to view your profile information.","business.title":"Business Profile","business.subtitle":"Define your brand foundation for AI analysis","business.companyInfo":"Company Information","business.createNew":"Create New Business","business.create":"Create Business","business.creating":"Creating...","business.businessName":"Business Name","business.businessNameRequired":"Business name is required","business.industry":"Industry","business.industryRequired":"Industry is required","business.description":"Description","business.descriptionRequired":"Description is required","business.phone":"Phone","business.targetMarket":"Target Market","business.targetMarketRequired":"Target market is required","business.productsServices":"Products/Services","business.productsServicesRequired":"At least one product/service is required","business.competitors":"Competitors","business.addCompetitor":"Add Competitor","business.competitorsRequired":"At least one competitor is required","business.pleaseFillRequiredFields":"Please fill in all required fields","business.createError":"Failed to create business. Please try again.","business.saving":"Saving...","business.update":"Update Business","business.profileSaved":"Business profile saved successfully","validation.required":"This field is required","validation.email":"Please enter a valid email address","validation.emailRequired":"Email is required","validation.password":"Password must be at least 6 characters","validation.passwordRequired":"Password is required","validation.passwordMismatch":"Passwords do not match","validation.confirmPasswordRequired":"Please confirm your password","validation.nameRequired":"Name is required","validation.jobTitleRequired":"Job title is required","validation.ageRequired":"Age is required","validation.ageInvalid":"Please enter a valid age (1-120)","validation.personaNameRequired":"Avatar name is required","validation.personaRoleRequired":"Avatar role/job title is required","validation.promptTextRequired":"Prompt text is required","validation.personaSelectionRequired":"Please select a persona","validation.phoneInvalid":"Please enter a valid phone number","common.cancel":"Cancel","common.save":"Save","common.create":"Create","common.update":"Update","common.edit":"Edit","common.delete":"Delete","common.view":"View","common.send":"Send","common.loading":"","common.error":"Error","common.success":"Success","common.close":"Close","common.back":"Back","common.next":"Next","common.previous":"Previous","common.search":"Search","common.filter":"Filter","common.all":"All","common.name":"Name","common.date":"Date","common.status":"Status","common.actions":"Actions","status.pending":"Pending","status.analyzing":"Analyzing","status.completed":"Completed","status.error":"Error","errors.personaSaveFailed":"Error saving avatar. Please ensure all required fields are filled and try again.","errors.aiProcessingFailed":"Error processing AI response. Please ensure your business profile is complete with business name, industry, and products/services. Please try again.","errors.noDatabaseData":"No database data available","errors.deleteBusinessFailed":"Error deleting business","errors.saveCompetitorsFailed":"Error saving competitors","errors.generateAvatarsFailed":"Failed to generate avatars.","errors.businessProfileNotFound":"Business profile not found. Please create a business profile first."},he:{"nav.businessProfile":" ","nav.personas":"","nav.prompts":"","nav.competitors":"","nav.analytics":" ","nav.profile":" ","nav.platform":"","welcome.title":"  -Mole.AI","welcome.subtitle":"     .","welcome.description":"              .","welcome.start":" ","welcome.profile.title":"   ","welcome.profile.subtitle":"        .","welcome.profile.nameLabel":"  *","welcome.profile.namePlaceholder":", ","welcome.profile.languageLabel":" ","welcome.profile.english":"English","welcome.profile.hebrew":"","welcome.profile.englishDescription":"   .","welcome.profile.hebrewDescription":"   .","welcome.profile.businessFallbackName":"  ","welcome.profile.continue":"","welcome.profile.saving":"  ...","welcome.business.title":"    ","welcome.business.subtitle":"        -AI .","welcome.business.saveAndContinue":" ","welcome.business.saving":"   ...","welcome.persona.title":"    ","welcome.persona.subtitle":"        .","welcome.personaIntro.title":"    ","welcome.personaIntro.subtitle":"       .","welcome.personaIntro.description":"   -Mole.AI   .         .","welcome.personaIntro.cta":"  ","welcome.personaIntro.back":"  ","welcome.meetPersona.title":"  {name}","welcome.meetPersona.subtitle":"      ","welcome.meetPersona.manualSubtitle":" ","welcome.businessReview.title":"  ","welcome.businessReview.subtitle":"       ","welcome.persona.motivations":" ","welcome.persona.backstory":"  ","welcome.creating":"  ...","welcome.finishSetup":"  ","welcome.success.title":" !","welcome.success.subtitle":"    .","welcome.success.message":"    !      .        .","welcome.enterApp":" -Mole.AI","welcome.errors.businessName":"      .","welcome.errors.description":"        .","welcome.errors.industry":"     .","welcome.errors.productsServices":"     .","welcome.errors.targetMarket":"     .","welcome.errors.competitors":"    .","welcome.errors.personaName":"     .","welcome.errors.personaRole":"        .","welcome.errors.personaAge":"    .","welcome.errors.personaGoals":"     .","welcome.errors.personaPainPoints":"      .","welcome.errors.personaLifestyle":"      .","welcome.errors.personaMotivations":"     .","welcome.errors.personaBackstory":"     .","welcome.errors.saving":"   .  .","welcome.errors.profileName":"       .","welcome.errors.profileSubmit":"   .  .","layout.businessFallback":" ","layout.businessLoading":" ...","layout.businessUnavailable":"  ","layout.businessManageCaption":" ","business.title":" ","placeholder.businessName":"  ","placeholder.industry":", , , ","placeholder.phone":": 0501234567","placeholder.description":"    ,     ","placeholder.productsServices":"     ","placeholder.targetMarket":"        ","placeholder.addCompetitor":"  ","personas.title":"  ","personas.subtitle":"   AI  ","personas.generateAI":"   AI","personas.createManual":"  ","personas.noPersonas":"  ","personas.createFirst":"          ","personas.generateWith":"  AI","personas.createManually":" ","personas.businessRequired":"  ","personas.setupFirst":"           AI.","personas.setupProfile":"  ","personas.edit":"","personas.delete":"","personas.goals":"","personas.painPoints":" ","personas.lifestyle":" ","personas.years":"","prompts.title":" ","prompts.subtitle":"   AI  ","prompts.totalPrompts":" ","prompts.completed":"","prompts.pending":"","prompts.brandMentions":" ","prompts.mentions":"","prompts.sendNew":"  ","prompts.recentPrompts":" ","prompts.noPrompts":"   ","prompts.sendFirst":"         AI","prompts.sendFirstBtn":"  ","prompts.noPersonas":"  ","prompts.createPersonasFirst":"        AI.","prompts.createPersonas":" ","competitors.title":" ","competitors.subtitle":"     ","competitors.manage":" ","competitors.mentionComparison":" ","competitors.marketShare":"   ","competitors.current":" ","competitors.addCompetitor":" ","competitors.noCompetitors":"   ","competitors.saveChanges":" ","competitors.saving":"...","competitors.updated":"  !","competitors.noData":"   .      .","competitors.businessRequired":"  ","competitors.setupRequired":"           .","competitors.thisWeek":"","competitors.lastWeek":" ","competitors.last7Days":"7  ","competitors.last14Days":"14  ","competitors.last30Days":"30  ","competitors.thisMonth":"","competitors.lastMonth":" ","competitors.customRange":"  ","competitors.lifeTime":"","analytics.title":" ","analytics.subtitle":"    AI","analytics.totalMentions":" ","analytics.mentionShare":" ","analytics.avgQuery":" ","analytics.brandScore":" ","analytics.mentionTrends":" ","analytics.sentimentAnalysis":" ","analytics.keyThemes":"  ","analytics.aiInsights":" AI","analytics.refreshInsights":" ","analytics.analyzing":"    ...","analytics.noTrend":"    ","analytics.positive":"","analytics.neutral":"","analytics.negative":"","analytics.mentions":"","analytics.setupRequired":" ","analytics.setupMessage":"          .","analytics.noData":"  ","analytics.noDataMessage":"        .","analytics.noSentimentData":"   ","analytics.noSentimentDataMessage":"          .","analytics.vsLastWeek":"  ","analytics.vsCompetitors":" ","analytics.mentionsPerPrompt":" ","analytics.outOf100":" 100","profile.title":" ","profile.subtitle":"        .","profile.refresh":" ","profile.businessesSection":"","profile.primaryLabel":"","profile.additionalLabel":"","profile.primaryBusinessSection":" ","profile.secondaryBusinessesSection":" ","profile.businessesEmpty":"    .","profile.usageSection":" ","profile.maxPrompts":" ","profile.monthlyPrompts":" ","profile.totalPrompts":" ","profile.remainingPrompts":" ","profile.noUsage":"    .","profile.loadingError":"     .","profile.retry":" ","profile.missingUser":"     .","business.title":" ","business.subtitle":"      AI","business.companyInfo":"  ","business.createNew":"  ","business.create":" ","business.creating":"...","business.businessName":" ","business.businessNameRequired":"  ","business.industry":"","business.industryRequired":" ","business.description":"","business.descriptionRequired":" ","business.phone":"","business.targetMarket":" ","business.targetMarketRequired":"  ","business.productsServices":"/","business.productsServicesRequired":"     ","business.competitors":"","business.addCompetitor":" ","business.competitorsRequired":"   ","business.pleaseFillRequiredFields":"     ","business.createError":"  .   .","business.saving":"...","business.update":" ","business.profileSaved":"   ","validation.required":"  ","validation.email":"    ","validation.emailRequired":" ","validation.password":"    6 ","validation.passwordRequired":" ","validation.passwordMismatch":"  ","validation.confirmPasswordRequired":"   ","validation.nameRequired":" ","validation.jobTitleRequired":" ","validation.ageRequired":" ","validation.ageInvalid":"    (1-120)","validation.personaNameRequired":"  ","validation.personaRoleRequired":"  ","validation.promptTextRequired":"  ","validation.personaSelectionRequired":"  ","validation.phoneInvalid":"    ","common.cancel":"","common.save":"","common.create":"","common.update":"","common.edit":"","common.delete":"","common.view":"","common.send":"","common.loading":"...","common.error":"","common.success":"","common.close":"","common.back":"","common.next":"","common.previous":"","common.search":"","common.filter":"","common.all":"","common.name":"","common.date":"","common.status":"","common.actions":"","status.pending":"","status.analyzing":"","status.completed":"","status.error":"","errors.personaSaveFailed":"  .        .","errors.aiProcessingFailed":"   -AI.         ,  /.   .","errors.noDatabaseData":"    ","errors.deleteBusinessFailed":"  ","errors.saveCompetitorsFailed":"  ","errors.generateAvatarsFailed":"  .","errors.businessProfileNotFound":"   .     ."}};function uv({children:t}){const[e,r]=S.useState(()=>typeof window>"u"?"en":localStorage.getItem("app-language")||"en"),[n,i]=S.useState(()=>e==="he"?"rtl":"ltr"),[s,o]=S.useState(()=>typeof window>"u"?!1:localStorage.getItem("language-locked")==="true");S.useEffect(()=>{localStorage.setItem("app-language",e);const p=e==="he"?"rtl":"ltr";i(p),document.documentElement.setAttribute("dir",p),document.documentElement.setAttribute("lang",e)},[e]);const a=(p,m)=>{var _;return((_=Ere[e])==null?void 0:_[p])||m||p},c=n==="rtl",u=e==="he",f=()=>{o(!0),typeof window<"u"&&localStorage.setItem("language-locked","true")};return h.jsx(aU.Provider,{value:{language:e,setLanguage:r,direction:n,isRTL:c,isHebrew:u,languageLocked:s,lockLanguage:f,t:a},children:t})}const Pre=[{id:"1",business_name:"TechCorp Solutions",description:"Leading technology solutions provider specializing in AI and automation",products_services:"AI consulting, automation services, cloud solutions, data analytics",target_market:"Mid to large enterprises, startups, government agencies",competitors:["TechGiant Inc","InnovateNow","FutureTech"],industry:"Technology",website:"https://techcorp.com",created_date:new Date().toISOString(),updated_date:new Date().toISOString()}],Tre=[{id:"1",name:"Sarah Chen",age:"32",job_title:"CTO",lifestyle:"Tech-savvy, works long hours, values efficiency",goals:"Scale technology infrastructure, improve team productivity",pain_points:"Legacy systems, integration challenges, budget constraints",motivations:"Innovation, competitive advantage, team growth",purchasing_habits:"Research-heavy, ROI-focused, prefers demos",backstory:"Started as a developer, moved up through technical leadership roles",avatar_url:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",prompt_template:"As a CTO at a growing company, I need to understand how [PRODUCT/SERVICE] can help us scale our technology infrastructure while maintaining security and performance standards.",is_ai_generated:!0,created_date:new Date().toISOString(),updated_date:new Date().toISOString()},{id:"2",name:"Michael Rodriguez",age:"28",job_title:"Product Manager",lifestyle:"Data-driven, collaborative, customer-focused",goals:"Improve user experience, increase product adoption",pain_points:"Limited user feedback, unclear market needs",motivations:"User satisfaction, product success, career growth",purchasing_habits:"Trial-based, feature comparison, team consensus",backstory:"MBA graduate with 5 years in product management",avatar_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",prompt_template:"As a Product Manager, I'm evaluating solutions that can help us better understand our users and improve our product roadmap. What insights can you provide about [TOPIC]?",is_ai_generated:!0,created_date:new Date().toISOString(),updated_date:new Date().toISOString()}],Are=[],Ii={BUSINESS_PROFILES:"mole_ai_business_profiles",PERSONAS:"mole_ai_personas",PROMPTS:"mole_ai_prompts"},vc=t=>{try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading from localStorage:",e),[]}},op=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error("Error writing to localStorage:",r)}},Cre=()=>{vc(Ii.BUSINESS_PROFILES).length||op(Ii.BUSINESS_PROFILES,Pre),vc(Ii.PERSONAS).length||op(Ii.PERSONAS,Tre),vc(Ii.PROMPTS).length||op(Ii.PROMPTS,Are)},Nre=()=>{};var YR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},kre=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],a=t[r++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(m=64)),n.push(r[f],r[p],r[m],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw new Ire;const m=s<<2|a>>4;if(n.push(m),u!==64){const y=a<<4&240|u>>2;if(n.push(y),p!==64){const _=u<<6&192|p;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ire extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ore=function(t){const e=lU(t);return cU.encodeByteArray(e,!0)},$v=function(t){return Ore(t).replace(/\./g,"")},uU=function(t){try{return cU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rre=()=>jre().__FIREBASE_DEFAULTS__,Mre=()=>{if(typeof process>"u"||typeof YR>"u")return;const t=YR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dre=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uU(t[1]);return e&&JSON.parse(e)},Cx=()=>{try{return Nre()||Rre()||Mre()||Dre()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dU=t=>{var e,r;return(r=(e=Cx())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},Lre=t=>{const e=dU(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},fU=()=>{var t;return(t=Cx())==null?void 0:t.config},hU=t=>{var e;return(e=Cx())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pU(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fre(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$v(JSON.stringify(r)),$v(JSON.stringify(o)),""].join(".")}const ap={};function Vre(){const t={prod:[],emulator:[]};for(const e of Object.keys(ap))ap[e]?t.emulator.push(e):t.prod.push(e);return t}function Bre(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let XR=!1;function mU(t,e){if(typeof window>"u"||typeof document>"u"||!Pf(window.location.host)||ap[t]===e||ap[t]||XR)return;ap[t]=e;function r(m){return`__firebase__banner__${m}`}const n="__firebase__banner",s=Vre().prod.length>0;function o(){const m=document.getElementById(n);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{XR=!0,o()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=Bre(n),y=r("text"),_=document.getElementById(y)||document.createElement("span"),x=r("learnmore"),b=document.getElementById(x)||document.createElement("a"),T=r("preprendIcon"),P=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;a(E),f(b,x);const I=u();c(P,T),E.append(P,_,b,I),document.body.appendChild(E)}s?(_.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ure(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function qre(){var e;const t=(e=Cx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zre(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wre(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Hre(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gre(){const t=An();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kre(){return!qre()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yre(){try{return typeof indexedDB=="object"}catch{return!1}}function Xre(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qre="FirebaseError";class Jo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Qre,Object.setPrototypeOf(this,Jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rm.prototype.create)}}class Rm{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Jre(s,n):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Jo(i,a,n)}}function Jre(t,e){return t.replace(Zre,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Zre=/\{\$([^}]+)}/g;function ene(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nc(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(QR(s)&&QR(o)){if(!Nc(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function QR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Xh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Qh(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function tne(t,e){const r=new rne(t,e);return r.subscribe.bind(r)}class rne{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");nne(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=A_),i.error===void 0&&(i.error=A_),i.complete===void 0&&(i.complete=A_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nne(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function A_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t){return t&&t._delegate?t._delegate:t}class kc{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new $re;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(one(e))try{this.getOrInitializeService({instanceIdentifier:Jl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Jl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jl){return this.instances.has(e)}getOptions(e=Jl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);n===a&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:sne(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Jl){return this.component?this.component.multipleInstances?e:Jl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sne(t){return t===Jl?void 0:t}function one(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new ine(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(bt||(bt={}));const lne={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},cne=bt.INFO,une={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},dne=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=une[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xN{constructor(e){this.name=e,this._logLevel=cne,this._logHandler=dne,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lne[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const fne=(t,e)=>e.some(r=>t instanceof r);let JR,ZR;function hne(){return JR||(JR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pne(){return ZR||(ZR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gU=new WeakMap,xT=new WeakMap,yU=new WeakMap,C_=new WeakMap,bN=new WeakMap;function mne(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(qa(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&gU.set(r,t)}).catch(()=>{}),bN.set(e,t),e}function gne(t){if(xT.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xT.set(t,e)}let bT={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return xT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yU.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return qa(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yne(t){bT=t(bT)}function vne(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(N_(this),e,...r);return yU.set(n,e.sort?e.sort():[e]),qa(n)}:pne().includes(t)?function(...e){return t.apply(N_(this),e),qa(gU.get(this))}:function(...e){return qa(t.apply(N_(this),e))}}function xne(t){return typeof t=="function"?vne(t):(t instanceof IDBTransaction&&gne(t),fne(t,hne())?new Proxy(t,bT):t)}function qa(t){if(t instanceof IDBRequest)return mne(t);if(C_.has(t))return C_.get(t);const e=xne(t);return e!==t&&(C_.set(t,e),bN.set(e,t)),e}const N_=t=>bN.get(t);function bne(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qa(o);return n&&o.addEventListener("upgradeneeded",c=>{n(qa(o.result),c.oldVersion,c.newVersion,qa(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const wne=["get","getKey","getAll","getAllKeys","count"],_ne=["put","add","delete","clear"],k_=new Map;function e2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(k_.get(e))return k_.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=_ne.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||wne.includes(r)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),i&&c.done]))[0]};return k_.set(e,s),s}yne(t=>({...t,get:(e,r,n)=>e2(e,r)||t.get(e,r,n),has:(e,r)=>!!e2(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Ene(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Ene(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wT="@firebase/app",t2="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new xN("@firebase/app"),Pne="@firebase/app-compat",Tne="@firebase/analytics-compat",Ane="@firebase/analytics",Cne="@firebase/app-check-compat",Nne="@firebase/app-check",kne="@firebase/auth",Ine="@firebase/auth-compat",One="@firebase/database",jne="@firebase/data-connect",Rne="@firebase/database-compat",Mne="@firebase/functions",Dne="@firebase/functions-compat",Lne="@firebase/installations",$ne="@firebase/installations-compat",Fne="@firebase/messaging",Vne="@firebase/messaging-compat",Bne="@firebase/performance",Une="@firebase/performance-compat",qne="@firebase/remote-config",zne="@firebase/remote-config-compat",Wne="@firebase/storage",Hne="@firebase/storage-compat",Gne="@firebase/firestore",Kne="@firebase/ai",Yne="@firebase/firestore-compat",Xne="firebase",Qne="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="[DEFAULT]",Jne={[wT]:"fire-core",[Pne]:"fire-core-compat",[Ane]:"fire-analytics",[Tne]:"fire-analytics-compat",[Nne]:"fire-app-check",[Cne]:"fire-app-check-compat",[kne]:"fire-auth",[Ine]:"fire-auth-compat",[One]:"fire-rtdb",[jne]:"fire-data-connect",[Rne]:"fire-rtdb-compat",[Mne]:"fire-fn",[Dne]:"fire-fn-compat",[Lne]:"fire-iid",[$ne]:"fire-iid-compat",[Fne]:"fire-fcm",[Vne]:"fire-fcm-compat",[Bne]:"fire-perf",[Une]:"fire-perf-compat",[qne]:"fire-rc",[zne]:"fire-rc-compat",[Wne]:"fire-gcs",[Hne]:"fire-gcs-compat",[Gne]:"fire-fst",[Yne]:"fire-fst-compat",[Kne]:"fire-vertex","fire-js":"fire-js",[Xne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map,Zne=new Map,ST=new Map;function r2(t,e){try{t.container.addComponent(e)}catch(r){zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Cd(t){const e=t.name;if(ST.has(e))return zo.debug(`There were multiple attempts to register component ${e}.`),!1;ST.set(e,t);for(const r of Fv.values())r2(r,t);for(const r of Zne.values())r2(r,t);return!0}function wN(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Oi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},za=new Rm("app","Firebase",eie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tie{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new kc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=Qne;function vU(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:_T,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw za.create("bad-app-name",{appName:String(i)});if(r||(r=fU()),!r)throw za.create("no-options");const s=Fv.get(i);if(s){if(Nc(r,s.options)&&Nc(n,s.config))return s;throw za.create("duplicate-app",{appName:i})}const o=new ane(i);for(const c of ST.values())o.addComponent(c);const a=new tie(r,n,o);return Fv.set(i,a),a}function xU(t=_T){const e=Fv.get(t);if(!e&&t===_T&&fU())return vU();if(!e)throw za.create("no-app",{appName:t});return e}function Wa(t,e,r){let n=Jne[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zo.warn(o.join(" "));return}Cd(new kc(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rie="firebase-heartbeat-database",nie=1,Rp="firebase-heartbeat-store";let I_=null;function bU(){return I_||(I_=bne(rie,nie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rp)}catch(r){console.warn(r)}}}}).catch(t=>{throw za.create("idb-open",{originalErrorMessage:t.message})})),I_}async function iie(t){try{const r=(await bU()).transaction(Rp),n=await r.objectStore(Rp).get(wU(t));return await r.done,n}catch(e){if(e instanceof Jo)zo.warn(e.message);else{const r=za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zo.warn(r.message)}}}async function n2(t,e){try{const n=(await bU()).transaction(Rp,"readwrite");await n.objectStore(Rp).put(e,wU(t)),await n.done}catch(r){if(r instanceof Jo)zo.warn(r.message);else{const n=za.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});zo.warn(n.message)}}}function wU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sie=1024,oie=30;class aie{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new cie(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=i2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>oie){const o=uie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){zo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=i2(),{heartbeatsToSend:n,unsentEntries:i}=lie(this._heartbeatsCache.heartbeats),s=$v(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return zo.warn(r),""}}}function i2(){return new Date().toISOString().substring(0,10)}function lie(t,e=sie){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),s2(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),s2(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class cie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yre()?Xre().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await iie(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return n2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return n2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function s2(t){return $v(JSON.stringify({version:2,heartbeats:t})).length}function uie(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function die(t){Cd(new kc("platform-logger",e=>new Sne(e),"PRIVATE")),Cd(new kc("heartbeat",e=>new aie(e),"PRIVATE")),Wa(wT,t2,t),Wa(wT,t2,"esm2020"),Wa("fire-js","")}die("");var o2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ha,_U;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,k){function M(){}M.prototype=k.prototype,N.F=k.prototype,N.prototype=new M,N.prototype.constructor=N,N.D=function($,L,V){for(var D=Array(arguments.length-2),H=2;H<arguments.length;H++)D[H-2]=arguments[H];return k.prototype[L].apply($,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,k,M){M||(M=0);const $=Array(16);if(typeof k=="string")for(var L=0;L<16;++L)$[L]=k.charCodeAt(M++)|k.charCodeAt(M++)<<8|k.charCodeAt(M++)<<16|k.charCodeAt(M++)<<24;else for(L=0;L<16;++L)$[L]=k[M++]|k[M++]<<8|k[M++]<<16|k[M++]<<24;k=N.g[0],M=N.g[1],L=N.g[2];let V=N.g[3],D;D=k+(V^M&(L^V))+$[0]+3614090360&4294967295,k=M+(D<<7&4294967295|D>>>25),D=V+(L^k&(M^L))+$[1]+3905402710&4294967295,V=k+(D<<12&4294967295|D>>>20),D=L+(M^V&(k^M))+$[2]+606105819&4294967295,L=V+(D<<17&4294967295|D>>>15),D=M+(k^L&(V^k))+$[3]+3250441966&4294967295,M=L+(D<<22&4294967295|D>>>10),D=k+(V^M&(L^V))+$[4]+4118548399&4294967295,k=M+(D<<7&4294967295|D>>>25),D=V+(L^k&(M^L))+$[5]+1200080426&4294967295,V=k+(D<<12&4294967295|D>>>20),D=L+(M^V&(k^M))+$[6]+2821735955&4294967295,L=V+(D<<17&4294967295|D>>>15),D=M+(k^L&(V^k))+$[7]+4249261313&4294967295,M=L+(D<<22&4294967295|D>>>10),D=k+(V^M&(L^V))+$[8]+1770035416&4294967295,k=M+(D<<7&4294967295|D>>>25),D=V+(L^k&(M^L))+$[9]+2336552879&4294967295,V=k+(D<<12&4294967295|D>>>20),D=L+(M^V&(k^M))+$[10]+4294925233&4294967295,L=V+(D<<17&4294967295|D>>>15),D=M+(k^L&(V^k))+$[11]+2304563134&4294967295,M=L+(D<<22&4294967295|D>>>10),D=k+(V^M&(L^V))+$[12]+1804603682&4294967295,k=M+(D<<7&4294967295|D>>>25),D=V+(L^k&(M^L))+$[13]+4254626195&4294967295,V=k+(D<<12&4294967295|D>>>20),D=L+(M^V&(k^M))+$[14]+2792965006&4294967295,L=V+(D<<17&4294967295|D>>>15),D=M+(k^L&(V^k))+$[15]+1236535329&4294967295,M=L+(D<<22&4294967295|D>>>10),D=k+(L^V&(M^L))+$[1]+4129170786&4294967295,k=M+(D<<5&4294967295|D>>>27),D=V+(M^L&(k^M))+$[6]+3225465664&4294967295,V=k+(D<<9&4294967295|D>>>23),D=L+(k^M&(V^k))+$[11]+643717713&4294967295,L=V+(D<<14&4294967295|D>>>18),D=M+(V^k&(L^V))+$[0]+3921069994&4294967295,M=L+(D<<20&4294967295|D>>>12),D=k+(L^V&(M^L))+$[5]+3593408605&4294967295,k=M+(D<<5&4294967295|D>>>27),D=V+(M^L&(k^M))+$[10]+38016083&4294967295,V=k+(D<<9&4294967295|D>>>23),D=L+(k^M&(V^k))+$[15]+3634488961&4294967295,L=V+(D<<14&4294967295|D>>>18),D=M+(V^k&(L^V))+$[4]+3889429448&4294967295,M=L+(D<<20&4294967295|D>>>12),D=k+(L^V&(M^L))+$[9]+568446438&4294967295,k=M+(D<<5&4294967295|D>>>27),D=V+(M^L&(k^M))+$[14]+3275163606&4294967295,V=k+(D<<9&4294967295|D>>>23),D=L+(k^M&(V^k))+$[3]+4107603335&4294967295,L=V+(D<<14&4294967295|D>>>18),D=M+(V^k&(L^V))+$[8]+1163531501&4294967295,M=L+(D<<20&4294967295|D>>>12),D=k+(L^V&(M^L))+$[13]+2850285829&4294967295,k=M+(D<<5&4294967295|D>>>27),D=V+(M^L&(k^M))+$[2]+4243563512&4294967295,V=k+(D<<9&4294967295|D>>>23),D=L+(k^M&(V^k))+$[7]+1735328473&4294967295,L=V+(D<<14&4294967295|D>>>18),D=M+(V^k&(L^V))+$[12]+2368359562&4294967295,M=L+(D<<20&4294967295|D>>>12),D=k+(M^L^V)+$[5]+4294588738&4294967295,k=M+(D<<4&4294967295|D>>>28),D=V+(k^M^L)+$[8]+2272392833&4294967295,V=k+(D<<11&4294967295|D>>>21),D=L+(V^k^M)+$[11]+1839030562&4294967295,L=V+(D<<16&4294967295|D>>>16),D=M+(L^V^k)+$[14]+4259657740&4294967295,M=L+(D<<23&4294967295|D>>>9),D=k+(M^L^V)+$[1]+2763975236&4294967295,k=M+(D<<4&4294967295|D>>>28),D=V+(k^M^L)+$[4]+1272893353&4294967295,V=k+(D<<11&4294967295|D>>>21),D=L+(V^k^M)+$[7]+4139469664&4294967295,L=V+(D<<16&4294967295|D>>>16),D=M+(L^V^k)+$[10]+3200236656&4294967295,M=L+(D<<23&4294967295|D>>>9),D=k+(M^L^V)+$[13]+681279174&4294967295,k=M+(D<<4&4294967295|D>>>28),D=V+(k^M^L)+$[0]+3936430074&4294967295,V=k+(D<<11&4294967295|D>>>21),D=L+(V^k^M)+$[3]+3572445317&4294967295,L=V+(D<<16&4294967295|D>>>16),D=M+(L^V^k)+$[6]+76029189&4294967295,M=L+(D<<23&4294967295|D>>>9),D=k+(M^L^V)+$[9]+3654602809&4294967295,k=M+(D<<4&4294967295|D>>>28),D=V+(k^M^L)+$[12]+3873151461&4294967295,V=k+(D<<11&4294967295|D>>>21),D=L+(V^k^M)+$[15]+530742520&4294967295,L=V+(D<<16&4294967295|D>>>16),D=M+(L^V^k)+$[2]+3299628645&4294967295,M=L+(D<<23&4294967295|D>>>9),D=k+(L^(M|~V))+$[0]+4096336452&4294967295,k=M+(D<<6&4294967295|D>>>26),D=V+(M^(k|~L))+$[7]+1126891415&4294967295,V=k+(D<<10&4294967295|D>>>22),D=L+(k^(V|~M))+$[14]+2878612391&4294967295,L=V+(D<<15&4294967295|D>>>17),D=M+(V^(L|~k))+$[5]+4237533241&4294967295,M=L+(D<<21&4294967295|D>>>11),D=k+(L^(M|~V))+$[12]+1700485571&4294967295,k=M+(D<<6&4294967295|D>>>26),D=V+(M^(k|~L))+$[3]+2399980690&4294967295,V=k+(D<<10&4294967295|D>>>22),D=L+(k^(V|~M))+$[10]+4293915773&4294967295,L=V+(D<<15&4294967295|D>>>17),D=M+(V^(L|~k))+$[1]+2240044497&4294967295,M=L+(D<<21&4294967295|D>>>11),D=k+(L^(M|~V))+$[8]+1873313359&4294967295,k=M+(D<<6&4294967295|D>>>26),D=V+(M^(k|~L))+$[15]+4264355552&4294967295,V=k+(D<<10&4294967295|D>>>22),D=L+(k^(V|~M))+$[6]+2734768916&4294967295,L=V+(D<<15&4294967295|D>>>17),D=M+(V^(L|~k))+$[13]+1309151649&4294967295,M=L+(D<<21&4294967295|D>>>11),D=k+(L^(M|~V))+$[4]+4149444226&4294967295,k=M+(D<<6&4294967295|D>>>26),D=V+(M^(k|~L))+$[11]+3174756917&4294967295,V=k+(D<<10&4294967295|D>>>22),D=L+(k^(V|~M))+$[2]+718787259&4294967295,L=V+(D<<15&4294967295|D>>>17),D=M+(V^(L|~k))+$[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+V&4294967295}n.prototype.v=function(N,k){k===void 0&&(k=N.length);const M=k-this.blockSize,$=this.C;let L=this.h,V=0;for(;V<k;){if(L==0)for(;V<=M;)i(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<k;)if($[L++]=N.charCodeAt(V++),L==this.blockSize){i(this,$),L=0;break}}else for(;V<k;)if($[L++]=N[V++],L==this.blockSize){i(this,$),L=0;break}}this.h=L,this.o+=k},n.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;k=this.o*8;for(var M=N.length-8;M<N.length;++M)N[M]=k&255,k/=256;for(this.v(N),N=Array(16),k=0,M=0;M<4;++M)for(let $=0;$<32;$+=8)N[k++]=this.g[M]>>>$&255;return N};function s(N,k){var M=a;return Object.prototype.hasOwnProperty.call(M,N)?M[N]:M[N]=k(N)}function o(N,k){this.h=k;const M=[];let $=!0;for(let L=N.length-1;L>=0;L--){const V=N[L]|0;$&&V==k||(M[L]=V,$=!1)}this.g=M}var a={};function c(N){return-128<=N&&N<128?s(N,function(k){return new o([k|0],k<0?-1:0)}):new o([N|0],N<0?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return p;if(N<0)return b(u(-N));const k=[];let M=1;for(let $=0;N>=M;$++)k[$]=N/M|0,M*=4294967296;return new o(k,0)}function f(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return b(f(N.substring(1),k));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=u(Math.pow(k,8));let $=p;for(let V=0;V<N.length;V+=8){var L=Math.min(8,N.length-V);const D=parseInt(N.substring(V,V+L),k);L<8?(L=u(Math.pow(k,L)),$=$.j(L).add(u(D))):($=$.j(M),$=$.add(u(D)))}return $}var p=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-b(this).m();let N=0,k=1;for(let M=0;M<this.g.length;M++){const $=this.i(M);N+=($>=0?$:4294967296+$)*k,k*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(_(this))return"0";if(x(this))return"-"+b(this).toString(N);const k=u(Math.pow(N,6));var M=this;let $="";for(;;){const L=I(M,k).g;M=T(M,L.j(k));let V=((M.g.length>0?M.g[0]:M.h)>>>0).toString(N);if(M=L,_(M))return V+$;for(;V.length<6;)V="0"+V;$=V+$}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function _(N){if(N.h!=0)return!1;for(let k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function x(N){return N.h==-1}t.l=function(N){return N=T(this,N),x(N)?-1:_(N)?0:1};function b(N){const k=N.g.length,M=[];for(let $=0;$<k;$++)M[$]=~N.g[$];return new o(M,~N.h).add(m)}t.abs=function(){return x(this)?b(this):this},t.add=function(N){const k=Math.max(this.g.length,N.g.length),M=[];let $=0;for(let L=0;L<=k;L++){let V=$+(this.i(L)&65535)+(N.i(L)&65535),D=(V>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);$=D>>>16,V&=65535,D&=65535,M[L]=D<<16|V}return new o(M,M[M.length-1]&-2147483648?-1:0)};function T(N,k){return N.add(b(k))}t.j=function(N){if(_(this)||_(N))return p;if(x(this))return x(N)?b(this).j(b(N)):b(b(this).j(N));if(x(N))return b(this.j(b(N)));if(this.l(y)<0&&N.l(y)<0)return u(this.m()*N.m());const k=this.g.length+N.g.length,M=[];for(var $=0;$<2*k;$++)M[$]=0;for($=0;$<this.g.length;$++)for(let L=0;L<N.g.length;L++){const V=this.i($)>>>16,D=this.i($)&65535,H=N.i(L)>>>16,W=N.i(L)&65535;M[2*$+2*L]+=D*W,P(M,2*$+2*L),M[2*$+2*L+1]+=V*W,P(M,2*$+2*L+1),M[2*$+2*L+1]+=D*H,P(M,2*$+2*L+1),M[2*$+2*L+2]+=V*H,P(M,2*$+2*L+2)}for(N=0;N<k;N++)M[N]=M[2*N+1]<<16|M[2*N];for(N=k;N<2*k;N++)M[N]=0;return new o(M,0)};function P(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function E(N,k){this.g=N,this.h=k}function I(N,k){if(_(k))throw Error("division by zero");if(_(N))return new E(p,p);if(x(N))return k=I(b(N),k),new E(b(k.g),b(k.h));if(x(k))return k=I(N,b(k)),new E(b(k.g),k.h);if(N.g.length>30){if(x(N)||x(k))throw Error("slowDivide_ only works with positive integers.");for(var M=m,$=k;$.l(N)<=0;)M=C(M),$=C($);var L=R(M,1),V=R($,1);for($=R($,2),M=R(M,2);!_($);){var D=V.add($);D.l(N)<=0&&(L=L.add(M),V=D),$=R($,1),M=R(M,1)}return k=T(N,L.j(k)),new E(L,k)}for(L=p;N.l(k)>=0;){for(M=Math.max(1,Math.floor(N.m()/k.m())),$=Math.ceil(Math.log(M)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),V=u(M),D=V.j(k);x(D)||D.l(N)>0;)M-=$,V=u(M),D=V.j(k);_(V)&&(V=m),L=L.add(V),N=T(N,D)}return new E(L,N)}t.B=function(N){return I(this,N).h},t.and=function(N){const k=Math.max(this.g.length,N.g.length),M=[];for(let $=0;$<k;$++)M[$]=this.i($)&N.i($);return new o(M,this.h&N.h)},t.or=function(N){const k=Math.max(this.g.length,N.g.length),M=[];for(let $=0;$<k;$++)M[$]=this.i($)|N.i($);return new o(M,this.h|N.h)},t.xor=function(N){const k=Math.max(this.g.length,N.g.length),M=[];for(let $=0;$<k;$++)M[$]=this.i($)^N.i($);return new o(M,this.h^N.h)};function C(N){const k=N.g.length+1,M=[];for(let $=0;$<k;$++)M[$]=N.i($)<<1|N.i($-1)>>>31;return new o(M,N.h)}function R(N,k){const M=k>>5;k%=32;const $=N.g.length-M,L=[];for(let V=0;V<$;V++)L[V]=k>0?N.i(V+M)>>>k|N.i(V+M+1)<<32-k:N.i(V+M);return new o(L,N.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,_U=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Ha=o}).apply(typeof o2<"u"?o2:typeof self<"u"?self:typeof window<"u"?window:{});var ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SU,Jh,EU,dv,ET,PU,TU,AU;(function(){var t,e=Object.defineProperty;function r(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof ky=="object"&&ky];for(var j=0;j<v.length;++j){var F=v[j];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var n=r(this);function i(v,j){if(j)e:{var F=n;v=v.split(".");for(var q=0;q<v.length-1;q++){var ne=v[q];if(!(ne in F))break e;F=F[ne]}v=v[v.length-1],q=F[v],j=j(q),j!=q&&j!=null&&e(F,v,{configurable:!0,writable:!0,value:j})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(j){var F=[],q;for(q in j)Object.prototype.hasOwnProperty.call(j,q)&&F.push([q,j[q]]);return F}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(v){var j=typeof v;return j=="object"&&v!=null||j=="function"}function c(v,j,F){return v.call.apply(v.bind,arguments)}function u(v,j,F){return u=c,u.apply(null,arguments)}function f(v,j){var F=Array.prototype.slice.call(arguments,1);return function(){var q=F.slice();return q.push.apply(q,arguments),v.apply(this,q)}}function p(v,j){function F(){}F.prototype=j.prototype,v.Z=j.prototype,v.prototype=new F,v.prototype.constructor=v,v.Ob=function(q,ne,ae){for(var Ce=Array(arguments.length-2),it=2;it<arguments.length;it++)Ce[it-2]=arguments[it];return j.prototype[ne].apply(q,Ce)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function y(v){const j=v.length;if(j>0){const F=Array(j);for(let q=0;q<j;q++)F[q]=v[q];return F}return[]}function _(v,j){for(let q=1;q<arguments.length;q++){const ne=arguments[q];var F=typeof ne;if(F=F!="object"?F:ne?Array.isArray(ne)?"array":F:"null",F=="array"||F=="object"&&typeof ne.length=="number"){F=v.length||0;const ae=ne.length||0;v.length=F+ae;for(let Ce=0;Ce<ae;Ce++)v[F+Ce]=ne[Ce]}else v.push(ne)}}class x{constructor(j,F){this.i=j,this.j=F,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function b(v){o.setTimeout(()=>{throw v},0)}function T(){var v=N;let j=null;return v.g&&(j=v.g,v.g=v.g.next,v.g||(v.h=null),j.next=null),j}class P{constructor(){this.h=this.g=null}add(j,F){const q=E.get();q.set(j,F),this.h?this.h.next=q:this.g=q,this.h=q}}var E=new x(()=>new I,v=>v.reset());class I{constructor(){this.next=this.g=this.h=null}set(j,F){this.h=j,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let C,R=!1,N=new P,k=()=>{const v=Promise.resolve(void 0);C=()=>{v.then(M)}};function M(){for(var v;v=T();){try{v.h.call(v.g)}catch(F){b(F)}var j=E;j.j(v),j.h<100&&(j.h++,v.next=j.g,j.g=v)}R=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(v,j){this.type=v,this.g=this.target=j,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var v=!1,j=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const F=()=>{};o.addEventListener("test",F,j),o.removeEventListener("test",F,j)}catch{}return v})();function D(v){return/^[\s\xa0]*$/.test(v)}function H(v,j){L.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,j)}p(H,L),H.prototype.init=function(v,j){const F=this.type=v.type,q=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=j,j=v.relatedTarget,j||(F=="mouseover"?j=v.fromElement:F=="mouseout"&&(j=v.toElement)),this.relatedTarget=j,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var W="closure_listenable_"+(Math.random()*1e6|0),K=0;function Q(v,j,F,q,ne){this.listener=v,this.proxy=null,this.src=j,this.type=F,this.capture=!!q,this.ha=ne,this.key=++K,this.da=this.fa=!1}function U(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function G(v,j,F){for(const q in v)j.call(F,v[q],q,v)}function te(v,j){for(const F in v)j.call(void 0,v[F],F,v)}function z(v){const j={};for(const F in v)j[F]=v[F];return j}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(v,j){let F,q;for(let ne=1;ne<arguments.length;ne++){q=arguments[ne];for(F in q)v[F]=q[F];for(let ae=0;ae<Z.length;ae++)F=Z[ae],Object.prototype.hasOwnProperty.call(q,F)&&(v[F]=q[F])}}function ye(v){this.src=v,this.g={},this.h=0}ye.prototype.add=function(v,j,F,q,ne){const ae=v.toString();v=this.g[ae],v||(v=this.g[ae]=[],this.h++);const Ce=Me(v,j,q,ne);return Ce>-1?(j=v[Ce],F||(j.fa=!1)):(j=new Q(j,this.src,ae,!!q,ne),j.fa=F,v.push(j)),j};function Oe(v,j){const F=j.type;if(F in v.g){var q=v.g[F],ne=Array.prototype.indexOf.call(q,j,void 0),ae;(ae=ne>=0)&&Array.prototype.splice.call(q,ne,1),ae&&(U(j),v.g[F].length==0&&(delete v.g[F],v.h--))}}function Me(v,j,F,q){for(let ne=0;ne<v.length;++ne){const ae=v[ne];if(!ae.da&&ae.listener==j&&ae.capture==!!F&&ae.ha==q)return ne}return-1}var he="closure_lm_"+(Math.random()*1e6|0),_e={};function ue(v,j,F,q,ne){if(Array.isArray(j)){for(let ae=0;ae<j.length;ae++)ue(v,j[ae],F,q,ne);return null}return F=ft(F),v&&v[W]?v.J(j,F,a(q)?!!q.capture:!1,ne):be(v,j,F,!1,q,ne)}function be(v,j,F,q,ne,ae){if(!j)throw Error("Invalid event type");const Ce=a(ne)?!!ne.capture:!!ne;let it=Ne(v);if(it||(v[he]=it=new ye(v)),F=it.add(j,F,q,Ce,ae),F.proxy)return F;if(q=Ae(),F.proxy=q,q.src=v,q.listener=F,v.addEventListener)V||(ne=Ce),ne===void 0&&(ne=!1),v.addEventListener(j.toString(),q,ne);else if(v.attachEvent)v.attachEvent(fe(j.toString()),q);else if(v.addListener&&v.removeListener)v.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Ae(){function v(F){return j.call(v.src,v.listener,F)}const j=we;return v}function le(v,j,F,q,ne){if(Array.isArray(j))for(var ae=0;ae<j.length;ae++)le(v,j[ae],F,q,ne);else q=a(q)?!!q.capture:!!q,F=ft(F),v&&v[W]?(v=v.i,ae=String(j).toString(),ae in v.g&&(j=v.g[ae],F=Me(j,F,q,ne),F>-1&&(U(j[F]),Array.prototype.splice.call(j,F,1),j.length==0&&(delete v.g[ae],v.h--)))):v&&(v=Ne(v))&&(j=v.g[j.toString()],v=-1,j&&(v=Me(j,F,q,ne)),(F=v>-1?j[v]:null)&&Ze(F))}function Ze(v){if(typeof v!="number"&&v&&!v.da){var j=v.src;if(j&&j[W])Oe(j.i,v);else{var F=v.type,q=v.proxy;j.removeEventListener?j.removeEventListener(F,q,v.capture):j.detachEvent?j.detachEvent(fe(F),q):j.addListener&&j.removeListener&&j.removeListener(q),(F=Ne(j))?(Oe(F,v),F.h==0&&(F.src=null,j[he]=null)):U(v)}}}function fe(v){return v in _e?_e[v]:_e[v]="on"+v}function we(v,j){if(v.da)v=!0;else{j=new H(j,this);const F=v.listener,q=v.ha||v.src;v.fa&&Ze(v),v=F.call(q,j)}return v}function Ne(v){return v=v[he],v instanceof ye?v:null}var je="__closure_events_fn_"+(Math.random()*1e9>>>0);function ft(v){return typeof v=="function"?v:(v[je]||(v[je]=function(j){return v.handleEvent(j)}),v[je])}function Ke(){$.call(this),this.i=new ye(this),this.M=this,this.G=null}p(Ke,$),Ke.prototype[W]=!0,Ke.prototype.removeEventListener=function(v,j,F,q){le(this,v,j,F,q)};function ut(v,j){var F,q=v.G;if(q)for(F=[];q;q=q.G)F.push(q);if(v=v.M,q=j.type||j,typeof j=="string")j=new L(j,v);else if(j instanceof L)j.target=j.target||v;else{var ne=j;j=new L(q,v),ce(j,ne)}ne=!0;let ae,Ce;if(F)for(Ce=F.length-1;Ce>=0;Ce--)ae=j.g=F[Ce],ne=Dt(ae,q,!0,j)&&ne;if(ae=j.g=v,ne=Dt(ae,q,!0,j)&&ne,ne=Dt(ae,q,!1,j)&&ne,F)for(Ce=0;Ce<F.length;Ce++)ae=j.g=F[Ce],ne=Dt(ae,q,!1,j)&&ne}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var v=this.i;for(const j in v.g){const F=v.g[j];for(let q=0;q<F.length;q++)U(F[q]);delete v.g[j],v.h--}}this.G=null},Ke.prototype.J=function(v,j,F,q){return this.i.add(String(v),j,!1,F,q)},Ke.prototype.K=function(v,j,F,q){return this.i.add(String(v),j,!0,F,q)};function Dt(v,j,F,q){if(j=v.i.g[String(j)],!j)return!0;j=j.concat();let ne=!0;for(let ae=0;ae<j.length;++ae){const Ce=j[ae];if(Ce&&!Ce.da&&Ce.capture==F){const it=Ce.listener,pr=Ce.ha||Ce.src;Ce.fa&&Oe(v.i,Ce),ne=it.call(pr,q)!==!1&&ne}}return ne&&!q.defaultPrevented}function ir(v,j){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=u(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:o.setTimeout(v,j||0)}function Nr(v){v.g=ir(()=>{v.g=null,v.i&&(v.i=!1,Nr(v))},v.l);const j=v.h;v.h=null,v.m.apply(null,j)}class Xn extends ${constructor(j,F){super(),this.m=j,this.l=F,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Nr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(v){$.call(this),this.h=v,this.g={}}p(Ur,$);var Ui=[];function qi(v){G(v.g,function(j,F){this.g.hasOwnProperty(F)&&Ze(j)},v),v.g={}}Ur.prototype.N=function(){Ur.Z.N.call(this),qi(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=o.JSON.stringify,zi=o.JSON.parse,un=class{stringify(v){return o.JSON.stringify(v,void 0)}parse(v){return o.JSON.parse(v,void 0)}};function $e(){}function vt(){}var mt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function oe(){L.call(this,"d")}p(oe,L);function me(){L.call(this,"c")}p(me,L);var ke={},ht=null;function De(){return ht=ht||new Ke}ke.Ia="serverreachability";function qr(v){L.call(this,ke.Ia,v)}p(qr,L);function At(v){const j=De();ut(j,new qr(j))}ke.STAT_EVENT="statevent";function dn(v,j){L.call(this,ke.STAT_EVENT,v),this.stat=j}p(dn,L);function xt(v){const j=De();ut(j,new dn(j,v))}ke.Ja="timingevent";function bl(v,j){L.call(this,ke.Ja,v),this.size=j}p(bl,L);function ia(v,j){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){v()},j)}function sa(){this.g=!0}sa.prototype.ua=function(){this.g=!1};function lg(v,j,F,q,ne,ae){v.info(function(){if(v.g)if(ae){var Ce="",it=ae.split("&");for(let Ft=0;Ft<it.length;Ft++){var pr=it[Ft].split("=");if(pr.length>1){const br=pr[0];pr=pr[1];const ri=br.split("_");Ce=ri.length>=2&&ri[1]=="type"?Ce+(br+"="+pr+"&"):Ce+(br+"=redacted&")}}}else Ce=null;else Ce=ae;return"XMLHTTP REQ ("+q+") [attempt "+ne+"]: "+j+`
`+F+`
`+Ce})}function cg(v,j,F,q,ne,ae,Ce){v.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ne+"]: "+j+`
`+F+`
`+ae+" "+Ce})}function xs(v,j,F,q){v.info(function(){return"XMLHTTP TEXT ("+j+"): "+wl(v,F)+(q?" "+q:"")})}function ug(v,j){v.info(function(){return"TIMEOUT: "+j})}sa.prototype.info=function(){};function wl(v,j){if(!v.g)return j;if(!j)return null;try{const ae=JSON.parse(j);if(ae){for(v=0;v<ae.length;v++)if(Array.isArray(ae[v])){var F=ae[v];if(!(F.length<2)){var q=F[1];if(Array.isArray(q)&&!(q.length<1)){var ne=q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Ce=1;Ce<q.length;Ce++)q[Ce]=""}}}}return Dn(ae)}catch{return j}}var oa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},aa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dg;function oo(){}p(oo,$e),oo.prototype.g=function(){return new XMLHttpRequest},dg=new oo;function bs(v){return encodeURIComponent(String(v))}function nu(v){var j=1;v=v.split(":");const F=[];for(;j>0&&v.length;)F.push(v.shift()),j--;return v.length&&F.push(v.join(":")),F}function yi(v,j,F,q){this.j=v,this.i=j,this.l=F,this.S=q||1,this.V=new Ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fg}function fg(){this.i=null,this.g="",this.h=!1}var hg={},Hf={};function Wi(v,j,F){v.M=1,v.A=lo(vi(j)),v.u=F,v.R=!0,Gf(v,null)}function Gf(v,j){v.F=Date.now(),_l(v),v.B=vi(v.A);var F=v.B,q=v.S;Array.isArray(q)||(q=[String(q)]),nh(F.i,"t",q),v.C=0,F=v.j.L,v.h=new fg,v.g=Sg(v.j,F?j:null,!v.u),v.P>0&&(v.O=new Xn(u(v.Y,v,v.g),v.P)),j=v.V,F=v.g,q=v.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(Ui[0]=ne.toString()),ne=Ui);for(let ae=0;ae<ne.length;ae++){const Ce=ue(F,ne[ae],q||j.handleEvent,!1,j.h||j);if(!Ce)break;j.g[Ce.key]=Ce}j=v.J?z(v.J):{},v.u?(v.v||(v.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,j)):(v.v="GET",v.g.ea(v.B,v.v,null,j)),At(),lg(v.i,v.v,v.B,v.l,v.S,v.u)}yi.prototype.ba=function(v){v=v.target;const j=this.O;j&&As(v)==3?j.j():this.Y(v)},yi.prototype.Y=function(v){try{if(v==this.g)e:{const it=As(this.g),pr=this.g.ya(),Ft=this.g.ca();if(!(it<3)&&(it!=3||this.g&&(this.h.h||this.g.la()||wg(this.g)))){this.K||it!=4||pr==7||(pr==8||Ft<=0?At(3):At(2)),iu(this);var j=this.g.ca();this.X=j;var F=pg(this);if(this.o=j==200,cg(this.i,this.v,this.B,this.l,this.S,it,j),this.o){if(this.U&&!this.L){t:{if(this.g){var q,ne=this.g;if((q=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(q)){var ae=q;break t}}ae=null}if(v=ae)xs(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yt(this,v);else{this.o=!1,this.m=3,xt(12),ao(this),Sl(this);break e}}if(this.R){v=!0;let br;for(;!this.K&&this.C<F.length;)if(br=gg(this,F),br==Hf){it==4&&(this.m=4,xt(14),v=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(br==hg){this.m=4,xt(15),xs(this.i,this.l,F,"[Invalid Chunk]"),v=!1;break}else xs(this.i,this.l,br,null),Yt(this,br);if(mg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||F.length!=0||this.h.h||(this.m=1,xt(16),v=!1),this.o=this.o&&v,!v)xs(this.i,this.l,F,"[Invalid Chunked Response]"),ao(this),Sl(this);else if(F.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Ol(Ce),Ce.P=!0,xt(11))}}else xs(this.i,this.l,F,null),Yt(this,F);it==4&&ao(this),this.o&&!this.K&&(it==4?pu(this.j,this):(this.o=!1,_l(this)))}else sh(this.g),j==400&&F.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),ao(this),Sl(this)}}}catch{}finally{}};function pg(v){if(!mg(v))return v.g.la();const j=wg(v.g);if(j==="")return"";let F="";const q=j.length,ne=As(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ao(v),Sl(v),"";v.h.i=new o.TextDecoder}for(let ae=0;ae<q;ae++)v.h.h=!0,F+=v.h.i.decode(j[ae],{stream:!(ne&&ae==q-1)});return j.length=0,v.h.g+=F,v.C=0,v.h.g}function mg(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function gg(v,j){var F=v.C,q=j.indexOf(`
`,F);return q==-1?Hf:(F=Number(j.substring(F,q)),isNaN(F)?hg:(q+=1,q+F>j.length?Hf:(j=j.slice(q,q+F),v.C=q+F,j)))}yi.prototype.cancel=function(){this.K=!0,ao(this)};function _l(v){v.T=Date.now()+v.H,Kf(v,v.H)}function Kf(v,j){if(v.D!=null)throw Error("WatchDog timer not null");v.D=ia(u(v.aa,v),j)}function iu(v){v.D&&(o.clearTimeout(v.D),v.D=null)}yi.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(ug(this.i,this.B),this.M!=2&&(At(),xt(17)),ao(this),this.m=2,Sl(this)):Kf(this,this.T-v)};function Sl(v){v.j.I==0||v.K||pu(v.j,v)}function ao(v){iu(v);var j=v.O;j&&typeof j.dispose=="function"&&j.dispose(),v.O=null,qi(v.V),v.g&&(j=v.g,v.g=null,j.abort(),j.dispose())}function Yt(v,j){try{var F=v.j;if(F.I!=0&&(F.g==v||Xf(F.h,v))){if(!v.L&&Xf(F.h,v)&&F.I==3){try{var q=F.Ba.g.parse(j)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ne=q;if(ne[0]==0){e:if(!F.v){if(F.g)if(F.g.F+3e3<v.F)hu(F),ei(F);else break e;ks(F),xt(18)}}else F.xa=ne[1],0<F.xa-F.K&&ne[2]<37500&&F.F&&F.A==0&&!F.C&&(F.C=ia(u(F.Va,F),6e3));El(F.h)<=1&&F.ta&&(F.ta=void 0)}else ti(F,11)}else if((v.L||F.g==v)&&hu(F),!D(j))for(ne=F.Ba.g.parse(j),j=0;j<ne.length;j++){let Ft=ne[j];const br=Ft[0];if(!(br<=F.K))if(F.K=br,Ft=Ft[1],F.I==2)if(Ft[0]=="c"){F.M=Ft[1],F.ba=Ft[2];const ri=Ft[3];ri!=null&&(F.ka=ri,F.j.info("VER="+F.ka));const po=Ft[4];po!=null&&(F.za=po,F.j.info("SVER="+F.za));const Is=Ft[5];Is!=null&&typeof Is=="number"&&Is>0&&(q=1.5*Is,F.O=q,F.j.info("backChannelRequestTimeoutMs_="+q)),q=F;const Os=v.g;if(Os){const yu=Os.g?Os.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yu){var ae=q.h;ae.g||yu.indexOf("spdy")==-1&&yu.indexOf("quic")==-1&&yu.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(ou(ae,ae.h),ae.h=null))}if(q.G){const lh=Os.g?Os.g.getResponseHeader("X-HTTP-Session-Id"):null;lh&&(q.wa=lh,Ot(q.J,q.G,lh))}}F.I=3,F.l&&F.l.ra(),F.aa&&(F.T=Date.now()-v.F,F.j.info("Handshake RTT: "+F.T+"ms")),q=F;var Ce=v;if(q.na=ah(q,q.L?q.ba:null,q.W),Ce.L){Pl(q.h,Ce);var it=Ce,pr=q.O;pr&&(it.H=pr),it.D&&(iu(it),_l(it)),q.g=Ce}else fn(q);F.i.length>0&&ho(F)}else Ft[0]!="stop"&&Ft[0]!="close"||ti(F,7);else F.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?ti(F,7):du(F):Ft[0]!="noop"&&F.l&&F.l.qa(Ft),F.A=0)}}At(4)}catch{}}var $b=class{constructor(v,j){this.g=v,this.map=j}};function su(v){this.l=v||10,o.PerformanceNavigationTiming?(v=o.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yf(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function El(v){return v.h?1:v.g?v.g.size:0}function Xf(v,j){return v.h?v.h==j:v.g?v.g.has(j):!1}function ou(v,j){v.g?v.g.add(j):v.h=j}function Pl(v,j){v.h&&v.h==j?v.h=null:v.g&&v.g.has(j)&&v.g.delete(j)}su.prototype.cancel=function(){if(this.i=Qn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Qn(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let j=v.i;for(const F of v.g.values())j=j.concat(F.G);return j}return y(v.i)}var yg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jn(v,j){if(v){v=v.split("&");for(let F=0;F<v.length;F++){const q=v[F].indexOf("=");let ne,ae=null;q>=0?(ne=v[F].substring(0,q),ae=v[F].substring(q+1)):ne=v[F],j(ne,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function ws(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;v instanceof ws?(this.l=v.l,Tl(this,v.j),this.o=v.o,this.g=v.g,_s(this,v.u),this.h=v.h,la(this,ih(v.i)),this.m=v.m):v&&(j=String(v).match(yg))?(this.l=!1,Tl(this,j[1]||"",!0),this.o=Al(j[2]||""),this.g=Al(j[3]||"",!0),_s(this,j[4]),this.h=Al(j[5]||"",!0),la(this,j[6]||"",!0),this.m=Al(j[7]||"")):(this.l=!1,this.i=new wt(null,this.l))}ws.prototype.toString=function(){const v=[];var j=this.j;j&&v.push(Cl(j,Jf,!0),":");var F=this.g;return(F||j=="file")&&(v.push("//"),(j=this.o)&&v.push(Cl(j,Jf,!0),"@"),v.push(bs(F).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.u,F!=null&&v.push(":",String(F))),(F=this.h)&&(this.g&&F.charAt(0)!="/"&&v.push("/"),v.push(Cl(F,F.charAt(0)=="/"?Nl:Zf,!0))),(F=this.i.toString())&&v.push("?",F),(F=this.m)&&v.push("#",Cl(F,eh)),v.join("")},ws.prototype.resolve=function(v){const j=vi(this);let F=!!v.j;F?Tl(j,v.j):F=!!v.o,F?j.o=v.o:F=!!v.g,F?j.g=v.g:F=v.u!=null;var q=v.h;if(F)_s(j,v.u);else if(F=!!v.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var ne=j.h.lastIndexOf("/");ne!=-1&&(q=j.h.slice(0,ne+1)+q)}if(ne=q,ne==".."||ne==".")q="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){q=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const ae=[];for(let Ce=0;Ce<ne.length;){const it=ne[Ce++];it=="."?q&&Ce==ne.length&&ae.push(""):it==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),q&&Ce==ne.length&&ae.push("")):(ae.push(it),q=!0)}q=ae.join("/")}else q=ne}return F?j.h=q:F=v.i.toString()!=="",F?la(j,ih(v.i)):F=!!v.m,F&&(j.m=v.m),j};function vi(v){return new ws(v)}function Tl(v,j,F){v.j=F?Al(j,!0):j,v.j&&(v.j=v.j.replace(/:$/,""))}function _s(v,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);v.u=j}else v.u=null}function la(v,j,F){j instanceof wt?(v.i=j,lu(v.i,v.l)):(F||(j=Cl(j,Fb)),v.i=new wt(j,v.l))}function Ot(v,j,F){v.i.set(j,F)}function lo(v){return Ot(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Al(v,j){return v?j?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Cl(v,j,F){return typeof v=="string"?(v=encodeURI(v).replace(j,Qf),F&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Qf(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Jf=/[#\/\?@]/g,Zf=/[#\?:]/g,Nl=/[#\?]/g,Fb=/[#\?@]/g,eh=/#/g;function wt(v,j){this.h=this.g=null,this.i=v||null,this.j=!!j}function Ss(v){v.g||(v.g=new Map,v.h=0,v.i&&Jn(v.i,function(j,F){v.add(decodeURIComponent(j.replace(/\+/g," ")),F)}))}t=wt.prototype,t.add=function(v,j){Ss(this),this.i=null,v=Es(this,v);let F=this.g.get(v);return F||this.g.set(v,F=[]),F.push(j),this.h+=1,this};function th(v,j){Ss(v),j=Es(v,j),v.g.has(j)&&(v.i=null,v.h-=v.g.get(j).length,v.g.delete(j))}function au(v,j){return Ss(v),j=Es(v,j),v.g.has(j)}t.forEach=function(v,j){Ss(this),this.g.forEach(function(F,q){F.forEach(function(ne){v.call(j,ne,q,this)},this)},this)};function rh(v,j){Ss(v);let F=[];if(typeof j=="string")au(v,j)&&(F=F.concat(v.g.get(Es(v,j))));else for(v=Array.from(v.g.values()),j=0;j<v.length;j++)F=F.concat(v[j]);return F}t.set=function(v,j){return Ss(this),this.i=null,v=Es(this,v),au(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[j]),this.h+=1,this},t.get=function(v,j){return v?(v=rh(this,v),v.length>0?String(v[0]):j):j};function nh(v,j,F){th(v,j),F.length>0&&(v.i=null,v.g.set(Es(v,j),y(F)),v.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],j=Array.from(this.g.keys());for(let q=0;q<j.length;q++){var F=j[q];const ne=bs(F);F=rh(this,F);for(let ae=0;ae<F.length;ae++){let Ce=ne;F[ae]!==""&&(Ce+="="+bs(F[ae])),v.push(Ce)}}return this.i=v.join("&")};function ih(v){const j=new wt;return j.i=v.i,v.g&&(j.g=new Map(v.g),j.h=v.h),j}function Es(v,j){return j=String(j),v.j&&(j=j.toLowerCase()),j}function lu(v,j){j&&!v.j&&(Ss(v),v.i=null,v.g.forEach(function(F,q){const ne=q.toLowerCase();q!=ne&&(th(this,q),nh(this,ne,F))},v)),v.j=j}function Ps(v,j){const F=new sa;if(o.Image){const q=new Image;q.onload=f(en,F,"TestLoadImage: loaded",!0,j,q),q.onerror=f(en,F,"TestLoadImage: error",!1,j,q),q.onabort=f(en,F,"TestLoadImage: abort",!1,j,q),q.ontimeout=f(en,F,"TestLoadImage: timeout",!1,j,q),o.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=v}else j(!1)}function Ts(v,j){const F=new sa,q=new AbortController,ne=setTimeout(()=>{q.abort(),en(F,"TestPingServer: timeout",!1,j)},1e4);fetch(v,{signal:q.signal}).then(ae=>{clearTimeout(ne),ae.ok?en(F,"TestPingServer: ok",!0,j):en(F,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(ne),en(F,"TestPingServer: error",!1,j)})}function en(v,j,F,q,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),q(F)}catch{}}function kl(){this.g=new un}function co(v){this.i=v.Sb||null,this.h=v.ab||!1}p(co,$e),co.prototype.g=function(){return new Zn(this.i,this.h)};function Zn(v,j){Ke.call(this),this.H=v,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Zn,Ke),t=Zn.prototype,t.open=function(v,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=j,this.readyState=1,Hi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(j.body=v),(this.H||o).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vg(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function vg(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var j=v.value?v.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!v.done}))&&(this.response=this.responseText+=j)}v.done?ca(this):Hi(this),this.readyState==3&&vg(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,ca(this))},t.Na=function(v){this.g&&(this.response=v,ca(this))},t.ga=function(){this.g&&ca(this)};function ca(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Hi(v)}t.setRequestHeader=function(v,j){this.A.append(v,j)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],j=this.h.entries();for(var F=j.next();!F.done;)F=F.value,v.push(F[0]+": "+F[1]),F=j.next();return v.join(`\r
`)};function Hi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function xg(v){let j="";return G(v,function(F,q){j+=q,j+=":",j+=F,j+=`\r
`}),j}function cu(v,j,F){e:{for(q in F){var q=!1;break e}q=!0}q||(F=xg(F),typeof v=="string"?F!=null&&bs(F):Ot(v,j,F))}function Ut(v){Ke.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ut,Ke);var bg=/^https?$/i,Vb=["POST","PUT"];t=Ut.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,j,F,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);j=j?j.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dg.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(j,String(v),!0),this.B=!1}catch(ae){ua(this,ae);return}if(v=F||"",F=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ne in q)F.set(ne,q[ne]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ae of q.keys())F.set(ae,q.get(ae));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(F.keys()).find(ae=>ae.toLowerCase()=="content-type"),ne=o.FormData&&v instanceof o.FormData,!(Array.prototype.indexOf.call(Vb,j,void 0)>=0)||q||ne||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Ce]of F)this.g.setRequestHeader(ae,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ae){ua(this,ae)}};function ua(v,j){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=j,v.o=5,da(v),fo(v)}function da(v){v.A||(v.A=!0,ut(v,"complete"),ut(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,ut(this,"complete"),ut(this,"abort"),fo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fo(this,!0)),Ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?uo(this):this.Xa())},t.Xa=function(){uo(this)};function uo(v){if(v.h&&typeof s<"u"){if(v.v&&As(v)==4)setTimeout(v.Ca.bind(v),0);else if(ut(v,"readystatechange"),As(v)==4){v.h=!1;try{const ae=v.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var F;if(!(F=j)){var q;if(q=ae===0){let Ce=String(v.D).match(yg)[1]||null;!Ce&&o.self&&o.self.location&&(Ce=o.self.location.protocol.slice(0,-1)),q=!bg.test(Ce?Ce.toLowerCase():"")}F=q}if(F)ut(v,"complete"),ut(v,"success");else{v.o=6;try{var ne=As(v)>2?v.g.statusText:""}catch{ne=""}v.l=ne+" ["+v.ca()+"]",da(v)}}finally{fo(v)}}}}function fo(v,j){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const F=v.g;v.g=null,j||ut(v,"ready");try{F.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function As(v){return v.g?v.g.readyState:0}t.ca=function(){try{return As(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var j=this.g.responseText;return v&&j.indexOf(v)==0&&(j=j.substring(v.length)),zi(j)}};function wg(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function sh(v){const j={};v=(v.g&&As(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<v.length;q++){if(D(v[q]))continue;var F=nu(v[q]);const ne=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const ae=j[ne]||[];j[ne]=ae,ae.push(F)}te(j,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(v,j,F){return F&&F.internalChannelParams&&F.internalChannelParams[v]||j}function uu(v){this.za=0,this.i=[],this.j=new sa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cs("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cs("baseRetryDelayMs",5e3,v),this.Za=Cs("retryDelaySeedMs",1e4,v),this.Ta=Cs("forwardChannelMaxRetries",2,v),this.va=Cs("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new su(v&&v.concurrentRequestLimit),this.Ba=new kl,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=uu.prototype,t.ka=8,t.I=1,t.connect=function(v,j,F,q){xt(0),this.W=v,this.H=j||{},F&&q!==void 0&&(this.H.OSID=F,this.H.OAID=q),this.F=this.X,this.J=ah(this,null,this.W),ho(this)};function du(v){if(fu(v),v.I==3){var j=v.V++,F=vi(v.J);if(Ot(F,"SID",v.M),Ot(F,"RID",j),Ot(F,"TYPE","terminate"),Ns(v,F),j=new yi(v,v.j,j),j.M=2,j.A=lo(vi(F)),F=!1,o.navigator&&o.navigator.sendBeacon)try{F=o.navigator.sendBeacon(j.A.toString(),"")}catch{}!F&&o.Image&&(new Image().src=j.A,F=!0),F||(j.g=Sg(j.j,null),j.g.ea(j.A)),j.F=Date.now(),_l(j)}jl(v)}function ei(v){v.g&&(Ol(v),v.g.cancel(),v.g=null)}function fu(v){ei(v),v.v&&(o.clearTimeout(v.v),v.v=null),hu(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&o.clearTimeout(v.m),v.m=null)}function ho(v){if(!Yf(v.h)&&!v.m){v.m=!0;var j=v.Ea;C||k(),R||(C(),R=!0),N.add(j,v),v.D=0}}function _g(v,j){return El(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=j.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=ia(u(v.Ea,v,j),mu(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const ne=new yi(this,this.j,v);let ae=this.o;if(this.U&&(ae?(ae=z(ae),ce(ae,this.U)):ae=this.U),this.u!==null||this.R||(ne.J=ae,ae=null),this.S)e:{for(var j=0,F=0;F<this.i.length;F++){t:{var q=this.i[F];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(j+=q,j>4096){j=F;break e}if(j===4096||F===this.i.length-1){j=F+1;break e}}j=1e3}else j=1e3;j=oh(this,ne,j),F=vi(this.J),Ot(F,"RID",v),Ot(F,"CVER",22),this.G&&Ot(F,"X-HTTP-Session-Id",this.G),Ns(this,F),ae&&(this.R?j="headers="+bs(xg(ae))+"&"+j:this.u&&cu(F,this.u,ae)),ou(this.h,ne),this.Ra&&Ot(F,"TYPE","init"),this.S?(Ot(F,"$req",j),Ot(F,"SID","null"),ne.U=!0,Wi(ne,F,null)):Wi(ne,F,j),this.I=2}}else this.I==3&&(v?Il(this,v):this.i.length==0||Yf(this.h)||Il(this))};function Il(v,j){var F;j?F=j.l:F=v.V++;const q=vi(v.J);Ot(q,"SID",v.M),Ot(q,"RID",F),Ot(q,"AID",v.K),Ns(v,q),v.u&&v.o&&cu(q,v.u,v.o),F=new yi(v,v.j,F,v.D+1),v.u===null&&(F.J=v.o),j&&(v.i=j.G.concat(v.i)),j=oh(v,F,1e3),F.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),ou(v.h,F),Wi(F,q,j)}function Ns(v,j){v.H&&G(v.H,function(F,q){Ot(j,q,F)}),v.l&&G({},function(F,q){Ot(j,q,F)})}function oh(v,j,F){F=Math.min(v.i.length,F);const q=v.l?u(v.l.Ka,v.l,v):null;e:{var ne=v.i;let it=-1;for(;;){const pr=["count="+F];it==-1?F>0?(it=ne[0].g,pr.push("ofs="+it)):it=0:pr.push("ofs="+it);let Ft=!0;for(let br=0;br<F;br++){var ae=ne[br].g;const ri=ne[br].map;if(ae-=it,ae<0)it=Math.max(0,ne[br].g-100),Ft=!1;else try{ae="req"+ae+"_"||"";try{var Ce=ri instanceof Map?ri:Object.entries(ri);for(const[po,Is]of Ce){let Os=Is;a(Is)&&(Os=Dn(Is)),pr.push(ae+po+"="+encodeURIComponent(Os))}}catch(po){throw pr.push(ae+"type="+encodeURIComponent("_badmap")),po}}catch{q&&q(ri)}}if(Ft){Ce=pr.join("&");break e}}Ce=void 0}return v=v.i.splice(0,F),j.G=v,Ce}function fn(v){if(!v.g&&!v.v){v.Y=1;var j=v.Da;C||k(),R||(C(),R=!0),N.add(j,v),v.A=0}}function ks(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=ia(u(v.Da,v),mu(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,fa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=ia(u(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),ei(this),fa(this))};function Ol(v){v.B!=null&&(o.clearTimeout(v.B),v.B=null)}function fa(v){v.g=new yi(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var j=vi(v.na);Ot(j,"RID","rpc"),Ot(j,"SID",v.M),Ot(j,"AID",v.K),Ot(j,"CI",v.F?"0":"1"),!v.F&&v.ia&&Ot(j,"TO",v.ia),Ot(j,"TYPE","xmlhttp"),Ns(v,j),v.u&&v.o&&cu(j,v.u,v.o),v.O&&(v.g.H=v.O);var F=v.g;v=v.ba,F.M=1,F.A=lo(vi(j)),F.u=null,F.R=!0,Gf(F,v)}t.Va=function(){this.C!=null&&(this.C=null,ei(this),ks(this),xt(19))};function hu(v){v.C!=null&&(o.clearTimeout(v.C),v.C=null)}function pu(v,j){var F=null;if(v.g==j){hu(v),Ol(v),v.g=null;var q=2}else if(Xf(v.h,j))F=j.G,Pl(v.h,j),q=1;else return;if(v.I!=0){if(j.o)if(q==1){F=j.u?j.u.length:0,j=Date.now()-j.F;var ne=v.D;q=De(),ut(q,new bl(q,F)),ho(v)}else fn(v);else if(ne=j.m,ne==3||ne==0&&j.X>0||!(q==1&&_g(v,j)||q==2&&ks(v)))switch(F&&F.length>0&&(j=v.h,j.i=j.i.concat(F)),ne){case 1:ti(v,5);break;case 4:ti(v,10);break;case 3:ti(v,6);break;default:ti(v,2)}}}function mu(v,j){let F=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(F*=2),F*j}function ti(v,j){if(v.j.info("Error code "+j),j==2){var F=u(v.bb,v),q=v.Ua;const ne=!q;q=new ws(q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Tl(q,"https"),lo(q),ne?Ps(q.toString(),F):Ts(q.toString(),F)}else xt(2);v.I=0,v.l&&v.l.pa(j),jl(v),fu(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function jl(v){if(v.I=0,v.ja=[],v.l){const j=Qn(v.h);(j.length!=0||v.i.length!=0)&&(_(v.ja,j),_(v.ja,v.i),v.h.i.length=0,y(v.i),v.i.length=0),v.l.oa()}}function ah(v,j,F){var q=F instanceof ws?vi(F):new ws(F);if(q.g!="")j&&(q.g=j+"."+q.g),_s(q,q.u);else{var ne=o.location;q=ne.protocol,j=j?j+"."+ne.hostname:ne.hostname,ne=+ne.port;const ae=new ws(null);q&&Tl(ae,q),j&&(ae.g=j),ne&&_s(ae,ne),F&&(ae.h=F),q=ae}return F=v.G,j=v.wa,F&&j&&Ot(q,F,j),Ot(q,"VER",v.ka),Ns(v,q),q}function Sg(v,j,F){if(j&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=v.Aa&&!v.ma?new Ut(new co({ab:F})):new Ut(v.ma),j.Fa(v.L),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eg(){}t=Eg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function gu(){}gu.prototype.g=function(v,j){return new tn(v,j)};function tn(v,j){Ke.call(this),this.g=new uu(j),this.l=v,this.h=j&&j.messageUrlParams||null,v=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(v?v["X-WebChannel-Content-Type"]=j.messageContentType:v={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(v?v["X-WebChannel-Client-Profile"]=j.sa:v={"X-WebChannel-Client-Profile":j.sa}),this.g.U=v,(v=j&&j.Qb)&&!D(v)&&(this.g.u=v),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!D(j)&&(this.g.G=j,v=this.h,v!==null&&j in v&&(v=this.h,j in v&&delete v[j])),this.j=new ha(this)}p(tn,Ke),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){du(this.g)},tn.prototype.o=function(v){var j=this.g;if(typeof v=="string"){var F={};F.__data__=v,v=F}else this.v&&(F={},F.__data__=Dn(v),v=F);j.i.push(new $b(j.Ya++,v)),j.I==3&&ho(j)},tn.prototype.N=function(){this.g.l=null,delete this.j,du(this.g),delete this.g,tn.Z.N.call(this)};function Pg(v){oe.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var j=v.__sm__;if(j){e:{for(const F in j){v=F;break e}v=void 0}(this.i=v)&&(v=this.i,j=j!==null&&v in j?j[v]:void 0),this.data=j}else this.data=v}p(Pg,oe);function Tg(){me.call(this),this.status=1}p(Tg,me);function ha(v){this.g=v}p(ha,Eg),ha.prototype.ra=function(){ut(this.g,"a")},ha.prototype.qa=function(v){ut(this.g,new Pg(v))},ha.prototype.pa=function(v){ut(this.g,new Tg)},ha.prototype.oa=function(){ut(this.g,"b")},gu.prototype.createWebChannel=gu.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,AU=function(){return new gu},TU=function(){return De()},PU=ke,ET={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oa.NO_ERROR=0,oa.TIMEOUT=8,oa.HTTP_ERROR=6,dv=oa,aa.COMPLETE="complete",EU=aa,vt.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,Jh=vt,Ut.prototype.listenOnce=Ut.prototype.K,Ut.prototype.getLastError=Ut.prototype.Ha,Ut.prototype.getLastErrorCode=Ut.prototype.ya,Ut.prototype.getStatus=Ut.prototype.ca,Ut.prototype.getResponseJson=Ut.prototype.La,Ut.prototype.getResponseText=Ut.prototype.la,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Fa,SU=Ut}).apply(typeof ky<"u"?ky:typeof self<"u"?self:typeof window<"u"?window:{});const a2="@firebase/firestore",l2="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new xN("@firebase/firestore");function Ku(){return Ic.logLevel}function Le(t,...e){if(Ic.logLevel<=bt.DEBUG){const r=e.map(_N);Ic.debug(`Firestore (${Af}): ${t}`,...r)}}function Wo(t,...e){if(Ic.logLevel<=bt.ERROR){const r=e.map(_N);Ic.error(`Firestore (${Af}): ${t}`,...r)}}function Oc(t,...e){if(Ic.logLevel<=bt.WARN){const r=e.map(_N);Ic.warn(`Firestore (${Af}): ${t}`,...r)}}function _N(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,CU(t,n,r)}function CU(t,e,r){let n=`FIRESTORE (${Af}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Wo(n),new Error(n)}function lr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||CU(e,i,n)}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends Jo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(xn.UNAUTHENTICATED)))}shutdown(){}}class fie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class hie{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){lr(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new Ga;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ga,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},a=c=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>a(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ga)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(lr(typeof n.accessToken=="string",31837,{l:n}),new NU(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lr(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class pie{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mie{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new pie(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class c2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gie{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){lr(this.o===void 0,3512);const n=s=>{s.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new c2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(lr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new c2(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=yie(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function _t(t,e){return t<e?-1:t>e?1:0}function PT(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return O_(i)===O_(s)?_t(i,s):O_(i)?1:-1}return _t(t.length,e.length)}const vie=55296,xie=57343;function O_(t){const e=t.charCodeAt(0);return e>=vie&&e<=xie}function Nd(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="__name__";class Ls{constructor(e,r,n){r===void 0?r=0:r>e.length&&at(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&at(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ls.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ls?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=Ls.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return _t(e.length,r.length)}static compareSegments(e,r){const n=Ls.isNumericId(e),i=Ls.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Ls.extractNumericId(e).compare(Ls.extractNumericId(r)):PT(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ha.fromString(e.substring(4,e.length-2))}}class Zt extends Ls{construct(e,r,n){return new Zt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new We(Te.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Zt(r)}static emptyPath(){return new Zt([])}}const bie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends Ls{construct(e,r,n){return new Sn(e,r,n)}static isValidIdentifier(e){return bie.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u2}static keyField(){return new Sn([u2])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new We(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new We(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new We(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(n+=a,i++):(s(),i++)}if(s(),o)throw new We(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(r)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(Zt.fromString(e))}static fromName(e){return new Ye(Zt.fromString(e).popFirst(5))}static empty(){return new Ye(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Zt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t,e,r){if(!r)throw new We(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OU(t,e,r,n){if(e===!0&&n===!0)throw new We(Te.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function d2(t){if(!Ye.isDocumentKey(t))throw new We(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f2(t){if(Ye.isDocumentKey(t))throw new We(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wie(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _ie(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":at(12329,{type:typeof t})}function kd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new We(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=_ie(t);throw new We(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){const r={typeString:t};return e&&(r.value=e),r}function Dm(t,e){if(!wie(t))throw new We(Te.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new We(Te.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=-62135596800,p2=1e6;class vr{static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*p2);return new vr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new We(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new We(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<h2)throw new We(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p2}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dm(e,vr._jsonSchema))return new vr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-h2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vr._jsonSchemaVersion="firestore/timestamp/1.0",vr._jsonSchema={type:Tr("string",vr._jsonSchemaVersion),seconds:Tr("number"),nanoseconds:Tr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{static fromTimestamp(e){return new st(e)}static min(){return new st(new vr(0,0))}static max(){return new st(new vr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=-1;function Sie(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(n===1e9?new vr(r+1,0):new vr(r,n));return new el(i,Ye.empty(),e)}function Eie(t){return new el(t.readTime,t.key,Mp)}class el{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new el(st.min(),Ye.empty(),Mp)}static max(){return new el(st.max(),Ye.empty(),Mp)}}function Pie(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ye.comparator(t.documentKey,e.documentKey),r!==0?r:_t(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Aie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==Tie)throw t;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&at(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pe(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof pe?r:pe.resolve(r)}catch(r){return pe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):pe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):pe.reject(r)}static resolve(e){return new pe(((r,n)=>{r(e)}))}static reject(e){return new pe(((r,n)=>{n(e)}))}static waitFor(e){return new pe(((r,n)=>{let i=0,s=0,o=!1;e.forEach((a=>{++i,a.next((()=>{++s,o&&s===i&&r()}),(c=>n(c)))})),o=!0,s===i&&r()}))}static or(e){let r=pe.resolve(!1);for(const n of e)r=r.next((i=>i?pe.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new pe(((n,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;r(e[u]).next((f=>{o[u]=f,++a,a===s&&n(o)}),(f=>i(f)))}}))}static doWhile(e,r){return new pe(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}function Cie(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Cf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ix.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nie=-1;function Ox(t){return t==null}function TT(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="";function kie(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=m2(e)),e=Iie(t.get(r),e);return m2(e)}function Iie(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case jU:r+="";break;default:r+=s}}return r}function m2(t){return t+jU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Lm(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Oie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,r){this.comparator=e,this.root=r||an.EMPTY}insert(e,r){return new xr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iy(this.root,e,this.comparator,!0)}}class Iy{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??an.RED,this.left=i??an.EMPTY,this.right=s??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new an(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return an.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw at(43730,{key:this.key,value:this.value});if(this.right.isRed())throw at(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw at(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw at(57766)}get value(){throw at(16141)}get color(){throw at(16727)}get left(){throw at(29726)}get right(){throw at(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new an(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.comparator=e,this.data=new xr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new y2(this.data.getIterator())}getIteratorFrom(e){return new y2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new $r(this.comparator);return r.data=e,r}}class y2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new Fa([])}unionWith(e){let r=new $r(Sn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Fa(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Nd(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new RU("Invalid base64 string: "+s):s}})(e);return new Jr(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new Jr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const jie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tl(t){if(lr(!!t,39018),typeof t=="string"){let e=0;const r=jie.exec(t);if(lr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:yr(t.seconds),nanos:yr(t.nanos)}}function yr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rl(t){return typeof t=="string"?Jr.fromBase64String(t):Jr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="server_timestamp",DU="__type__",LU="__previous_value__",$U="__local_write_time__";function SN(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[DU])==null?void 0:n.stringValue)===MU}function jx(t){const e=t.mapValue.fields[LU];return SN(e)?jx(e):e}function Dp(t){const e=tl(t.mapValue.fields[$U].timestampValue);return new vr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e,r,n,i,s,o,a,c,u,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=f}}const Vv="(default)";class Id{constructor(e,r){this.projectId=e,this.database=r||Vv}static empty(){return new Id("","")}get isDefaultDatabase(){return this.database===Vv}isEqual(e){return e instanceof Id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mie="__type__",Die="__max__",Oy={mapValue:{}},Lie="__vector__",AT="value";function nl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?SN(t)?4:Fie(t)?9007199254740991:$ie(t)?10:11:at(28295,{value:t})}function Xs(t,e){if(t===e)return!0;const r=nl(t);if(r!==nl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dp(t).isEqual(Dp(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=tl(i.timestampValue),a=tl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return rl(i.bytesValue).isEqual(rl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return yr(i.geoPointValue.latitude)===yr(s.geoPointValue.latitude)&&yr(i.geoPointValue.longitude)===yr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return yr(i.integerValue)===yr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=yr(i.doubleValue),a=yr(s.doubleValue);return o===a?TT(o)===TT(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return Nd(t.arrayValue.values||[],e.arrayValue.values||[],Xs);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(g2(o)!==g2(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Xs(o[c],a[c])))return!1;return!0})(t,e);default:return at(52216,{left:t})}}function Lp(t,e){return(t.values||[]).find((r=>Xs(r,e)))!==void 0}function Od(t,e){if(t===e)return 0;const r=nl(t),n=nl(e);if(r!==n)return _t(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return _t(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const a=yr(s.integerValue||s.doubleValue),c=yr(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return v2(t.timestampValue,e.timestampValue);case 4:return v2(Dp(t),Dp(e));case 5:return PT(t.stringValue,e.stringValue);case 6:return(function(s,o){const a=rl(s),c=rl(o);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const f=_t(a[u],c[u]);if(f!==0)return f}return _t(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const a=_t(yr(s.latitude),yr(o.latitude));return a!==0?a:_t(yr(s.longitude),yr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return x2(t.arrayValue,e.arrayValue);case 10:return(function(s,o){var m,y,_,x;const a=s.fields||{},c=o.fields||{},u=(m=a[AT])==null?void 0:m.arrayValue,f=(y=c[AT])==null?void 0:y.arrayValue,p=_t(((_=u==null?void 0:u.values)==null?void 0:_.length)||0,((x=f==null?void 0:f.values)==null?void 0:x.length)||0);return p!==0?p:x2(u,f)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===Oy.mapValue&&o===Oy.mapValue)return 0;if(s===Oy.mapValue)return 1;if(o===Oy.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const m=PT(c[p],f[p]);if(m!==0)return m;const y=Od(a[c[p]],u[f[p]]);if(y!==0)return y}return _t(c.length,f.length)})(t.mapValue,e.mapValue);default:throw at(23264,{he:r})}}function v2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _t(t,e);const r=tl(t),n=tl(e),i=_t(r.seconds,n.seconds);return i!==0?i:_t(r.nanos,n.nanos)}function x2(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Od(r[i],n[i]);if(s)return s}return _t(r.length,n.length)}function jd(t){return CT(t)}function CT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=tl(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return rl(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Ye.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=CT(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${CT(r.fields[o])}`;return i+"}"})(t.mapValue):at(61005,{value:t})}function fv(t){switch(nl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jx(t);return e?16+fv(e):16;case 5:return 2*t.stringValue.length;case 6:return rl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+fv(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Lm(n.fields,((s,o)=>{i+=s.length+fv(o)})),i})(t.mapValue);default:throw at(13486,{value:t})}}function NT(t){return!!t&&"integerValue"in t}function EN(t){return!!t&&"arrayValue"in t}function b2(t){return!!t&&"nullValue"in t}function w2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function j_(t){return!!t&&"mapValue"in t}function $ie(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[Mie])==null?void 0:n.stringValue)===Lie}function lp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Lm(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=lp(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=lp(t.arrayValue.values[r]);return e}return{...t}}function Fie(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Die}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.value=e}static empty(){return new Fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!j_(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=lp(r)}setAll(e){let r=Sn.emptyPath(),n={},i=[];e.forEach(((o,a)=>{if(!r.isImmediateParentOf(a)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=a.popLast()}o?n[a.lastSegment()]=lp(o):i.push(a.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());j_(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Xs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];j_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Lm(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new Fs(lp(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,r,n,i,s,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new bn(e,0,st.min(),st.min(),st.min(),Fs.empty(),0)}static newFoundDocument(e,r,n,i){return new bn(e,1,r,st.min(),n,i,0)}static newNoDocument(e,r){return new bn(e,2,r,st.min(),st.min(),Fs.empty(),0)}static newUnknownDocument(e,r){return new bn(e,3,r,st.min(),st.min(),Fs.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,r){this.position=e,this.inclusive=r}}function _2(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=Ye.comparator(Ye.fromName(o.referenceValue),r.key):n=Od(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function S2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Xs(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,r="asc"){this.field=e,this.dir=r}}function Vie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{}class Mr extends FU{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Uie(e,r,n):r==="array-contains"?new Wie(e,n):r==="in"?new Hie(e,n):r==="not-in"?new Gie(e,n):r==="array-contains-any"?new Kie(e,n):new Mr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new qie(e,n):new zie(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Od(r,this.value)):r!==null&&nl(this.value)===nl(r)&&this.matchesComparison(Od(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends FU{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Qs(e,r)}matches(e){return VU(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VU(t){return t.op==="and"}function BU(t){return Bie(t)&&VU(t)}function Bie(t){for(const e of t.filters)if(e instanceof Qs)return!1;return!0}function kT(t){if(t instanceof Mr)return t.field.canonicalString()+t.op.toString()+jd(t.value);if(BU(t))return t.filters.map((e=>kT(e))).join(",");{const e=t.filters.map((r=>kT(r))).join(",");return`${t.op}(${e})`}}function UU(t,e){return t instanceof Mr?(function(n,i){return i instanceof Mr&&n.op===i.op&&n.field.isEqual(i.field)&&Xs(n.value,i.value)})(t,e):t instanceof Qs?(function(n,i){return i instanceof Qs&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,o,a)=>s&&UU(o,i.filters[a])),!0):!1})(t,e):void at(19439)}function qU(t){return t instanceof Mr?(function(r){return`${r.field.canonicalString()} ${r.op} ${jd(r.value)}`})(t):t instanceof Qs?(function(r){return r.op.toString()+" {"+r.getFilters().map(qU).join(" ,")+"}"})(t):"Filter"}class Uie extends Mr{constructor(e,r,n){super(e,r,n),this.key=Ye.fromName(n.referenceValue)}matches(e){const r=Ye.comparator(e.key,this.key);return this.matchesComparison(r)}}class qie extends Mr{constructor(e,r){super(e,"in",r),this.keys=zU("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class zie extends Mr{constructor(e,r){super(e,"not-in",r),this.keys=zU("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function zU(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((n=>Ye.fromName(n.referenceValue)))}class Wie extends Mr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return EN(r)&&Lp(r.arrayValue,this.value)}}class Hie extends Mr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Lp(this.value.arrayValue,r)}}class Gie extends Mr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Lp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Lp(this.value.arrayValue,r)}}class Kie extends Mr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!EN(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Lp(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yie{constructor(e,r=null,n=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function E2(t,e=null,r=[],n=[],i=null,s=null,o=null){return new Yie(t,e,r,n,i,s,o)}function PN(t){const e=Et(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>kT(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),Ox(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>jd(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>jd(n))).join(",")),e.Te=r}return e.Te}function TN(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Vie(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!UU(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S2(t.startAt,e.startAt)&&S2(t.endAt,e.endAt)}function IT(t){return Ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,r=null,n=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Xie(t,e,r,n,i,s,o,a){return new Rx(t,e,r,n,i,s,o,a)}function AN(t){return new Rx(t)}function P2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Qie(t){return t.collectionGroup!==null}function cp(t){const e=Et(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $r(Sn.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Uv(s,n))})),r.has(Sn.keyField().canonicalString())||e.Ie.push(new Uv(Sn.keyField(),n))}return e.Ie}function qs(t){const e=Et(t);return e.Ee||(e.Ee=Jie(e,cp(t))),e.Ee}function Jie(t,e){if(t.limitType==="F")return E2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Uv(i.field,s)}));const r=t.endAt?new Bv(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Bv(t.startAt.position,t.startAt.inclusive):null;return E2(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function OT(t,e,r){return new Rx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Mx(t,e){return TN(qs(t),qs(e))&&t.limitType===e.limitType}function WU(t){return`${PN(qs(t))}|lt:${t.limitType}`}function Yu(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>qU(i))).join(", ")}]`),Ox(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>jd(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>jd(i))).join(",")),`Target(${n})`})(qs(t))}; limitType=${t.limitType})`}function Dx(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ye.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of cp(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,a,c){const u=_2(o,a,c);return o.inclusive?u<=0:u<0})(n.startAt,cp(n),i)||n.endAt&&!(function(o,a,c){const u=_2(o,a,c);return o.inclusive?u>=0:u>0})(n.endAt,cp(n),i))})(t,e)}function Zie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HU(t){return(e,r)=>{let n=!1;for(const i of cp(t)){const s=ese(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function ese(t,e,r){const n=t.field.isKeyField()?Ye.comparator(e.key,r.key):(function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Od(c,u):at(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return at(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lm(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return Oie(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tse=new xr(Ye.comparator);function il(){return tse}const GU=new xr(Ye.comparator);function Zh(...t){let e=GU;for(const r of t)e=e.insert(r.key,r);return e}function rse(t){let e=GU;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function lc(){return up()}function KU(){return up()}function up(){return new Wc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const nse=new $r(Ye.comparator);function Tt(...t){let e=nse;for(const r of t)e=e.add(r);return e}const ise=new $r(_t);function sse(){return ise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ose(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:TT(e)?"-0":e}}function ase(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this._=void 0}}function lse(t,e,r){return t instanceof jT?(function(i,s){const o={fields:{[DU]:{stringValue:MU},[$U]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&SN(s)&&(s=jx(s)),s&&(o.fields[LU]=s),{mapValue:o}})(r,e):t instanceof qv?YU(t,e):t instanceof zv?XU(t,e):(function(i,s){const o=use(i,s),a=T2(o)+T2(i.Ae);return NT(o)&&NT(i.Ae)?ase(a):ose(i.serializer,a)})(t,e)}function cse(t,e,r){return t instanceof qv?YU(t,e):t instanceof zv?XU(t,e):r}function use(t,e){return t instanceof RT?(function(n){return NT(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class jT extends Lx{}class qv extends Lx{constructor(e){super(),this.elements=e}}function YU(t,e){const r=QU(e);for(const n of t.elements)r.some((i=>Xs(i,n)))||r.push(n);return{arrayValue:{values:r}}}class zv extends Lx{constructor(e){super(),this.elements=e}}function XU(t,e){let r=QU(e);for(const n of t.elements)r=r.filter((i=>!Xs(i,n)));return{arrayValue:{values:r}}}class RT extends Lx{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function T2(t){return yr(t.integerValue||t.doubleValue)}function QU(t){return EN(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dse(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof qv&&i instanceof qv||n instanceof zv&&i instanceof zv?Nd(n.elements,i.elements,Xs):n instanceof RT&&i instanceof RT?Xs(n.Ae,i.Ae):n instanceof jT&&i instanceof jT})(t.transform,e.transform)}class xc{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new xc}static exists(e){return new xc(void 0,e)}static updateTime(e){return new xc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class CN{}function JU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hse(t.key,xc.none()):new NN(t.key,t.data,xc.none());{const r=t.data,n=Fs.empty();let i=new $r(Sn.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new $x(t.key,n,new Fa(i.toArray()),xc.none())}}function fse(t,e,r){t instanceof NN?(function(i,s,o){const a=i.value.clone(),c=C2(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,r):t instanceof $x?(function(i,s,o){if(!hv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=C2(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(ZU(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function dp(t,e,r,n){return t instanceof NN?(function(s,o,a,c){if(!hv(s.precondition,o))return a;const u=s.value.clone(),f=N2(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,r,n):t instanceof $x?(function(s,o,a,c){if(!hv(s.precondition,o))return a;const u=N2(s.fieldTransforms,c,o),f=o.data;return f.setAll(ZU(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(s,o,a){return hv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,r)}function A2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Nd(n,i,((s,o)=>dse(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class NN extends CN{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $x extends CN{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZU(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function C2(t,e,r){const n=new Map;lr(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);n.set(s.field,cse(o,a,r[i]))}return n}function N2(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,lse(s,o,e))}return n}class hse extends CN{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fse(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=dp(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=dp(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=KU();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=r.has(i.key)?null:a;const c=JU(o,a);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(st.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Tt())}isEqual(e){return this.batchId===e.batchId&&Nd(this.mutations,e.mutations,((r,n)=>A2(r,n)))&&Nd(this.baseMutations,e.baseMutations,((r,n)=>A2(r,n)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r,St;function eq(t){if(t===void 0)return Wo("GRPC error has no .code"),Te.UNKNOWN;switch(t){case _r.OK:return Te.OK;case _r.CANCELLED:return Te.CANCELLED;case _r.UNKNOWN:return Te.UNKNOWN;case _r.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case _r.INTERNAL:return Te.INTERNAL;case _r.UNAVAILABLE:return Te.UNAVAILABLE;case _r.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case _r.NOT_FOUND:return Te.NOT_FOUND;case _r.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case _r.ABORTED:return Te.ABORTED;case _r.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case _r.DATA_LOSS:return Te.DATA_LOSS;default:return at(39323,{code:t})}}(St=_r||(_r={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yse(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vse=new Ha([4294967295,4294967295],0);function k2(t){const e=yse().encode(t),r=new _U;return r.update(e),new Uint8Array(r.digest())}function I2(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ha([r,n],0),new Ha([i,s],0)]}class kN{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ep(`Invalid padding: ${r}`);if(n<0)throw new ep(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ep(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new ep(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Ha.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Ha.fromNumber(n)));return i.compare(vse)===1&&(i=new Ha([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=k2(e),[n,i]=I2(r);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new kN(s,i,r);return n.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const r=k2(e),[n,i]=I2(r);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class ep extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,$m.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Fx(st.min(),i,new xr(_t),il(),Tt())}}class $m{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new $m(n,r,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class tq{constructor(e,r){this.targetId=e,this.Ce=r}}class rq{constructor(e,r,n=Jr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class O2{constructor(){this.ve=0,this.Fe=j2(),this.Me=Jr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Tt(),r=Tt(),n=Tt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:at(38017,{changeType:s})}})),new $m(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=j2()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xse{constructor(e){this.Ge=e,this.ze=new Map,this.je=il(),this.Je=jy(),this.He=jy(),this.Ye=new xr(_t)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:at(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(IT(s))if(n===0){const o=new Ye(s.path);this.et(r,o,bn.newNoDocument(o,st.min()))}else lr(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,a;try{o=rl(n).toUint8Array()}catch(c){if(c instanceof RU)return Oc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new kN(o,i,s)}catch(c){return Oc(c instanceof ep?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(r,s,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((s,o)=>{const a=this.ot(o);if(a){if(s.current&&IT(a.target)){const c=new Ye(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,bn.newNoDocument(c,e))}s.Be&&(r.set(o,s.ke()),s.qe())}}));let n=Tt();this.He.forEach(((s,o)=>{let a=!0;o.forEachWhile((c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(n=n.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new Fx(e,r,this.Ye,this.je,n);return this.je=il(),this.Je=jy(),this.He=jy(),this.Ye=new xr(_t),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new O2,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new $r(_t),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new $r(_t),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Le("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new O2),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function jy(){return new xr(Ye.comparator)}function j2(){return new xr(Ye.comparator)}const bse={asc:"ASCENDING",desc:"DESCENDING"},wse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_se={and:"AND",or:"OR"};class Sse{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function MT(t,e){return t.useProto3Json||Ox(e)?e:{value:e}}function Ese(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pse(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pd(t){return lr(!!t,49232),st.fromTimestamp((function(r){const n=tl(r);return new vr(n.seconds,n.nanos)})(t))}function Tse(t,e){return DT(t,e).canonicalString()}function DT(t,e){const r=(function(i){return new Zt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function nq(t){const e=Zt.fromString(t);return lr(lq(e),10190,{key:e.toString()}),e}function R_(t,e){const r=nq(e);if(r.get(1)!==t.databaseId.projectId)throw new We(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new We(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ye(sq(r))}function iq(t,e){return Tse(t.databaseId,e)}function Ase(t){const e=nq(t);return e.length===4?Zt.emptyPath():sq(e)}function R2(t){return new Zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sq(t){return lr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Cse(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:at(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(u,f){return u.useProto3Json?(lr(f===void 0||typeof f=="string",58123),Jr.fromBase64String(f||"")):(lr(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Jr.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const f=u.code===void 0?Te.UNKNOWN:eq(u.code);return new We(f,u.message||"")})(o);r=new rq(n,i,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=R_(t,n.document.name),s=pd(n.document.updateTime),o=n.document.createTime?pd(n.document.createTime):st.min(),a=new Fs({mapValue:{fields:n.document.fields}}),c=bn.newFoundDocument(i,s,o,a),u=n.targetIds||[],f=n.removedTargetIds||[];r=new pv(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=R_(t,n.document),s=n.readTime?pd(n.readTime):st.min(),o=bn.newNoDocument(i,s),a=n.removedTargetIds||[];r=new pv([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=R_(t,n.document),s=n.removedTargetIds||[];r=new pv([],s,i,null)}else{if(!("filter"in e))return at(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new gse(i,s),a=n.targetId;r=new tq(a,o)}}return r}function Nse(t,e){return{documents:[iq(t,e.path)]}}function kse(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=iq(t,i);const s=(function(u){if(u.length!==0)return aq(Qs.create(u,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const o=(function(u){if(u.length!==0)return u.map((f=>(function(m){return{field:Xu(m.field),direction:jse(m.dir)}})(f)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=MT(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:r,parent:i}}function Ise(t){let e=Ase(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){lr(n===1,65062);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];r.where&&(s=(function(p){const m=oq(p);return m instanceof Qs&&BU(m)?m.getFilters():[m]})(r.where));let o=[];r.orderBy&&(o=(function(p){return p.map((m=>(function(_){return new Uv(Qu(_.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(m)))})(r.orderBy));let a=null;r.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,Ox(m)?null:m})(r.limit));let c=null;r.startAt&&(c=(function(p){const m=!!p.before,y=p.values||[];return new Bv(y,m)})(r.startAt));let u=null;return r.endAt&&(u=(function(p){const m=!p.before,y=p.values||[];return new Bv(y,m)})(r.endAt)),Xie(e,i,o,s,a,"F",c,u)}function Ose(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function oq(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Qu(r.unaryFilter.field);return Mr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Qu(r.unaryFilter.field);return Mr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qu(r.unaryFilter.field);return Mr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qu(r.unaryFilter.field);return Mr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return at(61313);default:return at(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Mr.create(Qu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return at(58110);default:return at(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Qs.create(r.compositeFilter.filters.map((n=>oq(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return at(1026)}})(r.compositeFilter.op))})(t):at(30097,{filter:t})}function jse(t){return bse[t]}function Rse(t){return wse[t]}function Mse(t){return _se[t]}function Xu(t){return{fieldPath:t.canonicalString()}}function Qu(t){return Sn.fromServerFormat(t.fieldPath)}function aq(t){return t instanceof Mr?(function(r){if(r.op==="=="){if(w2(r.value))return{unaryFilter:{field:Xu(r.field),op:"IS_NAN"}};if(b2(r.value))return{unaryFilter:{field:Xu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(w2(r.value))return{unaryFilter:{field:Xu(r.field),op:"IS_NOT_NAN"}};if(b2(r.value))return{unaryFilter:{field:Xu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(r.field),op:Rse(r.op),value:r.value}}})(t):t instanceof Qs?(function(r){const n=r.getFilters().map((i=>aq(i)));return n.length===1?n[0]:{compositeFilter:{op:Mse(r.op),filters:n}}})(t):at(54877,{filter:t})}function lq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,r,n,i,s=st.min(),o=st.min(),a=Jr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{constructor(e){this.yt=e}}function Lse(t){const e=Ise({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?OT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(){this.Cn=new Fse}addToCollectionParentIndex(e,r){return this.Cn.add(r),pe.resolve()}getCollectionParents(e,r){return pe.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return pe.resolve()}deleteFieldIndex(e,r){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,r){return pe.resolve()}getDocumentsMatchingTarget(e,r){return pe.resolve(null)}getIndexType(e,r){return pe.resolve(0)}getFieldIndexes(e,r){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,r){return pe.resolve(el.min())}getMinOffsetFromCollectionGroup(e,r){return pe.resolve(el.min())}updateCollectionGroup(e,r,n){return pe.resolve()}updateIndexEntries(e,r){return pe.resolve()}}class Fse{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new $r(Zt.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new $r(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cq=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(cq,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rd(0)}static cr(){return new Rd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="LruGarbageCollector",Vse=1048576;function L2([t,e],[r,n]){const i=_t(t,r);return i===0?_t(e,n):i}class Bse{constructor(e){this.Ir=e,this.buffer=new $r(L2),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();L2(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Use{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(D2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Cf(r)?Le(D2,"Ignoring IndexedDB error during garbage collection: ",r):await kx(r)}await this.Vr(3e5)}))}}class qse{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return pe.resolve(Ix.ce);const n=new Bse(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(M2)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M2):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,o,a,c,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,a=Date.now(),this.removeTargets(e,n,r)))).next((p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(u=Date.now(),Ku()<=bt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-f}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function zse(t,e){return new qse(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wse{constructor(){this.changes=new Wc((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?pe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hse{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gse{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&dp(n.mutation,i,Fa.empty(),vr.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Tt()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Tt()){const i=lc();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let o=Zh();return s.forEach(((a,c)=>{o=o.insert(a,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=lc();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Tt())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,a)=>{r.set(o,a)}))}))}computeViews(e,r,n,i){let s=il();const o=up(),a=(function(){return up()})();return r.forEach(((c,u)=>{const f=n.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof $x)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),dp(f.mutation,u,f.mutation.getFieldMask(),vr.now())):o.set(u.key,Fa.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((u,f)=>o.set(u,f))),r.forEach(((u,f)=>a.set(u,new Hse(f,o.get(u)??null)))),a)))}recalculateAndSaveOverlays(e,r){const n=up();let i=new xr(((o,a)=>o-a)),s=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const a of o)a.keys().forEach((c=>{const u=r.get(c);if(u===null)return;let f=n.get(c)||Fa.empty();f=a.applyToLocalView(u,f),n.set(c,f);const p=(i.get(a.batchId)||Tt()).add(c);i=i.insert(a.batchId,p)}))})).next((()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,f=c.value,p=KU();f.forEach((m=>{if(!s.has(m)){const y=JU(r.get(m),n.get(m));y!==null&&p.set(m,y),s=s.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return pe.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return Ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Qie(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):pe.resolve(lc());let a=Mp,c=s;return o.next((u=>pe.forEach(u,((f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(f)?pe.resolve():this.remoteDocumentCache.getEntry(e,f).next((m=>{c=c.insert(f,m)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,c,u,Tt()))).next((f=>({batchId:a,changes:rse(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ye(r)).next((n=>{let i=Zh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=Zh();return this.indexManager.getCollectionParents(e,s).next((a=>pe.forEach(a,(c=>{const u=(function(p,m){return new Rx(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next((f=>{f.forEach(((p,m)=>{o=o.insert(p,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((o=>{s.forEach(((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,bn.newInvalidDocument(f)))}));let a=Zh();return o.forEach(((c,u)=>{const f=s.get(c);f!==void 0&&dp(f.mutation,u,Fa.empty(),vr.now()),Dx(r,u)&&(a=a.insert(c,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kse{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return pe.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:pd(i.createTime)}})(r)),pe.resolve()}getNamedQuery(e,r){return pe.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:Lse(i.bundledQuery),readTime:pd(i.readTime)}})(r)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{constructor(){this.overlays=new xr(Ye.comparator),this.qr=new Map}getOverlay(e,r){return pe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=lc();return pe.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.St(e,r,s)})),pe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(n)),pe.resolve()}getOverlaysForCollection(e,r,n){const i=lc(),s=r.length+1,o=new Ye(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>n&&i.set(c.getKey(),c)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new xr(((u,f)=>u-f));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let f=s.get(u.largestBatchId);f===null&&(f=lc(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=lc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,f)=>a.set(u,f))),!(a.size()>=i)););return pe.resolve(a)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new mse(r,n));let s=this.qr.get(r);s===void 0&&(s=Tt(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(){this.sessionToken=Jr.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Qr=new $r(Kr.$r),this.Ur=new $r(Kr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Kr(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new Kr(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new Ye(new Zt([])),n=new Kr(r,e),i=new Kr(r,e+1),s=[];return this.Ur.forEachInRange([n,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Ye(new Zt([])),n=new Kr(r,e),i=new Kr(r,e+1);let s=Tt();return this.Ur.forEachInRange([n,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const r=new Kr(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Kr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Ye.comparator(e.key,r.key)||_t(e.Yr,r.Yr)}static Kr(e,r){return _t(e.Yr,r.Yr)||Ye.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new $r(Kr.$r)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pse(s,r,n,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Kr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return pe.resolve(o)}lookupMutationBatch(e,r){return pe.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?Nie:this.tr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Kr(r,0),i=new Kr(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],(o=>{const a=this.Xr(o.Yr);s.push(a)})),pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new $r(_t);return r.forEach((i=>{const s=new Kr(i,0),o=new Kr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(a=>{n=n.add(a.Yr)}))})),pe.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ye.isDocumentKey(s)||(s=s.child(""));const o=new Kr(new Ye(s),0);let a=new $r(_t);return this.Zr.forEachWhile((c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)}),o),pe.resolve(this.ti(a))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){lr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return pe.forEach(r.mutations,(i=>{const s=new Kr(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new Kr(r,0),i=this.Zr.firstAfterOrEqual(n);return pe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(e){this.ri=e,this.docs=(function(){return new xr(Ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return pe.resolve(n?n.document.mutableCopy():bn.newInvalidDocument(r))}getEntries(e,r){let n=il();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():bn.newInvalidDocument(i))})),pe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=il();const o=r.path,a=new Ye(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Pie(Eie(f),n)<=0||(i.has(f.key)||Dx(r,f))&&(s=s.insert(f.key,f.mutableCopy()))}return pe.resolve(s)}getAllFromCollectionGroup(e,r,n,i){at(9500)}ii(e,r){return pe.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new Zse(this)}getSize(e){return pe.resolve(this.size)}}class Zse extends Wse{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),pe.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eoe{constructor(e){this.persistence=e,this.si=new Wc((r=>PN(r)),TN),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.oi=0,this._i=new IN,this.targetCount=0,this.ai=Rd.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),pe.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Rd(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,pe.resolve()}updateTargetData(e,r){return this.Pr(r),pe.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),pe.waitFor(s).next((()=>i))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return pe.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),pe.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),pe.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),pe.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return pe.resolve(n)}containsKey(e,r){return pe.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,r){this.ui={},this.overlays={},this.ci=new Ix(0),this.li=!1,this.li=!0,this.hi=new Xse,this.referenceDelegate=e(this),this.Pi=new eoe(this),this.indexManager=new $se,this.remoteDocumentCache=(function(i){return new Jse(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new Dse(r),this.Ii=new Kse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Yse,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new Qse(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Le("MemoryPersistence","Starting transaction:",e);const i=new toe(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,r){return pe.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class toe extends Aie{constructor(e){super(),this.currentSequenceNumber=e}}class ON{constructor(e){this.persistence=e,this.Ri=new IN,this.Vi=null}static mi(e){return new ON(e)}get fi(){if(this.Vi)return this.Vi;throw at(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),pe.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),pe.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),pe.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.fi,(n=>{const i=Ye.fromPath(n);return this.gi(e,i).next((s=>{s||r.removeEntry(i,st.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return pe.or([()=>pe.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Wv{constructor(e,r){this.persistence=e,this.pi=new Wc((n=>kie(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=zse(this,r)}static mi(e,r){return new Wv(e,r)}Ei(){}di(e){return pe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return pe.forEach(this.pi,((n,i)=>this.br(e,n,i).next((s=>s?pe.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,r).next((a=>{a||(n++,s.removeEntry(o,st.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),pe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),pe.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=fv(e.data.value)),r}br(e,r,n){return pe.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return pe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Tt(),i=Tt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new jN(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kre()?8:Cie(An())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,r,i,n).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new roe;return this.Ss(e,r,o).next((a=>{if(s.result=a,this.Vs)return this.bs(e,r,o,a.size)}))})).next((()=>s.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(Ku()<=bt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Yu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pe.resolve()):(Ku()<=bt.DEBUG&&Le("QueryEngine","Query:",Yu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Ku()<=bt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Yu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qs(r))):pe.resolve())}ys(e,r){if(P2(r))return pe.resolve(null);let n=qs(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=OT(r,null,"F"),n=qs(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const o=Tt(...s);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,n).next((c=>{const u=this.Ds(r,a);return this.Cs(r,u,o,c.readTime)?this.ys(e,OT(r,null,"F")):this.vs(e,u,r,c)}))))})))))}ws(e,r,n,i){return P2(r)||i.isEqual(st.min())?pe.resolve(null):this.ps.getDocuments(e,n).next((s=>{const o=this.Ds(r,s);return this.Cs(r,o,n,i)?pe.resolve(null):(Ku()<=bt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yu(r)),this.vs(e,o,r,Sie(i,Mp)).next((a=>a)))}))}Ds(e,r){let n=new $r(HU(e));return r.forEach(((i,s)=>{Dx(e,s)&&(n=n.add(s))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return Ku()<=bt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Yu(r)),this.ps.getDocumentsMatchingQuery(e,r,el.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="LocalStore",ioe=3e8;class soe{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new xr(_t),this.xs=new Wc((s=>PN(s)),TN),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gse(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function ooe(t,e,r,n){return new soe(t,e,r,n)}async function dq(t,e){const r=Et(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const o=[],a=[];let c=Tt();for(const u of i){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return r.localDocuments.getDocuments(n,c).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function fq(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function aoe(t,e){const r=Et(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const a=[];e.targetChanges.forEach(((f,p)=>{const m=i.get(p);if(!m)return;a.push(r.Pi.removeMatchingKeys(s,f.removedDocuments,p).next((()=>r.Pi.addMatchingKeys(s,f.addedDocuments,p))));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Jr.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,n)),i=i.insert(p,y),(function(x,b,T){return x.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=ioe?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(m,y,f)&&a.push(r.Pi.updateTargetData(s,y))}));let c=il(),u=Tt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(s,f))})),a.push(loe(s,o,e.documentUpdates).next((f=>{c=f.ks,u=f.qs}))),!n.isEqual(st.min())){const f=r.Pi.getLastRemoteSnapshotVersion(s).next((p=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n)));a.push(f)}return pe.waitFor(a).next((()=>o.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,c,u))).next((()=>c))})).then((s=>(r.Ms=i,s)))}function loe(t,e,r){let n=Tt(),i=Tt();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let o=il();return r.forEach(((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(st.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Le(RN,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function coe(t,e){const r=Et(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((s=>s?(i=s,pe.resolve(i)):r.Pi.allocateTargetId(n).next((o=>(i=new Va(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function LT(t,e,r){const n=Et(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Cf(o))throw o;Le(RN,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function $2(t,e,r){const n=Et(t);let i=st.min(),s=Tt();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,u,f){const p=Et(c),m=p.xs.get(f);return m!==void 0?pe.resolve(p.Ms.get(m)):p.Pi.getTargetData(u,f)})(n,o,qs(e)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,a.targetId).next((c=>{s=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:st.min(),r?s:Tt()))).next((a=>(uoe(n,Zie(e),a),{documents:a,Qs:s})))))}function uoe(t,e,r){let n=t.Os.get(e)||st.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.Os.set(e,n)}class F2{constructor(){this.activeTargetIds=sse()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class doe{constructor(){this.Mo=new F2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new F2,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="ConnectivityMonitor";class B2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(V2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(V2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ry=null;function $T(){return Ry===null?Ry=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ry++,"0x"+Ry.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="RestConnection",hoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class poe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Vv?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const o=$T(),a=this.zo(e,r.toUriEncodedString());Le(M_,`Sending RPC '${e}' ${o}:`,a,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(a),f=Pf(u);return this.Jo(e,a,c,n,f).then((p=>(Le(M_,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Oc(M_,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",n),p}))}Ho(e,r,n,i,s,o){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Af})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,s)=>e[s]=i)),n&&n.headers.forEach(((i,s)=>e[s]=i))}zo(e,r){const n=hoe[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class moe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class goe extends poe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const o=$T();return new Promise(((a,c)=>{const u=new SU;u.setWithCredentials(!0),u.listenOnce(EU.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case dv.NO_ERROR:const p=u.getResponseJson();Le(yn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case dv.TIMEOUT:Le(yn,`RPC '${e}' ${o} timed out`),c(new We(Te.DEADLINE_EXCEEDED,"Request time out"));break;case dv.HTTP_ERROR:const m=u.getStatus();if(Le(yn,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const x=(function(T){const P=T.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(P)>=0?P:Te.UNKNOWN})(_.status);c(new We(x,_.message))}else c(new We(Te.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new We(Te.UNAVAILABLE,"Connection failed."));break;default:at(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Le(yn,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);Le(yn,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",f,n,15)}))}T_(e,r,n){const i=$T(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AU(),a=TU(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const f=s.join("");Le(yn,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=o.createWebChannel(f,c);this.I_(p);let m=!1,y=!1;const _=new moe({Yo:b=>{y?Le(yn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(Le(yn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),Le(yn,`RPC '${e}' stream ${i} sending:`,b),p.send(b))},Zo:()=>p.close()}),x=(b,T,P)=>{b.listen(T,(E=>{try{P(E)}catch(I){setTimeout((()=>{throw I}),0)}}))};return x(p,Jh.EventType.OPEN,(()=>{y||(Le(yn,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),x(p,Jh.EventType.CLOSE,(()=>{y||(y=!0,Le(yn,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(p))})),x(p,Jh.EventType.ERROR,(b=>{y||(y=!0,Oc(yn,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),_.a_(new We(Te.UNAVAILABLE,"The operation could not be completed")))})),x(p,Jh.EventType.MESSAGE,(b=>{var T;if(!y){const P=b.data[0];lr(!!P,16349);const E=P,I=(E==null?void 0:E.error)||((T=E[0])==null?void 0:T.error);if(I){Le(yn,`RPC '${e}' stream ${i} received error:`,I);const C=I.status;let R=(function(M){const $=_r[M];if($!==void 0)return eq($)})(C),N=I.message;R===void 0&&(R=Te.INTERNAL,N="Unknown error status: "+C+" with message "+I.message),y=!0,_.a_(new We(R,N)),p.close()}else Le(yn,`RPC '${e}' stream ${i} received:`,P),_.u_(P)}})),x(a,PU.STAT_EVENT,(b=>{b.stat===ET.PROXY?Le(yn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===ET.NOPROXY&&Le(yn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function D_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(t){return new Sse(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="PersistentStream";class yoe{constructor(e,r,n,i,s,o,a,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pq(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Te.RESOURCE_EXHAUSTED?(Wo(r.toString()),Wo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new We(Te.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(U2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(Le(U2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class voe extends yoe{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Cse(this.serializer,e),n=(function(s){if(!("targetChange"in s))return st.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?st.min():o.readTime?pd(o.readTime):st.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=R2(this.serializer),r.addTarget=(function(s,o){let a;const c=o.target;if(a=IT(c)?{documents:Nse(s,c)}:{query:kse(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Pse(s,o.resumeToken);const u=MT(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(st.min())>0){a.readTime=Ese(s,o.snapshotVersion.toTimestamp());const u=MT(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const n=Ose(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=R2(this.serializer),r.removeTarget=e,this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{}class boe extends xoe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new We(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,DT(r,n),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new We(Te.UNKNOWN,s.toString())}))}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,DT(r,n),i,o,a,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(Te.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class woe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wo(r),this.aa=!1):Le("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="RemoteStore";class _oe{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{Vm(this)&&(Le(Md,"Restarting streams for network reachability change."),await(async function(c){const u=Et(c);u.Ea.add(4),await Fm(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Vx(u)})(this))}))})),this.Ra=new woe(n,i)}}async function Vx(t){if(Vm(t))for(const e of t.da)await e(!0)}async function Fm(t){for(const e of t.da)await e(!1)}function mq(t,e){const r=Et(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),$N(r)?LN(r):Nf(r).O_()&&DN(r,e))}function MN(t,e){const r=Et(t),n=Nf(r);r.Ia.delete(e),n.O_()&&gq(r,e),r.Ia.size===0&&(n.O_()?n.L_():Vm(r)&&r.Ra.set("Unknown"))}function DN(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Nf(t).Y_(e)}function gq(t,e){t.Va.Ue(e),Nf(t).Z_(e)}function LN(t){t.Va=new xse({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Nf(t).start(),t.Ra.ua()}function $N(t){return Vm(t)&&!Nf(t).x_()&&t.Ia.size>0}function Vm(t){return Et(t).Ea.size===0}function yq(t){t.Va=void 0}async function Soe(t){t.Ra.set("Online")}async function Eoe(t){t.Ia.forEach(((e,r)=>{DN(t,e)}))}async function Poe(t,e){yq(t),$N(t)?(t.Ra.ha(e),LN(t)):t.Ra.set("Unknown")}async function Toe(t,e,r){if(t.Ra.set("Online"),e instanceof rq&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(n){Le(Md,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await q2(t,n)}else if(e instanceof pv?t.Va.Ze(e):e instanceof tq?t.Va.st(e):t.Va.tt(e),!r.isEqual(st.min()))try{const n=await fq(t.localStore);r.compareTo(n)>=0&&await(function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(u);f&&s.Ia.set(u,f.withResumeToken(c.resumeToken,o))}})),a.targetMismatches.forEach(((c,u)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(Jr.EMPTY_BYTE_STRING,f.snapshotVersion)),gq(s,c);const p=new Va(f.target,c,u,f.sequenceNumber);DN(s,p)})),s.remoteSyncer.applyRemoteEvent(a)})(t,r)}catch(n){Le(Md,"Failed to raise snapshot:",n),await q2(t,n)}}async function q2(t,e,r){if(!Cf(e))throw e;t.Ea.add(1),await Fm(t),t.Ra.set("Offline"),r||(r=()=>fq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Le(Md,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Vx(t)}))}async function z2(t,e){const r=Et(t);r.asyncQueue.verifyOperationInProgress(),Le(Md,"RemoteStore received new credentials");const n=Vm(r);r.Ea.add(3),await Fm(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Vx(r)}async function Aoe(t,e){const r=Et(t);e?(r.Ea.delete(2),await Vx(r)):e||(r.Ea.add(2),await Fm(r),r.Ra.set("Unknown"))}function Nf(t){return t.ma||(t.ma=(function(r,n,i){const s=Et(r);return s.sa(),new voe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Soe.bind(null,t),t_:Eoe.bind(null,t),r_:Poe.bind(null,t),H_:Toe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),$N(t)?LN(t):t.Ra.set("Unknown")):(await t.ma.stop(),yq(t))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,a=new FN(e,r,o,i,s);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vq(t,e){if(Wo("AsyncQueue",`${e}: ${t}`),Cf(t))return new We(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{static emptySet(e){return new md(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ye.comparator(r.key,n.key):(r,n)=>Ye.comparator(r.key,n.key),this.keyedMap=Zh(),this.sortedSet=new xr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof md)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new md;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.ga=new xr(Ye.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):at(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Dd{constructor(e,r,n,i,s,o,a,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach((a=>{o.push({type:0,doc:a})})),new Dd(e,r,md.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Noe{constructor(){this.queries=H2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Et(r),s=i.queries;i.queries=H2(),s.forEach(((o,a)=>{for(const c of a.Sa)c.onError(n)}))})(this,new We(Te.ABORTED,"Firestore shutting down"))}}function H2(){return new Wc((t=>WU(t)),Mx)}async function xq(t,e){const r=Et(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new Coe,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const a=vq(o,`Initialization of query '${Yu(e.query)}' failed`);return void e.onError(a)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&VN(r)}async function bq(t,e){const r=Et(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function koe(t,e){const r=Et(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(n=!0);o.wa=i}}n&&VN(r)}function Ioe(t,e,r){const n=Et(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function VN(t){t.Ca.forEach((e=>{e.next()}))}var FT,G2;(G2=FT||(FT={})).Ma="default",G2.Cache="cache";class wq{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Dd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Dd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==FT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e){this.key=e}}class Sq{constructor(e){this.key=e}}class Ooe{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Tt(),this.mutatedKeys=Tt(),this.eu=HU(e),this.tu=new md(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new W2,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const m=i.get(f),y=Dx(this.query,p)?p:null,_=!!m&&this.mutatedKeys.has(m.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let b=!1;m&&y?m.data.isEqual(y.data)?_!==x&&(n.track({type:3,doc:y}),b=!0):this.su(m,y)||(n.track({type:2,doc:y}),b=!0,(c&&this.eu(y,c)>0||u&&this.eu(y,u)<0)&&(a=!0)):!m&&y?(n.track({type:0,doc:y}),b=!0):m&&!y&&(n.track({type:1,doc:m}),b=!0,(c||u)&&(a=!0)),b&&(y?(o=o.add(y),s=x?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{tu:o,iu:n,Cs:a,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,p)=>(function(y,_){const x=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at(20277,{Rt:b})}};return x(y)-x(_)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(n),i=i??!1;const a=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new Dd(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Tt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new Sq(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new _q(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=Tt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Dd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const BN="SyncEngine";class joe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Roe{constructor(e){this.key=e,this.hu=!1}}class Moe{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Wc((a=>WU(a)),Mx),this.Iu=new Map,this.Eu=new Set,this.du=new xr(Ye.comparator),this.Au=new Map,this.Ru=new IN,this.Vu={},this.mu=new Map,this.fu=Rd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Doe(t,e,r=!0){const n=Cq(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Eq(n,e,r,!0),i}async function Loe(t,e){const r=Cq(t);await Eq(r,e,!0,!1)}async function Eq(t,e,r,n){const i=await coe(t.localStore,qs(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let a;return n&&(a=await $oe(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&mq(t.remoteStore,i),a}async function $oe(t,e,r,n,i){t.pu=(p,m,y)=>(async function(x,b,T,P){let E=b.view.ru(T);E.Cs&&(E=await $2(x.localStore,b.query,!1).then((({documents:N})=>b.view.ru(N,E))));const I=P&&P.targetChanges.get(b.targetId),C=P&&P.targetMismatches.get(b.targetId)!=null,R=b.view.applyChanges(E,x.isPrimaryClient,I,C);return Y2(x,b.targetId,R.au),R.snapshot})(t,p,m,y);const s=await $2(t.localStore,e,!0),o=new Ooe(e,s.Qs),a=o.ru(s.documents),c=$m.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Y2(t,r,u.au);const f=new joe(e,r,o);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function Foe(t,e,r){const n=Et(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter((o=>!Mx(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await LT(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&MN(n.remoteStore,i.targetId),VT(n,i.targetId)})).catch(kx)):(VT(n,i.targetId),await LT(n.localStore,i.targetId,!0))}async function Voe(t,e){const r=Et(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),MN(r.remoteStore,n.targetId))}async function Pq(t,e){const r=Et(t);try{const n=await aoe(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=r.Au.get(s);o&&(lr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?lr(o.hu,14607):i.removedDocuments.size>0&&(lr(o.hu,42227),o.hu=!1))})),await Aq(r,n,e)}catch(n){await kx(n)}}function K2(t,e,r){const n=Et(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)})),(function(o,a){const c=Et(o);c.onlineState=a;let u=!1;c.queries.forEach(((f,p)=>{for(const m of p.Sa)m.va(a)&&(u=!0)})),u&&VN(c)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Boe(t,e,r){const n=Et(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let o=new xr(Ye.comparator);o=o.insert(s,bn.newNoDocument(s,st.min()));const a=Tt().add(s),c=new Fx(st.min(),new Map,new xr(_t),o,a);await Pq(n,c),n.du=n.du.remove(s),n.Au.delete(e),UN(n)}else await LT(n.localStore,e,!1).then((()=>VT(n,e,r))).catch(kx)}function VT(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||Tq(t,n)}))}function Tq(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(MN(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),UN(t))}function Y2(t,e,r){for(const n of r)n instanceof _q?(t.Ru.addReference(n.key,e),Uoe(t,n)):n instanceof Sq?(Le(BN,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||Tq(t,n.key)):at(19791,{wu:n})}function Uoe(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Le(BN,"New document in limbo: "+r),t.Eu.add(n),UN(t))}function UN(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Ye(Zt.fromString(e)),n=t.fu.next();t.Au.set(n,new Roe(r)),t.du=t.du.insert(r,n),mq(t.remoteStore,new Va(qs(AN(r.path)),n,"TargetPurposeLimboResolution",Ix.ce))}}async function Aq(t,e,r){const n=Et(t),i=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((a,c)=>{o.push(n.pu(c,e,r).then((u=>{var f;if((u||r)&&n.isPrimaryClient){const p=u?!u.fromCache:(f=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:f.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);const p=jN.As(c.targetId,u);s.push(p)}})))})),await Promise.all(o),n.Pu.H_(i),await(async function(c,u){const f=Et(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>pe.forEach(u,(m=>pe.forEach(m.Es,(y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y))).next((()=>pe.forEach(m.ds,(y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))))))}catch(p){if(!Cf(p))throw p;Le(RN,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const y=f.Ms.get(m),_=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(_);f.Ms=f.Ms.insert(m,x)}}})(n.localStore,s))}async function qoe(t,e){const r=Et(t);if(!r.currentUser.isEqual(e)){Le(BN,"User change. New user:",e.toKey());const n=await dq(r.localStore,e);r.currentUser=e,(function(s,o){s.mu.forEach((a=>{a.forEach((c=>{c.reject(new We(Te.CANCELLED,o))}))})),s.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Aq(r,n.Ls)}}function zoe(t,e){const r=Et(t),n=r.Au.get(e);if(n&&n.hu)return Tt().add(n.key);{let i=Tt();const s=r.Iu.get(e);if(!s)return i;for(const o of s){const a=r.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function Cq(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zoe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Boe.bind(null,e),e.Pu.H_=koe.bind(null,e.eventManager),e.Pu.yu=Ioe.bind(null,e.eventManager),e}class Hv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hq(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return ooe(this.persistence,new noe,e.initialUser,this.serializer)}Cu(e){return new uq(ON.mi,this.serializer)}Du(e){return new doe}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hv.provider={build:()=>new Hv};class Woe extends Hv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){lr(this.persistence.referenceDelegate instanceof Wv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Use(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new uq((n=>Wv.mi(n,r)),this.serializer)}}class BT{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>K2(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=qoe.bind(null,this.syncEngine),await Aoe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Noe})()}createDatastore(e){const r=hq(e.databaseInfo.databaseId),n=(function(s){return new goe(s)})(e.databaseInfo);return(function(s,o,a,c){return new boe(s,o,a,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,o,a){return new _oe(n,i,s,o,a)})(this.localStore,this.datastore,e.asyncQueue,(r=>K2(this.syncEngine,r,0)),(function(){return B2.v()?new B2:new foe})())}createSyncEngine(e,r){return(function(i,s,o,a,c,u,f){const p=new Moe(i,s,o,a,c,u);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=Et(i);Le(Md,"RemoteStore shutting down."),s.Ea.add(5),await Fm(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}BT.provider={build:()=>new BT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="FirestoreClient";class Hoe{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=xn.UNAUTHENTICATED,this.clientId=Nx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async o=>{Le(sl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(Le(sl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=vq(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function L_(t,e){t.asyncQueue.verifyOperationInProgress(),Le(sl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await dq(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function X2(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Goe(t);Le(sl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>z2(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>z2(e.remoteStore,i))),t._onlineComponents=e}async function Goe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le(sl,"Using user provided OfflineComponentProvider");try{await L_(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Te.FAILED_PRECONDITION||i.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Oc("Error using user provided cache. Falling back to memory cache: "+r),await L_(t,new Hv)}}else Le(sl,"Using default OfflineComponentProvider"),await L_(t,new Woe(void 0));return t._offlineComponents}async function Koe(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le(sl,"Using user provided OnlineComponentProvider"),await X2(t,t._uninitializedComponentsProvider._online)):(Le(sl,"Using default OnlineComponentProvider"),await X2(t,new BT))),t._onlineComponents}async function kq(t){const e=await Koe(t),r=e.eventManager;return r.onListen=Doe.bind(null,e.syncEngine),r.onUnlisten=Foe.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Loe.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Voe.bind(null,e.syncEngine),r}function Yoe(t,e,r={}){const n=new Ga;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,c,u){const f=new Nq({next:m=>{f.Nu(),o.enqueueAndForget((()=>bq(s,p)));const y=m.docs.has(a);!y&&m.fromCache?u.reject(new We(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?u.reject(new We(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new wq(AN(a.path),f,{includeMetadataChanges:!0,qa:!0});return xq(s,p)})(await kq(t),t.asyncQueue,e,r,n))),n.promise}function Xoe(t,e,r={}){const n=new Ga;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,c,u){const f=new Nq({next:m=>{f.Nu(),o.enqueueAndForget((()=>bq(s,p))),m.fromCache&&c.source==="server"?u.reject(new We(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new wq(a,f,{includeMetadataChanges:!0,qa:!0});return xq(s,p)})(await kq(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq="firestore.googleapis.com",J2=!0;class Z2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new We(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Oq,this.ssl=J2}else this.host=e.host,this.ssl=e.ssl??J2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vse)throw new We(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iq(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new We(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new We(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new We(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bx{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new We(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new We(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new kU;switch(n.type){case"firstParty":return new mie(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new We(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=Q2.get(r);n&&(Le("ComponentProvider","Removing Datastore"),Q2.delete(r),n.terminate())})(this),Promise.resolve()}}function jq(t,e,r,n={}){var u;t=kd(t,Bx);const i=Pf(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${r}`;i&&(pU(`https://${a}`),mU("Firestore",!0)),s.host!==Oq&&s.host!==a&&Oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:n};if(!Nc(c,o)&&(t._setSettings(c),n.mockUserToken)){let f,p;if(typeof n.mockUserToken=="string")f=n.mockUserToken,p=xn.MOCK_USER;else{f=Fre(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new We(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new xn(m)}t._authCredentials=new fie(new NU(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Bm(this.firestore,e,this._query)}}class cn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Dm(r,cn._jsonSchema))return new cn(e,n||null,new Ye(Zt.fromString(r.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:Tr("string",cn._jsonSchemaVersion),referencePath:Tr("string")};class Mo extends Bm{constructor(e,r,n){super(e,r,AN(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Ye(e))}withConverter(e){return new Mo(this.firestore,e,this._path)}}function Rq(t,e,...r){if(t=ys(t),IU("collection","path",e),t instanceof Bx){const n=Zt.fromString(e,...r);return f2(n),new Mo(t,null,n)}{if(!(t instanceof cn||t instanceof Mo))throw new We(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Zt.fromString(e,...r));return f2(n),new Mo(t.firestore,null,n)}}function Hc(t,e,...r){if(t=ys(t),arguments.length===1&&(e=Nx.newId()),IU("doc","path",e),t instanceof Bx){const n=Zt.fromString(e,...r);return d2(n),new cn(t,null,new Ye(n))}{if(!(t instanceof cn||t instanceof Mo))throw new We(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Zt.fromString(e,...r));return d2(n),new cn(t.firestore,t instanceof Mo?t.converter:null,new Ye(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="AsyncQueue";class tM{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pq(this,"async_queue_retry"),this._c=()=>{const n=D_();n&&Le(eM,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=D_();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=D_();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Ga;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cf(e))throw e;Le(eM,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Wo("INTERNAL UNHANDLED ERROR: ",rM(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=FN.createAndSchedule(this,e,r,n,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&at(47125,{Pc:rM(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function rM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ux extends Bx{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new tM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tM(e),this._firestoreClient=void 0,await e}}}function Mq(t,e){const r=typeof t=="object"?t:xU(),n=typeof t=="string"?t:Vv,i=wN(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=Lre("firestore");s&&jq(i,...s)}return i}function qN(t){if(t._terminated)throw new We(Te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Qoe(t),t._firestoreClient}function Qoe(t){var n,i,s;const e=t._freezeSettings(),r=(function(a,c,u,f){return new Rie(a,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Iq(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Hoe(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new is(Jr.fromBase64String(e))}catch(r){throw new We(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new is(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:is._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dm(e,is._jsonSchema))return is.fromBase64String(e.bytes)}}is._jsonSchemaVersion="firestore/bytes/1.0",is._jsonSchema={type:Tr("string",is._jsonSchemaVersion),bytes:Tr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new We(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new We(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new We(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Do._jsonSchemaVersion}}static fromJSON(e){if(Dm(e,Do._jsonSchema))return new Do(e.latitude,e.longitude)}}Do._jsonSchemaVersion="firestore/geoPoint/1.0",Do._jsonSchema={type:Tr("string",Do._jsonSchemaVersion),latitude:Tr("number"),longitude:Tr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Lo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dm(e,Lo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Lo(e.vectorValues);throw new We(Te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Lo._jsonSchemaVersion="firestore/vectorValue/1.0",Lo._jsonSchema={type:Tr("string",Lo._jsonSchemaVersion),vectorValues:Tr("object")};const Joe=new RegExp("[~\\*/\\[\\]]");function Zoe(t,e,r){if(e.search(Joe)>=0)throw nM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new zN(...e.split("."))._internalPath}catch{throw nM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function nM(t,e,r,n,i){let s=`Function ${e}() called with invalid data`;s+=". ";let o="";return new We(Te.INVALID_ARGUMENT,s+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Lq("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class eae extends Dq{data(){return super.data()}}function Lq(t,e){return typeof e=="string"?Zoe(t,e):e instanceof zN?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tae(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new We(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $q{convertValue(e,r="none"){switch(nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw at(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Lm(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[AT].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>yr(o.doubleValue)));return new Lo(r)}convertGeoPoint(e){return new Do(yr(e.latitude),yr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=jx(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Dp(e));default:return null}}convertTimestamp(e){const r=tl(e);return new vr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Zt.fromString(e);lr(lq(n),9688,{name:e});const i=new Id(n.get(1),n.get(3)),s=new Ye(n.popFirst(5));return i.isEqual(r)||Wo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}class ed{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ka extends Dq{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Lq("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new We(Te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Ka._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ka._jsonSchema={type:Tr("string",Ka._jsonSchemaVersion),bundleSource:Tr("string","DocumentSnapshot"),bundleName:Tr("string"),bundle:Tr("string")};class fp extends Ka{data(e={}){return super.data(e)}}class bc{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new ed(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new fp(this._firestore,this._userDataWriter,n.key,n,new ed(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new We(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const c=new fp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ed(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const c=new fp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ed(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:rae(a.type),doc:c,oldIndex:u,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new We(Te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){t=kd(t,cn);const e=kd(t.firestore,Ux);return Yoe(qN(e),t._key).then((r=>nae(e,t,r)))}bc._jsonSchemaVersion="firestore/querySnapshot/1.0",bc._jsonSchema={type:Tr("string",bc._jsonSchemaVersion),bundleSource:Tr("string","QuerySnapshot"),bundleName:Tr("string"),bundle:Tr("string")};class Fq extends $q{constructor(e){super(),this.firestore=e}convertBytes(e){return new is(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,r)}}function Vq(t){t=kd(t,Bm);const e=kd(t.firestore,Ux),r=qN(e),n=new Fq(e);return tae(t._query),Xoe(r,t._query).then((i=>new bc(e,n,t,i)))}function nae(t,e,r){const n=r.docs.get(e._key),i=new Fq(t);return new Ka(t,i,e._key,n,new ed(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Af=i})(Tf),Cd(new kc("firestore",((n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),a=new Ux(new hie(n.getProvider("auth-internal")),new gie(o,n.getProvider("app-check-internal")),(function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new We(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(u.options.projectId,f)})(o,i),o);return s={useFetchStreams:r,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),Wa(a2,l2,e),Wa(a2,l2,"esm2020")})();const iae=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:$q,Bytes:is,CollectionReference:Mo,DocumentReference:cn,DocumentSnapshot:Ka,FieldPath:zN,Firestore:Ux,FirestoreError:We,GeoPoint:Do,Query:Bm,QueryDocumentSnapshot:fp,QuerySnapshot:bc,SnapshotMetadata:ed,Timestamp:vr,VectorValue:Lo,_AutoId:Nx,_ByteString:Jr,_DatabaseId:Id,_DocumentKey:Ye,_EmptyAuthCredentialsProvider:kU,_FieldPath:Sn,_cast:kd,_logWarn:Oc,_validateIsNotUsedTogether:OU,collection:Rq,connectFirestoreEmulator:jq,doc:Hc,ensureFirestoreConfigured:qN,getDoc:Gc,getDocs:Vq,getFirestore:Mq},Symbol.toStringTag,{value:"Module"}));var sae="firebase",oae="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wa(sae,oae,"app");function Bq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aae=Bq,Uq=new Rm("auth","Firebase",Bq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new xN("@firebase/auth");function lae(t,...e){Gv.logLevel<=bt.WARN&&Gv.warn(`Auth (${Tf}): ${t}`,...e)}function mv(t,...e){Gv.logLevel<=bt.ERROR&&Gv.error(`Auth (${Tf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,...e){throw HN(t,...e)}function cs(t,...e){return HN(t,...e)}function WN(t,e,r){const n={...aae(),[e]:r};return new Rm("auth","Firebase",n).create(e,{appName:t.name})}function Ya(t){return WN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cae(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&$i(t,"argument-error"),WN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function HN(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Uq.create(t,...e)}function Ge(t,e,...r){if(!t)throw HN(e,...r)}function Ao(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mv(e),new Error(e)}function Ho(t,e){t||Ao(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function uae(){return iM()==="http:"||iM()==="https:"}function iM(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uae()||Wre()||"connection"in navigator)?navigator.onLine:!0}function fae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ho(r>e,"Short delay should be less than long delay!"),this.isMobile=Ure()||Hre()}get(){return dae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t,e){Ho(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pae=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mae=new Um(3e4,6e4);function fl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zo(t,e,r,n,i={}){return zq(t,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const a=Mm({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return zre()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Pf(t.emulatorConfig.host)&&(u.credentials="include"),qq.fetch()(await Wq(t,t.config.apiHost,r,a),u)})}async function zq(t,e,r){t._canInitEmulator=!1;const n={...hae,...e};try{const i=new yae(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw My(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw My(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw My(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw My(t,"user-disabled",o);const f=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WN(t,f,u);$i(t,f)}}catch(i){if(i instanceof Jo)throw i;$i(t,"network-request-failed",{message:String(i)})}}async function qx(t,e,r,n,i={}){const s=await Zo(t,e,r,n,i);return"mfaPendingCredential"in s&&$i(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Wq(t,e,r,n){const i=`${e}${r}?${n}`,s=t,o=s.config.emulator?GN(t.config,i):`${t.config.apiScheme}://${i}`;return pae.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function gae(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yae{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(cs(this.auth,"network-request-failed")),mae.get())})}}function My(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=cs(t,e,n);return i.customData._tokenResponse=r,i}function sM(t){return t!==void 0&&t.enterprise!==void 0}class vae{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return gae(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xae(t,e){return Zo(t,"GET","/v2/recaptchaConfig",fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bae(t,e){return Zo(t,"POST","/v1/accounts:delete",e)}async function Yv(t,e){return Zo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wae(t,e=!1){const r=ys(t),n=await r.getIdToken(e),i=KN(n);Ge(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:hp($_(i.auth_time)),issuedAtTime:hp($_(i.iat)),expirationTime:hp($_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function $_(t){return Number(t)*1e3}function KN(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return mv("JWT malformed, contained fewer than 3 sections"),null;try{const i=uU(r);return i?JSON.parse(i):(mv("Failed to decode base64 JWT payload"),null)}catch(i){return mv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oM(t){const e=KN(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Jo&&_ae(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function _ae({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=hp(this.lastLoginAt),this.creationTime=hp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xv(t){var p;const e=t.auth,r=await t.getIdToken(),n=await $p(t,Yv(e,{idToken:r}));Ge(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(p=i.providerUserInfo)!=null&&p.length?Hq(i.providerUserInfo):[],o=Pae(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new UT(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Eae(t){const e=ys(t);await Xv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pae(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Hq(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tae(t,e){const r=await zq(t,{},async()=>{const n=Mm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Wq(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:n};return t.emulatorConfig&&Pf(t.emulatorConfig.host)&&(c.credentials="include"),qq.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Aae(t,e){return Zo(t,"POST","/v2/accounts:revokeToken",fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const r=oM(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await Tae(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,o=new gd;return n&&(Ge(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gd,this.toJSON())}_performRefresh(){return Ao("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class os{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Sae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new UT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await $p(this,this.stsTokenManager.getToken(this.auth,e));return Ge(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return wae(this,e)}reload(){return Eae(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new os({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Xv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oi(this.auth.app))return Promise.reject(Ya(this.auth));const e=await this.getIdToken();return await $p(this,bae(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,o=r.photoURL??void 0,a=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:_,stsTokenManager:x}=r;Ge(p&&x,e,"internal-error");const b=gd.fromJSON(this.name,x);Ge(typeof p=="string",e,"internal-error"),Na(n,e.name),Na(i,e.name),Ge(typeof m=="boolean",e,"internal-error"),Ge(typeof y=="boolean",e,"internal-error"),Na(s,e.name),Na(o,e.name),Na(a,e.name),Na(c,e.name),Na(u,e.name),Na(f,e.name);const T=new os({uid:p,auth:e,email:i,emailVerified:m,displayName:n,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:b,createdAt:u,lastLoginAt:f});return _&&Array.isArray(_)&&(T.providerData=_.map(P=>({...P}))),c&&(T._redirectEventId=c),T}static async _fromIdTokenResponse(e,r,n=!1){const i=new gd;i.updateFromServerResponse(r);const s=new os({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Xv(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ge(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Hq(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new gd;a.updateFromIdToken(n);const c=new os({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new UT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new Map;function Co(t){Ho(t instanceof Function,"Expected a class definition");let e=aM.get(t);return e?(Ho(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Gq.type="NONE";const lM=Gq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t,e,r){return`firebase:${t}:${e}:${r}`}class yd{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=gv(this.userKey,i.apiKey,s),this.fullPersistenceKey=gv("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Yv(this.auth,{idToken:e}).catch(()=>{});return r?os._fromGetAccountInfoResponse(this.auth,r,e):null}return os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new yd(Co(lM),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Co(lM);const o=gv(n,e.config.apiKey,e.name);let a=null;for(const u of r)try{const f=await u._get(o);if(f){let p;if(typeof f=="string"){const m=await Yv(e,{idToken:f}).catch(()=>{});if(!m)break;p=await os._fromGetAccountInfoResponse(e,m,f)}else p=os._fromJSON(e,f);u!==s&&(a=p),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new yd(s,e,n):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new yd(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zq(e))return"Blackberry";if(e9(e))return"Webos";if(Yq(e))return"Safari";if((e.includes("chrome/")||Xq(e))&&!e.includes("edge/"))return"Chrome";if(Jq(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Kq(t=An()){return/firefox\//i.test(t)}function Yq(t=An()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xq(t=An()){return/crios\//i.test(t)}function Qq(t=An()){return/iemobile/i.test(t)}function Jq(t=An()){return/android/i.test(t)}function Zq(t=An()){return/blackberry/i.test(t)}function e9(t=An()){return/webos/i.test(t)}function YN(t=An()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Cae(t=An()){var e;return YN(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Nae(){return Gre()&&document.documentMode===10}function t9(t=An()){return YN(t)||Jq(t)||e9(t)||Zq(t)||/windows phone/i.test(t)||Qq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t,e=[]){let r;switch(t){case"Browser":r=cM(An());break;case"Worker":r=`${cM(An())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Tf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iae(t,e={}){return Zo(t,"GET","/v2/passwordPolicy",fl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oae=6;class jae{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Oae,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uM(this),this.idTokenSubscription=new uM(this),this.beforeStateQueue=new kae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Co(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await yd.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Yv(this,{idToken:e}),n=await os._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Oi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Xv(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oi(this.app))return Promise.reject(Ya(this));const r=e?ys(e):null;return r&&Ge(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oi(this.app)?Promise.reject(Ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oi(this.app)?Promise.reject(Ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Co(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Iae(this),r=new jae(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rm("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Aae(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Co(e)||this._popupRedirectResolver;Ge(r,this,"argument-error"),this.redirectPersistenceManager=await yd.create(this,[Co(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&lae(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Kc(t){return ys(t)}class uM{constructor(e){this.auth=e,this.observer=null,this.addObserver=tne(r=>this.observer=r)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mae(t){zx=t}function n9(t){return zx.loadJS(t)}function Dae(){return zx.recaptchaEnterpriseScript}function Lae(){return zx.gapiScript}function $ae(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Fae{constructor(){this.enterprise=new Vae}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Vae{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Bae="recaptcha-enterprise",i9="NO_RECAPTCHA";class Uae{constructor(e){this.type=Bae,this.auth=Kc(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{xae(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new vae(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;sM(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(i9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fae().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(a=>{if(!r&&sM(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Dae();c.length!==0&&(c+=a),n9(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function dM(t,e,r,n=!1,i=!1){const s=new Uae(t);let o;if(i)o=i9;else try{o=await s.verify(r)}catch{o=await s.verify(r,!0)}const a={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return n?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qT(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await dM(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await dM(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qae(t,e){const r=wN(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Nc(s,e??{}))return i;$i(i,"already-initialized")}return r.initialize({options:e})}function zae(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Co);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Wae(t,e,r){const n=Kc(t);Ge(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=s9(e),{host:o,port:a}=Hae(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ge(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ge(Nc(u,n.config.emulator)&&Nc(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,Pf(o)?(pU(`${s}//${o}${c}`),mU("Auth",!0)):Gae()}function s9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hae(t){const e=s9(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:fM(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:fM(o)}}}function fM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Gae(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ao("not implemented")}_getIdTokenResponse(e){return Ao("not implemented")}_linkToIdToken(e,r){return Ao("not implemented")}_getReauthenticationResolver(e){return Ao("not implemented")}}async function Kae(t,e){return Zo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yae(t,e){return qx(t,"POST","/v1/accounts:signInWithPassword",fl(t,e))}async function Xae(t,e){return Zo(t,"POST","/v1/accounts:sendOobCode",fl(t,e))}async function Qae(t,e){return Xae(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jae(t,e){return qx(t,"POST","/v1/accounts:signInWithEmailLink",fl(t,e))}async function Zae(t,e){return qx(t,"POST","/v1/accounts:signInWithEmailLink",fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp extends XN{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Fp(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Fp(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qT(e,r,"signInWithPassword",Yae);case"emailLink":return Jae(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qT(e,n,"signUpPassword",Kae);case"emailLink":return Zae(e,{idToken:r,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t,e){return qx(t,"POST","/v1/accounts:signInWithIdp",fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ele="http://localhost";class jc extends XN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new jc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):$i("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const o=new jc(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return vd(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,vd(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,vd(e,r)}buildRequest(){const e={requestUri:ele,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Mm(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tle(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rle(t){const e=Xh(Qh(t)).link,r=e?Xh(Qh(e)).deep_link_id:null,n=Xh(Qh(t)).deep_link_id;return(n?Xh(Qh(n)).link:null)||n||r||e||t}class Wx{constructor(e){const r=Xh(Qh(e)),n=r.apiKey??null,i=r.oobCode??null,s=tle(r.mode??null);Ge(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=rle(e);try{return new Wx(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.providerId=kf.PROVIDER_ID}static credential(e,r){return Fp._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Wx.parseLink(r);return Ge(n,"argument-error"),Fp._fromEmailAndCode(e,n.code,n.tenantId)}}kf.PROVIDER_ID="password";kf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends QN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends qm{constructor(){super("facebook.com")}static credential(e){return jc._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends qm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return jc._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return To.credential(r,n)}catch{return null}}}To.GOOGLE_SIGN_IN_METHOD="google.com";To.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends qm{constructor(){super("github.com")}static credential(e){return jc._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com";Ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends qm{constructor(){super("twitter.com")}static credential(e,r){return jc._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Da.credential(r,n)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await os._fromIdTokenResponse(e,n,i),o=hM(n);return new Ld({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=hM(n);return new Ld({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function hM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends Jo{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Qv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Qv(e,r,n,i)}}function o9(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qv._fromErrorAndOperation(t,s,e,n):s})}async function nle(t,e,r=!1){const n=await $p(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ld._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ile(t,e,r=!1){const{auth:n}=t;if(Oi(n.app))return Promise.reject(Ya(n));const i="reauthenticate";try{const s=await $p(t,o9(n,i,e,t),r);Ge(s.idToken,n,"internal-error");const o=KN(s.idToken);Ge(o,n,"internal-error");const{sub:a}=o;return Ge(t.uid===a,n,"user-mismatch"),Ld._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&$i(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a9(t,e,r=!1){if(Oi(t.app))return Promise.reject(Ya(t));const n="signIn",i=await o9(t,n,e),s=await Ld._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function sle(t,e){return a9(Kc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ole(t,e,r){var n;Ge(((n=r.url)==null?void 0:n.length)>0,t,"invalid-continue-uri"),Ge(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Ge(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Ge(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(Ge(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ale(t,e,r){const n=Kc(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){Ge(a.handleCodeInApp,n,"argument-error"),a&&ole(n,o,a)}s(i,r),await qT(n,i,"getOobCode",Qae)}function lle(t,e){const r=Wx.parseLink(e);return(r==null?void 0:r.operation)==="EMAIL_SIGNIN"}async function cle(t,e,r){if(Oi(t.app))return Promise.reject(Ya(t));const n=ys(t),i=kf.credentialWithLink(e,r||Kv());return Ge(i._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),sle(n,i)}function ule(t,e,r,n){return ys(t).onIdTokenChanged(e,r,n)}function dle(t,e,r){return ys(t).beforeAuthStateChanged(e,r)}function fle(t,e,r,n){return ys(t).onAuthStateChanged(e,r,n)}function hle(t){return ys(t).signOut()}const Jv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Jv,"1"),this.storage.removeItem(Jv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ple=1e3,mle=10;class c9 extends l9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);Nae()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mle):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},ple)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}c9.type="LOCAL";const gle=c9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9 extends l9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}u9.type="SESSION";const d9=u9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yle(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Hx(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(o).map(async u=>u(r.origin,s)),c=await yle(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vle{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=JN("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(){return window}function xle(t){zs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(){return typeof zs().WorkerGlobalScope<"u"&&typeof zs().importScripts=="function"}async function ble(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wle(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function _le(){return f9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9="firebaseLocalStorageDb",Sle=1,Zv="firebaseLocalStorage",p9="fbase_key";class zm{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Gx(t,e){return t.transaction([Zv],e?"readwrite":"readonly").objectStore(Zv)}function Ele(){const t=indexedDB.deleteDatabase(h9);return new zm(t).toPromise()}function zT(){const t=indexedDB.open(h9,Sle);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Zv,{keyPath:p9})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Zv)?e(n):(n.close(),await Ele(),e(await zT()))})})}async function pM(t,e,r){const n=Gx(t,!0).put({[p9]:e,value:r});return new zm(n).toPromise()}async function Ple(t,e){const r=Gx(t,!1).get(e),n=await new zm(r).toPromise();return n===void 0?null:n.value}function mM(t,e){const r=Gx(t,!0).delete(e);return new zm(r).toPromise()}const Tle=800,Ale=3;class m9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zT(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Ale)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hx._getInstance(_le()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await ble(),!this.activeServiceWorker)return;this.sender=new vle(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zT();return await pM(e,Jv,"1"),await mM(e,Jv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>pM(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Ple(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>mM(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Gx(i,!1).getAll();return new zm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m9.type="LOCAL";const Cle=m9;new Um(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t,e){return e?Co(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN extends XN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vd(e,this._buildIdpRequest())}_linkToIdToken(e,r){return vd(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return vd(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Nle(t){return a9(t.auth,new ZN(t),t.bypassAuthState)}function kle(t){const{auth:e,user:r}=t;return Ge(r,e,"internal-error"),ile(r,new ZN(t),t.bypassAuthState)}async function Ile(t){const{auth:e,user:r}=t;return Ge(r,e,"internal-error"),nle(r,new ZN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nle;case"linkViaPopup":case"linkViaRedirect":return Ile;case"reauthViaPopup":case"reauthViaRedirect":return kle;default:$i(this.auth,"internal-error")}}resolve(e){Ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ole=new Um(2e3,1e4);async function jle(t,e,r){if(Oi(t.app))return Promise.reject(cs(t,"operation-not-supported-in-this-environment"));const n=Kc(t);cae(t,e,QN);const i=g9(n,r);return new cc(n,"signInViaPopup",e,i).executeNotNull()}class cc extends y9{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,cc.currentPopupAction&&cc.currentPopupAction.cancel(),cc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){Ho(this.filter.length===1,"Popup operations only handle one event");const e=JN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ole.get())};e()}}cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rle="pendingRedirect",yv=new Map;class Mle extends y9{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=yv.get(this.auth._key());if(!e){try{const n=await Dle(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}yv.set(this.auth._key(),e)}return this.bypassAuthState||yv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dle(t,e){const r=Fle(e),n=$le(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Lle(t,e){yv.set(t._key(),e)}function $le(t){return Co(t._redirectPersistence)}function Fle(t){return gv(Rle,t.config.apiKey,t.name)}async function Vle(t,e,r=!1){if(Oi(t.app))return Promise.reject(Ya(t));const n=Kc(t),i=g9(n,e),o=await new Mle(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble=600*1e3;class Ule{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qle(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!v9(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(cs(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ble&&this.cachedEventUids.clear(),this.cachedEventUids.has(gM(e))}saveEventToCache(e){this.cachedEventUids.add(gM(e)),this.lastProcessedEventTime=Date.now()}}function gM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function v9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qle(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zle(t,e={}){return Zo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hle=/^https?/;async function Gle(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zle(t);for(const r of e)try{if(Kle(r))return}catch{}$i(t,"unauthorized-domain")}function Kle(t){const e=Kv(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Hle.test(r))return!1;if(Wle.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yle=new Um(3e4,6e4);function yM(){const t=zs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Xle(t){return new Promise((e,r)=>{var i,s,o;function n(){yM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yM(),r(cs(t,"network-request-failed"))},timeout:Yle.get()})}if((s=(i=zs().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=zs().gapi)!=null&&o.load)n();else{const a=$ae("iframefcb");return zs()[a]=()=>{gapi.load?n():r(cs(t,"network-request-failed"))},n9(`${Lae()}?onload=${a}`).catch(c=>r(c))}}).catch(e=>{throw vv=null,e})}let vv=null;function Qle(t){return vv=vv||Xle(t),vv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jle=new Um(5e3,15e3),Zle="__/auth/iframe",ece="emulator/auth/iframe",tce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nce(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?GN(e,ece):`https://${t.config.authDomain}/${Zle}`,n={apiKey:e.apiKey,appName:t.name,v:Tf},i=rce.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Mm(n).slice(1)}`}async function ice(t){const e=await Qle(t),r=zs().gapi;return Ge(r,t,"internal-error"),e.open({where:document.body,url:nce(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tce,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=cs(t,"network-request-failed"),a=zs().setTimeout(()=>{s(o)},Jle.get());function c(){zs().clearTimeout(a),i(n)}n.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oce=500,ace=600,lce="_blank",cce="http://localhost";class vM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uce(t,e,r,n=oce,i=ace){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const c={...sce,width:n.toString(),height:i.toString(),top:s,left:o},u=An().toLowerCase();r&&(a=Xq(u)?lce:r),Kq(u)&&(e=e||cce,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[y,_])=>`${m}${y}=${_},`,"");if(Cae(u)&&a!=="_self")return dce(e||"",a),new vM(null);const p=window.open(e||"",a,f);Ge(p,t,"popup-blocked");try{p.focus()}catch{}return new vM(p)}function dce(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fce="__/auth/handler",hce="emulator/auth/handler",pce=encodeURIComponent("fac");async function xM(t,e,r,n,i,s){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Tf,eventId:i};if(e instanceof QN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ene(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof qm){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const c=await t._getAppCheckToken(),u=c?`#${pce}=${encodeURIComponent(c)}`:"";return`${mce(t)}?${Mm(a).slice(1)}${u}`}function mce({config:t}){return t.emulator?GN(t,hce):`https://${t.authDomain}/${fce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="webStorageSupport";class gce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d9,this._completeRedirectFn=Vle,this._overrideRedirectResult=Lle}async _openPopup(e,r,n,i){var o;Ho((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await xM(e,r,n,Kv(),i);return uce(e,s,JN())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await xM(e,r,n,Kv(),i);return xle(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Ho(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await ice(e),n=new Ule(e);return r.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(F_,{type:F_},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[F_];s!==void 0&&r(!!s),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Gle(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return t9()||Yq()||YN()}}const yce=gce;var bM="@firebase/auth",wM="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bce(t){Cd(new kc("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;Ge(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r9(t)},u=new Rae(n,i,s,c);return zae(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Cd(new kc("auth-internal",e=>{const r=Kc(e.getProvider("auth").getImmediate());return(n=>new vce(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wa(bM,wM,xce(t)),Wa(bM,wM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wce=300,_ce=hU("authIdTokenMaxAge")||wce;let _M=null;const Sce=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>_ce)return;const i=r==null?void 0:r.token;_M!==i&&(_M=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ece(t=xU()){const e=wN(t,"auth");if(e.isInitialized())return e.getImmediate();const r=qae(t,{popupRedirectResolver:yce,persistence:[Cle,gle,d9]}),n=hU("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=Sce(s.toString());dle(r,o,()=>o(r.currentUser)),ule(r,a=>o(a))}}const i=dU("auth");return i&&Wae(r,`http://${i}`),r}function Pce(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Mae({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=cs("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",Pce().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bce("Browser");const Tce={apiKey:"AIzaSyAWIfRD01PfVZlj0HF-2fbvjjlOS7sCdU8",authDomain:"mole-ai.com",projectId:"moleai-471412",storageBucket:"moleai-471412.firebasestorage.app",messagingSenderId:"985936770132",appId:"1:985936770132:web:c7dfd0c694f614550ea9c1",measurementId:"G-QRS5KWZTRK"},x9=vU(Tce),Yc=Mq(x9),No=Ece(x9),b9=new To,Ace=Object.freeze(Object.defineProperty({__proto__:null,auth:No,db:Yc,googleProvider:b9},Symbol.toStringTag,{value:"Module"})),Cce=async()=>{try{const t=No.currentUser;return t?await t.getIdToken():null}catch(t){return console.error("Error getting auth token:",t),null}},w9=async()=>{const t=await Cce(),e={"Content-Type":"application/json",Accept:"application/json"};return t&&(e.Authorization=`Bearer ${t}`),e},Nce=()=>{const t=No.currentUser;return t?t.uid:null},kce="https://us-central1-moleai-testing.cloudfunctions.net",kn=async(t,e="GET",r=null)=>{var n;try{const i=t.startsWith("http")?t:`${kce}${t}`,s=await w9(),o={method:e,headers:s};r&&(e==="POST"||e==="PUT"||e==="PATCH")&&(o.body=JSON.stringify(r));const a=await fetch(i,o),c=a.headers.get("content-length");if(!a.ok){let p="";try{p=await a.text(),console.error("Error response body:",p)}catch{console.error("Could not read error response body")}throw new Error(`HTTP error! status: ${a.status}, body: ${p}`)}const u=await a.text();u.length<1e3;let f;try{f=JSON.parse(u)}catch(p){throw console.error("JSON Parse Error:",p),p}return f.prompts&&f.prompts.length>0&&(n=f.prompts[0])!=null&&n.responses&&Object.entries(f.prompts[0].responses).forEach(([p,m])=>{}),f}catch(i){throw console.error("API call failed:",i),i}},Dy={create:async t=>await kn("https://businessprofiledata-p54weh4vrq-uc.a.run.app/business-profile","POST",t),get:async t=>{try{if(!t)throw new Error("Business profile id is required");const e=Hc(Yc,"clients",t),r=await Gc(e);if(!r.exists())throw new Error("Business profile not found");const n=r.data(),i=(n==null?void 0:n.business_profile)||(n==null?void 0:n.businessProfile);if(!i)throw new Error("Business profile not found");return i}catch(e){throw console.error("Failed to fetch business profile from Firestore:",e),e}},update:async(t,e)=>await kn("https://businessprofiledata-p54weh4vrq-uc.a.run.app/business-profile/","POST",e),delete:async t=>await kn("https://businessprofiledata-p54weh4vrq-uc.a.run.app/business-profile/","DELETE"),checkExists:async t=>{try{return{exists:!0,business_profile:await kn("https://businessprofiledata-p54weh4vrq-uc.a.run.app/business-profile/","GET")}}catch(e){if(e.message.includes("404")||e.message.includes("not found"))return{exists:!1,business_profile:null};throw e}}},$d={getUserData:async t=>{const r=await kn("https://getuserdataprofile-p54weh4vrq-uc.a.run.app/user-data-profile","GET");return console.log("=== RAW DATABASE DATA ==="),console.log("Full database response:",r),console.log("Database response keys:",Object.keys(r||{})),r!=null&&r.data&&(console.log("Database data keys:",Object.keys(r.data||{})),console.log("Personal data:",r.data.personal),console.log("Business profile:",r.data.business_profile)),console.log("=== END RAW DATABASE DATA ==="),r}},Ly={createManual:async t=>await kn("https://createmanualpersona-p54weh4vrq-uc.a.run.app/personas/manual","POST",t),edit:async(t,e,r)=>{const n=`https://editpersona-p54weh4vrq-uc.a.run.app/personas/${e}`;return await kn(n,"POST",r)},delete:async(t,e,r=null)=>{const n=r||`https://deletepersona-p54weh4vrq-uc.a.run.app/personas/${e}`;return await kn(n,"DELETE")},createAI:async(t,e,r=null)=>await kn("https://createaipersona-p54weh4vrq-uc.a.run.app","POST",r||{uid:t,count:e})},Ice={create:async t=>await kn("https://aipromts-p54weh4vrq-uc.a.run.app","POST",t)},$y={create:async t=>await kn("https://createcompetitor-p54weh4vrq-uc.a.run.app/competitors","POST",t),createBulk:async t=>await kn("https://createcompetitor-p54weh4vrq-uc.a.run.app/competitors","POST",t),delete:async t=>await kn("https://deletecompetitor-p54weh4vrq-uc.a.run.app/competitors/delete","POST",t),deleteBulk:async t=>await kn("https://deletecompetitor-p54weh4vrq-uc.a.run.app/competitors/delete","POST",t)},Oce={delete:async t=>await kn("https://deletebuisness-p54weh4vrq-uc.a.run.app/business/delete","POST",t)},Ju={toBackend:t=>{var e;return{uid:t.uid||"",businessName:t.business_name||"",industry:t.industry||"",website:t.website||"",businessDescription:t.description||"",productsServices:Array.isArray(t.products_services)?t.products_services:((e=t.products_services)==null?void 0:e.split(",").map(r=>r.trim()))||[],targetMarket:t.target_market||"",competitors:t.competitors||[]}},toFrontend:t=>({id:t.id||t.profileId||t.documentId||t.uid||"business-profile",business_name:t.businessName,industry:t.industry,website:t.website,description:t.businessDescription,products_services:Array.isArray(t.productsServices)?t.productsServices.join(", "):t.productsServices||"",target_market:t.targetMarket,competitors:t.competitors||[],uid:t.uid||"",created_date:t.created_date||new Date().toISOString(),updated_date:t.updated_date||new Date().toISOString()})},WT={toBackend:t=>({uid:t.uid,name:t.name}),toFrontend:t=>({id:t.id||t._id,name:t.name,uid:t.uid,created_date:t.createdAt?new Date(t.createdAt._seconds*1e3):new Date,updated_date:t.updatedAt?new Date(t.updatedAt._seconds*1e3):new Date})},e0={toBackend:t=>{const e={uid:t.uid,prompt:t.prompt,personaId:t.personaId,models:t.models||["openai","claude","perplexity","gemini"]};return t.businessId&&(e.businessId=t.businessId),e},toFrontend:t=>{var r,n,i,s;return{id:t.id||t._id,uid:t.uid,prompt:t.prompt,personaId:t.personaId,personaName:t.personaName,businessId:t.businessId,models:t.models,status:"completed",responses:t.responses||{},sources:t.sources||{},counts:t.counts||{},brandAnalysis:t.brandAnalysis||{},businessNameMentions:((r=t.counts)==null?void 0:r.businessNameMentions)||0,competitorsMentions:((n=t.counts)==null?void 0:n.competitorsMentions)||0,industryMentions:((i=t.counts)==null?void 0:i.industryMentions)||0,productsServicesMentions:((s=t.counts)==null?void 0:s.productsServicesMentions)||0,usage:t.usage||{},created_date:t.createdAt?new Date(t.createdAt._seconds*1e3):new Date,updated_date:t.updatedAt?new Date(t.updatedAt._seconds*1e3):new Date}}},Fd={toFrontend:t=>{if(!t.ok)return{businessProfile:null,secondaryBusinesses:[],personas:[],prompts:[],competitors:[]};const e=t.data||t,{business_profile:r,secondary_buisness:n,personas:i,prompts:s,competitors:o,user_profile:a,personal:c}=e;let u=[];o&&(u=o.map((m,y)=>typeof m=="string"?{id:m,name:m,uid:t.uid||"",created_date:new Date,updated_date:new Date}:WT.toFrontend(m)));let f=[];return n&&Array.isArray(n)&&(f=n.map(m=>({id:m.id||m.businessId||m.business_id||`secondary-${Date.now()}`,businessName:m.businessName||m.business_name||m.name||"",businessId:m.id||m.businessId||m.business_id,isPrimaryBusiness:!1,competitors:m.competitors||[],personas:m.personas||[],prompts:m.prompts?m.prompts.map(y=>e0.toFrontend(y)):[]}))),console.log("=== TRANSFORMING USER DATA ==="),console.log("business_profile:",r),console.log("secondary_buisness:",n),console.log("=== END TRANSFORMING ==="),{userProfile:c||a?{name:(c||a).first_name||(c||a).name||"",language:((c||a).language||(c||a).preferred_language||"english").toLowerCase()}:null,businessProfile:r?{...Ju.toFrontend(r),isPrimaryBusiness:!0,personas:r.personas||[]}:null,secondaryBusinesses:f,personas:i?i.map(m=>Zl.toFrontend(m)):[],prompts:s?s.map(m=>e0.toFrontend(m)):[],competitors:u}}},Zl={toBackendManual:(t,e)=>({uid:e||"",name:t.name||"",age:t.age?parseInt(t.age):0,jobTitle:t.job_title||"",goals:t.goals||"",painPoints:t.pain_points||"",lifestyle:t.lifestyle||"",motivations:t.motivations||"",purchasingHabits:t.purchasing_habits||"",backstory:t.backstory||"",aiPrompt:t.prompt_template||""}),toBackendEdit:t=>{const e={};return t.name&&(e.name=t.name),t.job_title&&(e.jobTitle=t.job_title),t.goals&&(e.goals=t.goals),t.pain_points&&(e.painPoints=t.pain_points),t.lifestyle&&(e.lifestyle=t.lifestyle),t.motivations&&(e.motivations=t.motivations),t.purchasing_habits&&(e.purchasingHabits=t.purchasing_habits),t.backstory&&(e.backstory=t.backstory),e},toFrontend:t=>{var e;return{id:t.id||Date.now().toString(),name:t.name,age:((e=t.age)==null?void 0:e.toString())||"",job_title:t.jobTitle,goals:t.goals,pain_points:t.painPoints,lifestyle:t.lifestyle,motivations:t.motivations,purchasing_habits:t.purchasingHabits,backstory:t.backstory,prompt_template:t.aiPrompt||"",avatar_url:t.avatar_url||"",is_ai_generated:t.is_ai_generated||!1,created_date:t.created_date||new Date().toISOString(),updated_date:t.updated_date||new Date().toISOString()}}},En=()=>{const t=Nce();return t||localStorage.getItem("current_user_uid")};Cre();const _9=(t,e=null)=>{let r=vc(t);if(e){const n=e.startsWith("-"),i=n?e.substring(1):e;r.sort((s,o)=>{const a=s[i],c=o[i];return a<c?n?1:-1:a>c?n?-1:1:0})}return r},S9=(t,e)=>vc(t).find(n=>n.id===e),jce=(t,e,r)=>{const n=vc(t),i=n.findIndex(s=>s.id===e);if(i!==-1)return n[i]={...n[i],...r,updated_date:new Date().toISOString()},op(t,n),n[i];throw new Error(`Entity with id ${e} not found`)},Rce=(t,e)=>{const n=vc(t).filter(i=>i.id!==e);return op(t,n),!0},Fi={list:async t=>[],get:async t=>{try{const e=await Dy.get(t);return Ju.toFrontend(e)}catch(e){throw console.error("Error fetching business profile:",e),e}},create:async(t,e=null)=>{try{const r=Ju.toBackend(t);e&&(r.businessId=e);const n=await Dy.create(r);return Ju.toFrontend(n)}catch(r){throw console.error("Error creating business profile:",r),r}},update:async(t,e,r=null)=>{try{const n=Ju.toBackend(e);r&&(n.businessId=r);const i=await Dy.update(t,n);return Ju.toFrontend(i)}catch(n){throw console.error("Error updating business profile:",n),n}},delete:async t=>{try{return await Dy.delete(t),!0}catch(e){throw console.error("Error deleting business profile:",e),e}},checkExists:async(t=null)=>{var e;try{const r=En(),n=await $d.getUserData(r),i=Fd.toFrontend(n);return t===null?i.businessProfile!==null:((e=i.secondaryBusinesses)==null?void 0:e.find(o=>o.id===t))!==null}catch(r){return console.error("Error checking business profile existence:",r),!1}},getCurrentUser:async(t=null)=>{var e;try{const r=En(),n=await $d.getUserData(r),i=Fd.toFrontend(n);if(console.log("=== BusinessProfile.getCurrentUser ==="),console.log("businessId:",t),console.log("transformed.businessProfile:",i.businessProfile),console.log("transformed.secondaryBusinesses:",i.secondaryBusinesses),t===null)return console.log("Returning primary business profile:",i.businessProfile),i.businessProfile;{const s=(e=i.secondaryBusinesses)==null?void 0:e.find(o=>o.id===t);return console.log("Returning secondary business profile:",s),s||null}}catch(r){return console.error("Error getting current user business profile:",r),null}}},as={list:async(t,e=null)=>{var r,n;try{const i=En(),s=await $d.getUserData(i),o=Fd.toFrontend(s);let a=[];if(e===null)a=((r=o.businessProfile)==null?void 0:r.personas)||o.personas||[];else{const c=(n=o.secondaryBusinesses)==null?void 0:n.find(u=>u.id===e);a=(c==null?void 0:c.personas)||[]}if(t){const c=t.startsWith("-"),u=c?t.substring(1):t;a.sort((f,p)=>{const m=f[u],y=p[u];return m<y?c?1:-1:m>y?c?-1:1:0})}return a}catch(i){return console.error("Error getting personas:",i),[]}},get:async t=>S9(Ii.PERSONAS,t),create:async(t,e=null)=>{try{const r=En(),n=Zl.toBackendManual(t,r);e&&(n.businessId=e);const i=await Ly.createManual(n);return Zl.toFrontend(i)}catch(r){throw console.error("Error creating persona:",r),r}},update:async(t,e,r=null)=>{try{const n=En(),i=Zl.toBackendEdit(e);r&&(i.businessId=r);const s=await Ly.edit(n,t,i);return Zl.toFrontend(s)}catch(n){throw console.error("Error updating persona:",n),n}},delete:async(t,e=null)=>{try{const r=En(),n=e?`https://deletepersona-p54weh4vrq-uc.a.run.app/personas/${t}?businessId=${e}`:`https://deletepersona-p54weh4vrq-uc.a.run.app/personas/${t}`;return await Ly.delete(r,t,n),!0}catch(r){throw console.error("Error deleting persona:",r),r}},createAI:async(t=5,e=null)=>{try{const r=En(),n={uid:r,count:t};e&&(n.businessId=e);const i=await Ly.createAI(r,t,n);if(i.ok===!1){const a=i.error||"Failed to create AI personas";throw console.error("API error response:",a),console.error("Full API response:",JSON.stringify(i)),new Error(a)}const s=i.personas||i;return Array.isArray(s)?s.map(c=>Zl.toFrontend(c)):[Zl.toFrontend(s)]}catch(r){throw console.error("Error creating AI personas:",r),r}}},Kx={list:async(t,e=null)=>{var r,n;try{const i=En(),s=await $d.getUserData(i),o=Fd.toFrontend(s);let a=[];if(console.log("=== Prompt.list ==="),console.log("businessId:",e),console.log("transformed.prompts:",o.prompts),console.log("transformed.businessProfile:",o.businessProfile),e===null){const c=((r=o.businessProfile)==null?void 0:r.personas)||[],u=c.map(f=>f.id||f.personaId);console.log("primaryPersonas:",c),console.log("primaryPersonaIds:",u),a=(o.prompts||[]).filter(f=>{const p=!f.personaId||u.includes(f.personaId);return console.log("Prompt:",f.id,"personaId:",f.personaId,"matches:",p),p}),console.log("Filtered prompts for primary business:",a)}else{const c=(n=o.secondaryBusinesses)==null?void 0:n.find(u=>u.id===e);if(c&&c.prompts)a=c.prompts;else{const f=((c==null?void 0:c.personas)||[]).map(p=>p.id||p.personaId);o.prompts.forEach((p,m)=>{}),a=(o.prompts||[]).filter(p=>p.businessId?p.businessId===e:p.personaId&&f.includes(p.personaId))}}if(t){const c=t.startsWith("-"),u=c?t.substring(1):t;a.sort((f,p)=>{const m=f[u],y=p[u];return m<y?c?1:-1:m>y?c?-1:1:0})}return a}catch(i){return console.error("Error getting prompts:",i),_9(Ii.PROMPTS,t)}},get:t=>S9(Ii.PROMPTS,t),create:async(t,e=null)=>{try{const r=En(),n={...t,uid:r},i=e0.toBackend(n);e&&(i.businessId=e);const s=await Ice.create(i);return e0.toFrontend(s)}catch(r){throw console.error("Error creating AI prompt:",r),r}},update:(t,e)=>jce(Ii.PROMPTS,t,e),delete:t=>Rce(Ii.PROMPTS,t)},Mce={get:async()=>{try{const t=En(),e=await $d.getUserData(t);return Fd.toFrontend(e).userProfile}catch(t){return console.error("Error loading user preferences:",t),null}}},SM={list:async(t=null)=>{var e;try{const r=En(),n=await $d.getUserData(r),i=Fd.toFrontend(n);let s=[];if(t===null)s=i.competitors||[];else{const o=(e=i.secondaryBusinesses)==null?void 0:e.find(a=>a.id===t);s=(o==null?void 0:o.competitors)||[]}return s}catch(r){return console.error("Error getting competitors:",r),_9(Ii.BUSINESS_PROFILES,null).map(n=>n.competitors||[]).flat()}},create:async(t,e=null)=>{try{const r=En(),n=WT.toBackend({...t,uid:r});e&&(n.businessId=e);const i=await $y.create(n);return WT.toFrontend(i)}catch(r){throw console.error("Error creating competitor:",r),r}},delete:async(t,e=null)=>{try{const r=En(),n={uid:r,name:t.name};return e&&(n.businessId=e),typeof t.name!="string"&&(console.warn("Name is not a string, converting..."),n.name=String(t.name)),typeof r!="string"&&(console.warn("UID is not a string, converting..."),n.uid=String(r)),await $y.delete(n)}catch(r){throw console.error("Error deleting competitor:",r),console.error("Error details:",r.message),r}},createBulk:async(t,e=null)=>{try{const r=En(),n={competitors:t.map(s=>({name:s.name})),businessId:e||void 0};return await $y.createBulk(n)}catch(r){throw console.error("Error creating competitors in bulk:",r),r}},deleteBulk:async(t,e=null)=>{try{const r=En(),n=[];for(const i of t){const s={uid:r,name:i.name};e&&(s.businessId=e);const o=await $y.delete(s);n.push(o)}return n}catch(r){throw console.error("Error deleting competitors in bulk:",r),r}}},Dce={delete:async t=>{try{const r={uid:En(),businessId:t};return await Oce.delete(r)}catch(e){throw console.error("Error deleting business:",e),e}}};function EM(t,[e,r]){return Math.min(r,Math.max(e,t))}function PM(t){const e=Lce(t),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,a=S.Children.toArray(s),c=a.find(Fce);if(c){const u=c.props.children,f=a.map(p=>p===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:p);return h.jsx(e,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,f):null})}return h.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function Lce(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=Bce(i),a=Vce(s,i.props);return i.type!==S.Fragment&&(a.ref=n?yf(n,o):o),S.cloneElement(i,a)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $ce=Symbol("radix.slottable");function Fce(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$ce}function Vce(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Bce(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Uce(t){const e=t+"CollectionProvider",[r,n]=Im(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:b,children:T}=x,P=X.useRef(null),E=X.useRef(new Map).current;return h.jsx(i,{scope:b,itemMap:E,collectionRef:P,children:T})};o.displayName=e;const a=t+"CollectionSlot",c=PM(a),u=X.forwardRef((x,b)=>{const{scope:T,children:P}=x,E=s(a,T),I=cr(b,E.collectionRef);return h.jsx(c,{ref:I,children:P})});u.displayName=a;const f=t+"CollectionItemSlot",p="data-radix-collection-item",m=PM(f),y=X.forwardRef((x,b)=>{const{scope:T,children:P,...E}=x,I=X.useRef(null),C=cr(b,I),R=s(f,T);return X.useEffect(()=>(R.itemMap.set(I,{ref:I,...E}),()=>void R.itemMap.delete(I))),h.jsx(m,{[p]:"",ref:C,children:P})});y.displayName=f;function _(x){const b=s(t+"CollectionConsumer",x);return X.useCallback(()=>{const P=b.collectionRef.current;if(!P)return[];const E=Array.from(P.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((R,N)=>E.indexOf(R.ref.current)-E.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:y},_,n]}var qce=S.createContext(void 0);function zce(t){const e=S.useContext(qce);return t||e||"ltr"}function Wce(t){const e=Hce(t),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,a=S.Children.toArray(s),c=a.find(Kce);if(c){const u=c.props.children,f=a.map(p=>p===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:p);return h.jsx(e,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,f):null})}return h.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function Hce(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=Xce(i),a=Yce(s,i.props);return i.type!==S.Fragment&&(a.ref=n?yf(n,o):o),S.cloneElement(i,a)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Gce=Symbol("radix.slottable");function Kce(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Gce}function Yce(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Xce(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Qce(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Jce=[" ","Enter","ArrowUp","ArrowDown"],Zce=[" ","Enter"],Rc="Select",[Yx,Xx,eue]=Uce(Rc),[If]=Im(Rc,[eue,Ex]),Qx=Ex(),[tue,hl]=If(Rc),[rue,nue]=If(Rc),E9=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:u,name:f,autoComplete:p,disabled:m,required:y,form:_}=t,x=Qx(e),[b,T]=S.useState(null),[P,E]=S.useState(null),[I,C]=S.useState(!1),R=zce(u),[N,k]=Ov({prop:n,defaultProp:i??!1,onChange:s,caller:Rc}),[M,$]=Ov({prop:o,defaultProp:a,onChange:c,caller:Rc}),L=S.useRef(null),V=b?_||!!b.closest("form"):!0,[D,H]=S.useState(new Set),W=Array.from(D).map(K=>K.props.value).join(";");return h.jsx(jB,{...x,children:h.jsxs(tue,{required:y,scope:e,trigger:b,onTriggerChange:T,valueNode:P,onValueNodeChange:E,valueNodeHasChildren:I,onValueNodeHasChildrenChange:C,contentId:yc(),value:M,onValueChange:$,open:N,onOpenChange:k,dir:R,triggerPointerDownPosRef:L,disabled:m,children:[h.jsx(Yx.Provider,{scope:e,children:h.jsx(rue,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(K=>{H(Q=>new Set(Q).add(K))},[]),onNativeOptionRemove:S.useCallback(K=>{H(Q=>{const U=new Set(Q);return U.delete(K),U})},[]),children:r})}),V?h.jsxs(G9,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:p,value:M,onChange:K=>$(K.target.value),disabled:m,form:_,children:[M===void 0?h.jsx("option",{value:""}):null,Array.from(D)]},W):null]})})};E9.displayName=Rc;var P9="SelectTrigger",T9=S.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=Qx(r),o=hl(P9,r),a=o.disabled||n,c=cr(e,o.onTriggerChange),u=Xx(r),f=S.useRef("touch"),[p,m,y]=Y9(x=>{const b=u().filter(E=>!E.disabled),T=b.find(E=>E.value===o.value),P=X9(b,x,T);P!==void 0&&o.onValueChange(P.value)}),_=x=>{a||(o.onOpenChange(!0),y()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return h.jsx(RB,{asChild:!0,...s,children:h.jsx(zt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":K9(o.value)?"":void 0,...i,ref:c,onClick:jt(i.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&_(x)}),onPointerDown:jt(i.onPointerDown,x=>{f.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(_(x),x.preventDefault())}),onKeyDown:jt(i.onKeyDown,x=>{const b=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(b&&x.key===" ")&&Jce.includes(x.key)&&(_(),x.preventDefault())})})})});T9.displayName=P9;var A9="SelectValue",C9=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...a}=t,c=hl(A9,r),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,p=cr(e,c.onValueNodeChange);return Tn(()=>{u(f)},[u,f]),h.jsx(zt.span,{...a,ref:p,style:{pointerEvents:"none"},children:K9(c.value)?h.jsx(h.Fragment,{children:o}):s})});C9.displayName=A9;var iue="SelectIcon",N9=S.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return h.jsx(zt.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});N9.displayName=iue;var sue="SelectPortal",k9=t=>h.jsx(hx,{asChild:!0,...t});k9.displayName=sue;var Mc="SelectContent",I9=S.forwardRef((t,e)=>{const r=hl(Mc,t.__scopeSelect),[n,i]=S.useState();if(Tn(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?km.createPortal(h.jsx(O9,{scope:t.__scopeSelect,children:h.jsx(Yx.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),s):null}return h.jsx(j9,{...t,ref:e})});I9.displayName=Mc;var es=10,[O9,pl]=If(Mc),oue="SelectContentImpl",aue=Wce("SelectContent.RemoveScroll"),j9=S.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:y,sticky:_,hideWhenDetached:x,avoidCollisions:b,...T}=t,P=hl(Mc,r),[E,I]=S.useState(null),[C,R]=S.useState(null),N=cr(e,he=>I(he)),[k,M]=S.useState(null),[$,L]=S.useState(null),V=Xx(r),[D,H]=S.useState(!1),W=S.useRef(!1);S.useEffect(()=>{if(E)return H3(E)},[E]),L3();const K=S.useCallback(he=>{const[_e,...ue]=V().map(le=>le.ref.current),[be]=ue.slice(-1),Ae=document.activeElement;for(const le of he)if(le===Ae||(le==null||le.scrollIntoView({block:"nearest"}),le===_e&&C&&(C.scrollTop=0),le===be&&C&&(C.scrollTop=C.scrollHeight),le==null||le.focus(),document.activeElement!==Ae))return},[V,C]),Q=S.useCallback(()=>K([k,E]),[K,k,E]);S.useEffect(()=>{D&&Q()},[D,Q]);const{onOpenChange:U,triggerPointerDownPosRef:G}=P;S.useEffect(()=>{if(E){let he={x:0,y:0};const _e=be=>{var Ae,le;he={x:Math.abs(Math.round(be.pageX)-(((Ae=G.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(be.pageY)-(((le=G.current)==null?void 0:le.y)??0))}},ue=be=>{he.x<=10&&he.y<=10?be.preventDefault():E.contains(be.target)||U(!1),document.removeEventListener("pointermove",_e),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",ue,{capture:!0})}}},[E,U,G]),S.useEffect(()=>{const he=()=>U(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[U]);const[te,z]=Y9(he=>{const _e=V().filter(Ae=>!Ae.disabled),ue=_e.find(Ae=>Ae.ref.current===document.activeElement),be=X9(_e,he,ue);be&&setTimeout(()=>be.ref.current.focus())}),Z=S.useCallback((he,_e,ue)=>{const be=!W.current&&!ue;(P.value!==void 0&&P.value===_e||be)&&(M(he),be&&(W.current=!0))},[P.value]),ce=S.useCallback(()=>E==null?void 0:E.focus(),[E]),ye=S.useCallback((he,_e,ue)=>{const be=!W.current&&!ue;(P.value!==void 0&&P.value===_e||be)&&L(he)},[P.value]),Oe=n==="popper"?HT:R9,Me=Oe===HT?{side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:y,sticky:_,hideWhenDetached:x,avoidCollisions:b}:{};return h.jsx(O9,{scope:r,content:E,viewport:C,onViewportChange:R,itemRefCallback:Z,selectedItem:k,onItemLeave:ce,itemTextRefCallback:ye,focusSelectedItem:Q,selectedItemText:$,position:n,isPositioned:D,searchRef:te,children:h.jsx(iN,{as:aue,allowPinchZoom:!0,children:h.jsx(nN,{asChild:!0,trapped:P.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:jt(i,he=>{var _e;(_e=P.trigger)==null||_e.focus({preventScroll:!0}),he.preventDefault()}),children:h.jsx(fx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:h.jsx(Oe,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:he=>he.preventDefault(),...T,...Me,onPlaced:()=>H(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:jt(T.onKeyDown,he=>{const _e=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!_e&&he.key.length===1&&z(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let be=V().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(he.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const Ae=he.target,le=be.indexOf(Ae);be=be.slice(le+1)}setTimeout(()=>K(be)),he.preventDefault()}})})})})})})});j9.displayName=oue;var lue="SelectItemAlignedPosition",R9=S.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=hl(Mc,r),o=pl(Mc,r),[a,c]=S.useState(null),[u,f]=S.useState(null),p=cr(e,N=>f(N)),m=Xx(r),y=S.useRef(!1),_=S.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:T,focusSelectedItem:P}=o,E=S.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&x&&b&&T){const N=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),M=s.valueNode.getBoundingClientRect(),$=T.getBoundingClientRect();if(s.dir!=="rtl"){const Ae=$.left-k.left,le=M.left-Ae,Ze=N.left-le,fe=N.width+Ze,we=Math.max(fe,k.width),Ne=window.innerWidth-es,je=EM(le,[es,Math.max(es,Ne-we)]);a.style.minWidth=fe+"px",a.style.left=je+"px"}else{const Ae=k.right-$.right,le=window.innerWidth-M.right-Ae,Ze=window.innerWidth-N.right-le,fe=N.width+Ze,we=Math.max(fe,k.width),Ne=window.innerWidth-es,je=EM(le,[es,Math.max(es,Ne-we)]);a.style.minWidth=fe+"px",a.style.right=je+"px"}const L=m(),V=window.innerHeight-es*2,D=x.scrollHeight,H=window.getComputedStyle(u),W=parseInt(H.borderTopWidth,10),K=parseInt(H.paddingTop,10),Q=parseInt(H.borderBottomWidth,10),U=parseInt(H.paddingBottom,10),G=W+K+D+U+Q,te=Math.min(b.offsetHeight*5,G),z=window.getComputedStyle(x),Z=parseInt(z.paddingTop,10),ce=parseInt(z.paddingBottom,10),ye=N.top+N.height/2-es,Oe=V-ye,Me=b.offsetHeight/2,he=b.offsetTop+Me,_e=W+K+he,ue=G-_e;if(_e<=ye){const Ae=L.length>0&&b===L[L.length-1].ref.current;a.style.bottom="0px";const le=u.clientHeight-x.offsetTop-x.offsetHeight,Ze=Math.max(Oe,Me+(Ae?ce:0)+le+Q),fe=_e+Ze;a.style.height=fe+"px"}else{const Ae=L.length>0&&b===L[0].ref.current;a.style.top="0px";const Ze=Math.max(ye,W+x.offsetTop+(Ae?Z:0)+Me)+ue;a.style.height=Ze+"px",x.scrollTop=_e-ye+x.offsetTop}a.style.margin=`${es}px 0`,a.style.minHeight=te+"px",a.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[m,s.trigger,s.valueNode,a,u,x,b,T,s.dir,n]);Tn(()=>E(),[E]);const[I,C]=S.useState();Tn(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const R=S.useCallback(N=>{N&&_.current===!0&&(E(),P==null||P(),_.current=!1)},[E,P]);return h.jsx(uue,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:R,children:h.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:h.jsx(zt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});R9.displayName=lue;var cue="SelectPopperPosition",HT=S.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=es,...s}=t,o=Qx(r);return h.jsx(MB,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});HT.displayName=cue;var[uue,ek]=If(Mc,{}),GT="SelectViewport",M9=S.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=pl(GT,r),o=ek(GT,r),a=cr(e,s.onViewportChange),c=S.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),h.jsx(Yx.Slot,{scope:r,children:h.jsx(zt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:jt(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&p){const y=Math.abs(c.current-f.scrollTop);if(y>0){const _=window.innerHeight-es*2,x=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),T=Math.max(x,b);if(T<_){const P=T+y,E=Math.min(_,P),I=P-E;p.style.height=E+"px",p.style.bottom==="0px"&&(f.scrollTop=I>0?I:0,p.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});M9.displayName=GT;var D9="SelectGroup",[due,fue]=If(D9),hue=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=yc();return h.jsx(due,{scope:r,id:i,children:h.jsx(zt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});hue.displayName=D9;var L9="SelectLabel",$9=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=fue(L9,r);return h.jsx(zt.div,{id:i.id,...n,ref:e})});$9.displayName=L9;var t0="SelectItem",[pue,F9]=If(t0),V9=S.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,a=hl(t0,r),c=pl(t0,r),u=a.value===n,[f,p]=S.useState(s??""),[m,y]=S.useState(!1),_=cr(e,P=>{var E;return(E=c.itemRefCallback)==null?void 0:E.call(c,P,n,i)}),x=yc(),b=S.useRef("touch"),T=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(pue,{scope:r,value:n,disabled:i,textId:x,isSelected:u,onItemTextChange:S.useCallback(P=>{p(E=>E||((P==null?void 0:P.textContent)??"").trim())},[]),children:h.jsx(Yx.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:h.jsx(zt.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:_,onFocus:jt(o.onFocus,()=>y(!0)),onBlur:jt(o.onBlur,()=>y(!1)),onClick:jt(o.onClick,()=>{b.current!=="mouse"&&T()}),onPointerUp:jt(o.onPointerUp,()=>{b.current==="mouse"&&T()}),onPointerDown:jt(o.onPointerDown,P=>{b.current=P.pointerType}),onPointerMove:jt(o.onPointerMove,P=>{var E;b.current=P.pointerType,i?(E=c.onItemLeave)==null||E.call(c):b.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:jt(o.onPointerLeave,P=>{var E;P.currentTarget===document.activeElement&&((E=c.onItemLeave)==null||E.call(c))}),onKeyDown:jt(o.onKeyDown,P=>{var I;((I=c.searchRef)==null?void 0:I.current)!==""&&P.key===" "||(Zce.includes(P.key)&&T(),P.key===" "&&P.preventDefault())})})})})});V9.displayName=t0;var tp="SelectItemText",B9=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=hl(tp,r),a=pl(tp,r),c=F9(tp,r),u=nue(tp,r),[f,p]=S.useState(null),m=cr(e,T=>p(T),c.onItemTextChange,T=>{var P;return(P=a.itemTextRefCallback)==null?void 0:P.call(a,T,c.value,c.disabled)}),y=f==null?void 0:f.textContent,_=S.useMemo(()=>h.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return Tn(()=>(x(_),()=>b(_)),[x,b,_]),h.jsxs(h.Fragment,{children:[h.jsx(zt.span,{id:c.textId,...s,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?km.createPortal(s.children,o.valueNode):null]})});B9.displayName=tp;var U9="SelectItemIndicator",mue=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return F9(U9,r).isSelected?h.jsx(zt.span,{"aria-hidden":!0,...n,ref:e}):null});mue.displayName=U9;var KT="SelectScrollUpButton",q9=S.forwardRef((t,e)=>{const r=pl(KT,t.__scopeSelect),n=ek(KT,t.__scopeSelect),[i,s]=S.useState(!1),o=cr(e,n.onScrollButtonChange);return Tn(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?h.jsx(W9,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});q9.displayName=KT;var YT="SelectScrollDownButton",z9=S.forwardRef((t,e)=>{const r=pl(YT,t.__scopeSelect),n=ek(YT,t.__scopeSelect),[i,s]=S.useState(!1),o=cr(e,n.onScrollButtonChange);return Tn(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?h.jsx(W9,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});z9.displayName=YT;var W9=S.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=pl("SelectScrollButton",r),o=S.useRef(null),a=Xx(r),c=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),Tn(()=>{var f;const u=a().find(p=>p.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),h.jsx(zt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:jt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:jt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:jt(i.onPointerLeave,()=>{c()})})}),gue="SelectSeparator",H9=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return h.jsx(zt.div,{"aria-hidden":!0,...n,ref:e})});H9.displayName=gue;var XT="SelectArrow",yue=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Qx(r),s=hl(XT,r),o=pl(XT,r);return s.open&&o.position==="popper"?h.jsx(DB,{...i,...n,ref:e}):null});yue.displayName=XT;var vue="SelectBubbleInput",G9=S.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=S.useRef(null),s=cr(n,i),o=Qce(e);return S.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const p=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(p)}},[o,e]),h.jsx(zt.select,{...r,style:{...LB,...r.style},ref:s,defaultValue:e})});G9.displayName=vue;function K9(t){return t===""||t===void 0}function Y9(t){const e=Tc(t),r=S.useRef(""),n=S.useRef(0),i=S.useCallback(o=>{const a=r.current+o;e(a),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(a)},[e]),s=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function X9(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=xue(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function xue(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var bue=E9,Q9=T9,wue=C9,_ue=N9,Sue=k9,J9=I9,Eue=M9,Z9=$9,ez=V9,Pue=B9,tz=q9,rz=z9,nz=H9;const iz=bue,Tue=wue,tk=S.forwardRef(({className:t,children:e,...r},n)=>h.jsxs(Q9,{ref:n,className:Ee("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,h.jsx(_ue,{asChild:!0,children:h.jsx(f3,{className:"h-4 w-4 opacity-50"})})]}));tk.displayName=Q9.displayName;const sz=S.forwardRef(({className:t,...e},r)=>h.jsx(tz,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(kX,{className:"h-4 w-4"})}));sz.displayName=tz.displayName;const oz=S.forwardRef(({className:t,...e},r)=>h.jsx(rz,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(f3,{className:"h-4 w-4"})}));oz.displayName=rz.displayName;const rk=S.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>h.jsx(Sue,{children:h.jsxs(J9,{ref:i,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[h.jsx(sz,{}),h.jsx(Eue,{className:Ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(oz,{})]})}));rk.displayName=J9.displayName;const Aue=S.forwardRef(({className:t,...e},r)=>h.jsx(Z9,{ref:r,className:Ee("px-2 py-1.5 text-sm font-semibold",t),...e}));Aue.displayName=Z9.displayName;const pp=S.forwardRef(({className:t,children:e,...r},n)=>h.jsx(ez,{ref:n,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:h.jsx(Pue,{children:e})}));pp.displayName=ez.displayName;const Cue=S.forwardRef(({className:t,...e},r)=>h.jsx(nz,{ref:r,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));Cue.displayName=nz.displayName;const az=S.createContext(),Xc=()=>{const t=S.useContext(az);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Nue=({children:t})=>{const[e,r]=S.useState(null),[n,i]=S.useState(!0);S.useEffect(()=>fle(No,c=>{r(c),i(!1)}),[]);const o={user:e,loading:n,logout:async()=>{try{await hle(No)}catch(a){console.error("Error signing out:",a)}},isAuthenticated:!!e,userInfo:e?{uid:e.uid,email:e.email,displayName:e.displayName,phone:e.phoneNumber,isEmailVerified:e.emailVerified}:null};return h.jsx(az.Provider,{value:o,children:!n&&t})},Dc=lB,kue=cB,Lc=lN,lz=S.forwardRef(({className:t,...e},r)=>h.jsx(gx,{ref:r,className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:duration-200 data-[state=open]:duration-200",t),...e}));lz.displayName=gx.displayName;const ol=S.forwardRef(({className:t,children:e,...r},n)=>h.jsxs(kue,{children:[h.jsx(lz,{}),h.jsxs(yx,{ref:n,className:Ee("fixed inset-x-0 bottom-0 z-50 flex w-full max-h-[calc(100vh-2rem)] min-h-0 flex-col overflow-hidden rounded-t-3xl rounded-b-none border border-slate-200 border-b-0 bg-white shadow-[0_-24px_40px_-12px_rgba(15,23,42,0.3)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:slide-out-to-bottom-48 data-[state=open]:slide-in-from-bottom-48 data-[state=closed]:duration-300 data-[state=open]:duration-300 ease-out lg:inset-auto lg:left-1/2 lg:top-1/2 lg:bottom-auto lg:max-h-[90vh] lg:max-w-3xl lg:-translate-x-1/2 lg:-translate-y-1/2 lg:rounded-3xl lg:border lg:border-slate-200 lg:shadow-[0_24px_48px_-12px_rgba(15,23,42,0.25)] lg:data-[state=closed]:fade-out-0 lg:data-[state=open]:fade-in-0 lg:data-[state=closed]:slide-out-to-left-1/2 lg:data-[state=open]:slide-in-from-left-1/2 lg:data-[state=closed]:slide-out-to-top-[48%] lg:data-[state=open]:slide-in-from-top-[48%] lg:data-[state=closed]:duration-300 lg:data-[state=open]:duration-300",t),...r,children:[h.jsxs(lN,{className:"absolute right-4 top-4 z-10 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500",children:[h.jsx(Kn,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]}),e]})]}));ol.displayName=yx.displayName;const al=({className:t,...e})=>h.jsx("div",{className:Ee("sticky top-0 z-10 flex items-center justify-between gap-3 border-b border-slate-200 bg-white/95 px-4 py-4 text-left backdrop-blur lg:px-6 lg:py-5",t),...e});al.displayName="DialogHeader";const ll=({className:t,...e})=>h.jsx("div",{className:Ee("sticky bottom-0 z-10 flex flex-col gap-3 border-t border-slate-200 bg-white/95 px-4 py-4 text-right shadow-[0_-8px_16px_-12px_rgba(15,23,42,0.25)] backdrop-blur sm:flex-row sm:items-center sm:justify-end lg:px-6 lg:py-5",t),...e});ll.displayName="DialogFooter";const cl=S.forwardRef(({className:t,...e},r)=>h.jsx(vx,{ref:r,className:Ee("text-lg font-semibold leading-none tracking-tight",t),...e}));cl.displayName=vx.displayName;const cz=S.forwardRef(({className:t,...e},r)=>h.jsx(xx,{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));cz.displayName=xx.displayName;const Pr=S.forwardRef(({className:t,...e},r)=>h.jsx("textarea",{className:Ee("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm touch-manipulation resize-none",t),ref:r,...e}));Pr.displayName="Textarea";var Iue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oue=Iue.reduce((t,e)=>{const r=tN(`Primitive.${e}`),n=S.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(c,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),jue="Label",uz=S.forwardRef((t,e)=>h.jsx(Oue.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));uz.displayName=jue;var dz=uz;const Rue=xf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dt=S.forwardRef(({className:t,...e},r)=>h.jsx(dz,{ref:r,className:Ee(Rue(),t),...e}));dt.displayName=dz.displayName;const mp=({children:t,error:e,className:r="",isRTL:n=!1,...i})=>h.jsxs("div",{className:Ee("space-y-1",r),...i,children:[t,e&&h.jsx("p",{className:Ee("text-sm font-medium text-red-600",n?"text-right":"text-left"),children:e})]}),xv=X.forwardRef(({error:t,isRTL:e=!1,className:r="",...n},i)=>h.jsx("input",{ref:i,className:Ee("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t&&"border-red-500 focus:border-red-500 focus:ring-red-500 ring-red-500",e&&"text-right",r),...n}));xv.displayName="ValidatedInput";const fz=X.forwardRef(({error:t,isRTL:e=!1,className:r="",...n},i)=>h.jsx("textarea",{ref:i,className:Ee("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t&&"border-red-500 focus:border-red-500 focus:ring-red-500 ring-red-500",e&&"text-right",r),...n}));fz.displayName="ValidatedTextarea";const Mue=X.forwardRef(({error:t,isRTL:e=!1,className:r="",children:n,...i},s)=>h.jsx("select",{ref:s,className:Ee("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t&&"border-red-500 focus:border-red-500 focus:ring-red-500 ring-red-500",e&&"text-right",r),...i,children:n}));Mue.displayName="ValidatedSelect";const Wm=({size:t="default",variant:e="primary",className:r,...n})=>{const i={sm:"h-4 w-4",default:"h-8 w-8",lg:"h-12 w-12"},s={primary:"text-sky-600",secondary:"text-blue-500",white:"text-white",muted:"text-gray-400"};return h.jsxs("div",{className:Ee("relative inline-flex items-center justify-center",i[t],r),...n,children:[h.jsx("div",{className:Ee("relative",i[t]),children:[...Array(3)].map((o,a)=>h.jsx("div",{className:Ee("absolute rounded-full",i[t==="sm"?"sm":t==="lg"?"lg":"default"],s[e]),style:{width:t==="sm"?"4px":t==="lg"?"8px":"6px",height:t==="sm"?"4px":t==="lg"?"8px":"6px",animation:"modernSpinner 1.4s ease-in-out infinite both",animationDelay:`${a*.16}s`,transform:`rotate(${a*120}deg) translate(${t==="sm"?"12px":t==="lg"?"20px":"16px"}, 0)`}},a))}),h.jsx("style",{jsx:!0,children:`
        @keyframes modernSpinner {
          0%,
          80%,
          100% {
            transform: scale(0);
            opacity: 0.3;
          }
          40% {
            transform: scale(1);
            opacity: 1;
          }
        }
      `})]})},Due=({size:t="default",variant:e="primary",className:r,...n})=>{const i={sm:"h-4 w-4",default:"h-8 w-8",lg:"h-12 w-12"},s={primary:"border-sky-600/30",secondary:"border-blue-500/30",white:"border-white/30",muted:"border-gray-400/30"},o={primary:"bg-sky-600",secondary:"bg-blue-500",white:"bg-white",muted:"bg-gray-400"};return h.jsxs("div",{className:Ee("relative inline-flex items-center justify-center",i[t],r),...n,children:[h.jsx("div",{className:Ee("absolute rounded-full border-2 animate-ping",i[t],s[e])}),h.jsx("div",{className:Ee("rounded-full",o[e]),style:{width:t==="sm"?"6px":t==="lg"?"12px":"8px",height:t==="sm"?"6px":t==="lg"?"12px":"8px"}})]})},Lue=({size:t="default",variant:e="primary",className:r,...n})=>{const i={primary:"bg-sky-600",secondary:"bg-blue-500",white:"bg-white",muted:"bg-gray-400"},s=t==="sm"?"2px":t==="lg"?"4px":"3px";return h.jsxs("div",{className:Ee("relative inline-flex items-center justify-center gap-1",r),...n,children:[[...Array(4)].map((a,c)=>h.jsx("div",{className:Ee("rounded-sm",i[e]),style:{width:s,height:t==="sm"?"16px":t==="lg"?"48px":"32px",animation:"waveSpinner 1.2s ease-in-out infinite",animationDelay:`${c*.1}s`}},c)),h.jsx("style",{jsx:!0,children:`
        @keyframes waveSpinner {
          0%,
          40%,
          100% {
            transform: scaleY(0.4);
            opacity: 0.5;
          }
          20% {
            transform: scaleY(1);
            opacity: 1;
          }
        }
      `})]})};Wm.Pulse=Due;Wm.Wave=Lue;const Hm=()=>{const{t}=ur(),[e,r]=S.useState({}),n=S.useCallback(()=>{r({})},[]),i=S.useCallback(T=>{r(P=>{const E={...P};return delete E[T],E})},[]),s=S.useCallback((T,P)=>{r(E=>({...E,[T]:P}))},[]),o=S.useCallback((T,P,E)=>!T||typeof T=="string"&&!T.trim()?E||t("validation.required"):null,[t]),a=S.useCallback((T,P,E)=>T?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T)?null:E||t("validation.email"):E||t("validation.emailRequired"),[t]),c=S.useCallback((T,P,E)=>T?T.length<6?E||t("validation.password"):null:E||t("validation.passwordRequired"),[t]),u=S.useCallback((T,P,E)=>T!==P?E||t("validation.passwordMismatch"):null,[t]),f=S.useCallback((T,P,E)=>{if(!T)return E||t("validation.ageRequired");const I=parseInt(T);return isNaN(I)||I<1||I>120?E||t("validation.ageInvalid"):null},[t]),p=S.useCallback((T,P,E)=>T?/^[\+]?[0-9\s\-\(\)]{7,}$/.test(T)?null:E||t("validation.phoneInvalid"):E||t("validation.required"),[t]),m=S.useCallback((T,P,E={})=>{const{required:I=!1,email:C=!1,password:R=!1,age:N=!1,phone:k=!1,minLength:M=null,maxLength:$=null,customMessage:L=null}=E;if(I){const V=o(P,T,L);if(V)return V}if(C){const V=a(P,T,L);if(V)return V}if(R){const V=c(P,T,L);if(V)return V}if(N){const V=f(P,T,L);if(V)return V}if(k){const V=p(P,T,L);if(V)return V}return M&&P&&P.length<M||$&&P&&P.length>$?L||t("validation.required"):null},[t,o,a,c,f,p]),y=S.useCallback(T=>{const P={};let E=!1;return Object.entries(T).forEach(([I,C])=>{const R=m(I,C.value,C);R&&(P[I]=R,E=!0)}),r(P),!E},[m]),_=S.useCallback(T=>e[T]||null,[e]),x=S.useCallback(T=>!!e[T],[e]),b=Object.keys(e).length>0;return{errors:e,hasErrors:b,clearErrors:n,clearFieldError:i,setFieldError:s,validateField:m,validateFields:y,getFieldError:_,hasFieldError:x,validateRequired:o,validateEmail:a,validatePassword:c,validatePasswordMatch:u,validateAge:f,validatePhone:p}},V_={businessName:"",businessDescription:"",industry:"",targetMarket:"",productsServices:[],competitors:[]};function $ue({isOpen:t,onClose:e,onBusinessCreated:r}){const{t:n,isRTL:i,isHebrew:s}=ur(),{user:o}=Xc(),[a,c]=S.useState(V_),[u,f]=S.useState(!1),[p,m]=S.useState(""),[y,_]=S.useState(""),[x,b]=S.useState(""),{clearErrors:T,clearFieldError:P,validateFields:E,getFieldError:I}=Hm(),C=(D,H)=>{c(W=>({...W,[D]:H})),p&&m(""),P(D)},R=()=>{y.trim()&&!a.productsServices.includes(y.trim())&&(c(D=>({...D,productsServices:[...D.productsServices,y.trim()]})),_(""))},N=D=>{c(H=>({...H,productsServices:H.productsServices.filter(W=>W!==D)}))},k=()=>{x.trim()&&(a.competitors.some(H=>H.name===x.trim())||(c(H=>({...H,competitors:[...H.competitors,{name:x.trim()}]})),b("")))},M=D=>{c(H=>({...H,competitors:H.competitors.filter(W=>W.name!==D)}))},$=async D=>{if(D.preventDefault(),T(),m(""),!E({businessName:{value:a.businessName,required:!0,customMessage:n("business.businessNameRequired")},industry:{value:a.industry,required:!0,customMessage:n("business.industryRequired")},businessDescription:{value:a.businessDescription,required:!0,customMessage:n("business.descriptionRequired")},targetMarket:{value:a.targetMarket,required:!0,customMessage:n("business.targetMarketRequired")},productsServices:{value:a.productsServices,required:!0,minLength:1,customMessage:n("business.productsServicesRequired")},competitors:{value:a.competitors,required:!0,minLength:1,customMessage:n("business.competitorsRequired")}})){m(n("business.pleaseFillRequiredFields")||"Please fill in all required fields");return}if(!o){m("You must be logged in to create a business");return}f(!0),m("");try{const W=await o.getIdToken(),K={businessName:a.businessName,businessDescription:a.businessDescription,industry:a.industry,targetMarket:a.targetMarket,productsServices:a.productsServices,competitors:a.competitors.map(G=>({name:G.name,phone:""}))},Q=await fetch("https://createbuisness-p54weh4vrq-uc.a.run.app/secondary-business",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify(K)});if(!Q.ok){const G=await Q.json();throw new Error(G.error||"Failed to create business")}const U=await Q.json();c(V_),_(""),b(""),r&&r(U.business),e()}catch(W){console.error("Error creating business:",W),m(W.message||n("business.createError")||"Failed to create business. Please try again.")}finally{f(!1)}},L=()=>{u||(c(V_),_(""),b(""),m(""),T(),e())},V=i?"ml-2":"mr-2";return h.jsx(Dc,{open:t,onOpenChange:L,children:h.jsxs(ol,{className:`sm:max-w-[600px] max-h-[90vh] overflow-y-auto ${i?"text-right":""}`,dir:i?"rtl":"ltr",children:[h.jsx(al,{className:"px-6 pt-6 pb-2",children:h.jsxs(cl,{className:`flex items-center gap-2 ${i?"flex-row-reverse":""}`,children:[h.jsx(Mn,{className:"h-5 w-5 text-sky-600"}),n("business.createNew")||"Create New Business"]})}),h.jsxs("form",{onSubmit:$,className:"space-y-4 px-6 py-2",noValidate:!0,children:[p&&h.jsx("div",{className:`rounded-xl border border-red-100 bg-red-50 ${i?"text-right":""} px-4 py-3 text-sm text-red-600`,children:p}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:i?"text-right":"",children:[h.jsxs(dt,{htmlFor:"businessName",className:"text-sm font-medium text-gray-700",children:[n("business.businessName")||"Business Name"," *"]}),h.jsx(ln,{id:"businessName",value:a.businessName,onChange:D=>C("businessName",D.target.value),placeholder:n("placeholder.businessName")||"Enter business name",className:`mt-1 ${i?"text-right":""} ${I("businessName")?"border-red-500 focus:border-red-500 focus:ring-red-500 ring-red-500":""}`,disabled:u}),I("businessName")&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:I("businessName")})]}),h.jsxs("div",{className:i?"text-right":"",children:[h.jsxs(dt,{htmlFor:"industry",className:"text-sm font-medium text-gray-700",children:[n("business.industry")||"Industry"," *"]}),h.jsx(ln,{id:"industry",value:a.industry,onChange:D=>C("industry",D.target.value),placeholder:n("placeholder.industry")||"Enter industry",className:`mt-1 ${i?"text-right":""} ${I("industry")?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,disabled:u}),I("industry")&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:I("industry")})]})]}),h.jsxs("div",{className:i?"text-right":"",children:[h.jsxs(dt,{htmlFor:"businessDescription",className:"text-sm font-medium text-gray-700",children:[n("business.description")||"Description"," *"]}),h.jsx(Pr,{id:"businessDescription",value:a.businessDescription,onChange:D=>C("businessDescription",D.target.value),placeholder:n("placeholder.description")||"Enter business description",className:`mt-1 ${i?"text-right":""} ${I("businessDescription")?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,disabled:u,rows:3}),I("businessDescription")&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:I("businessDescription")})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.jsxs("div",{className:i?"text-right":"",children:[h.jsxs(dt,{htmlFor:"targetMarket",className:"text-sm font-medium text-gray-700",children:[n("business.targetMarket")||"Target Market"," *"]}),h.jsx(Pr,{id:"targetMarket",value:a.targetMarket,onChange:D=>C("targetMarket",D.target.value),placeholder:n("placeholder.targetMarket")||"Describe your target market",className:`mt-1 ${i?"text-right":""} ${I("targetMarket")?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,disabled:u,rows:2}),I("targetMarket")&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:I("targetMarket")})]})}),h.jsxs("div",{className:i?"text-right":"",children:[h.jsxs(dt,{className:"text-sm font-medium text-gray-700",children:[n("business.productsServices")||"Products/Services"," *"]}),h.jsxs("div",{className:"space-y-3 mt-1",children:[h.jsxs("div",{className:"flex gap-2 items-stretch",children:[h.jsx(ln,{value:y,onChange:D=>_(D.target.value),placeholder:n("placeholder.productsServices")||"Add product/service",className:`flex-1 ${i?"text-right":""}`,disabled:u,onKeyPress:D=>D.key==="Enter"&&(D.preventDefault(),R())}),h.jsx(Ie,{type:"button",onClick:R,disabled:!y.trim()||u,variant:"outline",className:"px-3",children:h.jsx(Pc,{className:"h-4 w-4"})})]}),a.productsServices.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.productsServices.map((D,H)=>h.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-50 text-green-700 px-3 py-1.5 rounded-full border border-green-200",children:[h.jsx("span",{className:"text-sm",children:D}),h.jsx(Ie,{type:"button",onClick:()=>N(D),size:"sm",variant:"ghost",disabled:u,className:"h-4 w-4 p-0 hover:bg-green-100 rounded-full",children:h.jsx(Kn,{className:"h-3 w-3 text-green-600"})})]},H))}),I("productsServices")&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:I("productsServices")})]})]}),h.jsxs("div",{className:i?"text-right":"",children:[h.jsxs(dt,{className:"text-sm font-medium text-gray-700",children:[n("business.competitors")||"Competitors"," *"]}),h.jsxs("div",{className:"space-y-3 mt-1",children:[h.jsxs("div",{className:"flex gap-2 items-stretch",children:[h.jsx(ln,{value:x,onChange:D=>b(D.target.value),placeholder:n("placeholder.addCompetitor")||"Add competitor name",className:`flex-1 ${i?"text-right":""}`,disabled:u,onKeyPress:D=>D.key==="Enter"&&(D.preventDefault(),k())}),h.jsx(Ie,{type:"button",onClick:k,disabled:!x.trim()||u,variant:"outline",className:"px-3",children:h.jsx(Pc,{className:"h-4 w-4"})})]}),a.competitors.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.competitors.map((D,H)=>h.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full border border-blue-200",children:[h.jsx("span",{className:"text-sm",children:D.name}),h.jsx(Ie,{type:"button",onClick:()=>M(D.name),size:"sm",variant:"ghost",disabled:u,className:"h-4 w-4 p-0 hover:bg-blue-100 rounded-full",children:h.jsx(Kn,{className:"h-3 w-3 text-blue-600"})})]},H))}),I("competitors")&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:I("competitors")})]})]})]}),h.jsxs(ll,{className:`flex justify-end gap-3 pt-6 pb-6 px-6 border-t border-gray-200 ${i?"flex-row-reverse":""}`,children:[h.jsx(Lc,{asChild:!0,children:h.jsxs(Ie,{type:"button",variant:"outline",disabled:u,className:`px-6 ${i?"flex-row-reverse":""}`,children:[h.jsx(Kn,{className:`w-4 h-4 ${V}`}),n("common.cancel")||"Cancel"]})}),h.jsx(Ie,{type:"submit",disabled:u,className:`px-6 bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white ${i?"flex-row-reverse":""}`,children:u?h.jsxs(h.Fragment,{children:[h.jsx(Wm,{size:"sm",variant:"white",className:V}),n("business.creating")||"Creating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(dx,{className:`w-4 h-4 ${V}`}),n("business.create")||"Create Business"]})})]})]})]})})}function Fue({children:t,currentPageName:e,businessId:r}){var Oe,Me,he,_e,ue,be,Ae,le,Ze;const n=ro(),i=zc(),{t:s,isRTL:o,isHebrew:a,setLanguage:c,lockLanguage:u}=ur(),{user:f,logout:p}=Xc(),[m,y]=S.useState([]),[_,x]=S.useState(()=>{if(typeof window>"u")return null;const fe=window.location.pathname.split("/").filter(we=>we!=="");if(fe.length>=2){const we=fe[0];if(we&&we!=="profile")return we}return localStorage.getItem("selected-business-id")||null}),[b,T]=S.useState(!0),[P,E]=S.useState(!1),[I,C]=S.useState(0),[R,N]=S.useState({isOpen:!1,businessId:null,businessName:""});S.useEffect(()=>{f&&(async()=>{var we;try{if(f!=null&&f.uid){const Ne=Hc(Yc,"clients",f.uid),je=await Gc(Ne);if(je.exists()){const ft=je.data();console.log("=== FIRESTORE RAW DATA ==="),console.log("Full Firestore document:",ft),console.log("Firestore document keys:",Object.keys(ft||{})),console.log("Personal field:",ft.personal),console.log("Personal language:",(we=ft.personal)==null?void 0:we.language),console.log("=== END FIRESTORE RAW DATA ===");const Ke=ft.personal;if(Ke&&Ke.language){const Dt=(Ke.language.toLowerCase().startsWith("he")?"hebrew":"english")==="hebrew"?"he":"en";c(Dt),u()}}}}catch(Ne){console.error("Failed to load language from database:",Ne)}})()},[f,c,u]);const k=S.useMemo(()=>{const fe=_,we=m.find(je=>je.id===fe),Ne=(we==null?void 0:we.isPrimary)||!1;return[{title:s("nav.businessProfile"),url:zn("BusinessProfile",fe,Ne),icon:Mn},{title:s("nav.personas"),url:zn("Avatar",fe,Ne),icon:gc},{title:s("nav.prompts"),url:zn("Prompt",fe,Ne),icon:fi},{title:s("nav.competitors"),url:zn("Competitor",fe,Ne),icon:ls},{title:s("nav.analytics"),url:zn("Analytics",fe,Ne),icon:kp}]},[s,_,m]),M={title:s("nav.profile"),url:zn("Profile"),icon:g3},$=()=>{i(M.url)},L=fe=>({[s("nav.businessProfile")]:a?"":"Business",[s("nav.personas")]:a?"":"Avatars",[s("nav.prompts")]:a?"":"Prompts",[s("nav.competitors")]:a?"":"Competitors",[s("nav.analytics")]:a?"":"Analytics"})[fe]||fe;S.useEffect(()=>{let fe=!0;return(async()=>{try{if(T(!0),!f){y([]);return}const{doc:Ne,collection:je,getDoc:ft,getDocs:Ke}=await oR(async()=>{const{doc:$e,collection:vt,getDoc:mt,getDocs:oe}=await Promise.resolve().then(()=>iae);return{doc:$e,collection:vt,getDoc:mt,getDocs:oe}},[]),{db:ut}=await oR(async()=>{const{db:$e}=await Promise.resolve().then(()=>Ace);return{db:$e}},void 0),Dt=Ne(ut,"clients",f.uid),ir=je(Dt,"businesses"),[Nr,Xn]=await Promise.all([ft(Dt),Ke(ir).catch($e=>(console.warn("Unable to load businesses sub-collection:",$e),null))]),Ur=new Map;let Ui=0;const qi=($e="inline")=>(Ui+=1,`${$e}-business-${Ui}`),Dn=($e,vt,mt={})=>{if(!$e)return null;let oe=$e,me=vt;if($e&&typeof $e.data=="function"&&(me=$e.id||vt,oe=$e.data()),typeof oe=="string")return{id:me||oe||qi(mt.source),name:oe,...mt};if(typeof oe!="object")return null;const ke=oe.business_name||oe.businessName||oe.name||oe.title||me||s("layout.businessFallback");return{id:(oe.id||oe.uid||oe.businessId||oe.business_id||me||ke||qi(mt.source)).toString(),name:ke,...mt}},zi=$e=>{if(!$e)return;const vt=Ur.get($e.id);vt?Ur.set($e.id,{...vt,...$e,isPrimary:vt.isPrimary||$e.isPrimary||!1,source:vt.isPrimary?vt.source:$e.source}):Ur.set($e.id,$e)};if(Nr.exists()){const $e=Nr.data()||{},vt=$e.businessProfile||$e.business_profile||null;if(vt){const oe=vt.id||vt.businessId||vt.business_id||`${Nr.id}-primary`;zi(Dn(vt,oe,{source:"primary",isPrimary:!0}))}const mt=$e.secondary_buisness||$e.secondary_business||[];Array.isArray(mt)&&mt.forEach((oe,me)=>{const ke=oe.id||oe.businessId||oe.business_id||`${Nr.id}-secondary-${me}`;zi(Dn(oe,ke,{source:"secondary",isPrimary:!1}))})}Xn&&!Xn.empty&&Xn.forEach($e=>{const vt=$e.data(),mt=vt.id||vt.businessId||vt.business_id||$e.id;zi(Dn($e,mt,{source:"collection"}))});const un=Array.from(Ur.values()).sort(($e,vt)=>$e.isPrimary===vt.isPrimary?$e.name.localeCompare(vt.name):$e.isPrimary?-1:1);if(!fe)return;if(y(un),un.length>0){const $e=typeof window<"u"?localStorage.getItem("selected-business-id"):_;if(!$e||$e==="null")x(null);else{const vt=un.some(mt=>mt.id===$e)?$e:null;x(vt)}}}catch(Ne){console.error("Error loading businesses:",Ne);try{const je=await Fi.getCurrentUser();if(je){const ft={id:je.id||je.phone||"business-fallback",name:je.business_name||je.businessName||je.name||s("layout.businessFallback"),isPrimary:!0};y([ft]),x(ft.id)}}catch(je){console.error("Fallback business loading also failed:",je),y([])}}finally{fe&&T(!1)}})(),()=>{fe=!1}},[s,f]),S.useEffect(()=>{const fe=n.pathname.split("/").filter(we=>we!=="");if(fe.length>=2){const we=fe[0];we&&we!=="profile"&&we!==_&&(x(we),typeof window<"u"&&localStorage.setItem("selected-business-id",we))}else fe.length===1&&fe[0]!=="profile"&&_!==null&&(x(null),typeof window<"u"&&localStorage.setItem("selected-business-id","null"))},[n.pathname,_,m]),S.useEffect(()=>{if(typeof window>"u")return;const fe=we=>{const{businessId:Ne,businessName:je}=we.detail||{};!Ne||!je||(y(ft=>{const Ke=Array.isArray(ft)?[...ft]:[],ut=Ke.findIndex(ir=>ir.id===Ne),Dt={id:Ne,name:je};return ut>=0?Ke[ut]={...Ke[ut],...Dt}:Ke.push(Dt),Ke.sort((ir,Nr)=>ir.isPrimary===Nr.isPrimary?ir.name.localeCompare(Nr.name):ir.isPrimary?-1:1)}),x(ft=>ft||Ne))};return window.addEventListener("business-profile-updated",fe),()=>{window.removeEventListener("business-profile-updated",fe)}},[]),S.useEffect(()=>{typeof window>"u"||localStorage.setItem("selected-business-id",_||"null")},[_]);const V=S.useMemo(()=>_===null?m.find(fe=>fe.isPrimary)||null:m.find(fe=>fe.id===_)||null,[m,_]),D=(V==null?void 0:V.name)||s("layout.businessFallback"),H=S.useMemo(()=>{const fe={BusinessProfile:{title:s("business.title"),subtitle:s("business.subtitle")},Avatar:{title:s("personas.title"),subtitle:s("personas.subtitle")},Prompt:{title:s("prompts.title"),subtitle:s("prompts.subtitle")},Competitor:{title:s("competitors.title"),subtitle:s("competitors.subtitle")},Analytics:{title:s("analytics.title"),subtitle:s("analytics.subtitle")},Profile:{title:s("profile.title"),subtitle:s("profile.subtitle")}},we=e||"";if(we&&fe[we])return fe[we];if(we){const Ne=[...k,M].find(je=>je.url===zn(we));if(Ne)return{title:Ne.title,subtitle:""}}return{title:D,subtitle:s("layout.businessManageCaption")}},[e,k,M,D,s]),W=H.title||D,K=H.subtitle,Q=fe=>{const we=fe==="primary"?null:fe;if(x(we),typeof window<"u"&&localStorage.setItem("selected-business-id",we||"null"),C(Ne=>Ne+1),n.pathname!=="/profile"){const Ne=n.pathname.split("/"),je=Ne[Ne.length-1]||"businessprofile",Ke=zn(je,we,fe==="primary");i(Ke)}console.debug("Business context switched to:",we)},U=fe=>{const we={id:fe.id||fe.phone||`business-${Date.now()}`,name:fe.businessName||fe.business_name||fe.name||s("layout.businessFallback"),isPrimary:!1};y(je=>[...je,we].sort((Ke,ut)=>Ke.isPrimary===ut.isPrimary?Ke.name.localeCompare(ut.name):Ke.isPrimary?-1:1)),x(we.id),typeof window<"u"&&localStorage.setItem("selected-business-id",we.id);const Ne=zn("BusinessProfile",we.id,!1);i(Ne),E(!1)},G=fe=>{if(!fe)return;const we=m.find(Ne=>Ne.id===fe);we&&N({isOpen:!0,businessId:fe,businessName:we.name})},te=async()=>{const{businessId:fe}=R;try{if(await Dce.delete(fe),y(Ne=>Ne.filter(je=>je.id!==fe)),_===fe){x(null),typeof window<"u"&&localStorage.setItem("selected-business-id","null");const Ne=zn("BusinessProfile",null,!0);i(Ne)}C(Ne=>Ne+1);const we=document.createElement("div");we.className=`fixed ${o?"left-4":"right-4"} top-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50`,we.textContent=a?"  ":"Business deleted successfully",document.body.appendChild(we),setTimeout(()=>document.body.removeChild(we),3e3)}catch(we){console.error("Error deleting business:",we),alert(s("errors.deleteBusinessFailed"))}finally{N({isOpen:!1,businessId:null,businessName:""})}},z=()=>{N({isOpen:!1,businessId:null,businessName:""})},Z=()=>{C(fe=>fe+1)};S.useEffect(()=>{const fe=we=>{const{businessId:Ne,businessName:je}=we.detail;y(ft=>ft.map(ut=>ut.id===Ne?{...ut,name:je}:ut))};return window.addEventListener("business-profile-updated",fe),()=>{window.removeEventListener("business-profile-updated",fe)}},[m]);const ce=({triggerClassName:fe="",contentClassName:we=""})=>{var Ne;return h.jsxs(iz,{value:m.length===0?void 0:_||"primary",onValueChange:Q,disabled:b||m.length===0,children:[h.jsx(tk,{className:`h-11 rounded-xl border border-slate-200 bg-white/90 px-4 text-sm font-semibold text-slate-700 shadow-sm transition select-trigger business-switcher-trigger ${o?"flex-row-reverse justify-end":"justify-start"} ${fe}`.trim(),style:o?{justifyContent:"flex-end",textAlign:"right",direction:"rtl"}:{},children:h.jsxs("div",{className:`flex items-center gap-2 truncate ${o?"flex-row-reverse justify-end":"justify-start"}`,style:o?{justifyContent:"flex-end",direction:"rtl"}:{},children:[h.jsx(Mn,{className:"h-4 w-4 text-sky-600"}),h.jsx("span",{className:`truncate max-w-[180px] ${o?"text-right":"text-left"}`,style:o?{textAlign:"right",direction:"rtl"}:{},children:b?s("layout.businessLoading"):D})]})}),h.jsxs(rk,{dir:o?"rtl":"ltr",className:`max-h-64 ${we}`.trim(),children:[m.length===0?h.jsx(pp,{value:"placeholder",disabled:!0,children:s("layout.businessUnavailable")}):h.jsxs(h.Fragment,{children:[m.find(je=>je.isPrimary)&&h.jsx(pp,{value:"primary",className:`text-sm ${o?"text-right":"text-left"}`,children:h.jsxs("span",{className:`font-semibold text-sky-700 ${o?"text-right":"text-left"}`,children:[(Ne=m.find(je=>je.isPrimary))==null?void 0:Ne.name," ",a?"( )":"(Main Business)"]})},"primary"),m.filter(je=>!je.isPrimary).map((je,ft)=>h.jsxs("div",{className:"relative",children:[h.jsx(pp,{value:je.id,className:`text-sm pr-8 ${o?"text-right":"text-left"}`,children:h.jsx("span",{className:`text-gray-600 ${o?"text-right":"text-left"}`,children:je.name})}),h.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),G(je.id)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 hover:bg-red-100 rounded-full transition-colors",title:a?" ":"Delete Business",children:h.jsx(Kn,{className:"w-3 h-3 text-red-500 hover:text-red-700"})})]},je.id))]}),h.jsx("div",{className:"border-t border-slate-200 p-1",children:h.jsxs(Ie,{onClick:()=>E(!0),variant:"ghost",size:"sm",className:`w-full h-8 text-sky-600 hover:text-sky-700 hover:bg-sky-50 create-business-button ${o?"flex-row-reverse justify-end text-right":"justify-start text-left"}`,children:[h.jsx(Pc,{className:`h-4 w-4 ${o?"ml-2":"mr-2"}`}),s("business.createNew")||"Create New Business"]})})]})]})},ye=()=>{const fe=k;return h.jsx("nav",{className:`fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-slate-200 px-2 pt-2 pb-2 z-50 xl:hidden touch-optimized ${o?"rtl":"ltr"}`,children:h.jsx("div",{className:"flex justify-around items-center max-w-lg mx-auto",children:fe.map(we=>{const Ne=n.pathname===we.url;return h.jsxs(Cv,{to:we.url,className:`flex flex-col items-center gap-1 py-3 px-2 rounded-xl transition-all duration-200 min-w-0 flex-1 touch-manipulation touch-optimized hover-optimized ${Ne?"bg-gradient-to-t from-sky-500/15 to-blue-500/15 text-sky-600 shadow-sm":"text-slate-500 hover:text-slate-800 active:bg-slate-100"}`,style:{minHeight:"44px"},children:[h.jsx(we.icon,{className:`w-5 h-5 transition-transform ${Ne?"text-sky-600 scale-110":"text-slate-500"}`}),h.jsx("span",{className:`text-xs font-medium leading-none truncate max-w-full text-center ${o?"text-right":"text-left"}`,children:L(we.title)})]},we.title)})})})};return h.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-sky-50 via-sky-100 to-sky-200 ${o?"rtl":"ltr"}`,children:[h.jsx("style",{children:`
        :root {
          --gradient-primary: linear-gradient(135deg, #7ecbff 0%, #3a8dff 100%);
          --gradient-secondary: linear-gradient(135deg, #b7e3ff 0%, #7ecbff 100%);
          --gradient-accent: linear-gradient(135deg, #63b3ff 0%, #1c7dff 100%);
          --shadow-luxury: 0 25px 50px -12px rgba(0, 0, 0, 0.1);
          --shadow-card: 0 10px 25px rgba(0, 0, 0, 0.05);
          --mobile-header-height: 72px;
          --mobile-bottom-nav-height: calc(88px + env(safe-area-inset-bottom));
        }
        
        .luxury-gradient {
          background: var(--gradient-primary);
        }
        
        .glass-morphism {
          backdrop-filter: blur(16px);
          background: rgba(255, 255, 255, 0.95);
          border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
        }


        [dir="rtl"] .sidebar {
          border-left: 1px solid rgba(255, 255, 255, 0.2);
          border-right: none;
        }
        

        [dir="ltr"] .sidebar {
          border-right: 1px solid rgba(255, 255, 255, 0.2);
          border-left: none;
        }
        
        [dir="rtl"] .sidebar-header {
          text-align: right;
        }
        
        [dir="rtl"] .sidebar-header h2 {
          text-align: right !important;
        }
        
        [dir="rtl"] .sidebar-header p {
          text-align: right !important;
        }
        
        [dir="rtl"] .sidebar-header .flex {
          justify-content: flex-end !important;
        }
        
        [dir="rtl"] .sidebar-header h2,
        [dir="rtl"] .sidebar-header p {
          margin-left: 0 !important;
          margin-right: 0 !important;
          padding-left: 0 !important;
          padding-right: 0 !important;
        }
        
        [dir="rtl"] .create-business-button {
          justify-content: flex-end !important;
          text-align: right !important;
        }
        
        [dir="rtl"] .create-business-button .flex {
          justify-content: flex-end !important;
        }
        
        [dir="rtl"] .select-content {
          text-align: right !important;
        }
        
        [dir="rtl"] .select-item {
          text-align: right !important;
          justify-content: flex-end !important;
        }
        
        [dir="rtl"] .select-item span {
          text-align: right !important;
        }
        
        [dir="rtl"] .select-trigger {
          justify-content: flex-end !important;
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .select-trigger .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .select-trigger span {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] [data-radix-select-trigger] {
          justify-content: flex-end !important;
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] [data-radix-select-trigger] .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] [data-radix-select-trigger] span {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .flex-row-reverse {
          flex-direction: row-reverse;
        }
        

        [dir="rtl"] .business-switcher-trigger {
          justify-content: flex-end !important;
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .business-switcher-trigger > div {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .business-switcher-trigger span {
          text-align: right !important;
          direction: rtl !important;
        }
        

        [dir="rtl"] .sidebar-menu-item {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .sidebar-menu-item a {
          justify-content: flex-end !important;
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .sidebar-menu-item span {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .sidebar-menu-item .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        

        [dir="rtl"] [data-sidebar="menu-item"] {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] [data-sidebar="menu-item"] a {
          justify-content: flex-end !important;
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] [data-sidebar="menu-item"] span {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] [data-sidebar="menu-item"] .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        

        [dir="rtl"] [data-sidebar="menu-item"] a {
          flex-direction: row-reverse !important;
        }
        
        [dir="rtl"] [data-sidebar="menu-item"] a svg {
          order: 2 !important;
        }
        
        [dir="rtl"] [data-sidebar="menu-item"] a span {
          order: 1 !important;
        }
        

        [dir="rtl"] .sidebar-menu-item a {
          flex-direction: row-reverse !important;
        }
        
        [dir="rtl"] .sidebar-menu-item a svg {
          order: 2 !important;
        }
        
        [dir="rtl"] .sidebar-menu-item a span {
          order: 1 !important;
        }
        

        [dir="ltr"] [data-sidebar="menu-item"] a {
          flex-direction: row !important;
        }
        
        [dir="ltr"] [data-sidebar="menu-item"] a svg {
          order: 1 !important;
        }
        
        [dir="ltr"] [data-sidebar="menu-item"] a span {
          order: 2 !important;
        }
        

        [dir="ltr"] .sidebar-menu-item a {
          flex-direction: row !important;
        }
        
        [dir="ltr"] .sidebar-menu-item a svg {
          order: 1 !important;
        }
        
        [dir="ltr"] .sidebar-menu-item a span {
          order: 2 !important;
        }
        

        [dir="rtl"] .sidebar-footer {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .sidebar-footer .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .sidebar-footer button {
          flex-direction: row-reverse !important;
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .sidebar-footer button div {
          order: 2 !important;
        }
        
        [dir="rtl"] .sidebar-footer button .flex-1 {
          order: 1 !important;
          text-align: right !important;
        }
        

        [dir="ltr"] .sidebar-footer {
          text-align: left !important;
          direction: ltr !important;
        }
        
        [dir="ltr"] .sidebar-footer .flex {
          justify-content: flex-start !important;
          direction: ltr !important;
        }
        
        [dir="ltr"] .sidebar-footer button {
          flex-direction: row !important;
          justify-content: flex-start !important;
          direction: ltr !important;
        }
        
        [dir="ltr"] .sidebar-footer button div {
          order: 1 !important;
        }
        
        [dir="ltr"] .sidebar-footer button .flex-1 {
          order: 2 !important;
          text-align: left !important;
        }
        

        [dir="rtl"] .page-header {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .page-header h1 {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .page-header p {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .page-header .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .page-header .actions {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        

        [dir="rtl"] .page-header .flex-row-reverse {
          flex-direction: row-reverse !important;
        }
        
        [dir="rtl"] .page-header .flex-row-reverse .actions {
          order: 1 !important;
        }
        
        [dir="rtl"] .page-header .flex-row-reverse > div:first-child {
          order: 2 !important;
        }
        

        [dir="rtl"] .page-header div[class*="flex"] {
          flex-direction: row-reverse !important;
        }
        
        [dir="rtl"] .page-header div[class*="actions"] {
          order: 1 !important;
          margin-left: 0 !important;
          margin-right: auto !important;
        }
        
        [dir="rtl"] .page-header div[class*="flex"] > div:not([class*="actions"]) {
          order: 2 !important;
        }
        

        [dir="rtl"] .page-header button {
          margin-left: 0 !important;
          margin-right: auto !important;
        }
        

        [dir="rtl"] .page-header * {
          direction: rtl !important;
        }
        

        [dir="rtl"] .page-header .actions {
          position: absolute !important;
          left: 0 !important;
          right: auto !important;
          margin-left: 0 !important;
          margin-right: 0 !important;
        }
        
        [dir="rtl"] .page-header .actions button {
          margin-left: 0 !important;
          margin-right: 0 !important;
        }
        

        [dir="rtl"] .page-header > div {
          position: relative !important;
        }
        

        [dir="rtl"] .card-title {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .card-title .flex {
          justify-content: flex-end !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .card-title span {
          text-align: right !important;
          direction: rtl !important;
        }
        

        [dir="rtl"] .card-title .flex-row-reverse {
          flex-direction: row-reverse !important;
        }
        
        [dir="rtl"] .card-title .flex-row-reverse > div:last-child {
          order: 1 !important;
        }
        
        [dir="rtl"] .card-title .flex-row-reverse > span:first-child {
          order: 2 !important;
        }
        

        [dir="rtl"] .persona-card h3 {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .persona-card p {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .persona-card .text-right {
          text-align: right !important;
          direction: rtl !important;
        }
        
        [dir="rtl"] .persona-card [data-radix-badge] {
          text-align: right !important;
          direction: rtl !important;
        }
        

        [dir="rtl"] .persona-card .flex-row-reverse {
          flex-direction: row-reverse !important;
        }
        
        [dir="rtl"] .persona-card .order-1 {
          order: 1 !important;
        }
        
        [dir="rtl"] .persona-card .order-2 {
          order: 2 !important;
        }


        [lang="he"] {
          font-family: 'Segoe UI', Tahoma, Arial, 'Noto Sans Hebrew', sans-serif;
        }
        
        [dir="rtl"] .text-right {
          text-align: right;
        }
        
        [dir="rtl"] .text-left {
          text-align: left;
        }


        .safe-area-inset-bottom {
          padding-bottom: 1.25rem;
          padding-bottom: calc(1.25rem + env(safe-area-inset-bottom));
          padding-bottom: calc(1.25rem + constant(safe-area-inset-bottom));
        }

        .pb-safe {
          padding-bottom: env(safe-area-inset-bottom);
        }


        .touch-manipulation {
          touch-action: manipulation;
        }


        @media (max-width: 1024px) {
          .bottom-nav-padding {
            padding-bottom: calc(88px + env(safe-area-inset-bottom));
          }
        }


        @media (max-width: 640px) {
          .mobile-padding {
            padding-left: 1rem;
            padding-right: 1rem;
          }
        }


        @media (max-width: 768px) {
          .mobile-grid {
            grid-template-columns: 1fr;
            gap: 1rem;
          }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
          .tablet-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
          }
        }

        .page-loading-state {
          min-height: calc(100vh - var(--mobile-header-height) - var(--mobile-bottom-nav-height));
        }

        @media (min-width: 1024px) {
          :root {
            --mobile-header-height: 0px;
            --mobile-bottom-nav-height: 0px;
          }

          .page-loading-state {
            min-height: 100vh;
          }
        }
      `}),h.jsx(XB,{children:h.jsxs("div",{className:`flex w-full ${o?"flex-row-reverse":""}`,children:[h.jsxs(QB,{side:o?"right":"left",className:"w-[280px] border-white/20 glass-morphism sidebar order-1 touch-optimized hidden xl:flex",children:[h.jsxs(JB,{className:"border-b border-white/10 p-6 sidebar-header",children:[h.jsx("div",{className:`flex items-center gap-3 ${o?"flex-row-reverse justify-end text-right":"justify-start text-left"}`,children:h.jsxs("div",{className:o?"text-right":"text-left",children:[h.jsx("h2",{className:`font-bold text-gray-900 text-lg ${o?"text-right":"text-left"}`,children:"Mole AI"}),h.jsxs("div",{className:`flex items-center gap-1 ${o?"flex-row-reverse justify-end":"justify-start"}`,children:[h.jsx(Di,{className:"w-3 h-3 text-sky-500"}),h.jsx("p",{className:`text-xs text-sky-600 font-medium ${o?"text-right":"text-left"}`,children:a?"   AI":"Brand measurement in AI engines"})]})]})}),h.jsx("div",{className:`mt-4 flex ${o?"justify-start":"justify-end"}`,children:h.jsx("div",{className:"w-full",children:h.jsx(ce,{triggerClassName:"w-full"})})})]}),h.jsx(eU,{className:"p-2",children:h.jsxs(tU,{children:[h.jsx(rU,{className:`text-xs font-semibold text-gray-500 uppercase tracking-wider px-3 py-3 ${o?"text-right":"text-left"}`,children:s("nav.platform")}),h.jsx(nU,{children:h.jsx(iU,{className:"space-y-1",children:k.map(fe=>h.jsx(sU,{className:"sidebar-menu-item",children:h.jsx(oU,{asChild:!0,className:`hover:bg-gradient-to-r hover:from-sky-500/10 hover:to-blue-500/10 hover:text-sky-700 transition-all duration-300 rounded-xl mb-1 group touch-optimized hover-optimized ${n.pathname===fe.url?"bg-gradient-to-r from-sky-500/15 to-blue-500/15 text-sky-700 shadow-sm":""}`,children:h.jsx(Cv,{to:fe.url,className:`flex w-full items-center gap-4 px-6 py-5 ${o?"flex-row-reverse text-right justify-end":"justify-start"}`,style:o?{justifyContent:"flex-end",textAlign:"right",direction:"rtl",flexDirection:"row-reverse"}:{},children:o?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:`font-semibold text-base ${o?"text-right":"text-left"}`,style:o?{textAlign:"right",direction:"rtl"}:{},children:fe.title}),h.jsx(fe.icon,{className:`w-6 h-6 transition-transform group-hover:scale-110 ${n.pathname===fe.url?"text-sky-600":"text-gray-500"}`})]}):h.jsxs(h.Fragment,{children:[h.jsx(fe.icon,{className:`w-6 h-6 transition-transform group-hover:scale-110 ${n.pathname===fe.url?"text-sky-600":"text-gray-500"}`}),h.jsx("span",{className:`font-semibold text-base ${o?"text-right":"text-left"}`,style:o?{textAlign:"right",direction:"rtl"}:{},children:fe.title})]})})})},fe.title))})})]})}),h.jsx(ZB,{className:"border-t border-white/10 p-4",children:h.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-white/90 via-white/85 to-sky-50/60 shadow-sm border border-white/70 ${o?"flex-row-reverse justify-end":"justify-start"} ${n.pathname===M.url?"ring-2 ring-sky-200":""}`,style:o?{justifyContent:"flex-end",direction:"rtl"}:{},children:[h.jsx("button",{type:"button",onClick:$,className:`flex flex-1 items-center gap-2 rounded-lg px-1 py-1 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white ${o?"flex-row-reverse text-right justify-end":"justify-start"}`,style:o?{justifyContent:"flex-end",direction:"rtl"}:{},title:s("nav.profile"),children:o?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:`flex-1 min-w-0 ${o?"text-right":"text-left"}`,children:[h.jsx("p",{className:`font-semibold text-slate-900 text-sm ${o?"text-right":"text-left"}`,children:(f==null?void 0:f.displayName)||(a?" ":"User Account")}),h.jsx("p",{className:`text-xs text-slate-500 truncate ${o?"text-right":"text-left"}`,children:(f==null?void 0:f.email)||(a?" ":"Brand Intelligence")})]}),h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-sky-500 to-blue-600 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white font-bold text-sm",children:((Oe=f==null?void 0:f.displayName)==null?void 0:Oe[0])||((he=(Me=f==null?void 0:f.email)==null?void 0:Me[0])==null?void 0:he.toUpperCase())||"U"})})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-sky-500 to-blue-600 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white font-bold text-sm",children:((_e=f==null?void 0:f.displayName)==null?void 0:_e[0])||((be=(ue=f==null?void 0:f.email)==null?void 0:ue[0])==null?void 0:be.toUpperCase())||"U"})}),h.jsxs("div",{className:`flex-1 min-w-0 ${o?"text-right":"text-left"}`,children:[h.jsx("p",{className:`font-semibold text-slate-900 text-sm ${o?"text-right":"text-left"}`,children:(f==null?void 0:f.displayName)||(a?" ":"User Account")}),h.jsx("p",{className:`text-xs text-slate-500 truncate ${o?"text-right":"text-left"}`,children:(f==null?void 0:f.email)||(a?" ":"Brand Intelligence")})]})]})}),h.jsx("button",{onClick:p,className:`p-2 rounded-lg hover:bg-red-50 hover:text-red-600 transition-colors group ${o?"order-first":""}`,title:a?"":"Sign Out",children:h.jsx(p3,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})})]})})]}),h.jsxs("main",{className:"flex-1 flex flex-col min-h-screen order-2",children:[h.jsxs("header",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200 px-4 py-4 xl:hidden sticky top-0 z-50",children:[h.jsxs("div",{className:`flex items-center justify-between gap-4 ${o?"flex-row-reverse":""}`,children:[h.jsx("div",{className:`flex-1 min-w-0 ${o?"order-2":"order-1"}`,children:h.jsx(ce,{triggerClassName:"w-full",contentClassName:"min-w-[180px]"})}),f&&h.jsx("button",{type:"button",onClick:$,className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-gradient-to-r from-sky-500 to-blue-600 text-white shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white ${o?"order-1":"order-2"}`,"aria-label":s("nav.profile"),children:h.jsx("span",{className:"text-sm font-semibold",children:((Ae=f==null?void 0:f.displayName)==null?void 0:Ae[0])||((Ze=(le=f==null?void 0:f.email)==null?void 0:le[0])==null?void 0:Ze.toUpperCase())||"U"})})]}),h.jsxs("div",{className:"mt-3",children:[h.jsx("h1",{className:`text-lg font-semibold bg-gradient-to-r from-sky-500 to-blue-600 bg-clip-text text-transparent truncate ${o?"text-right":"text-left"}`,children:W}),K&&h.jsx("p",{className:`text-xs text-slate-500 ${o?"text-right":"text-left"}`,children:K})]})]}),h.jsx("div",{className:"flex-1 overflow-auto bottom-nav-padding lg:pb-0",children:X.cloneElement(t,{businessId:_,refreshBusinessData:Z})})]}),h.jsx(ye,{})]})}),h.jsx($ue,{isOpen:P,onClose:()=>E(!1),onBusinessCreated:U}),R.isOpen&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[h.jsx("div",{className:"mb-4",children:h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a?" ":"Delete Business"})}),h.jsx("p",{className:"text-gray-600 mb-6",children:a?h.jsxs(h.Fragment,{children:['       "',R.businessName,'"?',h.jsx("br",{}),h.jsx("span",{className:"font-semibold text-red-600",children:"    ."})]}):h.jsxs(h.Fragment,{children:['Are you sure you want to delete the business "',R.businessName,'"?',h.jsx("br",{}),h.jsx("span",{className:"font-semibold text-red-600",children:"This action cannot be undone."})]})}),h.jsxs("div",{className:`flex gap-3 ${o?"flex-row-reverse":""}`,children:[h.jsx(Ie,{onClick:z,variant:"outline",className:"flex-1",children:a?"":"Cancel"}),h.jsx(Ie,{onClick:te,variant:"destructive",className:"flex-1",children:a?"":"Delete"})]})]})})]})}function Vue({children:t,currentPageName:e,businessId:r}){return h.jsx(uv,{children:h.jsx(Fue,{children:t,currentPageName:e,businessId:r})})}const Rt=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Ee("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Rt.displayName="Card";const Ar=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Ee("flex flex-col space-y-1.5 p-4 sm:p-6",t),...e}));Ar.displayName="CardHeader";const Fr=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Ee("font-semibold leading-none tracking-tight",t),...e}));Fr.displayName="CardTitle";const Bue=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));Bue.displayName="CardDescription";const yt=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Ee("p-4 sm:p-6 pt-0",t),...e}));yt.displayName="CardContent";const Uue=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Ee("flex items-center p-4 sm:p-6 pt-0",t),...e}));Uue.displayName="CardFooter";const que=xf("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function wn({className:t,variant:e,...r}){return h.jsx("div",{className:Ee(que({variant:e}),t),...r})}const nk=S.createContext({});function ik(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const sk=typeof window<"u",hz=sk?S.useLayoutEffect:S.useEffect,Jx=S.createContext(null);function ok(t,e){t.indexOf(e)===-1&&t.push(e)}function ak(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Go=(t,e,r)=>r>e?e:r<t?t:r;let lk=()=>{};const Ko={},pz=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mz(t){return typeof t=="object"&&t!==null}const gz=t=>/^0[^.\s]+$/u.test(t);function ck(t){let e;return()=>(e===void 0&&(e=t()),e)}const Li=t=>t,zue=(t,e)=>r=>e(t(r)),Gm=(...t)=>t.reduce(zue),Vp=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class uk{constructor(){this.subscriptions=[]}add(e){return ok(this.subscriptions,e),()=>ak(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ws=t=>t*1e3,Ri=t=>t/1e3;function yz(t,e){return e?t*(1e3/e):0}const vz=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Wue=1e-7,Hue=12;function Gue(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=vz(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>Wue&&++a<Hue);return o}function Km(t,e,r,n){if(t===e&&r===n)return Li;const i=s=>Gue(s,0,1,t,r);return s=>s===0||s===1?s:vz(i(s),e,n)}const xz=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bz=t=>e=>1-t(1-e),wz=Km(.33,1.53,.69,.99),dk=bz(wz),_z=xz(dk),Sz=t=>(t*=2)<1?.5*dk(t):.5*(2-Math.pow(2,-10*(t-1))),fk=t=>1-Math.sin(Math.acos(t)),Ez=bz(fk),Pz=xz(fk),Kue=Km(.42,0,1,1),Yue=Km(0,0,.58,1),Tz=Km(.42,0,.58,1),Xue=t=>Array.isArray(t)&&typeof t[0]!="number",Az=t=>Array.isArray(t)&&typeof t[0]=="number",Que={linear:Li,easeIn:Kue,easeInOut:Tz,easeOut:Yue,circIn:fk,circInOut:Pz,circOut:Ez,backIn:dk,backInOut:_z,backOut:wz,anticipate:Sz},Jue=t=>typeof t=="string",TM=t=>{if(Az(t)){lk(t.length===4);const[e,r,n,i]=t;return Km(e,r,n,i)}else if(Jue(t))return Que[t];return t},Fy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Zue(t,e){let r=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(u.schedule(f),t()),f(a)}const u={schedule:(f,p=!1,m=!1)=>{const _=m&&i?r:n;return p&&o.add(f),_.has(f)||_.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const ede=40;function Cz(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=Fy.reduce((E,I)=>(E[I]=Zue(s),E),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:f,update:p,preRender:m,render:y,postRender:_}=o,x=()=>{const E=Ko.useManualTiming?i.timestamp:performance.now();r=!1,Ko.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(E-i.timestamp,ede),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),f.process(i),p.process(i),m.process(i),y.process(i),_.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(x))},b=()=>{r=!0,n=!0,i.isProcessing||t(x)};return{schedule:Fy.reduce((E,I)=>{const C=o[I];return E[I]=(R,N=!1,k=!1)=>(r||b(),C.schedule(R,N,k)),E},{}),cancel:E=>{for(let I=0;I<Fy.length;I++)o[Fy[I]].cancel(E)},state:i,steps:o}}const{schedule:tr,cancel:ul,state:on,steps:B_}=Cz(typeof requestAnimationFrame<"u"?requestAnimationFrame:Li,!0);let bv;function tde(){bv=void 0}const Hn={now:()=>(bv===void 0&&Hn.set(on.isProcessing||Ko.useManualTiming?on.timestamp:performance.now()),bv),set:t=>{bv=t,queueMicrotask(tde)}},Nz=t=>e=>typeof e=="string"&&e.startsWith(t),hk=Nz("--"),rde=Nz("var(--"),pk=t=>rde(t)?nde.test(t.split("/*")[0].trim()):!1,nde=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Of={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bp={...Of,transform:t=>Go(0,1,t)},Vy={...Of,default:1},gp=t=>Math.round(t*1e5)/1e5,mk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ide(t){return t==null}const sde=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gk=(t,e)=>r=>!!(typeof r=="string"&&sde.test(r)&&r.startsWith(t)||e&&!ide(r)&&Object.prototype.hasOwnProperty.call(r,e)),kz=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,a]=n.match(mk);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ode=t=>Go(0,255,t),U_={...Of,transform:t=>Math.round(ode(t))},uc={test:gk("rgb","red"),parse:kz("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+U_.transform(t)+", "+U_.transform(e)+", "+U_.transform(r)+", "+gp(Bp.transform(n))+")"};function ade(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const QT={test:gk("#"),parse:ade,transform:uc.transform},Ym=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oa=Ym("deg"),Hs=Ym("%"),tt=Ym("px"),lde=Ym("vh"),cde=Ym("vw"),AM={...Hs,parse:t=>Hs.parse(t)/100,transform:t=>Hs.transform(t*100)},td={test:gk("hsl","hue"),parse:kz("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Hs.transform(gp(e))+", "+Hs.transform(gp(r))+", "+gp(Bp.transform(n))+")"},Er={test:t=>uc.test(t)||QT.test(t)||td.test(t),parse:t=>uc.test(t)?uc.parse(t):td.test(t)?td.parse(t):QT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?uc.transform(t):td.transform(t),getAnimatableNone:t=>{const e=Er.parse(t);return e.alpha=0,Er.transform(e)}},ude=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dde(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(mk))==null?void 0:e.length)||0)+(((r=t.match(ude))==null?void 0:r.length)||0)>0}const Iz="number",Oz="color",fde="var",hde="var(",CM="${}",pde=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Up(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(pde,c=>(Er.test(c)?(n.color.push(s),i.push(Oz),r.push(Er.parse(c))):c.startsWith(hde)?(n.var.push(s),i.push(fde),r.push(c)):(n.number.push(s),i.push(Iz),r.push(parseFloat(c))),++s,CM)).split(CM);return{values:r,split:a,indexes:n,types:i}}function jz(t){return Up(t).values}function Rz(t){const{split:e,types:r}=Up(t),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const a=r[o];a===Iz?s+=gp(i[o]):a===Oz?s+=Er.transform(i[o]):s+=i[o]}return s}}const mde=t=>typeof t=="number"?0:Er.test(t)?Er.getAnimatableNone(t):t;function gde(t){const e=jz(t);return Rz(t)(e.map(mde))}const dl={test:dde,parse:jz,createTransformer:Rz,getAnimatableNone:gde};function q_(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function yde({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,c=2*r-a;i=q_(c,a,t+1/3),s=q_(c,a,t),o=q_(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function r0(t,e){return r=>r>0?e:t}const ar=(t,e,r)=>t+(e-t)*r,z_=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},vde=[QT,uc,td],xde=t=>vde.find(e=>e.test(t));function NM(t){const e=xde(t);if(!e)return!1;let r=e.parse(t);return e===td&&(r=yde(r)),r}const kM=(t,e)=>{const r=NM(t),n=NM(e);if(!r||!n)return r0(t,e);const i={...r};return s=>(i.red=z_(r.red,n.red,s),i.green=z_(r.green,n.green,s),i.blue=z_(r.blue,n.blue,s),i.alpha=ar(r.alpha,n.alpha,s),uc.transform(i))},JT=new Set(["none","hidden"]);function bde(t,e){return JT.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function wde(t,e){return r=>ar(t,e,r)}function yk(t){return typeof t=="number"?wde:typeof t=="string"?pk(t)?r0:Er.test(t)?kM:Ede:Array.isArray(t)?Mz:typeof t=="object"?Er.test(t)?kM:_de:r0}function Mz(t,e){const r=[...t],n=r.length,i=t.map((s,o)=>yk(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function _de(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=yk(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function Sde(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][n[s]],a=t.values[o]??0;r[i]=a,n[s]++}return r}const Ede=(t,e)=>{const r=dl.createTransformer(e),n=Up(t),i=Up(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?JT.has(t)&&!i.values.length||JT.has(e)&&!n.values.length?bde(t,e):Gm(Mz(Sde(n,i),i.values),r):r0(t,e)};function Dz(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?ar(t,e,r):yk(t)(t,e)}const Pde=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>tr.update(e,r),stop:()=>ul(e),now:()=>on.isProcessing?on.timestamp:Hn.now()}},Lz=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},n0=2e4;function vk(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<n0;)e+=r,n=t.next(e);return e>=n0?1/0:e}function Tde(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(vk(n),n0);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:Ri(i)}}const Ade=5;function $z(t,e,r){const n=Math.max(e-Ade,0);return yz(r-t(n),e-n)}const fr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},W_=.001;function Cde({duration:t=fr.duration,bounce:e=fr.bounce,velocity:r=fr.velocity,mass:n=fr.mass}){let i,s,o=1-e;o=Go(fr.minDamping,fr.maxDamping,o),t=Go(fr.minDuration,fr.maxDuration,Ri(t)),o<1?(i=u=>{const f=u*o,p=f*t,m=f-r,y=ZT(u,o),_=Math.exp(-p);return W_-m/y*_},s=u=>{const p=u*o*t,m=p*r+r,y=Math.pow(o,2)*Math.pow(u,2)*t,_=Math.exp(-p),x=ZT(Math.pow(u,2),o);return(-i(u)+W_>0?-1:1)*((m-y)*_)/x}):(i=u=>{const f=Math.exp(-u*t),p=(u-r)*t+1;return-W_+f*p},s=u=>{const f=Math.exp(-u*t),p=(r-u)*(t*t);return f*p});const a=5/t,c=kde(i,s,a);if(t=Ws(t),isNaN(c))return{stiffness:fr.stiffness,damping:fr.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const Nde=12;function kde(t,e,r){let n=r;for(let i=1;i<Nde;i++)n=n-t(n)/e(n);return n}function ZT(t,e){return t*Math.sqrt(1-e*e)}const Ide=["duration","bounce"],Ode=["stiffness","damping","mass"];function IM(t,e){return e.some(r=>t[r]!==void 0)}function jde(t){let e={velocity:fr.velocity,stiffness:fr.stiffness,damping:fr.damping,mass:fr.mass,isResolvedFromDuration:!1,...t};if(!IM(t,Ode)&&IM(t,Ide))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Go(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:fr.mass,stiffness:i,damping:s}}else{const r=Cde(t);e={...e,...r,mass:fr.mass},e.isResolvedFromDuration=!0}return e}function i0(t=fr.visualDuration,e=fr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:u,mass:f,duration:p,velocity:m,isResolvedFromDuration:y}=jde({...r,velocity:-Ri(r.velocity||0)}),_=m||0,x=u/(2*Math.sqrt(c*f)),b=o-s,T=Ri(Math.sqrt(c/f)),P=Math.abs(b)<5;n||(n=P?fr.restSpeed.granular:fr.restSpeed.default),i||(i=P?fr.restDelta.granular:fr.restDelta.default);let E;if(x<1){const C=ZT(T,x);E=R=>{const N=Math.exp(-x*T*R);return o-N*((_+x*T*b)/C*Math.sin(C*R)+b*Math.cos(C*R))}}else if(x===1)E=C=>o-Math.exp(-T*C)*(b+(_+T*b)*C);else{const C=T*Math.sqrt(x*x-1);E=R=>{const N=Math.exp(-x*T*R),k=Math.min(C*R,300);return o-N*((_+x*T*b)*Math.sinh(k)+C*b*Math.cosh(k))/C}}const I={calculatedDuration:y&&p||null,next:C=>{const R=E(C);if(y)a.done=C>=p;else{let N=C===0?_:0;x<1&&(N=C===0?Ws(_):$z(E,C,R));const k=Math.abs(N)<=n,M=Math.abs(o-R)<=i;a.done=k&&M}return a.value=a.done?o:R,a},toString:()=>{const C=Math.min(vk(I),n0),R=Lz(N=>I.next(C*N).value,C,30);return C+"ms "+R},toTransition:()=>{}};return I}i0.applyToOptions=t=>{const e=Tde(t,100,i0);return t.ease=e.ease,t.duration=Ws(e.duration),t.type="keyframes",t};function eA({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:f}){const p=t[0],m={done:!1,value:p},y=k=>a!==void 0&&k<a||c!==void 0&&k>c,_=k=>a===void 0?c:c===void 0||Math.abs(a-k)<Math.abs(c-k)?a:c;let x=r*e;const b=p+x,T=o===void 0?b:o(b);T!==b&&(x=T-p);const P=k=>-x*Math.exp(-k/n),E=k=>T+P(k),I=k=>{const M=P(k),$=E(k);m.done=Math.abs(M)<=u,m.value=m.done?T:$};let C,R;const N=k=>{y(m.value)&&(C=k,R=i0({keyframes:[m.value,_(m.value)],velocity:$z(E,k,m.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return N(0),{calculatedDuration:null,next:k=>{let M=!1;return!R&&C===void 0&&(M=!0,I(k),N(k)),C!==void 0&&k>=C?R.next(k-C):(!M&&I(k),m)}}}function Rde(t,e,r){const n=[],i=r||Ko.mix||Dz,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Li:e;a=Gm(c,a)}n.push(a)}return n}function Mde(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(lk(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Rde(e,n,i),c=a.length,u=f=>{if(o&&f<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const m=Vp(t[p],t[p+1],f);return a[p](m)};return r?f=>u(Go(t[0],t[s-1],f)):u}function Dde(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Vp(0,e,n);t.push(ar(r,1,i))}}function Lde(t){const e=[0];return Dde(e,t.length-1),e}function $de(t,e){return t.map(r=>r*e)}function Fde(t,e){return t.map(()=>e||Tz).splice(0,t.length-1)}function yp({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Xue(n)?n.map(TM):TM(n),s={done:!1,value:e[0]},o=$de(r&&r.length===e.length?r:Lde(e),t),a=Mde(o,e,{ease:Array.isArray(i)?i:Fde(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const Vde=t=>t!==null;function xk(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(Vde),a=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const Bde={decay:eA,inertia:eA,tween:yp,keyframes:yp,spring:i0};function Fz(t){typeof t.type=="string"&&(t.type=Bde[t.type])}class bk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Ude=t=>t/100;class wk extends bk{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==Hn.now()&&this.tick(Hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Fz(e);const{type:r=yp,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const c=r||yp;c!==yp&&typeof a[0]!="number"&&(this.mixKeyframes=Gm(Ude,Dz(a[0],a[1])),a=[0,100]);const u=c({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=vk(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:f,repeat:p,repeatType:m,repeatDelay:y,type:_,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const T=this.currentTime-u*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?T<0:T>i;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,I=n;if(p){const k=Math.min(this.currentTime,i)/a;let M=Math.floor(k),$=k%1;!$&&k>=1&&($=1),$===1&&M--,M=Math.min(M,p+1),!!(M%2)&&(m==="reverse"?($=1-$,y&&($-=y/a)):m==="mirror"&&(I=o)),E=Go(0,1,$)*a}const C=P?{done:!1,value:f[0]}:I.next(E);s&&(C.value=s(C.value));let{done:R}=C;!P&&c!==null&&(R=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return N&&_!==eA&&(C.value=xk(f,this.options,b,this.speed)),x&&x(C.value),N&&this.finish(),C}then(e,r){return this.finished.then(e,r)}get duration(){return Ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(this.currentTime)}set time(e){var r;e=Ws(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Hn.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Ri(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=Pde,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function qde(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const dc=t=>t*180/Math.PI,tA=t=>{const e=dc(Math.atan2(t[1],t[0]));return rA(e)},zde={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tA,rotateZ:tA,skewX:t=>dc(Math.atan(t[1])),skewY:t=>dc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rA=t=>(t=t%360,t<0&&(t+=360),t),OM=tA,jM=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),RM=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Wde={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jM,scaleY:RM,scale:t=>(jM(t)+RM(t))/2,rotateX:t=>rA(dc(Math.atan2(t[6],t[5]))),rotateY:t=>rA(dc(Math.atan2(-t[2],t[0]))),rotateZ:OM,rotate:OM,skewX:t=>dc(Math.atan(t[4])),skewY:t=>dc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function nA(t){return t.includes("scale")?1:0}function iA(t,e){if(!t||t==="none")return nA(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=Wde,i=r;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=zde,i=a}if(!i)return nA(e);const s=n[e],o=i[1].split(",").map(Gde);return typeof s=="function"?s(o):o[s]}const Hde=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return iA(r,e)};function Gde(t){return parseFloat(t.trim())}const jf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rf=new Set(jf),MM=t=>t===Of||t===tt,Kde=new Set(["x","y","z"]),Yde=jf.filter(t=>!Kde.has(t));function Xde(t){const e=[];return Yde.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const wc={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>iA(e,"x"),y:(t,{transform:e})=>iA(e,"y")};wc.translateX=wc.x;wc.translateY=wc.y;const _c=new Set;let sA=!1,oA=!1,aA=!1;function Vz(){if(oA){const t=Array.from(_c).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Xde(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var a;(a=n.getValue(s))==null||a.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}oA=!1,sA=!1,_c.forEach(t=>t.complete(aA)),_c.clear()}function Bz(){_c.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(oA=!0)})}function Qde(){aA=!0,Bz(),Vz(),aA=!1}class _k{constructor(e,r,n,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(_c.add(this),sA||(sA=!0,tr.read(Bz),tr.resolveKeyframes(Vz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const a=n.readValue(r,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}qde(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_c.delete(this)}cancel(){this.state==="scheduled"&&(_c.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Jde=t=>t.startsWith("--");function Zde(t,e,r){Jde(e)?t.style.setProperty(e,r):t.style[e]=r}const efe=ck(()=>window.ScrollTimeline!==void 0),tfe={};function rfe(t,e){const r=ck(t);return()=>tfe[e]??r()}const Uz=rfe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rp=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,DM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rp([0,.65,.55,1]),circOut:rp([.55,0,1,.45]),backIn:rp([.31,.01,.66,-.59]),backOut:rp([.33,1.53,.69,.99])};function qz(t,e){if(t)return typeof t=="function"?Uz()?Lz(t,e):"ease-out":Az(t)?rp(t):Array.isArray(t)?t.map(r=>qz(r,e)||DM.easeOut):DM[t]}function nfe(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const f={[e]:r};c&&(f.offset=c);const p=qz(a,i);Array.isArray(p)&&(f.easing=p);const m={delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),t.animate(f,m)}function zz(t){return typeof t=="function"&&"applyToOptions"in t}function ife({type:t,...e}){return zz(t)&&Uz()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class sfe extends bk{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,lk(typeof e.type!="string");const u=ife(e);this.animation=nfe(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=xk(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):Zde(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ws(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&efe()?(this.animation.timeline=e,Li):r(this)}}const Wz={anticipate:Sz,backInOut:_z,circInOut:Pz};function ofe(t){return t in Wz}function afe(t){typeof t.ease=="string"&&ofe(t.ease)&&(t.ease=Wz[t.ease])}const LM=10;class lfe extends sfe{constructor(e){afe(e),Fz(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const a=new wk({...o,autoplay:!1}),c=Ws(this.finishedTime??this.time);r.setWithVelocity(a.sample(c-LM).value,a.sample(c).value,LM),a.stop()}}const $M=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(dl.test(t)||t==="0")&&!t.startsWith("url("));function cfe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function ufe(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=$M(i,e),a=$M(s,e);return!o||!a?!1:cfe(t)||(r==="spring"||zz(r))&&n}function lA(t){t.duration=0,t.type="keyframes"}const dfe=new Set(["opacity","clipPath","filter","transform"]),ffe=ck(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hfe(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return ffe()&&r&&dfe.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&s!==0&&o!=="inertia"}const pfe=40;class mfe extends bk{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:f,...p}){var _;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Hn.now();const m={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:u,element:f,...p},y=(f==null?void 0:f.KeyframeResolver)||_k;this.keyframeResolver=new y(a,(x,b,T)=>this.onKeyframesResolved(x,b,m,!T),c,u,f),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:f}=n;this.resolvedAt=Hn.now(),ufe(e,s,o,a)||((Ko.instantAnimations||!c)&&(f==null||f(xk(e,n,r))),e[0]=e[e.length-1],lA(n),n.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>pfe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},y=!u&&hfe(m)?new lfe({...m,element:m.motionValue.owner.current}):new wk(m);y.finished.then(()=>this.notifyFinished()).catch(Li),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Qde()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const gfe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yfe(t){const e=gfe.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function Hz(t,e,r=1){const[n,i]=yfe(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return pz(o)?parseFloat(o):o}return pk(i)?Hz(i,e,r+1):i}function Sk(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Gz=new Set(["width","height","top","left","right","bottom",...jf]),vfe={test:t=>t==="auto",parse:t=>t},Kz=t=>e=>e.test(t),Yz=[Of,tt,Hs,Oa,cde,lde,vfe],FM=t=>Yz.find(Kz(t));function xfe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gz(t):!0}const bfe=new Set(["brightness","contrast","saturate","opacity"]);function wfe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(mk)||[];if(!n)return t;const i=r.replace(n,"");let s=bfe.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const _fe=/\b([a-z-]*)\(.*?\)/gu,cA={...dl,getAnimatableNone:t=>{const e=t.match(_fe);return e?e.map(wfe).join(" "):t}},VM={...Of,transform:Math.round},Sfe={rotate:Oa,rotateX:Oa,rotateY:Oa,rotateZ:Oa,scale:Vy,scaleX:Vy,scaleY:Vy,scaleZ:Vy,skew:Oa,skewX:Oa,skewY:Oa,distance:tt,translateX:tt,translateY:tt,translateZ:tt,x:tt,y:tt,z:tt,perspective:tt,transformPerspective:tt,opacity:Bp,originX:AM,originY:AM,originZ:tt},Ek={borderWidth:tt,borderTopWidth:tt,borderRightWidth:tt,borderBottomWidth:tt,borderLeftWidth:tt,borderRadius:tt,radius:tt,borderTopLeftRadius:tt,borderTopRightRadius:tt,borderBottomRightRadius:tt,borderBottomLeftRadius:tt,width:tt,maxWidth:tt,height:tt,maxHeight:tt,top:tt,right:tt,bottom:tt,left:tt,padding:tt,paddingTop:tt,paddingRight:tt,paddingBottom:tt,paddingLeft:tt,margin:tt,marginTop:tt,marginRight:tt,marginBottom:tt,marginLeft:tt,backgroundPositionX:tt,backgroundPositionY:tt,...Sfe,zIndex:VM,fillOpacity:Bp,strokeOpacity:Bp,numOctaves:VM},Efe={...Ek,color:Er,backgroundColor:Er,outlineColor:Er,fill:Er,stroke:Er,borderColor:Er,borderTopColor:Er,borderRightColor:Er,borderBottomColor:Er,borderLeftColor:Er,filter:cA,WebkitFilter:cA},Xz=t=>Efe[t];function Qz(t,e){let r=Xz(t);return r!==cA&&(r=dl),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Pfe=new Set(["auto","none","0"]);function Tfe(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!Pfe.has(s)&&Up(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=Qz(r,i)}class Afe extends _k{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),pk(u))){const f=Hz(u,r.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Gz.has(n)||e.length!==2)return;const[i,s]=e,o=FM(i),a=FM(s);if(o!==a)if(MM(o)&&MM(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else wc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||xfe(e[i]))&&n.push(i);n.length&&Tfe(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=wc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Cfe(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Jz=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Zz(t){return mz(t)&&"offsetHeight"in t}const BM=30,Nfe=t=>!isNaN(parseFloat(t));class kfe{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=Hn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Nfe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new uk);const n=this.events[e].add(r);return e==="change"?()=>{n(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>BM)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,BM);return yz(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vd(t,e){return new kfe(t,e)}const{schedule:Pk}=Cz(queueMicrotask,!1),ts={x:!1,y:!1};function e8(){return ts.x||ts.y}function Ife(t){return t==="x"||t==="y"?ts[t]?null:(ts[t]=!0,()=>{ts[t]=!1}):ts.x||ts.y?null:(ts.x=ts.y=!0,()=>{ts.x=ts.y=!1})}function t8(t,e){const r=Cfe(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function UM(t){return!(t.pointerType==="touch"||e8())}function Ofe(t,e,r={}){const[n,i,s]=t8(t,r),o=a=>{if(!UM(a))return;const{target:c}=a,u=e(c,a);if(typeof u!="function"||!c)return;const f=p=>{UM(p)&&(u(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const r8=(t,e)=>e?t===e?!0:r8(t,e.parentElement):!1,Tk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,jfe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Rfe(t){return jfe.has(t.tagName)||t.tabIndex!==-1}const wv=new WeakSet;function qM(t){return e=>{e.key==="Enter"&&t(e)}}function H_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Mfe=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=qM(()=>{if(wv.has(r))return;H_(r,"down");const i=qM(()=>{H_(r,"up")}),s=()=>H_(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function zM(t){return Tk(t)&&!e8()}function Dfe(t,e,r={}){const[n,i,s]=t8(t,r),o=a=>{const c=a.currentTarget;if(!zM(a))return;wv.add(c);const u=e(c,a),f=(y,_)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),wv.has(c)&&wv.delete(c),zM(y)&&typeof u=="function"&&u(y,{success:_})},p=y=>{f(y,c===window||c===document||r.useGlobalTarget||r8(c,y.target))},m=y=>{f(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return n.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),Zz(a)&&(a.addEventListener("focus",u=>Mfe(u,i)),!Rfe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function n8(t){return mz(t)&&"ownerSVGElement"in t}function Lfe(t){return n8(t)&&t.tagName==="svg"}const Pn=t=>!!(t&&t.getVelocity),$fe=[...Yz,Er,dl],Ffe=t=>$fe.find(Kz(t)),Ak=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function WM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Vfe(...t){return e=>{let r=!1;const n=t.map(i=>{const s=WM(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():WM(t[i],null)}}}}function Bfe(...t){return S.useCallback(Vfe(...t),t)}class Ufe extends S.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=Zz(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qfe({children:t,isPresent:e,anchorX:r,root:n}){const i=S.useId(),s=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=S.useContext(Ak),c=Bfe(s,t==null?void 0:t.ref);return S.useInsertionEffect(()=>{const{width:u,height:f,top:p,left:m,right:y}=o.current;if(e||!s.current||!u||!f)return;const _=r==="left"?`left: ${m}`:`right: ${y}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");a&&(x.nonce=a);const b=n??document.head;return b.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${_}px !important;
            top: ${p}px !important;
          }
        `),()=>{b.contains(x)&&b.removeChild(x)}},[e]),h.jsx(Ufe,{isPresent:e,childRef:s,sizeRef:o,children:S.cloneElement(t,{ref:c})})}const zfe=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:c})=>{const u=ik(Wfe),f=S.useId();let p=!0,m=S.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:y=>{u.set(y,!0);for(const _ of u.values())if(!_)return;n&&n()},register:y=>(u.set(y,!1),()=>u.delete(y))}),[r,u,n]);return s&&p&&(m={...m}),S.useMemo(()=>{u.forEach((y,_)=>u.set(_,!1))},[r]),S.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(t=h.jsx(qfe,{isPresent:r,anchorX:a,root:c,children:t})),h.jsx(Jx.Provider,{value:m,children:t})};function Wfe(){return new Map}function i8(t=!0){const e=S.useContext(Jx);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=S.useId();S.useEffect(()=>{if(t)return i(s)},[t]);const o=S.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const By=t=>t.key||"";function HM(t){const e=[];return S.Children.forEach(t,r=>{S.isValidElement(r)&&e.push(r)}),e}const Hfe=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[u,f]=i8(o),p=S.useMemo(()=>HM(t),[t]),m=o&&!u?[]:p.map(By),y=S.useRef(!0),_=S.useRef(p),x=ik(()=>new Map),[b,T]=S.useState(p),[P,E]=S.useState(p);hz(()=>{y.current=!1,_.current=p;for(let R=0;R<P.length;R++){const N=By(P[R]);m.includes(N)?x.delete(N):x.get(N)!==!0&&x.set(N,!1)}},[P,m.length,m.join("-")]);const I=[];if(p!==b){let R=[...p];for(let N=0;N<P.length;N++){const k=P[N],M=By(k);m.includes(M)||(R.splice(N,0,k),I.push(k))}return s==="wait"&&I.length&&(R=I),E(HM(R)),T(p),null}const{forceRender:C}=S.useContext(nk);return h.jsx(h.Fragment,{children:P.map(R=>{const N=By(R),k=o&&!u?!1:p===P||m.includes(N),M=()=>{if(x.has(N))x.set(N,!0);else return;let $=!0;x.forEach(L=>{L||($=!1)}),$&&(C==null||C(),E(_.current),o&&(f==null||f()),n&&n())};return h.jsx(zfe,{isPresent:k,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:k?void 0:M,anchorX:a,children:R},N)})})},s8=S.createContext({strict:!1}),GM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bd={};for(const t in GM)Bd[t]={isEnabled:e=>GM[t].some(r=>!!e[r])};function Gfe(t){for(const e in t)Bd[e]={...Bd[e],...t[e]}}const Kfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function s0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Kfe.has(t)}let o8=t=>!s0(t);function Yfe(t){typeof t=="function"&&(o8=e=>e.startsWith("on")?!s0(e):t(e))}try{Yfe(require("@emotion/is-prop-valid").default)}catch{}function Xfe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(o8(i)||r===!0&&s0(i)||!e&&!s0(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const Zx=S.createContext({});function eb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function qp(t){return typeof t=="string"||Array.isArray(t)}const Ck=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nk=["initial",...Ck];function tb(t){return eb(t.animate)||Nk.some(e=>qp(t[e]))}function a8(t){return!!(tb(t)||t.variants)}function Qfe(t,e){if(tb(t)){const{initial:r,animate:n}=t;return{initial:r===!1||qp(r)?r:void 0,animate:qp(n)?n:void 0}}return t.inherit!==!1?e:{}}function Jfe(t){const{initial:e,animate:r}=Qfe(t,S.useContext(Zx));return S.useMemo(()=>({initial:e,animate:r}),[KM(e),KM(r)])}function KM(t){return Array.isArray(t)?t.join(" "):t}const zp={};function Zfe(t){for(const e in t)zp[e]=t[e],hk(e)&&(zp[e].isCSSVariable=!0)}function l8(t,{layout:e,layoutId:r}){return Rf.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!zp[t]||t==="opacity")}const ehe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},the=jf.length;function rhe(t,e,r){let n="",i=!0;for(let s=0;s<the;s++){const o=jf[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||r){const u=Jz(a,Ek[o]);if(!c){i=!1;const f=ehe[o]||o;n+=`${f}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function kk(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(Rf.has(c)){o=!0;continue}else if(hk(c)){i[c]=u;continue}else{const f=Jz(u,Ek[c]);c.startsWith("origin")?(a=!0,s[c]=f):n[c]=f}}if(e.transform||(o||r?n.transform=rhe(e,t.transform,r):n.transform&&(n.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:f=0}=s;n.transformOrigin=`${c} ${u} ${f}`}}const Ik=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function c8(t,e,r){for(const n in e)!Pn(e[n])&&!l8(n,r)&&(t[n]=e[n])}function nhe({transformTemplate:t},e){return S.useMemo(()=>{const r=Ik();return kk(r,e,t),Object.assign({},r.vars,r.style)},[e])}function ihe(t,e){const r=t.style||{},n={};return c8(n,r,t),Object.assign(n,nhe(t,e)),n}function she(t,e){const r={},n=ihe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const ohe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ahe={offset:"strokeDashoffset",array:"strokeDasharray"};function lhe(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?ohe:ahe;t[s.offset]=tt.transform(-n);const o=tt.transform(e),a=tt.transform(r);t[s.array]=`${o} ${a}`}function u8(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},c,u,f){if(kk(t,a,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m}=t;p.transform&&(m.transform=p.transform,delete p.transform),(m.transform||p.transformOrigin)&&(m.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),m.transform&&(m.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),i!==void 0&&lhe(p,i,s,o,!1)}const d8=()=>({...Ik(),attrs:{}}),f8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function che(t,e,r,n){const i=S.useMemo(()=>{const s=d8();return u8(s,e,f8(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};c8(s,t.style,t),i.style={...s,...i.style}}return i}const uhe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ok(t){return typeof t!="string"||t.includes("-")?!1:!!(uhe.indexOf(t)>-1||/[A-Z]/u.test(t))}function dhe(t,e,r,{latestValues:n},i,s=!1){const a=(Ok(t)?che:she)(e,n,i,t),c=Xfe(e,typeof t=="string",s),u=t!==S.Fragment?{...c,...a,ref:r}:{},{children:f}=e,p=S.useMemo(()=>Pn(f)?f.get():f,[f]);return S.createElement(t,{...u,children:p})}function YM(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function jk(t,e,r,n){if(typeof e=="function"){const[i,s]=YM(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=YM(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function _v(t){return Pn(t)?t.get():t}function fhe({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:hhe(r,n,i,t),renderState:e()}}function hhe(t,e,r,n){const i={},s=n(t,{});for(const m in s)i[m]=_v(s[m]);let{initial:o,animate:a}=t;const c=tb(t),u=a8(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!eb(p)){const m=Array.isArray(p)?p:[p];for(let y=0;y<m.length;y++){const _=jk(t,m[y]);if(_){const{transitionEnd:x,transition:b,...T}=_;for(const P in T){let E=T[P];if(Array.isArray(E)){const I=f?E.length-1:0;E=E[I]}E!==null&&(i[P]=E)}for(const P in x)i[P]=x[P]}}}return i}const h8=t=>(e,r)=>{const n=S.useContext(Zx),i=S.useContext(Jx),s=()=>fhe(t,e,n,i);return r?s():ik(s)};function Rk(t,e,r){var s;const{style:n}=t,i={};for(const o in n)(Pn(n[o])||e.style&&Pn(e.style[o])||l8(o,t)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=n[o]);return i}const phe=h8({scrapeMotionValuesFromProps:Rk,createRenderState:Ik});function p8(t,e,r){const n=Rk(t,e,r);for(const i in t)if(Pn(t[i])||Pn(e[i])){const s=jf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const mhe=h8({scrapeMotionValuesFromProps:p8,createRenderState:d8}),ghe=Symbol.for("motionComponentSymbol");function rd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yhe(t,e,r){return S.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):rd(r)&&(r.current=n))},[e])}const Mk=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vhe="framerAppearId",m8="data-"+Mk(vhe),g8=S.createContext({});function xhe(t,e,r,n,i){var x,b;const{visualElement:s}=S.useContext(Zx),o=S.useContext(s8),a=S.useContext(Jx),c=S.useContext(Ak).reducedMotion,u=S.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:s,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const f=u.current,p=S.useContext(g8);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&bhe(u.current,r,i,p);const m=S.useRef(!1);S.useInsertionEffect(()=>{f&&m.current&&f.update(r,a)});const y=r[m8],_=S.useRef(!!y&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,y))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,y)));return hz(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),_.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!_.current&&f.animationState&&f.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,y)}),_.current=!1),f.enteringChildren=void 0)}),f}function bhe(t,e,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:y8(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&rd(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:u})}function y8(t){if(t)return t.options.allowProjection!==!1?t.projection:y8(t.parent)}function G_(t,{forwardMotionProps:e=!1}={},r,n){r&&Gfe(r);const i=Ok(t)?mhe:phe;function s(a,c){let u;const f={...S.useContext(Ak),...a,layoutId:whe(a)},{isStatic:p}=f,m=Jfe(a),y=i(a,p);if(!p&&sk){_he();const _=She(f);u=_.MeasureLayout,m.visualElement=xhe(t,y,f,n,_.ProjectionNode)}return h.jsxs(Zx.Provider,{value:m,children:[u&&m.visualElement?h.jsx(u,{visualElement:m.visualElement,...f}):null,dhe(t,a,yhe(y,m.visualElement,c),y,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=S.forwardRef(s);return o[ghe]=t,o}function whe({layoutId:t}){const e=S.useContext(nk).id;return e&&t!==void 0?e+"-"+t:t}function _he(t,e){S.useContext(s8).strict}function She(t){const{drag:e,layout:r}=Bd;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Ehe(t,e){if(typeof Proxy>"u")return G_;const r=new Map,n=(s,o)=>G_(s,o,t,e),i=(s,o)=>n(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,G_(o,void 0,t,e)),r.get(o))})}function v8({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Phe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function The(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function K_(t){return t===void 0||t===1}function uA({scale:t,scaleX:e,scaleY:r}){return!K_(t)||!K_(e)||!K_(r)}function ec(t){return uA(t)||x8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function x8(t){return XM(t.x)||XM(t.y)}function XM(t){return t&&t!=="0%"}function o0(t,e,r){const n=t-r,i=e*n;return r+i}function QM(t,e,r,n,i){return i!==void 0&&(t=o0(t,i,n)),o0(t,r,n)+e}function dA(t,e=0,r=1,n,i){t.min=QM(t.min,e,r,n,i),t.max=QM(t.max,e,r,n,i)}function b8(t,{x:e,y:r}){dA(t.x,e.translate,e.scale,e.originPoint),dA(t.y,r.translate,r.scale,r.originPoint)}const JM=.999999999999,ZM=1.0000000000001;function Ahe(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&id(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,b8(t,o)),n&&ec(s.latestValues)&&id(t,s.latestValues))}e.x<ZM&&e.x>JM&&(e.x=1),e.y<ZM&&e.y>JM&&(e.y=1)}function nd(t,e){t.min=t.min+e,t.max=t.max+e}function eD(t,e,r,n,i=.5){const s=ar(t.min,t.max,i);dA(t,e,r,s,n)}function id(t,e){eD(t.x,e.x,e.scaleX,e.scale,e.originX),eD(t.y,e.y,e.scaleY,e.scale,e.originY)}function w8(t,e){return v8(The(t.getBoundingClientRect(),e))}function Che(t,e,r){const n=w8(t,r),{scroll:i}=e;return i&&(nd(n.x,i.offset.x),nd(n.y,i.offset.y)),n}const tD=()=>({translate:0,scale:1,origin:0,originPoint:0}),sd=()=>({x:tD(),y:tD()}),rD=()=>({min:0,max:0}),gr=()=>({x:rD(),y:rD()}),fA={current:null},_8={current:!1};function Nhe(){if(_8.current=!0,!!sk)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fA.current=t.matches;t.addEventListener("change",e),e()}else fA.current=!1}const khe=new WeakMap;function Ihe(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Pn(i))t.addValue(n,i);else if(Pn(s))t.addValue(n,Vd(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,Vd(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const nD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ohe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_k,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Hn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,tr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=tb(r),this.isVariantNode=a8(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in p){const y=p[m];c[m]!==void 0&&Pn(y)&&y.set(c[m])}}mount(e){var r;this.current=e,khe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),_8.current||Nhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fA.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ul(this.notifyUpdate),ul(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Rf.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&tr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bd){const r=Bd[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<nD.length;n++){const i=nD[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Ihe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Vd(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(pz(n)||gz(n))?n=parseFloat(n):!Ffe(n)&&dl.test(r)&&(n=Qz(e,r)),this.setBaseTarget(e,Pn(n)?n.get():n)),Pn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=jk(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Pn(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new uk),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Pk.render(this.render)}}class S8 extends Ohe{constructor(){super(...arguments),this.KeyframeResolver=Afe}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function E8(t,{style:e,vars:r},n,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function jhe(t){return window.getComputedStyle(t)}class Rhe extends S8{constructor(){super(...arguments),this.type="html",this.renderInstance=E8}readValueFromInstance(e,r){var n;if(Rf.has(r))return(n=this.projection)!=null&&n.isProjecting?nA(r):Hde(e,r);{const i=jhe(e),s=(hk(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return w8(e,r)}build(e,r,n){kk(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Rk(e,r,n)}}const P8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Mhe(t,e,r,n){E8(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(P8.has(i)?i:Mk(i),e.attrs[i])}class Dhe extends S8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Rf.has(r)){const n=Xz(r);return n&&n.default||0}return r=P8.has(r)?r:Mk(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return p8(e,r,n)}build(e,r,n){u8(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){Mhe(e,r,n,i)}mount(e){this.isSVGTag=f8(e.tagName),super.mount(e)}}const Lhe=(t,e)=>Ok(t)?new Dhe(e):new Rhe(e,{allowProjection:t!==S.Fragment});function xd(t,e,r){const n=t.getProps();return jk(n,e,r!==void 0?r:n.custom,t)}const hA=t=>Array.isArray(t);function $he(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Vd(r))}function Fhe(t){return hA(t)?t[t.length-1]||0:t}function Vhe(t,e){const r=xd(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const a=Fhe(s[o]);$he(t,o,a)}}function Bhe(t){return!!(Pn(t)&&t.add)}function pA(t,e){const r=t.getValue("willChange");if(Bhe(r))return r.add(e);if(!r&&Ko.WillChange){const n=new Ko.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function T8(t){return t.props[m8]}const Uhe=t=>t!==null;function qhe(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(Uhe),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const zhe={type:"spring",stiffness:500,damping:25,restSpeed:10},Whe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Hhe={type:"keyframes",duration:.8},Ghe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Khe=(t,{keyframes:e})=>e.length>2?Hhe:Rf.has(t)?t.startsWith("scale")?Whe(e[1]):zhe:Ghe;function Yhe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const Dk=(t,e,r,n={},i,s)=>o=>{const a=Sk(n,t)||{},c=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Ws(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Yhe(a)||Object.assign(f,Khe(t,f)),f.duration&&(f.duration=Ws(f.duration)),f.repeatDelay&&(f.repeatDelay=Ws(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(lA(f),f.delay===0&&(p=!0)),(Ko.instantAnimations||Ko.skipAnimations)&&(p=!0,lA(f),f.delay=0),f.allowFlatten=!a.type&&!a.ease,p&&!s&&e.get()!==void 0){const m=qhe(f.keyframes,a);if(m!==void 0){tr.update(()=>{f.onUpdate(m),f.onComplete()});return}}return a.isSync?new wk(f):new mfe(f)};function Xhe({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function A8(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;n&&(s=n);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const p=t.getValue(f,t.latestValues[f]??null),m=a[f];if(m===void 0||u&&Xhe(u,f))continue;const y={delay:r,...Sk(s||{},f)},_=p.get();if(_!==void 0&&!p.isAnimating&&!Array.isArray(m)&&m===_&&!y.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const T=T8(t);if(T){const P=window.MotionHandoffAnimation(T,f,tr);P!==null&&(y.startTime=P,x=!0)}}pA(t,f),p.start(Dk(f,p,m,t.shouldReduceMotion&&Gz.has(f)?{type:!1}:y,t,x));const b=p.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{tr.update(()=>{o&&Vhe(t,o)})}),c}function C8(t,e,r,n=0,i=1){const s=Array.from(t).sort((u,f)=>u.sortNodePosition(f)).indexOf(e),o=t.size,a=(o-1)*n;return typeof r=="function"?r(s,o):i===1?s*n:a-s*n}function mA(t,e,r={}){var c;const n=xd(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(A8(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=i;return Qhe(t,e,u,f,p,m,r)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,f]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>f())}else return Promise.all([s(),o(r.delay)])}function Qhe(t,e,r=0,n=0,i=0,s=1,o){const a=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),a.push(mA(c,e,{...o,delay:r+(typeof n=="function"?0:n)+C8(t.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function Jhe(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>mA(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=mA(t,e,r);else{const i=typeof e=="function"?xd(t,e,r.custom):e;n=Promise.all(A8(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function N8(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Zhe=Nk.length;function k8(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?k8(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Zhe;r++){const n=Nk[r],i=t.props[n];(qp(i)||i===!1)&&(e[n]=i)}return e}const epe=[...Ck].reverse(),tpe=Ck.length;function rpe(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Jhe(t,r,n)))}function npe(t){let e=rpe(t),r=iD(),n=!0;const i=c=>(u,f)=>{var m;const p=xd(t,f,c==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(p){const{transition:y,transitionEnd:_,...x}=p;u={...u,...x,..._}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,f=k8(t.parent)||{},p=[],m=new Set;let y={},_=1/0;for(let b=0;b<tpe;b++){const T=epe[b],P=r[T],E=u[T]!==void 0?u[T]:f[T],I=qp(E),C=T===c?P.isActive:null;C===!1&&(_=b);let R=E===f[T]&&E!==u[T]&&I;if(R&&n&&t.manuallyAnimateOnMount&&(R=!1),P.protectedKeys={...y},!P.isActive&&C===null||!E&&!P.prevProp||eb(E)||typeof E=="boolean")continue;const N=ipe(P.prevProp,E);let k=N||T===c&&P.isActive&&!R&&I||b>_&&I,M=!1;const $=Array.isArray(E)?E:[E];let L=$.reduce(i(T),{});C===!1&&(L={});const{prevResolvedValues:V={}}=P,D={...V,...L},H=Q=>{k=!0,m.has(Q)&&(M=!0,m.delete(Q)),P.needsAnimating[Q]=!0;const U=t.getValue(Q);U&&(U.liveStyle=!1)};for(const Q in D){const U=L[Q],G=V[Q];if(y.hasOwnProperty(Q))continue;let te=!1;hA(U)&&hA(G)?te=!N8(U,G):te=U!==G,te?U!=null?H(Q):m.add(Q):U!==void 0&&m.has(Q)?H(Q):P.protectedKeys[Q]=!0}P.prevProp=E,P.prevResolvedValues=L,P.isActive&&(y={...y,...L}),n&&t.blockInitialAnimation&&(k=!1);const W=R&&N;k&&(!W||M)&&p.push(...$.map(Q=>{const U={type:T};if(typeof Q=="string"&&n&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,te=xd(G,Q);if(G.enteringChildren&&te){const{delayChildren:z}=te.transition||{};U.delay=C8(G.enteringChildren,t,z)}}return{animation:Q,options:U}}))}if(m.size){const b={};if(typeof u.initial!="boolean"){const T=xd(t,Array.isArray(u.initial)?u.initial[0]:u.initial);T&&T.transition&&(b.transition=T.transition)}m.forEach(T=>{const P=t.getBaseTarget(T),E=t.getValue(T);E&&(E.liveStyle=!0),b[T]=P??null}),p.push({animation:b})}let x=!!p.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(p):Promise.resolve()}function a(c,u){var p;if(r[c].isActive===u)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(m=>{var y;return(y=m.animationState)==null?void 0:y.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const m in r)r[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r,reset:()=>{r=iD()}}}function ipe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!N8(e,t):!1}function Gl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iD(){return{animate:Gl(!0),whileInView:Gl(),whileHover:Gl(),whileTap:Gl(),whileDrag:Gl(),whileFocus:Gl(),exit:Gl()}}class ml{constructor(e){this.isMounted=!1,this.node=e}update(){}}class spe extends ml{constructor(e){super(e),e.animationState||(e.animationState=npe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();eb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let ope=0;class ape extends ml{constructor(){super(...arguments),this.id=ope++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lpe={animation:{Feature:spe},exit:{Feature:ape}};function Wp(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Xm(t){return{point:{x:t.pageX,y:t.pageY}}}const cpe=t=>e=>Tk(e)&&t(e,Xm(e));function vp(t,e,r,n){return Wp(t,e,cpe(r),n)}const I8=1e-4,upe=1-I8,dpe=1+I8,O8=.01,fpe=0-O8,hpe=0+O8;function In(t){return t.max-t.min}function ppe(t,e,r){return Math.abs(t-e)<=r}function sD(t,e,r,n=.5){t.origin=n,t.originPoint=ar(e.min,e.max,t.origin),t.scale=In(r)/In(e),t.translate=ar(r.min,r.max,t.origin)-t.originPoint,(t.scale>=upe&&t.scale<=dpe||isNaN(t.scale))&&(t.scale=1),(t.translate>=fpe&&t.translate<=hpe||isNaN(t.translate))&&(t.translate=0)}function xp(t,e,r,n){sD(t.x,e.x,r.x,n?n.originX:void 0),sD(t.y,e.y,r.y,n?n.originY:void 0)}function oD(t,e,r){t.min=r.min+e.min,t.max=t.min+In(e)}function mpe(t,e,r){oD(t.x,e.x,r.x),oD(t.y,e.y,r.y)}function aD(t,e,r){t.min=e.min-r.min,t.max=t.min+In(e)}function bp(t,e,r){aD(t.x,e.x,r.x),aD(t.y,e.y,r.y)}function Ni(t){return[t("x"),t("y")]}const j8=({current:t})=>t?t.ownerDocument.defaultView:null,lD=(t,e)=>Math.abs(t-e);function gpe(t,e){const r=lD(t.x,e.x),n=lD(t.y,e.y);return Math.sqrt(r**2+n**2)}class R8{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=X_(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=gpe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!_)return;const{point:x}=m,{timestamp:b}=on;this.history.push({...x,timestamp:b});const{onStart:T,onMove:P}=this.handlers;y||(T&&T(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Y_(y,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:_,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=X_(m.type==="pointercancel"?this.lastMoveEventInfo:Y_(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(m,T),x&&x(m,T)},!Tk(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const a=Xm(e),c=Y_(a,this.transformPagePoint),{point:u}=c,{timestamp:f}=on;this.history=[{...u,timestamp:f}];const{onSessionStart:p}=r;p&&p(e,X_(c,this.history)),this.removeListeners=Gm(vp(this.contextWindow,"pointermove",this.handlePointerMove),vp(this.contextWindow,"pointerup",this.handlePointerUp),vp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ul(this.updatePoint)}}function Y_(t,e){return e?{point:e(t.point)}:t}function cD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function X_({point:t},e){return{point:t,delta:cD(t,M8(e)),offset:cD(t,ype(e)),velocity:vpe(e,.1)}}function ype(t){return t[0]}function M8(t){return t[t.length-1]}function vpe(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=M8(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Ws(e)));)r--;if(!n)return{x:0,y:0};const s=Ri(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function xpe(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?ar(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?ar(r,t,n.max):Math.min(t,r)),t}function uD(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function bpe(t,{top:e,left:r,bottom:n,right:i}){return{x:uD(t.x,r,i),y:uD(t.y,e,n)}}function dD(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function wpe(t,e){return{x:dD(t.x,e.x),y:dD(t.y,e.y)}}function _pe(t,e){let r=.5;const n=In(t),i=In(e);return i>n?r=Vp(e.min,e.max-n,t.min):n>i&&(r=Vp(t.min,t.max-i,e.min)),Go(0,1,r)}function Spe(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const gA=.35;function Epe(t=gA){return t===!1?t=0:t===!0&&(t=gA),{x:fD(t,"left","right"),y:fD(t,"top","bottom")}}function fD(t,e,r){return{min:hD(t,e),max:hD(t,r)}}function hD(t,e){return typeof t=="number"?t:t[e]||0}const Ppe=new WeakMap;class Tpe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Xm(p).point)},o=(p,m)=>{const{drag:y,dragPropagation:_,onDragStart:x}=this.getProps();if(y&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ife(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ni(T=>{let P=this.getAxisMotionValue(T).get()||0;if(Hs.test(P)){const{projection:E}=this.visualElement;if(E&&E.layout){const I=E.layout.layoutBox[T];I&&(P=In(I)*(parseFloat(P)/100))}}this.originPoint[T]=P}),x&&tr.postRender(()=>x(p,m)),pA(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m;const{dragPropagation:y,dragDirectionLock:_,onDirectionLock:x,onDrag:b}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:T}=m;if(_&&this.currentDirection===null){this.currentDirection=Ape(T),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,T),this.updateAxis("y",m.point,T),this.visualElement.render(),b&&b(p,m)},c=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m,this.stop(p,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ni(p=>{var m;return this.getAnimationState(p)==="paused"&&((m=this.getAxisMotionValue(p).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new R8(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:j8(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&tr.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Uy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=xpe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&rd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=bpe(n.layoutBox,e):this.constraints=!1,this.elastic=Epe(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ni(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Spe(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!rd(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Che(n,i.root,this.visualElement.getTransformPagePoint());let o=wpe(i.layout.layoutBox,s);if(r){const a=r(Phe(o));this.hasMutatedConstraints=!!a,a&&(o=v8(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Ni(f=>{if(!Uy(f,r,this.currentDirection))return;let p=c&&c[f]||{};o&&(p={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,_={type:"inertia",velocity:n?e[f]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,_)});return Promise.all(u).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return pA(this.visualElement,e),n.start(Dk(e,n,0,r,this.visualElement,!1))}stopAnimation(){Ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ni(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ni(r=>{const{drag:n}=this.getProps();if(!Uy(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(e[r]-ar(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!rd(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ni(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=_pe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ni(o=>{if(!Uy(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(ar(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Ppe.set(this.visualElement,this);const e=this.visualElement.current,r=vp(e,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();rd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),tr.read(n);const o=Wp(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ni(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=gA,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Uy(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Ape(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Cpe extends ml{constructor(e){super(e),this.removeGroupControls=Li,this.removeListeners=Li,this.controls=new Tpe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Li}unmount(){this.removeGroupControls(),this.removeListeners()}}const pD=t=>(e,r)=>{t&&tr.postRender(()=>t(e,r))};class Npe extends ml{constructor(){super(...arguments),this.removePointerDownListener=Li}onPointerDown(e){this.session=new R8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:j8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:pD(e),onStart:pD(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&tr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=vp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Dh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(tt.test(t))t=parseFloat(t);else return t;const r=mD(t,e.target.x),n=mD(t,e.target.y);return`${r}% ${n}%`}},kpe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=dl.parse(t);if(i.length>5)return n;const s=dl.createTransformer(t),o=typeof i[0]!="number"?1:0,a=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const u=ar(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let Q_=!1;class Ipe extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;Zfe(Ope),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Q_&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Sv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,Q_=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||tr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Pk.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;Q_=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function D8(t){const[e,r]=i8(),n=S.useContext(nk);return h.jsx(Ipe,{...t,layoutGroup:n,switchLayoutGroup:S.useContext(g8),isPresent:e,safeToRemove:r})}const Ope={borderRadius:{...Dh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dh,borderTopRightRadius:Dh,borderBottomLeftRadius:Dh,borderBottomRightRadius:Dh,boxShadow:kpe};function jpe(t,e,r){const n=Pn(t)?t:Vd(t);return n.start(Dk("",n,e,r)),n.animation}const Rpe=(t,e)=>t.depth-e.depth;class Mpe{constructor(){this.children=[],this.isDirty=!1}add(e){ok(this.children,e),this.isDirty=!0}remove(e){ak(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Rpe),this.isDirty=!1,this.children.forEach(e)}}function Dpe(t,e){const r=Hn.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(ul(n),t(s-e))};return tr.setup(n,!0),()=>ul(n)}const L8=["TopLeft","TopRight","BottomLeft","BottomRight"],Lpe=L8.length,gD=t=>typeof t=="string"?parseFloat(t):t,yD=t=>typeof t=="number"||tt.test(t);function $pe(t,e,r,n,i,s){i?(t.opacity=ar(0,r.opacity??1,Fpe(n)),t.opacityExit=ar(e.opacity??1,0,Vpe(n))):s&&(t.opacity=ar(e.opacity??1,r.opacity??1,n));for(let o=0;o<Lpe;o++){const a=`border${L8[o]}Radius`;let c=vD(e,a),u=vD(r,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||yD(c)===yD(u)?(t[a]=Math.max(ar(gD(c),gD(u),n),0),(Hs.test(u)||Hs.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||r.rotate)&&(t.rotate=ar(e.rotate||0,r.rotate||0,n))}function vD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Fpe=$8(0,.5,Ez),Vpe=$8(.5,.95,Li);function $8(t,e,r){return n=>n<t?0:n>e?1:r(Vp(t,e,n))}function xD(t,e){t.min=e.min,t.max=e.max}function Pi(t,e){xD(t.x,e.x),xD(t.y,e.y)}function bD(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wD(t,e,r,n,i){return t-=e,t=o0(t,1/r,n),i!==void 0&&(t=o0(t,1/i,n)),t}function Bpe(t,e=0,r=1,n=.5,i,s=t,o=t){if(Hs.test(e)&&(e=parseFloat(e),e=ar(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ar(s.min,s.max,n);t===s&&(a-=e),t.min=wD(t.min,e,r,a,i),t.max=wD(t.max,e,r,a,i)}function _D(t,e,[r,n,i],s,o){Bpe(t,e[r],e[n],e[i],e.scale,s,o)}const Upe=["x","scaleX","originX"],qpe=["y","scaleY","originY"];function SD(t,e,r,n){_D(t.x,e,Upe,r?r.x:void 0,n?n.x:void 0),_D(t.y,e,qpe,r?r.y:void 0,n?n.y:void 0)}function ED(t){return t.translate===0&&t.scale===1}function F8(t){return ED(t.x)&&ED(t.y)}function PD(t,e){return t.min===e.min&&t.max===e.max}function zpe(t,e){return PD(t.x,e.x)&&PD(t.y,e.y)}function TD(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function V8(t,e){return TD(t.x,e.x)&&TD(t.y,e.y)}function AD(t){return In(t.x)/In(t.y)}function CD(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Wpe{constructor(){this.members=[]}add(e){ok(this.members,e),e.scheduleRender()}remove(e){if(ak(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hpe(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:p,rotateY:m,skewX:y,skewY:_}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),m&&(n+=`rotateY(${m}deg) `),y&&(n+=`skewX(${y}deg) `),_&&(n+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(n+=`scale(${a}, ${c})`),n||"none"}const J_=["","X","Y","Z"],Gpe=1e3;let Kpe=0;function Z_(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function B8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=T8(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",tr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&B8(n)}function U8({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Kpe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Qpe),this.nodes.forEach(tme),this.nodes.forEach(rme),this.nodes.forEach(Jpe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Mpe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new uk),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=n8(o)&&!Lfe(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let f,p=0;const m=()=>this.root.updateBlockedByResize=!1;tr.read(()=>{p=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,f&&f(),f=Dpe(m,250),Sv.hasAnimatedSinceResize&&(Sv.hasAnimatedSinceResize=!1,this.nodes.forEach(ID)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||u.getDefaultTransition()||ame,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),T=!this.targetLayout||!V8(this.targetLayout,y),P=!p&&m;if(this.options.layoutRoot||this.resumeFrom||P||p&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Sk(_,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(f,P)}else p||ID(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ul(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nme),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&B8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ND);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eme),this.nodes.forEach(Ype),this.nodes.forEach(Xpe)):this.nodes.forEach(kD),this.clearAllSnapshots();const a=Hn.now();on.delta=Go(0,1e3/60,a-on.timestamp),on.timestamp=a,on.isProcessing=!0,B_.update.process(on),B_.preRender.process(on),B_.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Zpe),this.sharedNodes.forEach(ime)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!F8(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||ec(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),lme(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return gr();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(cme))){const{scroll:f}=this.root;f&&(nd(a.x,f.offset.x),nd(a.y,f.offset.y))}return a}removeElementScroll(o){var c;const a=gr();if(Pi(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Pi(a,o),nd(a.x,p.offset.x),nd(a.y,p.offset.y))}return a}applyTransform(o,a=!1){const c=gr();Pi(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&id(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ec(f.latestValues)&&id(c,f.latestValues)}return ec(this.latestValues)&&id(c,this.latestValues),c}removeTransform(o){const a=gr();Pi(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ec(u.latestValues))continue;uA(u.latestValues)&&u.updateSnapshot();const f=gr(),p=u.measurePageBox();Pi(f,p),SD(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return ec(this.latestValues)&&SD(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gr(),this.relativeTargetOrigin=gr(),bp(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gr(),this.targetWithTransforms=gr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mpe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pi(this.target,this.layout.layoutBox),b8(this.target,this.targetDelta)):Pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gr(),this.relativeTargetOrigin=gr(),bp(this.relativeTargetOrigin,this.target,y.target),Pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||uA(this.parent.latestValues)||x8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===on.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Pi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Ahe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=gr());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bD(this.prevProjectionDelta.x,this.projectionDelta.x),bD(this.prevProjectionDelta.y,this.projectionDelta.y)),xp(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!CD(this.projectionDelta.x,this.prevProjectionDelta.x)||!CD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sd(),this.projectionDelta=sd(),this.projectionDeltaWithTransform=sd()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},p=sd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=gr(),y=c?c.source:void 0,_=this.layout?this.layout.source:void 0,x=y!==_,b=this.getStack(),T=!b||b.members.length<=1,P=!!(x&&!T&&this.options.crossfade===!0&&!this.path.some(ome));this.animationProgress=0;let E;this.mixTargetDelta=I=>{const C=I/1e3;OD(p.x,o.x,C),OD(p.y,o.y,C),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bp(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sme(this.relativeTarget,this.relativeTargetOrigin,m,C),E&&zpe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=gr()),Pi(E,this.relativeTarget)),x&&(this.animationValues=f,$pe(f,u,this.latestValues,C,P,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ul(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{Sv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vd(0)),this.currentAnimation=jpe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gpe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:f}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&q8(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||gr();const p=In(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const m=In(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Pi(a,c),id(a,f),xp(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Wpe),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&Z_("z",o,u,this.animationValues);for(let f=0;f<J_.length;f++)Z_(`rotate${J_[f]}`,o,u,this.animationValues),Z_(`skew${J_[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=_v(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=_v(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ec(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let p=Hpe(this.projectionDeltaWithTransform,this.treeScale,f);c&&(p=c(f,p)),o.transform=p;const{x:m,y}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,u.animationValues?o.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in zp){if(f[_]===void 0)continue;const{correct:x,applyTo:b,isCSSVariable:T}=zp[_],P=p==="none"?f[_]:x(f[_],u);if(b){const E=b.length;for(let I=0;I<E;I++)o[b[I]]=P}else T?this.options.visualElement.renderState.vars[_]=P:o[_]=P}this.options.layoutId&&(o.pointerEvents=u===this?_v(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(ND),this.root.sharedNodes.clear()}}}function Ype(t){t.updateLayout()}function Xpe(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Ni(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=In(m);m.min=n[p].min,m.max=m.min+y}):q8(s,e.layoutBox,n)&&Ni(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=In(n[p]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const a=sd();xp(a,n,e.layoutBox);const c=sd();o?xp(c,t.applyTransform(i,!0),e.measuredBox):xp(c,n,e.layoutBox);const u=!F8(a);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const _=gr();bp(_,e.layoutBox,m.layoutBox);const x=gr();bp(x,n,y.layoutBox),V8(_,x)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=_,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Qpe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Jpe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Zpe(t){t.clearSnapshot()}function ND(t){t.clearMeasurements()}function kD(t){t.isLayoutDirty=!1}function eme(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ID(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tme(t){t.resolveTargetDelta()}function rme(t){t.calcProjection()}function nme(t){t.resetSkewAndRotation()}function ime(t){t.removeLeadSnapshot()}function OD(t,e,r){t.translate=ar(e.translate,0,r),t.scale=ar(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function jD(t,e,r,n){t.min=ar(e.min,r.min,n),t.max=ar(e.max,r.max,n)}function sme(t,e,r,n){jD(t.x,e.x,r.x,n),jD(t.y,e.y,r.y,n)}function ome(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ame={duration:.45,ease:[.4,0,.1,1]},RD=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),MD=RD("applewebkit/")&&!RD("chrome/")?Math.round:Li;function DD(t){t.min=MD(t.min),t.max=MD(t.max)}function lme(t){DD(t.x),DD(t.y)}function q8(t,e,r){return t==="position"||t==="preserve-aspect"&&!ppe(AD(e),AD(r),.2)}function cme(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ume=U8({attachResizeListener:(t,e)=>Wp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),e1={current:void 0},z8=U8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!e1.current){const t=new ume({});t.mount(window),t.setOptions({layoutScroll:!0}),e1.current=t}return e1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),dme={pan:{Feature:Npe},drag:{Feature:Cpe,ProjectionNode:z8,MeasureLayout:D8}};function LD(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&tr.postRender(()=>s(e,Xm(e)))}class fme extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=Ofe(e,(r,n)=>(LD(this.node,n,"Start"),i=>LD(this.node,i,"End"))))}unmount(){}}class hme extends ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gm(Wp(this.node.current,"focus",()=>this.onFocus()),Wp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $D(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&tr.postRender(()=>s(e,Xm(e)))}class pme extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=Dfe(e,(r,n)=>($D(this.node,n,"Start"),(i,{success:s})=>$D(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yA=new WeakMap,t1=new WeakMap,mme=t=>{const e=yA.get(t.target);e&&e(t)},gme=t=>{t.forEach(mme)};function yme({root:t,...e}){const r=t||document;t1.has(r)||t1.set(r,{});const n=t1.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(gme,{root:t,...e})),n[i]}function vme(t,e,r){const n=yme(e);return yA.set(t,r),n.observe(t),()=>{yA.delete(t),n.unobserve(t)}}const xme={some:0,all:1};class bme extends ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:xme[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),m=u?f:p;m&&m(c)};return vme(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(wme(e,r))&&this.startObserver()}unmount(){}}function wme({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const _me={inView:{Feature:bme},tap:{Feature:pme},focus:{Feature:hme},hover:{Feature:fme}},Sme={layout:{ProjectionNode:z8,MeasureLayout:D8}},Eme={...lpe,..._me,...dme,...Sme},Nt=Ehe(Eme,Lhe);function Mf({icon:t,title:e,subtitle:r,actions:n,isRTL:i=!1,className:s,iconContainerClassName:o,stackOnMobile:a=!0,showOnMobile:c=!0}){const u=a?Ee("flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",i?"sm:flex-row-reverse":""):Ee("flex flex-wrap items-center gap-4",i?"flex-row-reverse justify-start":"justify-between");return h.jsx(Nt.header,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:Ee("w-full page-header",c?"":"hidden md:block",s),children:h.jsx("div",{className:Ee("w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 flex flex-col gap-4",i?"text-right":"text-left"),style:i?{position:"relative"}:{},children:h.jsxs("div",{className:u,style:i?{flexDirection:"row-reverse",direction:"rtl",justifyContent:"space-between",alignItems:"center"}:{},children:[h.jsx("div",{className:Ee("flex items-center gap-4",i?"flex-row-reverse justify-end":"justify-start"),style:i?{justifyContent:"flex-end",direction:"rtl",order:2}:{},children:h.jsxs("div",{className:i?"text-right":"text-left",children:[h.jsx("h1",{className:`text-2xl sm:text-3xl font-bold bg-gradient-to-r from-sky-500 to-blue-600 bg-clip-text text-transparent ${i?"text-right":"text-left"}`,children:e}),r&&h.jsx("p",{className:`text-gray-600 text-sm sm:text-base mt-1 ${i?"text-right":"text-left"}`,children:r})]})}),n&&h.jsx("div",{className:Ee("flex flex-col sm:flex-row gap-3 w-full sm:w-auto items-stretch sm:items-center flex-shrink-0 actions",i?"sm:flex-row-reverse justify-end":"justify-end"),style:i?{justifyContent:"flex-start",direction:"rtl",order:1,marginLeft:0,marginRight:0,alignSelf:"flex-start"}:{},children:n})]})})})}const Qr=({size:t="default",variant:e="primary",className:r,style:n={},...i})=>{const s={sm:"w-8 h-8 sm:w-16 sm:h-16",default:"w-16 h-16 sm:w-32 sm:h-32",lg:"w-24 h-24 sm:w-48 sm:h-48 md:w-64 md:h-64"},o={primary:"primary:#66a1ee,secondary:#3080e8",secondary:"primary:#3b82f6,secondary:#dbeafe",white:"primary:#ffffff,secondary:#f8fafc",muted:"primary:#64748b,secondary:#e2e8f0"};return S.useEffect(()=>{if(!document.querySelector('script[src="https://cdn.lordicon.com/lordicon.js"]')){const a=document.createElement("script");a.src="https://cdn.lordicon.com/lordicon.js",a.async=!0,document.head.appendChild(a)}},[]),h.jsx("div",{className:Ee("relative inline-flex items-center justify-center mx-auto",s[t],r),...i,children:h.jsx("lord-icon",{src:"https://cdn.lordicon.com/vmzmljdv.json",trigger:"loop",stroke:"bold",colors:o[e],style:{width:t==="sm"?"32px":t==="lg"?"96px":"64px",height:t==="sm"?"32px":t==="lg"?"96px":"64px",...n}})})},FD={business_name:"",description:"",products_services:"",target_market:"",competitors:[],industry:"",phone:""};function vA({businessId:t,refreshBusinessData:e}){const{t:r,isRTL:n,isHebrew:i}=ur(),{user:s,loading:o}=Xc(),[a,c]=S.useState(null),[u,f]=S.useState(()=>({...FD})),[p,m]=S.useState(""),[y,_]=S.useState(!0),[x,b]=S.useState(!1),[T,P]=S.useState(0),{clearFieldError:E,validateFields:I,getFieldError:C}=Hm(),R=n?"ml-2":"mr-2",N=`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white rounded-xl shadow-lg transition-all duration-300 hover:shadow-xl ${n?"flex-row-reverse":""}`,k=()=>x?h.jsxs(h.Fragment,{children:[h.jsx(Wm,{size:"sm",variant:"white",className:R}),r("business.saving")]}):h.jsxs(h.Fragment,{children:[h.jsx(dx,{className:`w-4 h-4 ${R}`}),r(a?"business.update":"business.create")]}),M=S.useCallback(async W=>{_(!0);try{const K=Hc(Yc,"clients",W),Q=await Gc(K);if(!Q.exists()){c(null),f({...FD});return}const U=Q.data();let G=null;t?G=((U==null?void 0:U.secondary_buisness)||(U==null?void 0:U.secondary_business)||[]).find(ye=>ye.id===t||ye.businessId===t||ye.business_id===t):G=(U==null?void 0:U.businessProfile)||(U==null?void 0:U.business_profile)||U;const te=Array.isArray(G==null?void 0:G.competitors)?G.competitors:typeof(G==null?void 0:G.competitors)=="string"?G.competitors.split(",").map(ce=>ce.trim()).filter(Boolean):[],z={business_name:(G==null?void 0:G.business_name)||(G==null?void 0:G.businessName)||"",description:(G==null?void 0:G.description)||(G==null?void 0:G.businessDescription)||"",products_services:Array.isArray(G==null?void 0:G.products_services)?G.products_services.join(", "):(G==null?void 0:G.products_services)||(G==null?void 0:G.productsServices)||"",target_market:(G==null?void 0:G.target_market)||(G==null?void 0:G.targetMarket)||"",competitors:te,industry:(G==null?void 0:G.industry)||"",website:(G==null?void 0:G.website)||"",phone:(U==null?void 0:U.phone)||(U==null?void 0:U.phone_number)||(U==null?void 0:U.phoneNumber)||""},Z=z.phone||Q.id||(s==null?void 0:s.uid)||"business-profile";c({id:Z,source:"firestore",...z}),f(z)}catch(K){console.error("Error loading profile from Firestore:",K)}finally{_(!1)}},[s==null?void 0:s.uid,t]);S.useEffect(()=>{o||(s!=null&&s.uid?M(s.uid):_(!1))},[o,s==null?void 0:s.uid,M,t,T]),S.useEffect(()=>{e&&P(W=>W+1)},[e]);const $=(W,K)=>{f(Q=>({...Q,[W]:K})),E(W)},L=()=>{p.trim()&&!u.competitors.includes(p.trim())&&(f(W=>({...W,competitors:[...W.competitors,p.trim()]})),m(""),E("competitors"))},V=W=>{f(K=>({...K,competitors:K.competitors.filter(Q=>Q!==W)}))},D=async W=>{if(W.preventDefault(),!(s!=null&&s.uid))return;const K={business_name:{value:u.business_name,required:!0},description:{value:u.description,required:!0},industry:{value:u.industry,required:!0},products_services:{value:u.products_services,required:!0},target_market:{value:u.target_market,required:!0},competitors:{value:u.competitors,minLength:1}};if(I(K)){b(!0);try{const U=a?await Fi.update(a.id,u,t):await Fi.create(u,t),G=(U==null?void 0:U.businessId)||t||(a==null?void 0:a.id)||"business-profile",te=Array.isArray(u.competitors)?u.competitors:[];c(Z=>({...Z||{id:G,source:"firestore"},...U||{},...u,id:G,competitors:te})),typeof window<"u"&&G&&u.business_name&&window.dispatchEvent(new CustomEvent("business-profile-updated",{detail:{businessId:G,businessName:u.business_name}})),e&&e();const z=document.createElement("div");z.className=`fixed ${n?"left-4":"right-4"} top-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50`,z.textContent=r("business.profileSaved"),document.body.appendChild(z),setTimeout(()=>document.body.removeChild(z),3e3)}catch(U){console.error("Error saving profile:",U)}b(!1)}};if(y)return h.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-140px)] gap-4",children:[h.jsx(Qr,{size:"lg",variant:"primary"}),h.jsx("p",{className:"text-sm text-gray-500 animate-pulse"})]});const H=["p-4 sm:p-6 lg:p-8 max-w-5xl mx-auto space-y-8",n?"lg:pr-40 xl:pr-56":"business-profile-desktop-shift","laptop-spacing","laptop-lg-spacing","desktop-spacing","desktop-lg-spacing",n?"text-right":""].filter(Boolean).join(" ");return h.jsxs("div",{className:H,children:[h.jsx(Mf,{icon:h.jsx(Mn,{className:"w-8 h-8"}),title:r("business.title"),subtitle:r("business.subtitle"),isRTL:n,showOnMobile:!1,actions:h.jsx(Ie,{onClick:D,disabled:x,className:`hidden sm:inline-flex h-12 px-8 text-base font-semibold ${N}`,children:h.jsx(k,{})})}),h.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-6",children:h.jsxs(Rt,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm rounded-2xl overflow-hidden",children:[h.jsx(Ar,{className:"bg-gradient-to-r from-sky-50 to-blue-50 border-b border-sky-100",children:h.jsx(Fr,{className:`flex items-center gap-3 text-xl font-bold text-gray-800 ${n?"flex-row-reverse text-right justify-end":"justify-start"}`,children:n?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-right",children:r("business.companyInfo")}),h.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-sky-500 to-blue-600 rounded-full"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-sky-500 to-blue-600 rounded-full"}),h.jsx("span",{className:"text-left",children:r("business.companyInfo")})]})})}),h.jsx(yt,{className:"p-6",children:h.jsxs("form",{onSubmit:D,className:"space-y-8",children:[h.jsx("div",{className:"sm:hidden",children:h.jsx(Ie,{type:"submit",disabled:x,className:`w-full py-3 text-base font-semibold ${N}`,children:h.jsx(k,{})})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(Nt.div,{className:`space-y-3 ${n?"text-right":""}`,initial:{opacity:0,x:n?20:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[h.jsxs(dt,{htmlFor:"business_name",className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[h.jsx(Mn,{className:"w-4 h-4 text-sky-500"}),r("business.businessName")," *"]}),h.jsx(ln,{id:"business_name",value:u.business_name,onChange:W=>$("business_name",W.target.value),placeholder:r("placeholder.businessName"),className:`h-12 border-2 border-gray-200 focus:border-sky-500 focus:ring-4 focus:ring-sky-500/20 rounded-xl transition-all duration-300 ${n?"text-right":""} ${C("business_name")?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,dir:"auto"}),C("business_name")&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),C("business_name")]})]}),h.jsxs(Nt.div,{className:`space-y-3 ${n?"text-right":""}`,initial:{opacity:0,x:n?-20:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[h.jsxs(dt,{htmlFor:"industry",className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[h.jsx(YX,{className:"w-4 h-4 text-emerald-500"}),r("business.industry")," *"]}),h.jsx(ln,{id:"industry",value:u.industry,onChange:W=>$("industry",W.target.value),placeholder:r("placeholder.industry"),className:`h-12 border-2 border-gray-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/20 rounded-xl transition-all duration-300 ${n?"text-right":""} ${C("industry")?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,dir:"auto"}),C("industry")&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),C("industry")]})]})]}),h.jsxs(Nt.div,{className:`space-y-3 ${n?"text-right":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[h.jsxs(dt,{htmlFor:"description",className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[h.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r("business.description")," *"]}),h.jsx(Pr,{id:"description",value:u.description,onChange:W=>$("description",W.target.value),placeholder:r("placeholder.description"),rows:4,className:`border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-500/20 rounded-xl resize-none transition-all duration-300 ${n?"text-right":""} ${C("description")?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,dir:"auto"}),C("description")&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),C("description")]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(Nt.div,{className:`space-y-3 ${n?"text-right":""}`,initial:{opacity:0,x:n?20:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[h.jsxs(dt,{htmlFor:"products_services",className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[h.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r("business.productsServices")," *"]}),h.jsx(Pr,{id:"products_services",value:u.products_services,onChange:W=>$("products_services",W.target.value),placeholder:r("placeholder.productsServices"),rows:3,className:`border-2 border-gray-200 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 rounded-xl resize-none transition-all duration-300 ${n?"text-right":""} ${C("products_services")?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,dir:"auto"}),C("products_services")&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),C("products_services")]})]}),h.jsxs(Nt.div,{className:`space-y-3 ${n?"text-right":""}`,initial:{opacity:0,x:n?-20:20},animate:{opacity:1,x:0},transition:{delay:.6},children:[h.jsxs(dt,{htmlFor:"target_market",className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[h.jsx("span",{className:"w-2 h-2 bg-teal-500 rounded-full"}),r("business.targetMarket")," *"]}),h.jsx(Pr,{id:"target_market",value:u.target_market,onChange:W=>$("target_market",W.target.value),placeholder:r("placeholder.targetMarket"),rows:3,className:`border-2 border-gray-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/20 rounded-xl resize-none transition-all duration-300 ${n?"text-right":""} ${C("target_market")?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,dir:"auto"}),C("target_market")&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),C("target_market")]})]})]}),h.jsxs(Nt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[h.jsxs(dt,{className:`text-sm font-semibold text-gray-700 flex items-center gap-2 ${n?"text-right justify-end":"justify-start"}`,children:[h.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),r("business.competitors")," *"]}),h.jsxs("div",{className:`flex gap-3 ${n?"flex-row-reverse":""}`,children:[h.jsx(ln,{value:p,onChange:W=>m(W.target.value),placeholder:r("placeholder.addCompetitor"),className:`flex-1 h-12 border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 rounded-xl transition-all duration-300 ${n?"text-right":""} ${C("competitors")?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),L()),dir:"auto"}),h.jsx(Ie,{type:"button",onClick:L,className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 rounded-xl px-6 h-12 shadow-lg hover:shadow-xl transition-all duration-300",children:h.jsx(Pc,{className:"w-5 h-5"})})]}),C("competitors")&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),C("competitors")]}),u.competitors.length>0&&h.jsx("div",{className:`flex flex-wrap gap-3 ${n?"justify-end":""}`,children:u.competitors.map((W,K)=>{const Q=typeof W=="string"?W:(W==null?void 0:W.name)||"";return h.jsx(Nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:K*.1},children:h.jsxs(wn,{variant:"secondary",className:"bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 hover:from-indigo-100 hover:to-purple-100 px-4 py-2 rounded-full border border-indigo-200 shadow-sm hover:shadow-md transition-all duration-300",children:[h.jsx("span",{className:n?"ml-2":"mr-2",children:Q}),h.jsx("button",{type:"button",onClick:()=>V(W),className:`hover:text-red-500 transition-colors p-1 rounded-full hover:bg-red-50 ${n?"mr-2":"ml-2"}`,children:h.jsx(Kn,{className:"w-3 h-3"})})]})},K)})})]}),h.jsx(Nt.div,{className:"pt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:h.jsx(Ie,{type:"submit",disabled:x,className:`w-full py-4 font-bold text-lg rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 ${N}`,children:h.jsx(k,{})})})]})})]})})]})}function Pme({prompts:t=[],businessProfile:e,businessId:r}){const{t:n,isRTL:i,isHebrew:s}=ur(),o=Array.isArray(t)?t:[],a=o.reduce((m,y)=>{var x;const _=((x=y.counts)==null?void 0:x.businessNameMentions)||y.businessNameMentions||0;return m+_},0),c=o.reduce((m,y)=>{var x;const _=((x=y.counts)==null?void 0:x.competitorsMentions)||y.competitorsMentions||0;return m+_},0),u=o.length>0?(a/o.length).toFixed(1):"0",f=a+c>0?(a/(a+c)*100).toFixed(1):"0",p=[{title:n("analytics.totalMentions"),value:a,icon:fi,gradient:"from-blue-500 via-sky-500 to-blue-600",accent:"text-white",iconBg:"bg-white/20",change:n("analytics.vsLastWeek")},{title:n("analytics.mentionShare"),value:`${f}%`,icon:pQ,gradient:"from-emerald-500 via-green-500 to-teal-600",accent:"text-white",iconBg:"bg-white/20",change:n("analytics.vsCompetitors")},{title:n("analytics.avgQuery"),value:u,icon:ls,gradient:"from-purple-500 via-violet-500 to-purple-600",accent:"text-white",iconBg:"bg-white/20",change:n("analytics.mentionsPerPrompt")},{title:n("analytics.brandScore"),value:Math.min(100,Math.round(a*2.5)).toString(),icon:_X,gradient:"from-orange-500 via-amber-500 to-orange-600",accent:"text-white",iconBg:"bg-white/20",change:n("analytics.outOf100")}];return h.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:p.map((m,y)=>h.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},children:h.jsx(Rt,{className:`relative overflow-hidden bg-gradient-to-br ${m.gradient} text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-500 group`,children:h.jsx(yt,{className:"p-4 relative",children:h.jsx("div",{className:`flex items-start justify-between ${i?"flex-row-reverse":""}`,children:s?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wider",children:m.title}),h.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:m.value}),m.change&&h.jsx("p",{className:"text-xs text-white/70 mt-1",children:m.change})]}),h.jsx("div",{className:`w-10 h-10 ${m.iconBg} rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:h.jsx(m.icon,{className:`w-5 h-5 ${m.accent}`,strokeWidth:2.5})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:i?"text-right":"",children:[h.jsx("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wider",children:m.title}),h.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:m.value}),m.change&&h.jsx("p",{className:"text-xs text-white/70 mt-1",children:m.change})]}),h.jsx("div",{className:`w-10 h-10 ${m.iconBg} rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:h.jsx(m.icon,{className:`w-5 h-5 ${m.accent}`,strokeWidth:2.5})})]})})})})},y))})}function Tme({prompts:t,businessProfile:e,businessId:r}){const{t:n,isRTL:i,isHebrew:s}=ur(),a=(()=>{const f={positive:0,neutral:0,negative:0};t.forEach((m,y)=>{var x,b,T,P,E,I,C,R,N,k,M;const _=m.businessNameMentions||((x=m.counts)==null?void 0:x.businessNameMentions)||((T=(b=m[1])==null?void 0:b.counts)==null?void 0:T.businessNameMentions)||0;if(_!==0)if((E=(P=m[1])==null?void 0:P.brandAnalysis)!=null&&E.sentiment){const $=m[1].brandAnalysis.sentiment.toLowerCase();$==="positive"?f.positive+=_:$==="negative"?f.negative+=_:f.neutral+=_}else if((I=m.brandAnalysis)!=null&&I.sentiment){const $=m.brandAnalysis.sentiment.toLowerCase();$==="positive"?f.positive+=_:$==="negative"?f.negative+=_:f.neutral+=_}else if((R=(C=m[0])==null?void 0:C.brandAnalysis)!=null&&R.sentiment){const $=m[0].brandAnalysis.sentiment.toLowerCase();$==="positive"?f.positive+=_:$==="negative"?f.negative+=_:f.neutral+=_}else if((k=(N=m.responses)==null?void 0:N.brandAnalysis)!=null&&k.sentiment){const $=m.responses.brandAnalysis.sentiment.toLowerCase();$==="positive"?f.positive+=_:$==="negative"?f.negative+=_:f.neutral+=_}else(M=m.sentiment_analysis)!=null&&M.business_sentiment?f[m.sentiment_analysis.business_sentiment]+=_:m.sentiment_score!==void 0&&(m.sentiment_score>.6?f.positive+=_:m.sentiment_score<.4?f.negative+=_:f.neutral+=_)});const p=Object.values(f).reduce((m,y)=>m+y,0);return{positive:{count:f.positive,percentage:p>0?(f.positive/p*100).toFixed(1):"0.0"},neutral:{count:f.neutral,percentage:p>0?(f.neutral/p*100).toFixed(1):"0.0"},negative:{count:f.negative,percentage:p>0?(f.negative/p*100).toFixed(1):"0.0"}}})();if(a.positive.count+a.neutral.count+a.negative.count===0)return h.jsxs(Rt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(Ar,{children:h.jsx(Fr,{className:`flex items-center gap-2 ${i?"flex-row-reverse text-right":""} ${s?"justify-end":""}`,children:s?h.jsxs(h.Fragment,{children:[n("analytics.sentimentAnalysis"),h.jsx(Ql,{className:"w-5 h-5 text-green-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ql,{className:"w-5 h-5 text-green-600"}),n("analytics.sentimentAnalysis")]})})}),h.jsx(yt,{children:h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Ql,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:n("analytics.noSentimentData")||"No Sentiment Data Available"}),h.jsx("p",{className:"text-sm text-gray-600",children:n("analytics.noSentimentDataMessage")||"Sentiment analysis data will appear here after running prompts with sentiment analysis."})]})})]});const u=[{type:"positive",icon:Ql,color:"text-green-600",bgColor:"bg-green-100",label:n("analytics.positive"),data:a.positive},{type:"neutral",icon:eQ,color:"text-yellow-600",bgColor:"bg-yellow-100",label:n("analytics.neutral"),data:a.neutral},{type:"negative",icon:GX,color:"text-red-600",bgColor:"bg-red-100",label:n("analytics.negative"),data:a.negative}];return h.jsxs(Rt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(Ar,{children:h.jsx(Fr,{className:`flex items-center gap-2 ${i?"flex-row-reverse text-right":""} ${s?"justify-end":""}`,children:s?h.jsxs(h.Fragment,{children:[n("analytics.sentimentAnalysis"),h.jsx(Ql,{className:"w-5 h-5 text-green-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ql,{className:"w-5 h-5 text-green-600"}),n("analytics.sentimentAnalysis")]})})}),h.jsx(yt,{children:h.jsx("div",{className:"space-y-4",children:u.map(f=>h.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg bg-gray-50 ${i?"flex-row-reverse":""}`,children:[h.jsxs("div",{className:`flex items-center gap-3 ${i?"flex-row-reverse":""}`,children:[h.jsx("div",{className:`p-2 rounded-full ${f.bgColor}`,children:h.jsx(f.icon,{className:`w-5 h-5 ${f.color}`})}),h.jsxs("div",{className:i?"text-right":"",children:[h.jsx("p",{className:"font-medium text-gray-900",children:f.label}),h.jsxs("p",{className:"text-sm text-gray-500",children:[f.data.count," ",n("analytics.mentions")]})]})]}),h.jsxs("div",{className:`${i?"text-left":"text-right"}`,children:[h.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[f.data.percentage,"%"]}),h.jsx("div",{className:`w-16 h-2 bg-gray-200 rounded-full mt-1 ${i?"mr-auto":"ml-auto"}`,children:h.jsx("div",{className:`h-full rounded-full ${f.type==="positive"?"bg-green-500":f.type==="neutral"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.max(parseFloat(f.data.percentage)||0,0)}%`,minWidth:parseFloat(f.data.percentage)>0?"4px":"0px"}})})]})]},f.type))})})]})}var r1,VD;function Yn(){if(VD)return r1;VD=1;var t=Array.isArray;return r1=t,r1}var n1,BD;function W8(){if(BD)return n1;BD=1;var t=typeof xy=="object"&&xy&&xy.Object===Object&&xy;return n1=t,n1}var i1,UD;function io(){if(UD)return i1;UD=1;var t=W8(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return i1=r,i1}var s1,qD;function Qm(){if(qD)return s1;qD=1;var t=io(),e=t.Symbol;return s1=e,s1}var o1,zD;function Ame(){if(zD)return o1;zD=1;var t=Qm(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=r.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var f=n.call(o);return u&&(a?o[i]=c:delete o[i]),f}return o1=s,o1}var a1,WD;function Cme(){if(WD)return a1;WD=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return a1=r,a1}var l1,HD;function ea(){if(HD)return l1;HD=1;var t=Qm(),e=Ame(),r=Cme(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:n:s&&s in Object(a)?e(a):r(a)}return l1=o,l1}var c1,GD;function ta(){if(GD)return c1;GD=1;function t(e){return e!=null&&typeof e=="object"}return c1=t,c1}var u1,KD;function Df(){if(KD)return u1;KD=1;var t=ea(),e=ta(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return u1=n,u1}var d1,YD;function Lk(){if(YD)return d1;YD=1;var t=Yn(),e=Df(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return d1=i,d1}var f1,XD;function gl(){if(XD)return f1;XD=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return f1=t,f1}var h1,QD;function $k(){if(QD)return h1;QD=1;var t=ea(),e=gl(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var c=t(a);return c==n||c==i||c==r||c==s}return h1=o,h1}var p1,JD;function Nme(){if(JD)return p1;JD=1;var t=io(),e=t["__core-js_shared__"];return p1=e,p1}var m1,ZD;function kme(){if(ZD)return m1;ZD=1;var t=Nme(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return m1=r,m1}var g1,eL;function H8(){if(eL)return g1;eL=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return g1=r,g1}var y1,tL;function Ime(){if(tL)return y1;tL=1;var t=$k(),e=kme(),r=gl(),n=H8(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,c=o.toString,u=a.hasOwnProperty,f=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!r(m)||e(m))return!1;var y=t(m)?f:s;return y.test(n(m))}return y1=p,y1}var v1,rL;function Ome(){if(rL)return v1;rL=1;function t(e,r){return e==null?void 0:e[r]}return v1=t,v1}var x1,nL;function Qc(){if(nL)return x1;nL=1;var t=Ime(),e=Ome();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return x1=r,x1}var b1,iL;function rb(){if(iL)return b1;iL=1;var t=Qc(),e=t(Object,"create");return b1=e,b1}var w1,sL;function jme(){if(sL)return w1;sL=1;var t=rb();function e(){this.__data__=t?t(null):{},this.size=0}return w1=e,w1}var _1,oL;function Rme(){if(oL)return _1;oL=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return _1=t,_1}var S1,aL;function Mme(){if(aL)return S1;aL=1;var t=rb(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return n.call(o,s)?o[s]:void 0}return S1=i,S1}var E1,lL;function Dme(){if(lL)return E1;lL=1;var t=rb(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return E1=n,E1}var P1,cL;function Lme(){if(cL)return P1;cL=1;var t=rb(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return P1=r,P1}var T1,uL;function $me(){if(uL)return T1;uL=1;var t=jme(),e=Rme(),r=Mme(),n=Dme(),i=Lme();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,T1=s,T1}var A1,dL;function Fme(){if(dL)return A1;dL=1;function t(){this.__data__=[],this.size=0}return A1=t,A1}var C1,fL;function Fk(){if(fL)return C1;fL=1;function t(e,r){return e===r||e!==e&&r!==r}return C1=t,C1}var N1,hL;function nb(){if(hL)return N1;hL=1;var t=Fk();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return N1=e,N1}var k1,pL;function Vme(){if(pL)return k1;pL=1;var t=nb(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():r.call(s,o,1),--this.size,!0}return k1=n,k1}var I1,mL;function Bme(){if(mL)return I1;mL=1;var t=nb();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return I1=e,I1}var O1,gL;function Ume(){if(gL)return O1;gL=1;var t=nb();function e(r){return t(this.__data__,r)>-1}return O1=e,O1}var j1,yL;function qme(){if(yL)return j1;yL=1;var t=nb();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return j1=e,j1}var R1,vL;function ib(){if(vL)return R1;vL=1;var t=Fme(),e=Vme(),r=Bme(),n=Ume(),i=qme();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,R1=s,R1}var M1,xL;function Vk(){if(xL)return M1;xL=1;var t=Qc(),e=io(),r=t(e,"Map");return M1=r,M1}var D1,bL;function zme(){if(bL)return D1;bL=1;var t=$me(),e=ib(),r=Vk();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return D1=n,D1}var L1,wL;function Wme(){if(wL)return L1;wL=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return L1=t,L1}var $1,_L;function sb(){if(_L)return $1;_L=1;var t=Wme();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return $1=e,$1}var F1,SL;function Hme(){if(SL)return F1;SL=1;var t=sb();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return F1=e,F1}var V1,EL;function Gme(){if(EL)return V1;EL=1;var t=sb();function e(r){return t(this,r).get(r)}return V1=e,V1}var B1,PL;function Kme(){if(PL)return B1;PL=1;var t=sb();function e(r){return t(this,r).has(r)}return B1=e,B1}var U1,TL;function Yme(){if(TL)return U1;TL=1;var t=sb();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return U1=e,U1}var q1,AL;function Bk(){if(AL)return q1;AL=1;var t=zme(),e=Hme(),r=Gme(),n=Kme(),i=Yme();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,q1=s,q1}var z1,CL;function G8(){if(CL)return z1;CL=1;var t=Bk(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],c=s.cache;if(c.has(a))return c.get(a);var u=n.apply(this,o);return s.cache=c.set(a,u)||c,u};return s.cache=new(r.Cache||t),s}return r.Cache=t,z1=r,z1}var W1,NL;function Xme(){if(NL)return W1;NL=1;var t=G8(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return W1=r,W1}var H1,kL;function Qme(){if(kL)return H1;kL=1;var t=Xme(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,a,c,u){s.push(c?u.replace(r,"$1"):a||o)}),s});return H1=n,H1}var G1,IL;function Uk(){if(IL)return G1;IL=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return G1=t,G1}var K1,OL;function Jme(){if(OL)return K1;OL=1;var t=Qm(),e=Uk(),r=Yn(),n=Df(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(r(a))return e(a,o)+"";if(n(a))return s?s.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}return K1=o,K1}var Y1,jL;function K8(){if(jL)return Y1;jL=1;var t=Jme();function e(r){return r==null?"":t(r)}return Y1=e,Y1}var X1,RL;function Y8(){if(RL)return X1;RL=1;var t=Yn(),e=Lk(),r=Qme(),n=K8();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return X1=i,X1}var Q1,ML;function ob(){if(ML)return Q1;ML=1;var t=Df();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Q1=e,Q1}var J1,DL;function qk(){if(DL)return J1;DL=1;var t=Y8(),e=ob();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return J1=r,J1}var Z1,LL;function X8(){if(LL)return Z1;LL=1;var t=qk();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return Z1=e,Z1}var Zme=X8();const mi=Mt(Zme);var eS,$L;function ege(){if($L)return eS;$L=1;function t(e){return e==null}return eS=t,eS}var tge=ege();const ot=Mt(tge);var tS,FL;function rge(){if(FL)return tS;FL=1;var t=ea(),e=Yn(),r=ta(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return tS=i,tS}var nge=rge();const $c=Mt(nge);var ige=$k();const nt=Mt(ige);var sge=gl();const Lf=Mt(sge);var rS={exports:{}},Lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VL;function oge(){if(VL)return Lt;VL=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function x(b){if(typeof b=="object"&&b!==null){var T=b.$$typeof;switch(T){case t:switch(b=b.type,b){case r:case i:case n:case u:case f:return b;default:switch(b=b&&b.$$typeof,b){case a:case o:case c:case m:case p:case s:return b;default:return T}}case e:return T}}}return Lt.ContextConsumer=o,Lt.ContextProvider=s,Lt.Element=t,Lt.ForwardRef=c,Lt.Fragment=r,Lt.Lazy=m,Lt.Memo=p,Lt.Portal=e,Lt.Profiler=i,Lt.StrictMode=n,Lt.Suspense=u,Lt.SuspenseList=f,Lt.isAsyncMode=function(){return!1},Lt.isConcurrentMode=function(){return!1},Lt.isContextConsumer=function(b){return x(b)===o},Lt.isContextProvider=function(b){return x(b)===s},Lt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},Lt.isForwardRef=function(b){return x(b)===c},Lt.isFragment=function(b){return x(b)===r},Lt.isLazy=function(b){return x(b)===m},Lt.isMemo=function(b){return x(b)===p},Lt.isPortal=function(b){return x(b)===e},Lt.isProfiler=function(b){return x(b)===i},Lt.isStrictMode=function(b){return x(b)===n},Lt.isSuspense=function(b){return x(b)===u},Lt.isSuspenseList=function(b){return x(b)===f},Lt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===u||b===f||b===y||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===p||b.$$typeof===s||b.$$typeof===o||b.$$typeof===c||b.$$typeof===_||b.getModuleId!==void 0)},Lt.typeOf=x,Lt}var BL;function age(){return BL||(BL=1,rS.exports=oge()),rS.exports}var lge=age(),nS,UL;function Q8(){if(UL)return nS;UL=1;var t=ea(),e=ta(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return nS=n,nS}var iS,qL;function cge(){if(qL)return iS;qL=1;var t=Q8();function e(r){return t(r)&&r!=+r}return iS=e,iS}var uge=cge();const Jm=Mt(uge);var dge=Q8();const fge=Mt(dge);var On=function(e){return e===0?0:e>0?1:-1},fc=function(e){return $c(e)&&e.indexOf("%")===e.length-1},Pe=function(e){return fge(e)&&!Jm(e)},hge=function(e){return ot(e)},Lr=function(e){return Pe(e)||$c(e)},pge=0,$f=function(e){var r=++pge;return"".concat(e||"").concat(r)},jn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&!$c(e))return n;var s;if(fc(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Jm(s)&&(s=n),i&&s>r&&(s=r),s},La=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},mge=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},di=function(e,r){return Pe(e)&&Pe(r)?function(n){return e+n*(r-e)}:function(){return r}};function a0(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):mi(n,e))===r})}var gge=function(e,r){return Pe(e)&&Pe(r)?e-r:$c(e)&&$c(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function bd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function xA(t){"@babel/helpers - typeof";return xA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xA(t)}var yge=["viewBox","children"],vge=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zL=["points","pathLength"],sS={svg:yge,polygon:zL,polyline:zL},zk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],l0=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),!Lf(n))return null;var i={};return Object.keys(n).forEach(function(s){zk.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},xge=function(e,r,n){return function(i){return e(r,n,i),null}},Fc=function(e,r,n){if(!Lf(e)||xA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];zk.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=xge(o,r,n))}),i},bge=["children"],wge=["children"];function WL(t,e){if(t==null)return{};var r=_ge(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bA(t){"@babel/helpers - typeof";return bA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bA(t)}var HL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},$o=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},GL=null,oS=null,Wk=function t(e){if(e===GL&&Array.isArray(oS))return oS;var r=[];return S.Children.forEach(e,function(n){ot(n)||(lge.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),oS=r,GL=e,r};function gi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return $o(i)}):n=[$o(e)],Wk(t).forEach(function(i){var s=mi(i,"type.displayName")||mi(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ci(t,e){var r=gi(t,e);return r&&r[0]}var KL=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Pe(n)||n<=0||!Pe(i)||i<=0)},Sge=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ege=function(e){return e&&e.type&&$c(e.type)&&Sge.indexOf(e.type)>=0},Pge=function(e){return e&&bA(e)==="object"&&"clipDot"in e},Tge=function(e,r,n,i){var s,o=(s=sS==null?void 0:sS[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!nt(e)&&(i&&o.includes(r)||vge.includes(r))||n&&zk.includes(r)},Je=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!Lf(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;Tge((a=i)===null||a===void 0?void 0:a[o],o,r,n)&&(s[o]=i[o])}),s},wA=function t(e,r){if(e===r)return!0;var n=S.Children.count(e);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return YL(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!YL(s,o))return!1}return!0},YL=function(e,r){if(ot(e)&&ot(r))return!0;if(!ot(e)&&!ot(r)){var n=e.props||{},i=n.children,s=WL(n,bge),o=r.props||{},a=o.children,c=WL(o,wge);return i&&a?bd(s,c)&&wA(i,a):!i&&!a?bd(s,c):!1}return!1},XL=function(e,r){var n=[],i={};return Wk(e).forEach(function(s,o){if(Ege(s))n.push(s);else if(s){var a=$o(s.type),c=r[a]||{},u=c.handler,f=c.once;if(u&&(!f||!i[a])){var p=u(s,a,o);n.push(p),i[a]=!0}}}),n},Age=function(e){var r=e&&e.type;return r&&HL[r]?HL[r]:null},Cge=function(e,r){return Wk(r).indexOf(e)},Nge=["children","width","height","viewBox","className","style","title","desc"];function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_A.apply(this,arguments)}function kge(t,e){if(t==null)return{};var r=Ige(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ige(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SA(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,c=t.desc,u=kge(t,Nge),f=i||{width:r,height:n,x:0,y:0},p=lt("recharts-surface",s);return X.createElement("svg",_A({},Je(u,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),X.createElement("title",null,a),X.createElement("desc",null,c),e)}var Oge=["children","className"];function EA(){return EA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EA.apply(this,arguments)}function jge(t,e){if(t==null)return{};var r=Rge(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kt=X.forwardRef(function(t,e){var r=t.children,n=t.className,i=jge(t,Oge),s=lt("recharts-layer",n);return X.createElement("g",EA({className:s},Je(i,!0),{ref:e}),r)}),us=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},aS,QL;function Mge(){if(QL)return aS;QL=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return aS=t,aS}var lS,JL;function Dge(){if(JL)return lS;JL=1;var t=Mge();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return lS=e,lS}var cS,ZL;function J8(){if(ZL)return cS;ZL=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+t+i+s+"]");function c(u){return a.test(u)}return cS=c,cS}var uS,e$;function Lge(){if(e$)return uS;e$=1;function t(e){return e.split("")}return uS=t,uS}var dS,t$;function $ge(){if(t$)return dS;t$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",a="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+c+")",f="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",_=u+"?",x="["+s+"]?",b="(?:"+y+"(?:"+[f,p,m].join("|")+")"+x+_+")*",T=x+_+b,P="(?:"+[f+a+"?",a,p,m,o].join("|")+")",E=RegExp(c+"(?="+c+")|"+P+T,"g");function I(C){return C.match(E)||[]}return dS=I,dS}var fS,r$;function Fge(){if(r$)return fS;r$=1;var t=Lge(),e=J8(),r=$ge();function n(i){return e(i)?r(i):t(i)}return fS=n,fS}var hS,n$;function Vge(){if(n$)return hS;n$=1;var t=Dge(),e=J8(),r=Fge(),n=K8();function i(s){return function(o){o=n(o);var a=e(o)?r(o):void 0,c=a?a[0]:o.charAt(0),u=a?t(a,1).join(""):o.slice(1);return c[s]()+u}}return hS=i,hS}var pS,i$;function Bge(){if(i$)return pS;i$=1;var t=Vge(),e=t("toUpperCase");return pS=e,pS}var Uge=Bge();const ab=Mt(Uge);function Gt(t){return function(){return t}}const Z8=Math.cos,c0=Math.sin,vs=Math.sqrt,u0=Math.PI,lb=2*u0,PA=Math.PI,TA=2*PA,tc=1e-6,qge=TA-tc;function eW(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function zge(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return eW;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Wge{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?eW:zge(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,c=n-e,u=i-r,f=o-e,p=a-r,m=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>tc)if(!(Math.abs(p*c-u*f)>tc)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-o,_=i-a,x=c*c+u*u,b=y*y+_*_,T=Math.sqrt(x),P=Math.sqrt(m),E=s*Math.tan((PA-Math.acos((x+m-b)/(2*T*P)))/2),I=E/P,C=E/T;Math.abs(I-1)>tc&&this._append`L${e+I*f},${r+I*p}`,this._append`A${s},${s},0,0,${+(p*y>f*_)},${this._x1=e+C*c},${this._y1=r+C*u}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),c=n*Math.sin(i),u=e+a,f=r+c,p=1^o,m=o?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>tc||Math.abs(this._y1-f)>tc)&&this._append`L${u},${f}`,n&&(m<0&&(m=m%TA+TA),m>qge?this._append`A${n},${n},0,1,${p},${e-a},${r-c}A${n},${n},0,1,${p},${this._x1=u},${this._y1=f}`:m>tc&&this._append`A${n},${n},0,${+(m>=PA)},${p},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Hk(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Wge(e)}function Gk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function tW(t){this._context=t}tW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cb(t){return new tW(t)}function rW(t){return t[0]}function nW(t){return t[1]}function iW(t,e){var r=Gt(!0),n=null,i=cb,s=null,o=Hk(a);t=typeof t=="function"?t:t===void 0?rW:Gt(t),e=typeof e=="function"?e:e===void 0?nW:Gt(e);function a(c){var u,f=(c=Gk(c)).length,p,m=!1,y;for(n==null&&(s=i(y=o())),u=0;u<=f;++u)!(u<f&&r(p=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(p,u,c),+e(p,u,c));if(y)return s=null,y+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:Gt(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:Gt(+c),a):e},a.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Gt(!!c),a):r},a.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),a):i},a.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),a):n},a}function qy(t,e,r){var n=null,i=Gt(!0),s=null,o=cb,a=null,c=Hk(u);t=typeof t=="function"?t:t===void 0?rW:Gt(+t),e=typeof e=="function"?e:Gt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?nW:Gt(+r);function u(p){var m,y,_,x=(p=Gk(p)).length,b,T=!1,P,E=new Array(x),I=new Array(x);for(s==null&&(a=o(P=c())),m=0;m<=x;++m){if(!(m<x&&i(b=p[m],m,p))===T)if(T=!T)y=m,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),_=m-1;_>=y;--_)a.point(E[_],I[_]);a.lineEnd(),a.areaEnd()}T&&(E[m]=+t(b,m,p),I[m]=+e(b,m,p),a.point(n?+n(b,m,p):E[m],r?+r(b,m,p):I[m]))}if(P)return a=null,P+""||null}function f(){return iW().defined(i).curve(o).context(s)}return u.x=function(p){return arguments.length?(t=typeof p=="function"?p:Gt(+p),n=null,u):t},u.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Gt(+p),u):t},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Gt(+p),u):n},u.y=function(p){return arguments.length?(e=typeof p=="function"?p:Gt(+p),r=null,u):e},u.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Gt(+p),u):e},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Gt(+p),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Gt(!!p),u):i},u.curve=function(p){return arguments.length?(o=p,s!=null&&(a=o(s)),u):o},u.context=function(p){return arguments.length?(p==null?s=a=null:a=o(s=p),u):s},u}class sW{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Hge(t){return new sW(t,!0)}function Gge(t){return new sW(t,!1)}const Kk={draw(t,e){const r=vs(e/u0);t.moveTo(r,0),t.arc(0,0,r,0,lb)}},Kge={draw(t,e){const r=vs(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},oW=vs(1/3),Yge=oW*2,Xge={draw(t,e){const r=vs(e/Yge),n=r*oW;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Qge={draw(t,e){const r=vs(e),n=-r/2;t.rect(n,n,r,r)}},Jge=.8908130915292852,aW=c0(u0/10)/c0(7*u0/10),Zge=c0(lb/10)*aW,eye=-Z8(lb/10)*aW,tye={draw(t,e){const r=vs(e*Jge),n=Zge*r,i=eye*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=lb*s/5,a=Z8(o),c=c0(o);t.lineTo(c*r,-a*r),t.lineTo(a*n-c*i,c*n+a*i)}t.closePath()}},mS=vs(3),rye={draw(t,e){const r=-vs(e/(mS*3));t.moveTo(0,r*2),t.lineTo(-mS*r,-r),t.lineTo(mS*r,-r),t.closePath()}},Ti=-.5,Ai=vs(3)/2,AA=1/vs(12),nye=(AA/2+1)*3,iye={draw(t,e){const r=vs(e/nye),n=r/2,i=r*AA,s=n,o=r*AA+r,a=-s,c=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(a,c),t.lineTo(Ti*n-Ai*i,Ai*n+Ti*i),t.lineTo(Ti*s-Ai*o,Ai*s+Ti*o),t.lineTo(Ti*a-Ai*c,Ai*a+Ti*c),t.lineTo(Ti*n+Ai*i,Ti*i-Ai*n),t.lineTo(Ti*s+Ai*o,Ti*o-Ai*s),t.lineTo(Ti*a+Ai*c,Ti*c-Ai*a),t.closePath()}};function sye(t,e){let r=null,n=Hk(i);t=typeof t=="function"?t:Gt(t||Kk),e=typeof e=="function"?e:Gt(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Gt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Gt(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function d0(){}function f0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function lW(t){this._context=t}lW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:f0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:f0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oye(t){return new lW(t)}function cW(t){this._context=t}cW.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:f0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aye(t){return new cW(t)}function uW(t){this._context=t}uW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:f0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lye(t){return new uW(t)}function dW(t){this._context=t}dW.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cye(t){return new dW(t)}function s$(t){return t<0?-1:1}function o$(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),a=(s*i+o*n)/(n+i);return(s$(s)+s$(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function a$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function gS(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-n)/3;t._context.bezierCurveTo(n+a,i+a*e,s-a,o-a*r,s,o)}function h0(t){this._context=t}h0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gS(this,this._t0,a$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,gS(this,a$(this,r=o$(this,t,e)),r);break;default:gS(this,this._t0,r=o$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function fW(t){this._context=new hW(t)}(fW.prototype=Object.create(h0.prototype)).point=function(t,e){h0.prototype.point.call(this,e,t)};function hW(t){this._context=t}hW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function uye(t){return new h0(t)}function dye(t){return new fW(t)}function pW(t){this._context=t}pW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=l$(t),i=l$(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function l$(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function fye(t){return new pW(t)}function ub(t,e){this._context=t,this._t=e}ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function hye(t){return new ub(t,.5)}function pye(t){return new ub(t,0)}function mye(t){return new ub(t,1)}function Ud(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,a=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function CA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function gye(t,e){return t[e]}function yye(t){const e=[];return e.key=t,e}function vye(){var t=Gt([]),e=CA,r=Ud,n=gye;function i(s){var o=Array.from(t.apply(this,arguments),yye),a,c=o.length,u=-1,f;for(const p of s)for(a=0,++u;a<c;++a)(o[a][u]=[0,+n(p,o[a].key,u,s)]).data=p;for(a=0,f=Gk(e(o));a<c;++a)o[f[a]].index=a;return r(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Gt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Gt(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?CA:typeof s=="function"?s:Gt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??Ud,i):r},i}function xye(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Ud(t,e)}}function bye(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,a=0;o<i;++o)a+=t[o][r][1]||0;n[r][1]+=n[r][0]=-a/2}Ud(t,e)}}function wye(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var a=0,c=0,u=0;a<o;++a){for(var f=t[e[a]],p=f[n][1]||0,m=f[n-1][1]||0,y=(p-m)/2,_=0;_<a;++_){var x=t[e[_]],b=x[n][1]||0,T=x[n-1][1]||0;y+=b-T}c+=p,u+=y*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Ud(t,e)}}function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}var _ye=["type","size","sizeType"];function NA(){return NA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NA.apply(this,arguments)}function c$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function u$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(r),!0).forEach(function(n){Sye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sye(t,e,r){return e=Eye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eye(t){var e=Pye(t,"string");return Hp(e)=="symbol"?e:e+""}function Pye(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tye(t,e){if(t==null)return{};var r=Aye(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mW={symbolCircle:Kk,symbolCross:Kge,symbolDiamond:Xge,symbolSquare:Qge,symbolStar:tye,symbolTriangle:rye,symbolWye:iye},Cye=Math.PI/180,Nye=function(e){var r="symbol".concat(ab(e));return mW[r]||Kk},kye=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Cye;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Iye=function(e,r){mW["symbol".concat(ab(e))]=r},Yk=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,c=Tye(e,_ye),u=u$(u$({},c),{},{type:n,size:s,sizeType:a}),f=function(){var b=Nye(n),T=sye().type(b).size(kye(s,a,n));return T()},p=u.className,m=u.cx,y=u.cy,_=Je(u,!0);return m===+m&&y===+y&&s===+s?X.createElement("path",NA({},_,{className:lt("recharts-symbols",p),transform:"translate(".concat(m,", ").concat(y,")"),d:f()})):null};Yk.registerSymbol=Iye;function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function kA(){return kA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kA.apply(this,arguments)}function d$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(r),!0).forEach(function(n){Gp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yW(n.key),n)}}function Mye(t,e,r){return e&&Rye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dye(t,e,r){return e=p0(e),Lye(t,gW()?Reflect.construct(e,r||[],p0(t).constructor):e.apply(t,r))}function Lye(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ye(t)}function $ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gW=function(){return!!t})()}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p0(t)}function Fye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}function IA(t,e){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IA(t,e)}function Gp(t,e,r){return e=yW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yW(t){var e=Vye(t,"string");return qd(e)=="symbol"?e:e+""}function Vye(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ci=32,Xk=(function(t){function e(){return jye(this,e),Dye(this,e,arguments)}return Fye(e,t),Mye(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Ci/2,o=Ci/6,a=Ci/3,c=n.inactive?i:n.color;if(n.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ci,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(Ci,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return X.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ci/8,"h").concat(Ci,"v").concat(Ci*3/4,"h").concat(-Ci,"z"),className:"recharts-legend-icon"});if(X.isValidElement(n.legendIcon)){var u=Oye({},n);return delete u.legendIcon,X.cloneElement(n.legendIcon,u)}return X.createElement(Yk,{fill:c,cx:s,cy:s,size:Ci,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Ci,height:Ci},p={display:a==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(y,_){var x=y.formatter||c,b=lt(Gp(Gp({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",y.inactive));if(y.type==="none")return null;var T=nt(y.value)?null:y.value;us(!nt(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var P=y.inactive?u:y.color;return X.createElement("li",kA({className:b,style:p,key:"legend-item-".concat(_)},Fc(n.props,y,_)),X.createElement(SA,{width:o,height:o,viewBox:f,style:m},n.renderIcon(y)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:P}},x?x(T,y,_):T))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])})(S.PureComponent);Gp(Xk,"displayName","Legend");Gp(Xk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yS,f$;function Bye(){if(f$)return yS;f$=1;var t=ib();function e(){this.__data__=new t,this.size=0}return yS=e,yS}var vS,h$;function Uye(){if(h$)return vS;h$=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return vS=t,vS}var xS,p$;function qye(){if(p$)return xS;p$=1;function t(e){return this.__data__.get(e)}return xS=t,xS}var bS,m$;function zye(){if(m$)return bS;m$=1;function t(e){return this.__data__.has(e)}return bS=t,bS}var wS,g$;function Wye(){if(g$)return wS;g$=1;var t=ib(),e=Vk(),r=Bk(),n=200;function i(s,o){var a=this.__data__;if(a instanceof t){var c=a.__data__;if(!e||c.length<n-1)return c.push([s,o]),this.size=++a.size,this;a=this.__data__=new r(c)}return a.set(s,o),this.size=a.size,this}return wS=i,wS}var _S,y$;function vW(){if(y$)return _S;y$=1;var t=ib(),e=Bye(),r=Uye(),n=qye(),i=zye(),s=Wye();function o(a){var c=this.__data__=new t(a);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,_S=o,_S}var SS,v$;function Hye(){if(v$)return SS;v$=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return SS=e,SS}var ES,x$;function Gye(){if(x$)return ES;x$=1;function t(e){return this.__data__.has(e)}return ES=t,ES}var PS,b$;function xW(){if(b$)return PS;b$=1;var t=Bk(),e=Hye(),r=Gye();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,PS=n,PS}var TS,w$;function bW(){if(w$)return TS;w$=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return TS=t,TS}var AS,_$;function wW(){if(_$)return AS;_$=1;function t(e,r){return e.has(r)}return AS=t,AS}var CS,S$;function _W(){if(S$)return CS;S$=1;var t=xW(),e=bW(),r=wW(),n=1,i=2;function s(o,a,c,u,f,p){var m=c&n,y=o.length,_=a.length;if(y!=_&&!(m&&_>y))return!1;var x=p.get(o),b=p.get(a);if(x&&b)return x==a&&b==o;var T=-1,P=!0,E=c&i?new t:void 0;for(p.set(o,a),p.set(a,o);++T<y;){var I=o[T],C=a[T];if(u)var R=m?u(C,I,T,a,o,p):u(I,C,T,o,a,p);if(R!==void 0){if(R)continue;P=!1;break}if(E){if(!e(a,function(N,k){if(!r(E,k)&&(I===N||f(I,N,c,u,p)))return E.push(k)})){P=!1;break}}else if(!(I===C||f(I,C,c,u,p))){P=!1;break}}return p.delete(o),p.delete(a),P}return CS=s,CS}var NS,E$;function Kye(){if(E$)return NS;E$=1;var t=io(),e=t.Uint8Array;return NS=e,NS}var kS,P$;function Yye(){if(P$)return kS;P$=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return kS=t,kS}var IS,T$;function Qk(){if(T$)return IS;T$=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return IS=t,IS}var OS,A$;function Xye(){if(A$)return OS;A$=1;var t=Qm(),e=Kye(),r=Fk(),n=_W(),i=Yye(),s=Qk(),o=1,a=2,c="[object Boolean]",u="[object Date]",f="[object Error]",p="[object Map]",m="[object Number]",y="[object RegExp]",_="[object Set]",x="[object String]",b="[object Symbol]",T="[object ArrayBuffer]",P="[object DataView]",E=t?t.prototype:void 0,I=E?E.valueOf:void 0;function C(R,N,k,M,$,L,V){switch(k){case P:if(R.byteLength!=N.byteLength||R.byteOffset!=N.byteOffset)return!1;R=R.buffer,N=N.buffer;case T:return!(R.byteLength!=N.byteLength||!L(new e(R),new e(N)));case c:case u:case m:return r(+R,+N);case f:return R.name==N.name&&R.message==N.message;case y:case x:return R==N+"";case p:var D=i;case _:var H=M&o;if(D||(D=s),R.size!=N.size&&!H)return!1;var W=V.get(R);if(W)return W==N;M|=a,V.set(R,N);var K=n(D(R),D(N),M,$,L,V);return V.delete(R),K;case b:if(I)return I.call(R)==I.call(N)}return!1}return OS=C,OS}var jS,C$;function SW(){if(C$)return jS;C$=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return jS=t,jS}var RS,N$;function Qye(){if(N$)return RS;N$=1;var t=SW(),e=Yn();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return RS=r,RS}var MS,k$;function Jye(){if(k$)return MS;k$=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var a=e[n];r(a,n,e)&&(o[s++]=a)}return o}return MS=t,MS}var DS,I$;function Zye(){if(I$)return DS;I$=1;function t(){return[]}return DS=t,DS}var LS,O$;function eve(){if(O$)return LS;O$=1;var t=Jye(),e=Zye(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return n.call(o,a)}))}:e;return LS=s,LS}var $S,j$;function tve(){if(j$)return $S;j$=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return $S=t,$S}var FS,R$;function rve(){if(R$)return FS;R$=1;var t=ea(),e=ta(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return FS=n,FS}var VS,M$;function Jk(){if(M$)return VS;M$=1;var t=rve(),e=ta(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return VS=s,VS}var np={exports:{}},BS,D$;function nve(){if(D$)return BS;D$=1;function t(){return!1}return BS=t,BS}np.exports;var L$;function EW(){return L$||(L$=1,(function(t,e){var r=io(),n=nve(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?r.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||n;t.exports=u})(np,np.exports)),np.exports}var US,$$;function Zk(){if($$)return US;$$=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return US=r,US}var qS,F$;function eI(){if(F$)return qS;F$=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return qS=e,qS}var zS,V$;function ive(){if(V$)return zS;V$=1;var t=ea(),e=eI(),r=ta(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",p="[object Object]",m="[object RegExp]",y="[object Set]",_="[object String]",x="[object WeakMap]",b="[object ArrayBuffer]",T="[object DataView]",P="[object Float32Array]",E="[object Float64Array]",I="[object Int8Array]",C="[object Int16Array]",R="[object Int32Array]",N="[object Uint8Array]",k="[object Uint8ClampedArray]",M="[object Uint16Array]",$="[object Uint32Array]",L={};L[P]=L[E]=L[I]=L[C]=L[R]=L[N]=L[k]=L[M]=L[$]=!0,L[n]=L[i]=L[b]=L[s]=L[T]=L[o]=L[a]=L[c]=L[u]=L[f]=L[p]=L[m]=L[y]=L[_]=L[x]=!1;function V(D){return r(D)&&e(D.length)&&!!L[t(D)]}return zS=V,zS}var WS,B$;function PW(){if(B$)return WS;B$=1;function t(e){return function(r){return e(r)}}return WS=t,WS}var ip={exports:{}};ip.exports;var U$;function sve(){return U$||(U$=1,(function(t,e){var r=W8(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,a=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=a})(ip,ip.exports)),ip.exports}var HS,q$;function TW(){if(q$)return HS;q$=1;var t=ive(),e=PW(),r=sve(),n=r&&r.isTypedArray,i=n?e(n):t;return HS=i,HS}var GS,z$;function ove(){if(z$)return GS;z$=1;var t=tve(),e=Jk(),r=Yn(),n=EW(),i=Zk(),s=TW(),o=Object.prototype,a=o.hasOwnProperty;function c(u,f){var p=r(u),m=!p&&e(u),y=!p&&!m&&n(u),_=!p&&!m&&!y&&s(u),x=p||m||y||_,b=x?t(u.length,String):[],T=b.length;for(var P in u)(f||a.call(u,P))&&!(x&&(P=="length"||y&&(P=="offset"||P=="parent")||_&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||i(P,T)))&&b.push(P);return b}return GS=c,GS}var KS,W$;function ave(){if(W$)return KS;W$=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return KS=e,KS}var YS,H$;function AW(){if(H$)return YS;H$=1;function t(e,r){return function(n){return e(r(n))}}return YS=t,YS}var XS,G$;function lve(){if(G$)return XS;G$=1;var t=AW(),e=t(Object.keys,Object);return XS=e,XS}var QS,K$;function cve(){if(K$)return QS;K$=1;var t=ave(),e=lve(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))n.call(s,a)&&a!="constructor"&&o.push(a);return o}return QS=i,QS}var JS,Y$;function Zm(){if(Y$)return JS;Y$=1;var t=$k(),e=eI();function r(n){return n!=null&&e(n.length)&&!t(n)}return JS=r,JS}var ZS,X$;function db(){if(X$)return ZS;X$=1;var t=ove(),e=cve(),r=Zm();function n(i){return r(i)?t(i):e(i)}return ZS=n,ZS}var eE,Q$;function uve(){if(Q$)return eE;Q$=1;var t=Qye(),e=eve(),r=db();function n(i){return t(i,r,e)}return eE=n,eE}var tE,J$;function dve(){if(J$)return tE;J$=1;var t=uve(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,a,c,u,f){var p=a&e,m=t(s),y=m.length,_=t(o),x=_.length;if(y!=x&&!p)return!1;for(var b=y;b--;){var T=m[b];if(!(p?T in o:n.call(o,T)))return!1}var P=f.get(s),E=f.get(o);if(P&&E)return P==o&&E==s;var I=!0;f.set(s,o),f.set(o,s);for(var C=p;++b<y;){T=m[b];var R=s[T],N=o[T];if(c)var k=p?c(N,R,T,o,s,f):c(R,N,T,s,o,f);if(!(k===void 0?R===N||u(R,N,a,c,f):k)){I=!1;break}C||(C=T=="constructor")}if(I&&!C){var M=s.constructor,$=o.constructor;M!=$&&"constructor"in s&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof $=="function"&&$ instanceof $)&&(I=!1)}return f.delete(s),f.delete(o),I}return tE=i,tE}var rE,Z$;function fve(){if(Z$)return rE;Z$=1;var t=Qc(),e=io(),r=t(e,"DataView");return rE=r,rE}var nE,e4;function hve(){if(e4)return nE;e4=1;var t=Qc(),e=io(),r=t(e,"Promise");return nE=r,nE}var iE,t4;function CW(){if(t4)return iE;t4=1;var t=Qc(),e=io(),r=t(e,"Set");return iE=r,iE}var sE,r4;function pve(){if(r4)return sE;r4=1;var t=Qc(),e=io(),r=t(e,"WeakMap");return sE=r,sE}var oE,n4;function mve(){if(n4)return oE;n4=1;var t=fve(),e=Vk(),r=hve(),n=CW(),i=pve(),s=ea(),o=H8(),a="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",m="[object DataView]",y=o(t),_=o(e),x=o(r),b=o(n),T=o(i),P=s;return(t&&P(new t(new ArrayBuffer(1)))!=m||e&&P(new e)!=a||r&&P(r.resolve())!=u||n&&P(new n)!=f||i&&P(new i)!=p)&&(P=function(E){var I=s(E),C=I==c?E.constructor:void 0,R=C?o(C):"";if(R)switch(R){case y:return m;case _:return a;case x:return u;case b:return f;case T:return p}return I}),oE=P,oE}var aE,i4;function gve(){if(i4)return aE;i4=1;var t=vW(),e=_W(),r=Xye(),n=dve(),i=mve(),s=Yn(),o=EW(),a=TW(),c=1,u="[object Arguments]",f="[object Array]",p="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function _(x,b,T,P,E,I){var C=s(x),R=s(b),N=C?f:i(x),k=R?f:i(b);N=N==u?p:N,k=k==u?p:k;var M=N==p,$=k==p,L=N==k;if(L&&o(x)){if(!o(b))return!1;C=!0,M=!1}if(L&&!M)return I||(I=new t),C||a(x)?e(x,b,T,P,E,I):r(x,b,N,T,P,E,I);if(!(T&c)){var V=M&&y.call(x,"__wrapped__"),D=$&&y.call(b,"__wrapped__");if(V||D){var H=V?x.value():x,W=D?b.value():b;return I||(I=new t),E(H,W,T,P,I)}}return L?(I||(I=new t),n(x,b,T,P,E,I)):!1}return aE=_,aE}var lE,s4;function tI(){if(s4)return lE;s4=1;var t=gve(),e=ta();function r(n,i,s,o,a){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,a)}return lE=r,lE}var cE,o4;function yve(){if(o4)return cE;o4=1;var t=vW(),e=tI(),r=1,n=2;function i(s,o,a,c){var u=a.length,f=u,p=!c;if(s==null)return!f;for(s=Object(s);u--;){var m=a[u];if(p&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++u<f;){m=a[u];var y=m[0],_=s[y],x=m[1];if(p&&m[2]){if(_===void 0&&!(y in s))return!1}else{var b=new t;if(c)var T=c(_,x,y,s,o,b);if(!(T===void 0?e(x,_,r|n,c,b):T))return!1}}return!0}return cE=i,cE}var uE,a4;function NW(){if(a4)return uE;a4=1;var t=gl();function e(r){return r===r&&!t(r)}return uE=e,uE}var dE,l4;function vve(){if(l4)return dE;l4=1;var t=NW(),e=db();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],a=n[o];i[s]=[o,a,t(a)]}return i}return dE=r,dE}var fE,c4;function kW(){if(c4)return fE;c4=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return fE=t,fE}var hE,u4;function xve(){if(u4)return hE;u4=1;var t=yve(),e=vve(),r=kW();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return hE=n,hE}var pE,d4;function bve(){if(d4)return pE;d4=1;function t(e,r){return e!=null&&r in Object(e)}return pE=t,pE}var mE,f4;function wve(){if(f4)return mE;f4=1;var t=Y8(),e=Jk(),r=Yn(),n=Zk(),i=eI(),s=ob();function o(a,c,u){c=t(c,a);for(var f=-1,p=c.length,m=!1;++f<p;){var y=s(c[f]);if(!(m=a!=null&&u(a,y)))break;a=a[y]}return m||++f!=p?m:(p=a==null?0:a.length,!!p&&i(p)&&n(y,p)&&(r(a)||e(a)))}return mE=o,mE}var gE,h4;function _ve(){if(h4)return gE;h4=1;var t=bve(),e=wve();function r(n,i){return n!=null&&e(n,i,t)}return gE=r,gE}var yE,p4;function Sve(){if(p4)return yE;p4=1;var t=tI(),e=X8(),r=_ve(),n=Lk(),i=NW(),s=kW(),o=ob(),a=1,c=2;function u(f,p){return n(f)&&i(p)?s(o(f),p):function(m){var y=e(m,f);return y===void 0&&y===p?r(m,f):t(p,y,a|c)}}return yE=u,yE}var vE,m4;function Ff(){if(m4)return vE;m4=1;function t(e){return e}return vE=t,vE}var xE,g4;function Eve(){if(g4)return xE;g4=1;function t(e){return function(r){return r==null?void 0:r[e]}}return xE=t,xE}var bE,y4;function Pve(){if(y4)return bE;y4=1;var t=qk();function e(r){return function(n){return t(n,r)}}return bE=e,bE}var wE,v4;function Tve(){if(v4)return wE;v4=1;var t=Eve(),e=Pve(),r=Lk(),n=ob();function i(s){return r(s)?t(n(s)):e(s)}return wE=i,wE}var _E,x4;function so(){if(x4)return _E;x4=1;var t=xve(),e=Sve(),r=Ff(),n=Yn(),i=Tve();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return _E=s,_E}var SE,b4;function IW(){if(b4)return SE;b4=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return SE=t,SE}var EE,w4;function Ave(){if(w4)return EE;w4=1;function t(e){return e!==e}return EE=t,EE}var PE,_4;function Cve(){if(_4)return PE;_4=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return PE=t,PE}var TE,S4;function Nve(){if(S4)return TE;S4=1;var t=IW(),e=Ave(),r=Cve();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return TE=n,TE}var AE,E4;function kve(){if(E4)return AE;E4=1;var t=Nve();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return AE=e,AE}var CE,P4;function Ive(){if(P4)return CE;P4=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return CE=t,CE}var NE,T4;function Ove(){if(T4)return NE;T4=1;function t(){}return NE=t,NE}var kE,A4;function jve(){if(A4)return kE;A4=1;var t=CW(),e=Ove(),r=Qk(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return kE=i,kE}var IE,C4;function Rve(){if(C4)return IE;C4=1;var t=xW(),e=kve(),r=Ive(),n=wW(),i=jve(),s=Qk(),o=200;function a(c,u,f){var p=-1,m=e,y=c.length,_=!0,x=[],b=x;if(f)_=!1,m=r;else if(y>=o){var T=u?null:i(c);if(T)return s(T);_=!1,m=n,b=new t}else b=u?[]:x;e:for(;++p<y;){var P=c[p],E=u?u(P):P;if(P=f||P!==0?P:0,_&&E===E){for(var I=b.length;I--;)if(b[I]===E)continue e;u&&b.push(E),x.push(P)}else m(b,E,f)||(b!==x&&b.push(E),x.push(P))}return x}return IE=a,IE}var OE,N4;function Mve(){if(N4)return OE;N4=1;var t=so(),e=Rve();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return OE=r,OE}var Dve=Mve();const k4=Mt(Dve);function OW(t,e,r){return e===!0?k4(t,r):nt(e)?k4(t,e):t}function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}var Lve=["ref"];function I4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(r),!0).forEach(function(n){fb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RW(n.key),n)}}function Fve(t,e,r){return e&&O4(t.prototype,e),r&&O4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vve(t,e,r){return e=m0(e),Bve(t,jW()?Reflect.construct(e,r||[],m0(t).constructor):e.apply(t,r))}function Bve(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uve(t)}function Uve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jW=function(){return!!t})()}function m0(t){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m0(t)}function qve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OA(t,e)}function OA(t,e){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OA(t,e)}function fb(t,e,r){return e=RW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RW(t){var e=zve(t,"string");return zd(e)=="symbol"?e:e+""}function zve(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Wve(t,e){if(t==null)return{};var r=Hve(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gve(t){return t.value}function Kve(t,e){if(X.isValidElement(t))return X.cloneElement(t,e);if(typeof t=="function")return X.createElement(t,e);e.ref;var r=Wve(e,Lve);return X.createElement(Xk,r)}var j4=1,wd=(function(t){function e(){var r;$ve(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Vve(this,e,[].concat(i)),fb(r,"lastBoundingBox",{width:-1,height:-1}),r}return qve(e,t),Fve(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>j4||Math.abs(i.height-this.lastBoundingBox.height)>j4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Eo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,p,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var y=this.getBBoxSnapshot();p={left:((u||0)-y.width)/2}}else p=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(a==="middle"){var _=this.getBBoxSnapshot();m={top:((f||0)-_.height)/2}}else m=a==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Eo(Eo({},p),m)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,a=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,p=Eo(Eo({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(c)),c);return X.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(y){n.wrapperNode=y}},Kve(s,Eo(Eo({},this.props),{},{payload:OW(f,u,Gve)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Eo(Eo({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(S.PureComponent);fb(wd,"displayName","Legend");fb(wd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var jE,R4;function Yve(){if(R4)return jE;R4=1;var t=Qm(),e=Jk(),r=Yn(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return jE=i,jE}var RE,M4;function MW(){if(M4)return RE;M4=1;var t=SW(),e=Yve();function r(n,i,s,o,a){var c=-1,u=n.length;for(s||(s=e),a||(a=[]);++c<u;){var f=n[c];i>0&&s(f)?i>1?r(f,i-1,s,o,a):t(a,f):o||(a[a.length]=f)}return a}return RE=r,RE}var ME,D4;function Xve(){if(D4)return ME;D4=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),a=i(r),c=a.length;c--;){var u=a[e?c:++s];if(n(o[u],u,o)===!1)break}return r}}return ME=t,ME}var DE,L4;function Qve(){if(L4)return DE;L4=1;var t=Xve(),e=t();return DE=e,DE}var LE,$4;function DW(){if($4)return LE;$4=1;var t=Qve(),e=db();function r(n,i){return n&&t(n,i,e)}return LE=r,LE}var $E,F4;function Jve(){if(F4)return $E;F4=1;var t=Zm();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,a=n?o:-1,c=Object(i);(n?a--:++a<o)&&s(c[a],a,c)!==!1;);return i}}return $E=e,$E}var FE,V4;function rI(){if(V4)return FE;V4=1;var t=DW(),e=Jve(),r=e(t);return FE=r,FE}var VE,B4;function LW(){if(B4)return VE;B4=1;var t=rI(),e=Zm();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(a,c,u){o[++s]=i(a,c,u)}),o}return VE=r,VE}var BE,U4;function Zve(){if(U4)return BE;U4=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return BE=t,BE}var UE,q4;function e0e(){if(q4)return UE;q4=1;var t=Df();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,a=t(r),c=n!==void 0,u=n===null,f=n===n,p=t(n);if(!u&&!p&&!a&&r>n||a&&c&&f&&!u&&!p||s&&c&&f||!i&&f||!o)return 1;if(!s&&!a&&!p&&r<n||p&&i&&o&&!s&&!a||u&&i&&o||!c&&o||!f)return-1}return 0}return UE=e,UE}var qE,z4;function t0e(){if(z4)return qE;z4=1;var t=e0e();function e(r,n,i){for(var s=-1,o=r.criteria,a=n.criteria,c=o.length,u=i.length;++s<c;){var f=t(o[s],a[s]);if(f){if(s>=u)return f;var p=i[s];return f*(p=="desc"?-1:1)}}return r.index-n.index}return qE=e,qE}var zE,W4;function r0e(){if(W4)return zE;W4=1;var t=Uk(),e=qk(),r=so(),n=LW(),i=Zve(),s=PW(),o=t0e(),a=Ff(),c=Yn();function u(f,p,m){p.length?p=t(p,function(x){return c(x)?function(b){return e(b,x.length===1?x[0]:x)}:x}):p=[a];var y=-1;p=t(p,s(r));var _=n(f,function(x,b,T){var P=t(p,function(E){return E(x)});return{criteria:P,index:++y,value:x}});return i(_,function(x,b){return o(x,b,m)})}return zE=u,zE}var WE,H4;function n0e(){if(H4)return WE;H4=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return WE=t,WE}var HE,G4;function i0e(){if(G4)return HE;G4=1;var t=n0e(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,a=-1,c=e(o.length-i,0),u=Array(c);++a<c;)u[a]=o[i+a];a=-1;for(var f=Array(i+1);++a<i;)f[a]=o[a];return f[i]=s(u),t(n,this,f)}}return HE=r,HE}var GE,K4;function s0e(){if(K4)return GE;K4=1;function t(e){return function(){return e}}return GE=t,GE}var KE,Y4;function $W(){if(Y4)return KE;Y4=1;var t=Qc(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return KE=e,KE}var YE,X4;function o0e(){if(X4)return YE;X4=1;var t=s0e(),e=$W(),r=Ff(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return YE=n,YE}var XE,Q4;function a0e(){if(Q4)return XE;Q4=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var a=r(),c=e-(a-o);if(o=a,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return XE=n,XE}var QE,J4;function l0e(){if(J4)return QE;J4=1;var t=o0e(),e=a0e(),r=e(t);return QE=r,QE}var JE,Z4;function c0e(){if(Z4)return JE;Z4=1;var t=Ff(),e=i0e(),r=l0e();function n(i,s){return r(e(i,s,t),i+"")}return JE=n,JE}var ZE,e5;function hb(){if(e5)return ZE;e5=1;var t=Fk(),e=Zm(),r=Zk(),n=gl();function i(s,o,a){if(!n(a))return!1;var c=typeof o;return(c=="number"?e(a)&&r(o,a.length):c=="string"&&o in a)?t(a[o],s):!1}return ZE=i,ZE}var eP,t5;function u0e(){if(t5)return eP;t5=1;var t=MW(),e=r0e(),r=c0e(),n=hb(),i=r(function(s,o){if(s==null)return[];var a=o.length;return a>1&&n(s,o[0],o[1])?o=[]:a>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return eP=i,eP}var d0e=u0e();const nI=Mt(d0e);function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jA.apply(this,arguments)}function f0e(t,e){return g0e(t)||m0e(t,e)||p0e(t,e)||h0e()}function h0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p0e(t,e){if(t){if(typeof t=="string")return r5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r5(t,e)}}function r5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function g0e(t){if(Array.isArray(t))return t}function n5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(r),!0).forEach(function(n){y0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y0e(t,e,r){return e=v0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v0e(t){var e=x0e(t,"string");return Kp(e)=="symbol"?e:e+""}function x0e(t,e){if(Kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b0e(t){return Array.isArray(t)&&Lr(t[0])&&Lr(t[1])?t.join(" ~ "):t}var w0e=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,f=e.payload,p=e.formatter,m=e.itemSorter,y=e.wrapperClassName,_=e.labelClassName,x=e.label,b=e.labelFormatter,T=e.accessibilityLayer,P=T===void 0?!1:T,E=function(){if(f&&f.length){var V={padding:0,margin:0},D=(m?nI(f,m):f).map(function(H,W){if(H.type==="none")return null;var K=tP({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},a),Q=H.formatter||p||b0e,U=H.value,G=H.name,te=U,z=G;if(Q&&te!=null&&z!=null){var Z=Q(U,G,H,W,f);if(Array.isArray(Z)){var ce=f0e(Z,2);te=ce[0],z=ce[1]}else te=Z}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:K},Lr(z)?X.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Lr(z)?X.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,X.createElement("span",{className:"recharts-tooltip-item-value"},te),X.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:V},D)}return null},I=tP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=tP({margin:0},u),R=!ot(x),N=R?x:"",k=lt("recharts-default-tooltip",y),M=lt("recharts-tooltip-label",_);R&&b&&f!==void 0&&f!==null&&(N=b(x,f));var $=P?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",jA({className:k,style:I},$),X.createElement("p",{className:M,style:C},X.isValidElement(N)?N:"".concat(N)),E())};function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function zy(t,e,r){return e=_0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _0e(t){var e=S0e(t,"string");return Yp(e)=="symbol"?e:e+""}function S0e(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lh="recharts-tooltip-wrapper",E0e={visibility:"hidden"};function P0e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return lt(Lh,zy(zy(zy(zy({},"".concat(Lh,"-right"),Pe(r)&&e&&Pe(e.x)&&r>=e.x),"".concat(Lh,"-left"),Pe(r)&&e&&Pe(e.x)&&r<e.x),"".concat(Lh,"-bottom"),Pe(n)&&e&&Pe(e.y)&&n>=e.y),"".concat(Lh,"-top"),Pe(n)&&e&&Pe(e.y)&&n<e.y))}function i5(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Pe(s[n]))return s[n];var f=r[n]-a-i,p=r[n]+i;if(e[n])return o[n]?f:p;if(o[n]){var m=f,y=c[n];return m<y?Math.max(p,c[n]):Math.max(f,c[n])}var _=p+a,x=c[n]+u;return _>x?Math.max(f,c[n]):Math.max(p,c[n])}function T0e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function A0e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,c=t.viewBox,u,f,p;return o.height>0&&o.width>0&&r?(f=i5({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=i5({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=T0e({translateX:f,translateY:p,useTranslate3d:a})):u=E0e,{cssProperties:u,cssClasses:P0e({translateX:f,translateY:p,coordinate:r})}}function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function s5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function o5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(r),!0).forEach(function(n){MA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VW(n.key),n)}}function k0e(t,e,r){return e&&N0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I0e(t,e,r){return e=g0(e),O0e(t,FW()?Reflect.construct(e,r||[],g0(t).constructor):e.apply(t,r))}function O0e(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j0e(t)}function j0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FW=function(){return!!t})()}function g0(t){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g0(t)}function R0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RA(t,e)}function MA(t,e,r){return e=VW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VW(t){var e=M0e(t,"string");return Wd(e)=="symbol"?e:e+""}function M0e(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a5=1,D0e=(function(t){function e(){var r;C0e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=I0e(this,e,[].concat(i)),MA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),MA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var a,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&a!==void 0?a:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return R0e(e,t),k0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>a5||Math.abs(n.height-this.state.lastBoundingBox.height)>a5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,p=i.hasPayload,m=i.isAnimationActive,y=i.offset,_=i.position,x=i.reverseDirection,b=i.useTranslate3d,T=i.viewBox,P=i.wrapperStyle,E=A0e({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:y,position:_,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:T}),I=E.cssClasses,C=E.cssProperties,R=o5(o5({transition:m&&s?"transform ".concat(a,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},P);return X.createElement("div",{tabIndex:-1,className:I,style:R,ref:function(k){n.wrapperNode=k}},u)}}])})(S.PureComponent),L0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Jc={isSsr:L0e()};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){iI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UW(n.key),n)}}function V0e(t,e,r){return e&&F0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B0e(t,e,r){return e=y0(e),U0e(t,BW()?Reflect.construct(e,r||[],y0(t).constructor):e.apply(t,r))}function U0e(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q0e(t)}function q0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BW=function(){return!!t})()}function y0(t){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y0(t)}function z0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DA(t,e)}function iI(t,e,r){return e=UW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UW(t){var e=W0e(t,"string");return Hd(e)=="symbol"?e:e+""}function W0e(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function H0e(t){return t.dataKey}function G0e(t,e){return X.isValidElement(t)?X.cloneElement(t,e):typeof t=="function"?X.createElement(t,e):X.createElement(w0e,e)}var ki=(function(t){function e(){return $0e(this,e),B0e(this,e,arguments)}return z0e(e,t),V0e(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,p=i.filterNull,m=i.isAnimationActive,y=i.offset,_=i.payload,x=i.payloadUniqBy,b=i.position,T=i.reverseDirection,P=i.useTranslate3d,E=i.viewBox,I=i.wrapperStyle,C=_??[];p&&C.length&&(C=OW(_.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),x,H0e));var R=C.length>0;return X.createElement(D0e,{allowEscapeViewBox:o,animationDuration:a,animationEasing:c,isAnimationActive:m,active:s,coordinate:f,hasPayload:R,offset:y,position:b,reverseDirection:T,useTranslate3d:P,viewBox:E,wrapperStyle:I},G0e(u,c5(c5({},this.props),{},{payload:C})))}}])})(S.PureComponent);iI(ki,"displayName","Tooltip");iI(ki,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Jc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rP,u5;function K0e(){if(u5)return rP;u5=1;var t=io(),e=function(){return t.Date.now()};return rP=e,rP}var nP,d5;function Y0e(){if(d5)return nP;d5=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return nP=e,nP}var iP,f5;function X0e(){if(f5)return iP;f5=1;var t=Y0e(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return iP=r,iP}var sP,h5;function qW(){if(h5)return sP;h5=1;var t=X0e(),e=gl(),r=Df(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var p=s.test(u);return p||o.test(u)?a(u.slice(2),p?2:8):i.test(u)?n:+u}return sP=c,sP}var oP,p5;function Q0e(){if(p5)return oP;p5=1;var t=gl(),e=K0e(),r=qW(),n="Expected a function",i=Math.max,s=Math.min;function o(a,c,u){var f,p,m,y,_,x,b=0,T=!1,P=!1,E=!0;if(typeof a!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(T=!!u.leading,P="maxWait"in u,m=P?i(r(u.maxWait)||0,c):m,E="trailing"in u?!!u.trailing:E);function I(D){var H=f,W=p;return f=p=void 0,b=D,y=a.apply(W,H),y}function C(D){return b=D,_=setTimeout(k,c),T?I(D):y}function R(D){var H=D-x,W=D-b,K=c-H;return P?s(K,m-W):K}function N(D){var H=D-x,W=D-b;return x===void 0||H>=c||H<0||P&&W>=m}function k(){var D=e();if(N(D))return M(D);_=setTimeout(k,R(D))}function M(D){return _=void 0,E&&f?I(D):(f=p=void 0,y)}function $(){_!==void 0&&clearTimeout(_),b=0,f=x=p=_=void 0}function L(){return _===void 0?y:M(e())}function V(){var D=e(),H=N(D);if(f=arguments,p=this,x=D,H){if(_===void 0)return C(x);if(P)return clearTimeout(_),_=setTimeout(k,c),I(x)}return _===void 0&&(_=setTimeout(k,c)),y}return V.cancel=$,V.flush=L,V}return oP=o,oP}var aP,m5;function J0e(){if(m5)return aP;m5=1;var t=Q0e(),e=gl(),r="Expected a function";function n(i,s,o){var a=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),t(i,s,{leading:a,maxWait:s,trailing:c})}return aP=n,aP}var Z0e=J0e();const zW=Mt(Z0e);function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function g5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(r),!0).forEach(function(n){exe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function exe(t,e,r){return e=txe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function txe(t){var e=rxe(t,"string");return Xp(e)=="symbol"?e:e+""}function rxe(t,e){if(Xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nxe(t,e){return axe(t)||oxe(t,e)||sxe(t,e)||ixe()}function ixe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sxe(t,e){if(t){if(typeof t=="string")return y5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y5(t,e)}}function y5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function axe(t){if(Array.isArray(t))return t}var LA=S.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,a=t.height,c=a===void 0?"100%":a,u=t.minWidth,f=u===void 0?0:u,p=t.minHeight,m=t.maxHeight,y=t.children,_=t.debounce,x=_===void 0?0:_,b=t.id,T=t.className,P=t.onResize,E=t.style,I=E===void 0?{}:E,C=S.useRef(null),R=S.useRef();R.current=P,S.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var N=S.useState({containerWidth:i.width,containerHeight:i.height}),k=nxe(N,2),M=k[0],$=k[1],L=S.useCallback(function(D,H){$(function(W){var K=Math.round(D),Q=Math.round(H);return W.containerWidth===K&&W.containerHeight===Q?W:{containerWidth:K,containerHeight:Q}})},[]);S.useEffect(function(){var D=function(G){var te,z=G[0].contentRect,Z=z.width,ce=z.height;L(Z,ce),(te=R.current)===null||te===void 0||te.call(R,Z,ce)};x>0&&(D=zW(D,x,{trailing:!0,leading:!1}));var H=new ResizeObserver(D),W=C.current.getBoundingClientRect(),K=W.width,Q=W.height;return L(K,Q),H.observe(C.current),function(){H.disconnect()}},[L,x]);var V=S.useMemo(function(){var D=M.containerWidth,H=M.containerHeight;if(D<0||H<0)return null;us(fc(o)||fc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),us(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=fc(o)?D:o,K=fc(c)?H:c;r&&r>0&&(W?K=W/r:K&&(W=K*r),m&&K>m&&(K=m)),us(W>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,K,o,c,f,p,r);var Q=!Array.isArray(y)&&$o(y.type).endsWith("Chart");return X.Children.map(y,function(U){return X.isValidElement(U)?S.cloneElement(U,Wy({width:W,height:K},Q?{style:Wy({height:"100%",width:"100%",maxHeight:K,maxWidth:W},U.props.style)}:{})):U})},[r,y,c,m,p,f,M,o]);return X.createElement("div",{id:b?"".concat(b):void 0,className:lt("recharts-responsive-container",T),style:Wy(Wy({},I),{},{width:o,height:c,minWidth:f,minHeight:p,maxHeight:m}),ref:C},V)}),Qp=function(e){return null};Qp.displayName="Cell";function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function v5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $A(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v5(Object(r),!0).forEach(function(n){lxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lxe(t,e,r){return e=cxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cxe(t){var e=uxe(t,"string");return Jp(e)=="symbol"?e:e+""}function uxe(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qu={widthCache:{},cacheCount:0},dxe=2e3,fxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},x5="recharts_measurement_span";function hxe(t){var e=$A({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var wp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Jc.isSsr)return{width:0,height:0};var n=hxe(r),i=JSON.stringify({text:e,copyStyle:n});if(qu.widthCache[i])return qu.widthCache[i];try{var s=document.getElementById(x5);s||(s=document.createElement("span"),s.setAttribute("id",x5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=$A($A({},fxe),n);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),c={width:a.width,height:a.height};return qu.widthCache[i]=c,++qu.cacheCount>dxe&&(qu.cacheCount=0,qu.widthCache={}),c}catch{return{width:0,height:0}}},pxe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function v0(t,e){return vxe(t)||yxe(t,e)||gxe(t,e)||mxe()}function mxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gxe(t,e){if(t){if(typeof t=="string")return b5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b5(t,e)}}function b5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function vxe(t){if(Array.isArray(t))return t}function xxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wxe(n.key),n)}}function bxe(t,e,r){return e&&w5(t.prototype,e),r&&w5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wxe(t){var e=_xe(t,"string");return Zp(e)=="symbol"?e:e+""}function _xe(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Exe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Pxe=Object.keys(WW),od="NaN";function Txe(t,e){return t*WW[e]}var Hy=(function(){function t(e,r){xxe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Sxe.test(r)&&(this.num=NaN,this.unit=""),Pxe.includes(r)&&(this.num=Txe(e,r),this.unit="px")}return bxe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Exe.exec(r))!==null&&n!==void 0?n:[],s=v0(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])})();function HW(t){if(t.includes(od))return od;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=_5.exec(e))!==null&&r!==void 0?r:[],i=v0(n,4),s=i[1],o=i[2],a=i[3],c=Hy.parse(s??""),u=Hy.parse(a??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return od;e=e.replace(_5,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,m=(p=S5.exec(e))!==null&&p!==void 0?p:[],y=v0(m,4),_=y[1],x=y[2],b=y[3],T=Hy.parse(_??""),P=Hy.parse(b??""),E=x==="+"?T.add(P):T.subtract(P);if(E.isNaN())return od;e=e.replace(S5,E.toString())}return e}var E5=/\(([^()]*)\)/;function Axe(t){for(var e=t;e.includes("(");){var r=E5.exec(e),n=v0(r,2),i=n[1];e=e.replace(E5,HW(i))}return e}function Cxe(t){var e=t.replace(/\s+/g,"");return e=Axe(e),e=HW(e),e}function Nxe(t){try{return Cxe(t)}catch{return od}}function lP(t){var e=Nxe(t.slice(5,-1));return e===od?"":e}var kxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ixe=["dx","dy","angle","className","breakAll"];function FA(){return FA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FA.apply(this,arguments)}function P5(t,e){if(t==null)return{};var r=Oxe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function T5(t,e){return Dxe(t)||Mxe(t,e)||Rxe(t,e)||jxe()}function jxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rxe(t,e){if(t){if(typeof t=="string")return A5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A5(t,e)}}function A5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Dxe(t){if(Array.isArray(t))return t}var GW=/[ \f\n\r\t\v\u2028\u2029]+/,KW=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];ot(r)||(n?s=r.toString().split(""):s=r.toString().split(GW));var o=s.map(function(c){return{word:c,width:wp(c,i).width}}),a=n?0:wp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},Lxe=function(e,r,n,i,s){var o=e.maxLines,a=e.children,c=e.style,u=e.breakAll,f=Pe(o),p=a,m=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(K,Q){var U=Q.word,G=Q.width,te=K[K.length-1];if(te&&(i==null||s||te.width+G+n<Number(i)))te.words.push(U),te.width+=G+n;else{var z={words:[U],width:G};K.push(z)}return K},[])},y=m(r),_=function(W){return W.reduce(function(K,Q){return K.width>Q.width?K:Q})};if(!f)return y;for(var x="",b=function(W){var K=p.slice(0,W),Q=KW({breakAll:u,style:c,children:K+x}).wordsWithComputedWidth,U=m(Q),G=U.length>o||_(U).width>Number(i);return[G,U]},T=0,P=p.length-1,E=0,I;T<=P&&E<=p.length-1;){var C=Math.floor((T+P)/2),R=C-1,N=b(R),k=T5(N,2),M=k[0],$=k[1],L=b(C),V=T5(L,1),D=V[0];if(!M&&!D&&(T=C+1),M&&D&&(P=C-1),!M&&D){I=$;break}E++}return I||y},C5=function(e){var r=ot(e)?[]:e.toString().split(GW);return[{words:r}]},$xe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((r||n)&&!Jc.isSsr){var c,u,f=KW({breakAll:o,children:i,style:s});if(f){var p=f.wordsWithComputedWidth,m=f.spaceWidth;c=p,u=m}else return C5(i);return Lxe({breakAll:o,children:i,maxLines:a,style:s},c,u,r,n)}return C5(i)},N5="#808080",Vc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,f=e.scaleToFit,p=f===void 0?!1:f,m=e.textAnchor,y=m===void 0?"start":m,_=e.verticalAnchor,x=_===void 0?"end":_,b=e.fill,T=b===void 0?N5:b,P=P5(e,kxe),E=S.useMemo(function(){return $xe({breakAll:P.breakAll,children:P.children,maxLines:P.maxLines,scaleToFit:p,style:P.style,width:P.width})},[P.breakAll,P.children,P.maxLines,p,P.style,P.width]),I=P.dx,C=P.dy,R=P.angle,N=P.className,k=P.breakAll,M=P5(P,Ixe);if(!Lr(n)||!Lr(s))return null;var $=n+(Pe(I)?I:0),L=s+(Pe(C)?C:0),V;switch(x){case"start":V=lP("calc(".concat(u,")"));break;case"middle":V=lP("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:V=lP("calc(".concat(E.length-1," * -").concat(a,")"));break}var D=[];if(p){var H=E[0].width,W=P.width;D.push("scale(".concat((Pe(W)?W/H:1)/H,")"))}return R&&D.push("rotate(".concat(R,", ").concat($,", ").concat(L,")")),D.length&&(M.transform=D.join(" ")),X.createElement("text",FA({},Je(M,!0),{x:$,y:L,className:lt("recharts-text",N),textAnchor:y,fill:T.includes("url")?N5:T}),E.map(function(K,Q){var U=K.words.join(k?"":" ");return X.createElement("tspan",{x:$,dy:Q===0?V:a,key:"".concat(U,"-").concat(Q)},U)}))};function Xa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fxe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sI(t){let e,r,n;t.length!==2?(e=Xa,r=(a,c)=>Xa(t(a),c),n=(a,c)=>t(a)-c):(e=t===Xa||t===Fxe?t:Vxe,r=t,n=t);function i(a,c,u=0,f=a.length){if(u<f){if(e(c,c)!==0)return f;do{const p=u+f>>>1;r(a[p],c)<0?u=p+1:f=p}while(u<f)}return u}function s(a,c,u=0,f=a.length){if(u<f){if(e(c,c)!==0)return f;do{const p=u+f>>>1;r(a[p],c)<=0?u=p+1:f=p}while(u<f)}return u}function o(a,c,u=0,f=a.length){const p=i(a,c,u,f-1);return p>u&&n(a[p-1],c)>-n(a[p],c)?p-1:p}return{left:i,center:o,right:s}}function Vxe(){return 0}function YW(t){return t===null?NaN:+t}function*Bxe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Uxe=sI(Xa),eg=Uxe.right;sI(YW).center;class k5 extends Map{constructor(e,r=Wxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(I5(this,e))}has(e){return super.has(I5(this,e))}set(e,r){return super.set(qxe(this,e),r)}delete(e){return super.delete(zxe(this,e))}}function I5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function qxe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function zxe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Wxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Hxe(t=Xa){if(t===Xa)return XW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function XW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Gxe=Math.sqrt(50),Kxe=Math.sqrt(10),Yxe=Math.sqrt(2);function x0(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=Gxe?10:s>=Kxe?5:s>=Yxe?2:1;let a,c,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=r&&r<2?x0(t,e,r*2):[a,c,u]}function VA(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?x0(e,t,r):x0(t,e,r);if(!(s>=i))return[];const a=s-i+1,c=new Array(a);if(n)if(o<0)for(let u=0;u<a;++u)c[u]=(s-u)/-o;else for(let u=0;u<a;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)c[u]=(i+u)/-o;else for(let u=0;u<a;++u)c[u]=(i+u)*o;return c}function BA(t,e,r){return e=+e,t=+t,r=+r,x0(t,e,r)[2]}function UA(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?BA(e,t,r):BA(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function O5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function j5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QW(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?XW:Hxe(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*p*(c-p)/c)*(u-c/2<0?-1:1),y=Math.max(r,Math.floor(e-u*p/c+m)),_=Math.min(n,Math.floor(e+(c-u)*p/c+m));QW(t,e,y,_,i)}const s=t[e];let o=r,a=n;for($h(t,r,e),i(t[n],s)>0&&$h(t,r,n);o<a;){for($h(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[r],s)===0?$h(t,r,a):(++a,$h(t,a,n)),a<=e&&(r=a+1),e<=a&&(n=a-1)}return t}function $h(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Xxe(t,e,r){if(t=Float64Array.from(Bxe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return j5(t);if(e>=1)return O5(t);var n,i=(n-1)*e,s=Math.floor(i),o=O5(QW(t,s).subarray(0,s+1)),a=j5(t.subarray(s+1));return o+(a-o)*(i-s)}}function Qxe(t,e,r=YW){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),a=+r(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function Jxe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Bi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ra(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const qA=Symbol("implicit");function oI(){var t=new k5,e=[],r=[],n=qA;function i(s){let o=t.get(s);if(o===void 0){if(n!==qA)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new k5;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return oI(e,r).unknown(n)},Bi.apply(i,arguments),i}function em(){var t=oI().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,a=!1,c=0,u=0,f=.5;delete t.unknown;function p(){var m=e().length,y=i<n,_=y?i:n,x=y?n:i;s=(x-_)/Math.max(1,m-c+u*2),a&&(s=Math.floor(s)),_+=(x-_-s*(m-c))*f,o=s*(1-c),a&&(_=Math.round(_),o=Math.round(o));var b=Jxe(m).map(function(T){return _+s*T});return r(y?b.reverse():b)}return t.domain=function(m){return arguments.length?(e(m),p()):e()},t.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,a=!0,p()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(m){return arguments.length?(a=!!m,p()):a},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),p()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),p()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,p()):u},t.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),p()):f},t.copy=function(){return em(e(),[n,i]).round(a).paddingInner(c).paddingOuter(u).align(f)},Bi.apply(p(),arguments)}function JW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return JW(e())},t}function _p(){return JW(em.apply(null,arguments).paddingInner(1))}function aI(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function ZW(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function tg(){}var tm=.7,b0=1/tm,_d="\\s*([+-]?\\d+)\\s*",rm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zxe=/^#([0-9a-f]{3,8})$/,ebe=new RegExp(`^rgb\\(${_d},${_d},${_d}\\)$`),tbe=new RegExp(`^rgb\\(${Gs},${Gs},${Gs}\\)$`),rbe=new RegExp(`^rgba\\(${_d},${_d},${_d},${rm}\\)$`),nbe=new RegExp(`^rgba\\(${Gs},${Gs},${Gs},${rm}\\)$`),ibe=new RegExp(`^hsl\\(${rm},${Gs},${Gs}\\)$`),sbe=new RegExp(`^hsla\\(${rm},${Gs},${Gs},${rm}\\)$`),R5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aI(tg,nm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:M5,formatHex:M5,formatHex8:obe,formatHsl:abe,formatRgb:D5,toString:D5});function M5(){return this.rgb().formatHex()}function obe(){return this.rgb().formatHex8()}function abe(){return e7(this).formatHsl()}function D5(){return this.rgb().formatRgb()}function nm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Zxe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?L5(e):r===3?new Gn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Gy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Gy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ebe.exec(t))?new Gn(e[1],e[2],e[3],1):(e=tbe.exec(t))?new Gn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rbe.exec(t))?Gy(e[1],e[2],e[3],e[4]):(e=nbe.exec(t))?Gy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ibe.exec(t))?V5(e[1],e[2]/100,e[3]/100,1):(e=sbe.exec(t))?V5(e[1],e[2]/100,e[3]/100,e[4]):R5.hasOwnProperty(t)?L5(R5[t]):t==="transparent"?new Gn(NaN,NaN,NaN,0):null}function L5(t){return new Gn(t>>16&255,t>>8&255,t&255,1)}function Gy(t,e,r,n){return n<=0&&(t=e=r=NaN),new Gn(t,e,r,n)}function lbe(t){return t instanceof tg||(t=nm(t)),t?(t=t.rgb(),new Gn(t.r,t.g,t.b,t.opacity)):new Gn}function zA(t,e,r,n){return arguments.length===1?lbe(t):new Gn(t,e,r,n??1)}function Gn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}aI(Gn,zA,ZW(tg,{brighter(t){return t=t==null?b0:Math.pow(b0,t),new Gn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tm:Math.pow(tm,t),new Gn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gn(Sc(this.r),Sc(this.g),Sc(this.b),w0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$5,formatHex:$5,formatHex8:cbe,formatRgb:F5,toString:F5}));function $5(){return`#${hc(this.r)}${hc(this.g)}${hc(this.b)}`}function cbe(){return`#${hc(this.r)}${hc(this.g)}${hc(this.b)}${hc((isNaN(this.opacity)?1:this.opacity)*255)}`}function F5(){const t=w0(this.opacity);return`${t===1?"rgb(":"rgba("}${Sc(this.r)}, ${Sc(this.g)}, ${Sc(this.b)}${t===1?")":`, ${t})`}`}function w0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Sc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hc(t){return t=Sc(t),(t<16?"0":"")+t.toString(16)}function V5(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ss(t,e,r,n)}function e7(t){if(t instanceof ss)return new ss(t.h,t.s,t.l,t.opacity);if(t instanceof tg||(t=nm(t)),!t)return new ss;if(t instanceof ss)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,a=s-i,c=(s+i)/2;return a?(e===s?o=(r-n)/a+(r<n)*6:r===s?o=(n-e)/a+2:o=(e-r)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new ss(o,a,c,t.opacity)}function ube(t,e,r,n){return arguments.length===1?e7(t):new ss(t,e,r,n??1)}function ss(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}aI(ss,ube,ZW(tg,{brighter(t){return t=t==null?b0:Math.pow(b0,t),new ss(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tm:Math.pow(tm,t),new ss(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Gn(cP(t>=240?t-240:t+120,i,n),cP(t,i,n),cP(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ss(B5(this.h),Ky(this.s),Ky(this.l),w0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=w0(this.opacity);return`${t===1?"hsl(":"hsla("}${B5(this.h)}, ${Ky(this.s)*100}%, ${Ky(this.l)*100}%${t===1?")":`, ${t})`}`}}));function B5(t){return t=(t||0)%360,t<0?t+360:t}function Ky(t){return Math.max(0,Math.min(1,t||0))}function cP(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const lI=t=>()=>t;function dbe(t,e){return function(r){return t+r*e}}function fbe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function hbe(t){return(t=+t)==1?t7:function(e,r){return r-e?fbe(e,r,t):lI(isNaN(e)?r:e)}}function t7(t,e){var r=e-t;return r?dbe(t,r):lI(isNaN(t)?e:t)}const U5=(function t(e){var r=hbe(e);function n(i,s){var o=r((i=zA(i)).r,(s=zA(s)).r),a=r(i.g,s.g),c=r(i.b,s.b),u=t7(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=c(f),i.opacity=u(f),i+""}}return n.gamma=t,n})(1);function pbe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function mbe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gbe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Vf(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(a){for(o=0;o<n;++o)s[o]=i[o](a);return s}}function ybe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function _0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function vbe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Vf(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var WA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uP=new RegExp(WA.source,"g");function xbe(t){return function(){return t}}function bbe(t){return function(e){return t(e)+""}}function wbe(t,e){var r=WA.lastIndex=uP.lastIndex=0,n,i,s,o=-1,a=[],c=[];for(t=t+"",e=e+"";(n=WA.exec(t))&&(i=uP.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:_0(n,i)})),r=uP.lastIndex;return r<e.length&&(s=e.slice(r),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?bbe(c[0].x):xbe(e):(e=c.length,function(u){for(var f=0,p;f<e;++f)a[(p=c[f]).i]=p.x(u);return a.join("")})}function Vf(t,e){var r=typeof e,n;return e==null||r==="boolean"?lI(e):(r==="number"?_0:r==="string"?(n=nm(e))?(e=n,U5):wbe:e instanceof nm?U5:e instanceof Date?ybe:mbe(e)?pbe:Array.isArray(e)?gbe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vbe:_0)(t,e)}function cI(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function _be(t,e){e===void 0&&(e=t,t=Vf);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var a=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[a](o-a)}}function Sbe(t){return function(){return t}}function S0(t){return+t}var q5=[0,1];function Rn(t){return t}function HA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Sbe(isNaN(e)?NaN:.5)}function Ebe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Pbe(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=HA(i,n),s=r(o,s)):(n=HA(n,i),s=r(s,o)),function(a){return s(n(a))}}function Tbe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=HA(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(a){var c=eg(t,a,1,n)-1;return s[c](i[c](a))}}function rg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pb(){var t=q5,e=q5,r=Vf,n,i,s,o=Rn,a,c,u;function f(){var m=Math.min(t.length,e.length);return o!==Rn&&(o=Ebe(t[0],t[m-1])),a=m>2?Tbe:Pbe,c=u=null,p}function p(m){return m==null||isNaN(m=+m)?s:(c||(c=a(t.map(n),e,r)))(n(o(m)))}return p.invert=function(m){return o(i((u||(u=a(e,t.map(n),_0)))(m)))},p.domain=function(m){return arguments.length?(t=Array.from(m,S0),f()):t.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),r=cI,f()},p.clamp=function(m){return arguments.length?(o=m?!0:Rn,f()):o!==Rn},p.interpolate=function(m){return arguments.length?(r=m,f()):r},p.unknown=function(m){return arguments.length?(s=m,p):s},function(m,y){return n=m,i=y,f()}}function uI(){return pb()(Rn,Rn)}function Abe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function E0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Gd(t){return t=E0(Math.abs(t)),t?t[1]:NaN}function Cbe(t,e){return function(r,n){for(var i=r.length,s=[],o=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>n&&(a=Math.max(1,n-c)),s.push(r.substring(i-=a,i+a)),!((c+=a+1)>n));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Nbe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var kbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function im(t){if(!(e=kbe.exec(t)))throw new Error("invalid format: "+t);var e;return new dI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}im.prototype=dI.prototype;function dI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ibe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var r7;function Obe(t,e){var r=E0(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(r7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+E0(t,Math.max(0,e+s-1))[0]}function z5(t,e){var r=E0(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const W5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Abe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>z5(t*100,e),r:z5,s:Obe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function H5(t){return t}var G5=Array.prototype.map,K5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jbe(t){var e=t.grouping===void 0||t.thousands===void 0?H5:Cbe(G5.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?H5:Nbe(G5.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(p){p=im(p);var m=p.fill,y=p.align,_=p.sign,x=p.symbol,b=p.zero,T=p.width,P=p.comma,E=p.precision,I=p.trim,C=p.type;C==="n"?(P=!0,C="g"):W5[C]||(E===void 0&&(E=12),I=!0,C="g"),(b||m==="0"&&y==="=")&&(b=!0,m="0",y="=");var R=x==="$"?r:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",N=x==="$"?n:/[%p]/.test(C)?o:"",k=W5[C],M=/[defgprs%]/.test(C);E=E===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function $(L){var V=R,D=N,H,W,K;if(C==="c")D=k(L)+D,L="";else{L=+L;var Q=L<0||1/L<0;if(L=isNaN(L)?c:k(Math.abs(L),E),I&&(L=Ibe(L)),Q&&+L==0&&_!=="+"&&(Q=!1),V=(Q?_==="("?_:a:_==="-"||_==="("?"":_)+V,D=(C==="s"?K5[8+r7/3]:"")+D+(Q&&_==="("?")":""),M){for(H=-1,W=L.length;++H<W;)if(K=L.charCodeAt(H),48>K||K>57){D=(K===46?i+L.slice(H+1):L.slice(H))+D,L=L.slice(0,H);break}}}P&&!b&&(L=e(L,1/0));var U=V.length+L.length+D.length,G=U<T?new Array(T-U+1).join(m):"";switch(P&&b&&(L=e(G+L,G.length?T-D.length:1/0),G=""),y){case"<":L=V+L+D+G;break;case"=":L=V+G+L+D;break;case"^":L=G.slice(0,U=G.length>>1)+V+L+D+G.slice(U);break;default:L=G+V+L+D;break}return s(L)}return $.toString=function(){return p+""},$}function f(p,m){var y=u((p=im(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(Gd(m)/3)))*3,x=Math.pow(10,-_),b=K5[8+_/3];return function(T){return y(x*T)+b}}return{format:u,formatPrefix:f}}var Yy,fI,n7;Rbe({thousands:",",grouping:[3],currency:["$",""]});function Rbe(t){return Yy=jbe(t),fI=Yy.format,n7=Yy.formatPrefix,Yy}function Mbe(t){return Math.max(0,-Gd(Math.abs(t)))}function Dbe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gd(e)/3)))*3-Gd(Math.abs(t)))}function Lbe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gd(e)-Gd(t))+1}function i7(t,e,r,n){var i=UA(t,e,r),s;switch(n=im(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Dbe(i,o))&&(n.precision=s),n7(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Lbe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Mbe(i))&&(n.precision=s-(n.type==="%")*2);break}}return fI(n)}function yl(t){var e=t.domain;return t.ticks=function(r){var n=e();return VA(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return i7(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],a=n[s],c,u,f=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);f-- >0;){if(u=BA(o,a,r),u===c)return n[i]=o,n[s]=a,e(n);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function P0(){var t=uI();return t.copy=function(){return rg(t,P0())},Bi.apply(t,arguments),yl(t)}function s7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,S0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return s7(t).unknown(e)},t=arguments.length?Array.from(t,S0):[0,1],yl(r)}function o7(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function Y5(t){return Math.log(t)}function X5(t){return Math.exp(t)}function $be(t){return-Math.log(-t)}function Fbe(t){return-Math.exp(-t)}function Vbe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Bbe(t){return t===10?Vbe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ube(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Q5(t){return(e,r)=>-t(-e,r)}function hI(t){const e=t(Y5,X5),r=e.domain;let n=10,i,s;function o(){return i=Ube(n),s=Bbe(n),r()[0]<0?(i=Q5(i),s=Q5(s),t($be,Fbe)):t(Y5,X5),e}return e.base=function(a){return arguments.length?(n=+a,o()):n},e.domain=function(a){return arguments.length?(r(a),o()):r()},e.ticks=a=>{const c=r();let u=c[0],f=c[c.length-1];const p=f<u;p&&([u,f]=[f,u]);let m=i(u),y=i(f),_,x;const b=a==null?10:+a;let T=[];if(!(n%1)&&y-m<b){if(m=Math.floor(m),y=Math.ceil(y),u>0){for(;m<=y;++m)for(_=1;_<n;++_)if(x=m<0?_/s(-m):_*s(m),!(x<u)){if(x>f)break;T.push(x)}}else for(;m<=y;++m)for(_=n-1;_>=1;--_)if(x=m>0?_/s(-m):_*s(m),!(x<u)){if(x>f)break;T.push(x)}T.length*2<b&&(T=VA(u,f,b))}else T=VA(m,y,Math.min(y-m,b)).map(s);return p?T.reverse():T},e.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=im(c)).precision==null&&(c.trim=!0),c=fI(c)),a===1/0)return c;const u=Math.max(1,n*a/e.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=u?c(f):""}},e.nice=()=>r(o7(r(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function a7(){const t=hI(pb()).domain([1,10]);return t.copy=()=>rg(t,a7()).base(t.base()),Bi.apply(t,arguments),t}function J5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Z5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function pI(t){var e=1,r=t(J5(e),Z5(e));return r.constant=function(n){return arguments.length?t(J5(e=+n),Z5(e)):e},yl(r)}function l7(){var t=pI(pb());return t.copy=function(){return rg(t,l7()).constant(t.constant())},Bi.apply(t,arguments)}function eF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function qbe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zbe(t){return t<0?-t*t:t*t}function mI(t){var e=t(Rn,Rn),r=1;function n(){return r===1?t(Rn,Rn):r===.5?t(qbe,zbe):t(eF(r),eF(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},yl(e)}function gI(){var t=mI(pb());return t.copy=function(){return rg(t,gI()).exponent(t.exponent())},Bi.apply(t,arguments),t}function Wbe(){return gI.apply(null,arguments).exponent(.5)}function tF(t){return Math.sign(t)*t*t}function Hbe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function c7(){var t=uI(),e=[0,1],r=!1,n;function i(s){var o=Hbe(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(tF(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,S0)).map(tF)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return c7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Bi.apply(i,arguments),yl(i)}function u7(){var t=[],e=[],r=[],n;function i(){var o=0,a=Math.max(1,e.length);for(r=new Array(a-1);++o<a;)r[o-1]=Qxe(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?n:e[eg(r,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Xa),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return u7().domain(t).range(e).unknown(n)},Bi.apply(s,arguments)}function d7(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[eg(n,c,0,r)]:s}function a(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,a()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,a()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return d7().domain([t,e]).range(i).unknown(s)},Bi.apply(yl(o),arguments)}function f7(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[eg(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return f7().domain(t).range(e).unknown(r)},Bi.apply(i,arguments)}const dP=new Date,fP=new Date;function Br(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const c=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return c;let u;do c.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return c},i.filter=s=>Br(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(dP.setTime(+s),fP.setTime(+o),t(dP),t(fP),Math.floor(r(dP,fP))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const T0=Br(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);T0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Br(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):T0);T0.range;const ko=1e3,Mi=ko*60,Io=Mi*60,Yo=Io*24,yI=Yo*7,rF=Yo*30,hP=Yo*365,pc=Br(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ko)},(t,e)=>(e-t)/ko,t=>t.getUTCSeconds());pc.range;const vI=Br(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ko)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getMinutes());vI.range;const xI=Br(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getUTCMinutes());xI.range;const bI=Br(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ko-t.getMinutes()*Mi)},(t,e)=>{t.setTime(+t+e*Io)},(t,e)=>(e-t)/Io,t=>t.getHours());bI.range;const wI=Br(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Io)},(t,e)=>(e-t)/Io,t=>t.getUTCHours());wI.range;const ng=Br(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mi)/Yo,t=>t.getDate()-1);ng.range;const mb=Br(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yo,t=>t.getUTCDate()-1);mb.range;const h7=Br(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yo,t=>Math.floor(t/Yo));h7.range;function Zc(t){return Br(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Mi)/yI)}const gb=Zc(0),A0=Zc(1),Gbe=Zc(2),Kbe=Zc(3),Kd=Zc(4),Ybe=Zc(5),Xbe=Zc(6);gb.range;A0.range;Gbe.range;Kbe.range;Kd.range;Ybe.range;Xbe.range;function eu(t){return Br(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/yI)}const yb=eu(0),C0=eu(1),Qbe=eu(2),Jbe=eu(3),Yd=eu(4),Zbe=eu(5),ewe=eu(6);yb.range;C0.range;Qbe.range;Jbe.range;Yd.range;Zbe.range;ewe.range;const _I=Br(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_I.range;const SI=Br(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());SI.range;const Xo=Br(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Br(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Xo.range;const Qo=Br(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Br(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Qo.range;function p7(t,e,r,n,i,s){const o=[[pc,1,ko],[pc,5,5*ko],[pc,15,15*ko],[pc,30,30*ko],[s,1,Mi],[s,5,5*Mi],[s,15,15*Mi],[s,30,30*Mi],[i,1,Io],[i,3,3*Io],[i,6,6*Io],[i,12,12*Io],[n,1,Yo],[n,2,2*Yo],[r,1,yI],[e,1,rF],[e,3,3*rF],[t,1,hP]];function a(u,f,p){const m=f<u;m&&([u,f]=[f,u]);const y=p&&typeof p.range=="function"?p:c(u,f,p),_=y?y.range(u,+f+1):[];return m?_.reverse():_}function c(u,f,p){const m=Math.abs(f-u)/p,y=sI(([,,b])=>b).right(o,m);if(y===o.length)return t.every(UA(u/hP,f/hP,p));if(y===0)return T0.every(Math.max(UA(u,f,p),1));const[_,x]=o[m/o[y-1][2]<o[y][2]/m?y-1:y];return _.every(x)}return[a,c]}const[twe,rwe]=p7(Qo,SI,yb,h7,wI,xI),[nwe,iwe]=p7(Xo,_I,gb,ng,bI,vI);function pP(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mP(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function swe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,c=t.shortMonths,u=Vh(i),f=Bh(i),p=Vh(s),m=Bh(s),y=Vh(o),_=Bh(o),x=Vh(a),b=Bh(a),T=Vh(c),P=Bh(c),E={a:Q,A:U,b:G,B:te,c:null,d:lF,e:lF,f:Cwe,g:$we,G:Vwe,H:Pwe,I:Twe,j:Awe,L:m7,m:Nwe,M:kwe,p:z,q:Z,Q:dF,s:fF,S:Iwe,u:Owe,U:jwe,V:Rwe,w:Mwe,W:Dwe,x:null,X:null,y:Lwe,Y:Fwe,Z:Bwe,"%":uF},I={a:ce,A:ye,b:Oe,B:Me,c:null,d:cF,e:cF,f:Wwe,g:t_e,G:n_e,H:Uwe,I:qwe,j:zwe,L:y7,m:Hwe,M:Gwe,p:he,q:_e,Q:dF,s:fF,S:Kwe,u:Ywe,U:Xwe,V:Qwe,w:Jwe,W:Zwe,x:null,X:null,y:e_e,Y:r_e,Z:i_e,"%":uF},C={a:$,A:L,b:V,B:D,c:H,d:oF,e:oF,f:wwe,g:sF,G:iF,H:aF,I:aF,j:ywe,L:bwe,m:gwe,M:vwe,p:M,q:mwe,Q:Swe,s:Ewe,S:xwe,u:uwe,U:dwe,V:fwe,w:cwe,W:hwe,x:W,X:K,y:sF,Y:iF,Z:pwe,"%":_we};E.x=R(r,E),E.X=R(n,E),E.c=R(e,E),I.x=R(r,I),I.X=R(n,I),I.c=R(e,I);function R(ue,be){return function(Ae){var le=[],Ze=-1,fe=0,we=ue.length,Ne,je,ft;for(Ae instanceof Date||(Ae=new Date(+Ae));++Ze<we;)ue.charCodeAt(Ze)===37&&(le.push(ue.slice(fe,Ze)),(je=nF[Ne=ue.charAt(++Ze)])!=null?Ne=ue.charAt(++Ze):je=Ne==="e"?" ":"0",(ft=be[Ne])&&(Ne=ft(Ae,je)),le.push(Ne),fe=Ze+1);return le.push(ue.slice(fe,Ze)),le.join("")}}function N(ue,be){return function(Ae){var le=Fh(1900,void 0,1),Ze=k(le,ue,Ae+="",0),fe,we;if(Ze!=Ae.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(be&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(fe=mP(Fh(le.y,0,1)),we=fe.getUTCDay(),fe=we>4||we===0?C0.ceil(fe):C0(fe),fe=mb.offset(fe,(le.V-1)*7),le.y=fe.getUTCFullYear(),le.m=fe.getUTCMonth(),le.d=fe.getUTCDate()+(le.w+6)%7):(fe=pP(Fh(le.y,0,1)),we=fe.getDay(),fe=we>4||we===0?A0.ceil(fe):A0(fe),fe=ng.offset(fe,(le.V-1)*7),le.y=fe.getFullYear(),le.m=fe.getMonth(),le.d=fe.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),we="Z"in le?mP(Fh(le.y,0,1)).getUTCDay():pP(Fh(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(we+5)%7:le.w+le.U*7-(we+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,mP(le)):pP(le)}}function k(ue,be,Ae,le){for(var Ze=0,fe=be.length,we=Ae.length,Ne,je;Ze<fe;){if(le>=we)return-1;if(Ne=be.charCodeAt(Ze++),Ne===37){if(Ne=be.charAt(Ze++),je=C[Ne in nF?be.charAt(Ze++):Ne],!je||(le=je(ue,Ae,le))<0)return-1}else if(Ne!=Ae.charCodeAt(le++))return-1}return le}function M(ue,be,Ae){var le=u.exec(be.slice(Ae));return le?(ue.p=f.get(le[0].toLowerCase()),Ae+le[0].length):-1}function $(ue,be,Ae){var le=y.exec(be.slice(Ae));return le?(ue.w=_.get(le[0].toLowerCase()),Ae+le[0].length):-1}function L(ue,be,Ae){var le=p.exec(be.slice(Ae));return le?(ue.w=m.get(le[0].toLowerCase()),Ae+le[0].length):-1}function V(ue,be,Ae){var le=T.exec(be.slice(Ae));return le?(ue.m=P.get(le[0].toLowerCase()),Ae+le[0].length):-1}function D(ue,be,Ae){var le=x.exec(be.slice(Ae));return le?(ue.m=b.get(le[0].toLowerCase()),Ae+le[0].length):-1}function H(ue,be,Ae){return k(ue,e,be,Ae)}function W(ue,be,Ae){return k(ue,r,be,Ae)}function K(ue,be,Ae){return k(ue,n,be,Ae)}function Q(ue){return o[ue.getDay()]}function U(ue){return s[ue.getDay()]}function G(ue){return c[ue.getMonth()]}function te(ue){return a[ue.getMonth()]}function z(ue){return i[+(ue.getHours()>=12)]}function Z(ue){return 1+~~(ue.getMonth()/3)}function ce(ue){return o[ue.getUTCDay()]}function ye(ue){return s[ue.getUTCDay()]}function Oe(ue){return c[ue.getUTCMonth()]}function Me(ue){return a[ue.getUTCMonth()]}function he(ue){return i[+(ue.getUTCHours()>=12)]}function _e(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var be=R(ue+="",E);return be.toString=function(){return ue},be},parse:function(ue){var be=N(ue+="",!1);return be.toString=function(){return ue},be},utcFormat:function(ue){var be=R(ue+="",I);return be.toString=function(){return ue},be},utcParse:function(ue){var be=N(ue+="",!0);return be.toString=function(){return ue},be}}}var nF={"-":"",_:" ",0:"0"},Zr=/^\s*\d+/,owe=/^%/,awe=/[\\^$*+?|[\]().{}]/g;function It(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function lwe(t){return t.replace(awe,"\\$&")}function Vh(t){return new RegExp("^(?:"+t.map(lwe).join("|")+")","i")}function Bh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function cwe(t,e,r){var n=Zr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function uwe(t,e,r){var n=Zr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function dwe(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function fwe(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function hwe(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function iF(t,e,r){var n=Zr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function sF(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function pwe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function mwe(t,e,r){var n=Zr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function gwe(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function oF(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function ywe(t,e,r){var n=Zr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function aF(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function vwe(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function xwe(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function bwe(t,e,r){var n=Zr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function wwe(t,e,r){var n=Zr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function _we(t,e,r){var n=owe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Swe(t,e,r){var n=Zr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Ewe(t,e,r){var n=Zr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function lF(t,e){return It(t.getDate(),e,2)}function Pwe(t,e){return It(t.getHours(),e,2)}function Twe(t,e){return It(t.getHours()%12||12,e,2)}function Awe(t,e){return It(1+ng.count(Xo(t),t),e,3)}function m7(t,e){return It(t.getMilliseconds(),e,3)}function Cwe(t,e){return m7(t,e)+"000"}function Nwe(t,e){return It(t.getMonth()+1,e,2)}function kwe(t,e){return It(t.getMinutes(),e,2)}function Iwe(t,e){return It(t.getSeconds(),e,2)}function Owe(t){var e=t.getDay();return e===0?7:e}function jwe(t,e){return It(gb.count(Xo(t)-1,t),e,2)}function g7(t){var e=t.getDay();return e>=4||e===0?Kd(t):Kd.ceil(t)}function Rwe(t,e){return t=g7(t),It(Kd.count(Xo(t),t)+(Xo(t).getDay()===4),e,2)}function Mwe(t){return t.getDay()}function Dwe(t,e){return It(A0.count(Xo(t)-1,t),e,2)}function Lwe(t,e){return It(t.getFullYear()%100,e,2)}function $we(t,e){return t=g7(t),It(t.getFullYear()%100,e,2)}function Fwe(t,e){return It(t.getFullYear()%1e4,e,4)}function Vwe(t,e){var r=t.getDay();return t=r>=4||r===0?Kd(t):Kd.ceil(t),It(t.getFullYear()%1e4,e,4)}function Bwe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+It(e/60|0,"0",2)+It(e%60,"0",2)}function cF(t,e){return It(t.getUTCDate(),e,2)}function Uwe(t,e){return It(t.getUTCHours(),e,2)}function qwe(t,e){return It(t.getUTCHours()%12||12,e,2)}function zwe(t,e){return It(1+mb.count(Qo(t),t),e,3)}function y7(t,e){return It(t.getUTCMilliseconds(),e,3)}function Wwe(t,e){return y7(t,e)+"000"}function Hwe(t,e){return It(t.getUTCMonth()+1,e,2)}function Gwe(t,e){return It(t.getUTCMinutes(),e,2)}function Kwe(t,e){return It(t.getUTCSeconds(),e,2)}function Ywe(t){var e=t.getUTCDay();return e===0?7:e}function Xwe(t,e){return It(yb.count(Qo(t)-1,t),e,2)}function v7(t){var e=t.getUTCDay();return e>=4||e===0?Yd(t):Yd.ceil(t)}function Qwe(t,e){return t=v7(t),It(Yd.count(Qo(t),t)+(Qo(t).getUTCDay()===4),e,2)}function Jwe(t){return t.getUTCDay()}function Zwe(t,e){return It(C0.count(Qo(t)-1,t),e,2)}function e_e(t,e){return It(t.getUTCFullYear()%100,e,2)}function t_e(t,e){return t=v7(t),It(t.getUTCFullYear()%100,e,2)}function r_e(t,e){return It(t.getUTCFullYear()%1e4,e,4)}function n_e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Yd(t):Yd.ceil(t),It(t.getUTCFullYear()%1e4,e,4)}function i_e(){return"+0000"}function uF(){return"%"}function dF(t){return+t}function fF(t){return Math.floor(+t/1e3)}var zu,x7,b7;s_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function s_e(t){return zu=swe(t),x7=zu.format,zu.parse,b7=zu.utcFormat,zu.utcParse,zu}function o_e(t){return new Date(t)}function a_e(t){return t instanceof Date?+t:+new Date(+t)}function EI(t,e,r,n,i,s,o,a,c,u){var f=uI(),p=f.invert,m=f.domain,y=u(".%L"),_=u(":%S"),x=u("%I:%M"),b=u("%I %p"),T=u("%a %d"),P=u("%b %d"),E=u("%B"),I=u("%Y");function C(R){return(c(R)<R?y:a(R)<R?_:o(R)<R?x:s(R)<R?b:n(R)<R?i(R)<R?T:P:r(R)<R?E:I)(R)}return f.invert=function(R){return new Date(p(R))},f.domain=function(R){return arguments.length?m(Array.from(R,a_e)):m().map(o_e)},f.ticks=function(R){var N=m();return t(N[0],N[N.length-1],R??10)},f.tickFormat=function(R,N){return N==null?C:u(N)},f.nice=function(R){var N=m();return(!R||typeof R.range!="function")&&(R=e(N[0],N[N.length-1],R??10)),R?m(o7(N,R)):f},f.copy=function(){return rg(f,EI(t,e,r,n,i,s,o,a,c,u))},f}function l_e(){return Bi.apply(EI(nwe,iwe,Xo,_I,gb,ng,bI,vI,pc,x7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function c_e(){return Bi.apply(EI(twe,rwe,Qo,SI,yb,mb,wI,xI,pc,b7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vb(){var t=0,e=1,r,n,i,s,o=Rn,a=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(s(p)-r)*i,a?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([t,e]=p,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(p){return arguments.length?(a=!!p,u):a},u.interpolator=function(p){return arguments.length?(o=p,u):o};function f(p){return function(m){var y,_;return arguments.length?([y,_]=m,o=p(y,_),u):[o(0),o(1)]}}return u.range=f(Vf),u.rangeRound=f(cI),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return s=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),u}}function vl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function w7(){var t=yl(vb()(Rn));return t.copy=function(){return vl(t,w7())},ra.apply(t,arguments)}function _7(){var t=hI(vb()).domain([1,10]);return t.copy=function(){return vl(t,_7()).base(t.base())},ra.apply(t,arguments)}function S7(){var t=pI(vb());return t.copy=function(){return vl(t,S7()).constant(t.constant())},ra.apply(t,arguments)}function PI(){var t=mI(vb());return t.copy=function(){return vl(t,PI()).exponent(t.exponent())},ra.apply(t,arguments)}function u_e(){return PI.apply(null,arguments).exponent(.5)}function E7(){var t=[],e=Rn;function r(n){if(n!=null&&!isNaN(n=+n))return e((eg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Xa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Xxe(t,s/n))},r.copy=function(){return E7(e).domain(t)},ra.apply(r,arguments)}function xb(){var t=0,e=.5,r=1,n=1,i,s,o,a,c,u=Rn,f,p=!1,m;function y(x){return isNaN(x=+x)?m:(x=.5+((x=+f(x))-s)*(n*x<n*s?a:c),u(p?Math.max(0,Math.min(1,x)):x))}y.domain=function(x){return arguments.length?([t,e,r]=x,i=f(t=+t),s=f(e=+e),o=f(r=+r),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,y):[t,e,r]},y.clamp=function(x){return arguments.length?(p=!!x,y):p},y.interpolator=function(x){return arguments.length?(u=x,y):u};function _(x){return function(b){var T,P,E;return arguments.length?([T,P,E]=b,u=_be(x,[T,P,E]),y):[u(0),u(.5),u(1)]}}return y.range=_(Vf),y.rangeRound=_(cI),y.unknown=function(x){return arguments.length?(m=x,y):m},function(x){return f=x,i=x(t),s=x(e),o=x(r),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,y}}function P7(){var t=yl(xb()(Rn));return t.copy=function(){return vl(t,P7())},ra.apply(t,arguments)}function T7(){var t=hI(xb()).domain([.1,1,10]);return t.copy=function(){return vl(t,T7()).base(t.base())},ra.apply(t,arguments)}function A7(){var t=pI(xb());return t.copy=function(){return vl(t,A7()).constant(t.constant())},ra.apply(t,arguments)}function TI(){var t=mI(xb());return t.copy=function(){return vl(t,TI()).exponent(t.exponent())},ra.apply(t,arguments)}function d_e(){return TI.apply(null,arguments).exponent(.5)}const hF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:em,scaleDiverging:P7,scaleDivergingLog:T7,scaleDivergingPow:TI,scaleDivergingSqrt:d_e,scaleDivergingSymlog:A7,scaleIdentity:s7,scaleImplicit:qA,scaleLinear:P0,scaleLog:a7,scaleOrdinal:oI,scalePoint:_p,scalePow:gI,scaleQuantile:u7,scaleQuantize:d7,scaleRadial:c7,scaleSequential:w7,scaleSequentialLog:_7,scaleSequentialPow:PI,scaleSequentialQuantile:E7,scaleSequentialSqrt:u_e,scaleSequentialSymlog:S7,scaleSqrt:Wbe,scaleSymlog:l7,scaleThreshold:f7,scaleTime:l_e,scaleUtc:c_e,tickFormat:i7},Symbol.toStringTag,{value:"Module"}));var gP,pF;function bb(){if(pF)return gP;pF=1;var t=Df();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var a=r[s],c=n(a);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,f=a}return f}return gP=e,gP}var yP,mF;function C7(){if(mF)return yP;mF=1;function t(e,r){return e>r}return yP=t,yP}var vP,gF;function f_e(){if(gF)return vP;gF=1;var t=bb(),e=C7(),r=Ff();function n(i){return i&&i.length?t(i,r,e):void 0}return vP=n,vP}var h_e=f_e();const wb=Mt(h_e);var xP,yF;function N7(){if(yF)return xP;yF=1;function t(e,r){return e<r}return xP=t,xP}var bP,vF;function p_e(){if(vF)return bP;vF=1;var t=bb(),e=N7(),r=Ff();function n(i){return i&&i.length?t(i,r,e):void 0}return bP=n,bP}var m_e=p_e();const _b=Mt(m_e);var wP,xF;function g_e(){if(xF)return wP;xF=1;var t=Uk(),e=so(),r=LW(),n=Yn();function i(s,o){var a=n(s)?t:r;return a(s,e(o,3))}return wP=i,wP}var _P,bF;function y_e(){if(bF)return _P;bF=1;var t=MW(),e=g_e();function r(n,i){return t(e(n,i),1)}return _P=r,_P}var v_e=y_e();const x_e=Mt(v_e);var SP,wF;function b_e(){if(wF)return SP;wF=1;var t=tI();function e(r,n){return t(r,n)}return SP=e,SP}var w_e=b_e();const ig=Mt(w_e);var Bf=1e9,__e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CI,rr=!0,Vi="[DecimalError] ",Ec=Vi+"Invalid argument: ",AI=Vi+"Exponent out of range: ",Uf=Math.floor,rc=Math.pow,S_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hi,Yr=1e7,Jt=7,k7=9007199254740991,N0=Uf(k7/Jt),Ve={};Ve.absoluteValue=Ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ve.comparedTo=Ve.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Jt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ve.dividedBy=Ve.div=function(t){return Fo(this,new this.constructor(t))};Ve.dividedToIntegerBy=Ve.idiv=function(t){var e=this,r=e.constructor;return qt(Fo(e,new r(t),0,1),r.precision)};Ve.equals=Ve.eq=function(t){return!this.cmp(t)};Ve.exponent=function(){return Cr(this)};Ve.greaterThan=Ve.gt=function(t){return this.cmp(t)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(t){return this.cmp(t)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(t){return this.cmp(t)<0};Ve.lessThanOrEqualTo=Ve.lte=function(t){return this.cmp(t)<1};Ve.logarithm=Ve.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(hi))throw Error(Vi+"NaN");if(r.s<1)throw Error(Vi+(r.s?"NaN":"-Infinity"));return r.eq(hi)?new n(0):(rr=!1,e=Fo(sm(r,s),sm(t,s),s),rr=!0,qt(e,i))};Ve.minus=Ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?j7(e,t):I7(e,(t.s=-t.s,t))};Ve.modulo=Ve.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Vi+"NaN");return r.s?(rr=!1,e=Fo(r,t,0,1).times(t),rr=!0,r.minus(e)):qt(new n(r),i)};Ve.naturalExponential=Ve.exp=function(){return O7(this)};Ve.naturalLogarithm=Ve.ln=function(){return sm(this)};Ve.negated=Ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ve.plus=Ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?I7(e,t):j7(e,(t.s=-t.s,t))};Ve.precision=Ve.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ec+t);if(e=Cr(i)+1,n=i.d.length-1,r=n*Jt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ve.squareRoot=Ve.sqrt=function(){var t,e,r,n,i,s,o,a=this,c=a.constructor;if(a.s<1){if(!a.s)return new c(0);throw Error(Vi+"NaN")}for(t=Cr(a),rr=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Bs(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Uf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Fo(a,s,o+2)).times(.5),Bs(s.d).slice(0,o)===(e=Bs(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(qt(s,r+1,0),s.times(s).eq(a)){n=s;break}}else if(e!="9999")break;o+=4}return rr=!0,qt(n,r)};Ve.times=Ve.mul=function(t){var e,r,n,i,s,o,a,c,u,f=this,p=f.constructor,m=f.d,y=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,r=f.e+t.e,c=m.length,u=y.length,c<u&&(s=m,m=y,y=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)a=s[i]+y[n]*m[i-n-1]+e,s[i--]=a%Yr|0,e=a/Yr|0;s[i]=(s[i]+e)%Yr|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,rr?qt(t,p.precision):t};Ve.toDecimalPlaces=Ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Js(t,0,Bf),e===void 0?e=n.rounding:Js(e,0,8),qt(r,t+Cr(r)+1,e))};Ve.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Bc(n,!0):(Js(t,0,Bf),e===void 0?e=i.rounding:Js(e,0,8),n=qt(new i(n),t+1,e),r=Bc(n,!0,t+1)),r};Ve.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Bc(i):(Js(t,0,Bf),e===void 0?e=s.rounding:Js(e,0,8),n=qt(new s(i),t+Cr(i)+1,e),r=Bc(n.abs(),!1,t+Cr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ve.toInteger=Ve.toint=function(){var t=this,e=t.constructor;return qt(new e(t),Cr(t)+1,e.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(t){var e,r,n,i,s,o,a=this,c=a.constructor,u=12,f=+(t=new c(t));if(!t.s)return new c(hi);if(a=new c(a),!a.s){if(t.s<1)throw Error(Vi+"Infinity");return a}if(a.eq(hi))return a;if(n=c.precision,t.eq(hi))return qt(a,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=a.s,o){if((r=f<0?-f:f)<=k7){for(i=new c(hi),e=Math.ceil(n/Jt+4),rr=!1;r%2&&(i=i.times(a),SF(i.d,e)),r=Uf(r/2),r!==0;)a=a.times(a),SF(a.d,e);return rr=!0,t.s<0?new c(hi).div(i):qt(i,n)}}else if(s<0)throw Error(Vi+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,a.s=1,rr=!1,i=t.times(sm(a,n+u)),rr=!0,i=O7(i),i.s=s,i};Ve.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Cr(i),n=Bc(i,r<=s.toExpNeg||r>=s.toExpPos)):(Js(t,1,Bf),e===void 0?e=s.rounding:Js(e,0,8),i=qt(new s(i),t,e),r=Cr(i),n=Bc(i,t<=r||r<=s.toExpNeg,t)),n};Ve.toSignificantDigits=Ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Js(t,1,Bf),e===void 0?e=n.rounding:Js(e,0,8)),qt(new n(r),t,e)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Cr(t),r=t.constructor;return Bc(t,e<=r.toExpNeg||e>=r.toExpPos)};function I7(t,e){var r,n,i,s,o,a,c,u,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),rr?qt(e,p):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,a=u.length):(n=u,i=o,a=c.length),o=Math.ceil(p/Jt),a=o>a?o+1:a+1,s>a&&(s=a,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(a=c.length,s=u.length,a-s<0&&(s=a,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Yr|0,c[s]%=Yr;for(r&&(c.unshift(r),++i),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=i,rr?qt(e,p):e}function Js(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ec+t)}function Bs(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=Jt-n.length,r&&(s+=ja(r)),s+=n;o=t[e],n=o+"",r=Jt-n.length,r&&(s+=ja(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Fo=(function(){function t(n,i){var s,o=0,a=n.length;for(n=n.slice();a--;)s=n[a]*i+o,n[a]=s%Yr|0,o=s/Yr|0;return o&&n.unshift(o),n}function e(n,i,s,o){var a,c;if(s!=o)c=s>o?1:-1;else for(a=c=0;a<s;a++)if(n[a]!=i[a]){c=n[a]>i[a]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Yr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var a,c,u,f,p,m,y,_,x,b,T,P,E,I,C,R,N,k,M=n.constructor,$=n.s==i.s?1:-1,L=n.d,V=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(Vi+"Division by zero");for(c=n.e-i.e,N=V.length,C=L.length,y=new M($),_=y.d=[],u=0;V[u]==(L[u]||0);)++u;if(V[u]>(L[u]||0)&&--c,s==null?P=s=M.precision:o?P=s+(Cr(n)-Cr(i))+1:P=s,P<0)return new M(0);if(P=P/Jt+2|0,u=0,N==1)for(f=0,V=V[0],P++;(u<C||f)&&P--;u++)E=f*Yr+(L[u]||0),_[u]=E/V|0,f=E%V|0;else{for(f=Yr/(V[0]+1)|0,f>1&&(V=t(V,f),L=t(L,f),N=V.length,C=L.length),I=N,x=L.slice(0,N),b=x.length;b<N;)x[b++]=0;k=V.slice(),k.unshift(0),R=V[0],V[1]>=Yr/2&&++R;do f=0,a=e(V,x,N,b),a<0?(T=x[0],N!=b&&(T=T*Yr+(x[1]||0)),f=T/R|0,f>1?(f>=Yr&&(f=Yr-1),p=t(V,f),m=p.length,b=x.length,a=e(p,x,m,b),a==1&&(f--,r(p,N<m?k:V,m))):(f==0&&(a=f=1),p=V.slice()),m=p.length,m<b&&p.unshift(0),r(x,p,b),a==-1&&(b=x.length,a=e(V,x,N,b),a<1&&(f++,r(x,N<b?k:V,b))),b=x.length):a===0&&(f++,x=[0]),_[u++]=f,a&&x[0]?x[b++]=L[I]||0:(x=[L[I]],b=1);while((I++<C||x[0]!==void 0)&&P--)}return _[0]||_.shift(),y.e=c,qt(y,o?s+Cr(y)+1:s)}})();function O7(t,e){var r,n,i,s,o,a,c=0,u=0,f=t.constructor,p=f.precision;if(Cr(t)>16)throw Error(AI+Cr(t));if(!t.s)return new f(hi);for(rr=!1,a=p,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(rc(2,u))/Math.LN10*2+5|0,a+=n,r=i=s=new f(hi),f.precision=a;;){if(i=qt(i.times(t),a),r=r.times(++c),o=s.plus(Fo(i,r,a)),Bs(o.d).slice(0,a)===Bs(s.d).slice(0,a)){for(;u--;)s=qt(s.times(s),a);return f.precision=p,e==null?(rr=!0,qt(s,p)):s}s=o}}function Cr(t){for(var e=t.e*Jt,r=t.d[0];r>=10;r/=10)e++;return e}function EP(t,e,r){if(e>t.LN10.sd())throw rr=!0,r&&(t.precision=r),Error(Vi+"LN10 precision limit exceeded");return qt(new t(t.LN10),e)}function ja(t){for(var e="";t--;)e+="0";return e}function sm(t,e){var r,n,i,s,o,a,c,u,f,p=1,m=10,y=t,_=y.d,x=y.constructor,b=x.precision;if(y.s<1)throw Error(Vi+(y.s?"NaN":"-Infinity"));if(y.eq(hi))return new x(0);if(e==null?(rr=!1,u=b):u=e,y.eq(10))return e==null&&(rr=!0),EP(x,u);if(u+=m,x.precision=u,r=Bs(_),n=r.charAt(0),s=Cr(y),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=Bs(y.d),n=r.charAt(0),p++;s=Cr(y),n>1?(y=new x("0."+r),s++):y=new x(n+"."+r.slice(1))}else return c=EP(x,u+2,b).times(s+""),y=sm(new x(n+"."+r.slice(1)),u-m).plus(c),x.precision=b,e==null?(rr=!0,qt(y,b)):y;for(a=o=y=Fo(y.minus(hi),y.plus(hi),u),f=qt(y.times(y),u),i=3;;){if(o=qt(o.times(f),u),c=a.plus(Fo(o,new x(i),u)),Bs(c.d).slice(0,u)===Bs(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(EP(x,u+2,b).times(s+""))),a=Fo(a,new x(p),u),x.precision=b,e==null?(rr=!0,qt(a,b)):a;a=c,i+=2}}function _F(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Uf(r/Jt),t.d=[],n=(r+1)%Jt,r<0&&(n+=Jt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Jt;n<i;)t.d.push(+e.slice(n,n+=Jt));e=e.slice(n),n=Jt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),rr&&(t.e>N0||t.e<-N0))throw Error(AI+r)}else t.s=0,t.e=0,t.d=[0];return t}function qt(t,e,r){var n,i,s,o,a,c,u,f,p=t.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=Jt,i=e,u=p[f=0];else{if(f=Math.ceil((n+1)/Jt),s=p.length,f>=s)return t;for(u=s=p[f],o=1;s>=10;s/=10)o++;n%=Jt,i=n-Jt+o}if(r!==void 0&&(s=rc(10,o-i-1),a=u/s%10|0,c=e<0||p[f+1]!==void 0||u%s,c=r<4?(a||c)&&(r==0||r==(t.s<0?3:2)):a>5||a==5&&(r==4||c||r==6&&(n>0?i>0?u/rc(10,o-i):0:p[f-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(s=Cr(t),p.length=1,e=e-s-1,p[0]=rc(10,(Jt-e%Jt)%Jt),t.e=Uf(-e/Jt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=f,s=1,f--):(p.length=f+1,s=rc(10,Jt-n),p[f]=i>0?(u/rc(10,o-i)%rc(10,i)|0)*s:0),c)for(;;)if(f==0){(p[0]+=s)==Yr&&(p[0]=1,++t.e);break}else{if(p[f]+=s,p[f]!=Yr)break;p[f--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(rr&&(t.e>N0||t.e<-N0))throw Error(AI+Cr(t));return t}function j7(t,e){var r,n,i,s,o,a,c,u,f,p,m=t.constructor,y=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),rr?qt(e,y):e;if(c=t.d,p=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,a=p.length):(r=p,n=u,a=c.length),i=Math.max(Math.ceil(y/Jt),a)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,a=p.length,f=i<a,f&&(a=i),i=0;i<a;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}o=0}for(f&&(r=c,c=p,p=r,e.s=-e.s),a=c.length,i=p.length-a;i>0;--i)c[a++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=Yr-1;--c[s],c[i]+=Yr}c[i]-=p[i]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,rr?qt(e,y):e):new m(0)}function Bc(t,e,r){var n,i=Cr(t),s=Bs(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+ja(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ja(-i-1)+s,r&&(n=r-o)>0&&(s+=ja(n))):i>=o?(s+=ja(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+ja(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=ja(n))),t.s<0?"-"+s:s}function SF(t,e){if(t.length>e)return t.length=e,!0}function R7(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ec+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return _F(o,s.toString())}else if(typeof s!="string")throw Error(Ec+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,S_e.test(s))_F(o,s);else throw Error(Ec+s)}if(i.prototype=Ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=R7,i.config=i.set=E_e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function E_e(t){if(!t||typeof t!="object")throw Error(Vi+"Object expected");var e,r,n,i=["precision",1,Bf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Uf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ec+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ec+r+": "+n);return this}var CI=R7(__e);hi=new CI(1);const Bt=CI;function P_e(t){return N_e(t)||C_e(t)||A_e(t)||T_e()}function T_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A_e(t,e){if(t){if(typeof t=="string")return GA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GA(t,e)}}function C_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function N_e(t){if(Array.isArray(t))return GA(t)}function GA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var k_e=function(e){return e},M7={},D7=function(e){return e===M7},EF=function(e){return function r(){return arguments.length===0||arguments.length===1&&D7(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},I_e=function t(e,r){return e===1?r:EF(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==M7}).length;return o>=e?r.apply(void 0,i):t(e-o,EF(function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];var f=i.map(function(p){return D7(p)?c.shift():p});return r.apply(void 0,P_e(f).concat(c))}))})},Sb=function(e){return I_e(e.length,e)},KA=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},O_e=Sb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),j_e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return k_e;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,c){return c(a)},s.apply(void 0,arguments))}},YA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},L7=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(a,c){return a===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function R_e(t){var e;return t===0?e=1:e=Math.floor(new Bt(t).abs().log(10).toNumber())+1,e}function M_e(t,e,r){for(var n=new Bt(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var D_e=Sb(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),L_e=Sb(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),$_e=Sb(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Eb={rangeStep:M_e,getDigitCount:R_e,interpolateNumber:D_e,uninterpolateNumber:L_e,uninterpolateTruncation:$_e};function XA(t){return B_e(t)||V_e(t)||$7(t)||F_e()}function F_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function B_e(t){if(Array.isArray(t))return QA(t)}function om(t,e){return z_e(t)||q_e(t,e)||$7(t,e)||U_e()}function U_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7(t,e){if(t){if(typeof t=="string")return QA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QA(t,e)}}function QA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q_e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(n=(a=o.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function z_e(t){if(Array.isArray(t))return t}function F7(t){var e=om(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function V7(t,e,r){if(t.lte(0))return new Bt(0);var n=Eb.getDigitCount(t.toNumber()),i=new Bt(10).pow(n),s=t.div(i),o=n!==1?.05:.1,a=new Bt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=a.mul(i);return e?c:new Bt(Math.ceil(c))}function W_e(t,e,r){var n=1,i=new Bt(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Bt(10).pow(Eb.getDigitCount(t)-1),i=new Bt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Bt(Math.floor(t)))}else t===0?i=new Bt(Math.floor((e-1)/2)):r||(i=new Bt(Math.floor(t)));var o=Math.floor((e-1)/2),a=j_e(O_e(function(c){return i.add(new Bt(c-o).mul(n)).toNumber()}),KA);return a(0,e)}function B7(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Bt(0),tickMin:new Bt(0),tickMax:new Bt(0)};var s=V7(new Bt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Bt(0):(o=new Bt(t).add(e).div(2),o=o.sub(new Bt(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Bt(e).sub(o).div(s).toNumber()),u=a+c+1;return u>r?B7(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,a=e>0?a:a+(r-u)),{step:s,tickMin:o.sub(new Bt(a).mul(s)),tickMax:o.add(new Bt(c).mul(s))})}function H_e(t){var e=om(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=F7([r,n]),c=om(a,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var p=f===1/0?[u].concat(XA(KA(0,i-1).map(function(){return 1/0}))):[].concat(XA(KA(0,i-1).map(function(){return-1/0})),[f]);return r>n?YA(p):p}if(u===f)return W_e(u,i,s);var m=B7(u,f,o,s),y=m.step,_=m.tickMin,x=m.tickMax,b=Eb.rangeStep(_,x.add(new Bt(.1).mul(y)),y);return r>n?YA(b):b}function G_e(t,e){var r=om(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=F7([n,i]),a=om(o,2),c=a[0],u=a[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(e,2),p=V7(new Bt(u).sub(c).div(f-1),s,0),m=[].concat(XA(Eb.rangeStep(new Bt(c),new Bt(u).sub(new Bt(.99).mul(p)),p)),[u]);return n>i?YA(m):m}var K_e=L7(H_e),Y_e=L7(G_e),X_e="Invariant failed";function Uc(t,e){throw new Error(X_e)}var Q_e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k0.apply(this,arguments)}function J_e(t,e){return r1e(t)||t1e(t,e)||e1e(t,e)||Z_e()}function Z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e1e(t,e){if(t){if(typeof t=="string")return PF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PF(t,e)}}function PF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function r1e(t){if(Array.isArray(t))return t}function n1e(t,e){if(t==null)return{};var r=i1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function i1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function s1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z7(n.key),n)}}function a1e(t,e,r){return e&&o1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l1e(t,e,r){return e=I0(e),c1e(t,U7()?Reflect.construct(e,r||[],I0(t).constructor):e.apply(t,r))}function c1e(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u1e(t)}function u1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U7=function(){return!!t})()}function I0(t){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I0(t)}function d1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JA(t,e)}function JA(t,e){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JA(t,e)}function q7(t,e,r){return e=z7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z7(t){var e=f1e(t,"string");return Xd(e)=="symbol"?e:e+""}function f1e(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sg=(function(t){function e(){return s1e(this,e),l1e(this,e,arguments)}return d1e(e,t),a1e(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,a=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,p=n.yAxis,m=n1e(n,Q_e),y=Je(m,!1);this.props.direction==="x"&&f.type!=="number"&&Uc();var _=c.map(function(x){var b=u(x,a),T=b.x,P=b.y,E=b.value,I=b.errorVal;if(!I)return null;var C=[],R,N;if(Array.isArray(I)){var k=J_e(I,2);R=k[0],N=k[1]}else R=N=I;if(s==="vertical"){var M=f.scale,$=P+i,L=$+o,V=$-o,D=M(E-R),H=M(E+N);C.push({x1:H,y1:L,x2:H,y2:V}),C.push({x1:D,y1:$,x2:H,y2:$}),C.push({x1:D,y1:L,x2:D,y2:V})}else if(s==="horizontal"){var W=p.scale,K=T+i,Q=K-o,U=K+o,G=W(E-R),te=W(E+N);C.push({x1:Q,y1:te,x2:U,y2:te}),C.push({x1:K,y1:G,x2:K,y2:te}),C.push({x1:Q,y1:G,x2:U,y2:G})}return X.createElement(kt,k0({className:"recharts-errorBar",key:"bar-".concat(C.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},y),C.map(function(z){return X.createElement("line",k0({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return X.createElement(kt,{className:"recharts-errorBars"},_)}}])})(X.Component);q7(sg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});q7(sg,"displayName","ErrorBar");function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){h1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h1e(t,e,r){return e=p1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p1e(t){var e=m1e(t,"string");return am(e)=="symbol"?e:e+""}function m1e(t,e){if(am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W7=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=ci(r,wd);if(!o)return null;var a=wd.defaultProps,c=a!==void 0?Kl(Kl({},a),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(f,p){var m=p.item,y=p.props,_=y.sectors||y.data||[];return f.concat(_.map(function(x){return{type:o.props.iconType||m.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(f){var p=f.item,m=p.type.defaultProps,y=m!==void 0?Kl(Kl({},m),p.props):{},_=y.dataKey,x=y.name,b=y.legendType,T=y.hide;return{inactive:T,dataKey:_,type:c.iconType||b||"square",color:NI(p),value:x||_,payload:y}}),Kl(Kl(Kl({},c),wd.getWithHeight(o,i)),{},{payload:u,item:o})};function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function AF(t){return x1e(t)||v1e(t)||y1e(t)||g1e()}function g1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y1e(t,e){if(t){if(typeof t=="string")return ZA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(t,e)}}function v1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x1e(t){if(Array.isArray(t))return ZA(t)}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(r),!0).forEach(function(n){Sd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sd(t,e,r){return e=b1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b1e(t){var e=w1e(t,"string");return lm(e)=="symbol"?e:e+""}function w1e(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dr(t,e,r){return ot(t)||ot(e)?r:Lr(e)?mi(t,e,r):nt(e)?e(t):r}function Sp(t,e,r,n){var i=x_e(t,function(a){return Dr(a,e)});if(r==="number"){var s=i.filter(function(a){return Pe(a)||parseFloat(a)});return s.length?[_b(s),wb(s)]:[1/0,-1/0]}var o=n?i.filter(function(a){return!ot(a)}):i;return o.map(function(a){return Lr(a)||a instanceof Date?a:""})}var _1e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<a;u++){var f=u>0?i[u-1].coordinate:i[a-1].coordinate,p=i[u].coordinate,m=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(On(p-f)!==On(m-p)){var _=[];if(On(m-p)===On(c[1]-c[0])){y=m;var x=p+c[1]-c[0];_[0]=Math.min(x,(x+f)/2),_[1]=Math.max(x,(x+f)/2)}else{y=f;var b=m+c[1]-c[0];_[0]=Math.min(p,(b+p)/2),_[1]=Math.max(p,(b+p)/2)}var T=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>T[0]&&e<=T[1]||e>=_[0]&&e<=_[1]){o=i[u].index;break}}else{var P=Math.min(f,m),E=Math.max(f,m);if(e>(P+p)/2&&e<=(E+p)/2){o=i[u].index;break}}}else for(var I=0;I<a;I++)if(I===0&&e<=(n[I].coordinate+n[I+1].coordinate)/2||I>0&&I<a-1&&e>(n[I].coordinate+n[I-1].coordinate)/2&&e<=(n[I].coordinate+n[I+1].coordinate)/2||I===a-1&&e>(n[I].coordinate+n[I-1].coordinate)/2){o=n[I].index;break}return o},NI=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:a;break;default:c=a;break}return c},S1e=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),c=0,u=a.length;c<u;c++)for(var f=s[a[c]].stackGroups,p=Object.keys(f),m=0,y=p.length;m<y;m++){var _=f[p[m]],x=_.items,b=_.cateAxisId,T=x.filter(function(N){return $o(N.type).indexOf("Bar")>=0});if(T&&T.length){var P=T[0].type.defaultProps,E=P!==void 0?hr(hr({},P),T[0].props):T[0].props,I=E.barSize,C=E[b];o[C]||(o[C]=[]);var R=ot(I)?r:I;o[C].push({item:T[0],stackList:T.slice(1),barSize:ot(R)?void 0:jn(R,n,0)})}}return o},E1e=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,c=o.length;if(c<1)return null;var u=jn(r,i,0,!0),f,p=[];if(o[0].barSize===+o[0].barSize){var m=!1,y=i/c,_=o.reduce(function(I,C){return I+C.barSize||0},0);_+=(c-1)*u,_>=i&&(_-=(c-1)*u,u=0),_>=i&&y>0&&(m=!0,y*=.9,_=c*y);var x=(i-_)/2>>0,b={offset:x-u,size:0};f=o.reduce(function(I,C){var R={item:C.item,position:{offset:b.offset+b.size+u,size:m?y:C.barSize}},N=[].concat(AF(I),[R]);return b=N[N.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(k){N.push({item:k,position:b})}),N},p)}else{var T=jn(n,i,0,!0);i-2*T-(c-1)*u<=0&&(u=0);var P=(i-2*T-(c-1)*u)/c;P>1&&(P>>=0);var E=a===+a?Math.min(P,a):P;f=o.reduce(function(I,C,R){var N=[].concat(AF(I),[{item:C.item,position:{offset:T+(P+u)*R+(P-E)/2,size:E}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},p)}return f},P1e=function(e,r,n,i){var s=n.children,o=n.width,a=n.margin,c=o-(a.left||0)-(a.right||0),u=W7({children:s,legendWidth:c});if(u){var f=i||{},p=f.width,m=f.height,y=u.align,_=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&_==="middle")&&y!=="center"&&Pe(e[y]))return hr(hr({},e),{},Sd({},y,e[y]+(p||0)));if((x==="horizontal"||x==="vertical"&&y==="center")&&_!=="middle"&&Pe(e[_]))return hr(hr({},e),{},Sd({},_,e[_]+(m||0)))}return e},T1e=function(e,r,n){return ot(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},H7=function(e,r,n,i,s){var o=r.props.children,a=gi(o,sg).filter(function(u){return T1e(i,s,u.props.direction)});if(a&&a.length){var c=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var p=Dr(f,n);if(ot(p))return u;var m=Array.isArray(p)?[_b(p),wb(p)]:[p,p],y=c.reduce(function(_,x){var b=Dr(f,x,0),T=m[0]-Math.abs(Array.isArray(b)?b[0]:b),P=m[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(T,_[0]),Math.max(P,_[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},A1e=function(e,r,n,i,s){var o=r.map(function(a){return H7(e,a,n,s,i)}).filter(function(a){return!ot(a)});return o&&o.length?o.reduce(function(a,c){return[Math.min(a[0],c[0]),Math.max(a[1],c[1])]},[1/0,-1/0]):null},G7=function(e,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&H7(e,c,u,i)||Sp(e,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(c,u){for(var f=0,p=u.length;f<p;f++)a[u[f]]||(a[u[f]]=!0,c.push(u[f]));return c},[])},K7=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Y7=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var s,o,a=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||a.push(r),o||a.push(n),a},Oo=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?On(a[0]-a[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(p){var m=s?s.indexOf(p):p;return{coordinate:i(m)+u,value:p,offset:u}});return f.filter(function(p){return!Jm(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,m){return{coordinate:i(p)+u,value:p,index:m,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+u,value:p,offset:u}}):i.domain().map(function(p,m){return{coordinate:i(p)+u,value:s?s[p]:p,index:m,offset:u}})},PP=new WeakMap,Xy=function(e,r){if(typeof r!="function")return e;PP.has(e)||PP.set(e,new WeakMap);var n=PP.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},X7=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:em(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:P0(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:_p(),realScaleType:"point"}:s==="category"?{scale:em(),realScaleType:"band"}:{scale:P0(),realScaleType:"linear"};if($c(i)){var c="scale".concat(ab(i));return{scale:(hF[c]||_p)(),realScaleType:hF[c]?c:"point"}}return nt(i)?{scale:i}:{scale:_p(),realScaleType:"point"}},NF=1e-4,Q7=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-NF,o=Math.max(i[0],i[1])+NF,a=e(r[0]),c=e(r[n-1]);(a<s||a>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},C1e=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},N1e=function(e,r){if(!r||r.length!==2||!Pe(r[0])||!Pe(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Pe(e[0])||e[0]<n)&&(s[0]=n),(!Pe(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},k1e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,a=0;a<r;++a){var c=Jm(e[a][n][1])?e[a][n][0]:e[a][n][1];c>=0?(e[a][n][0]=s,e[a][n][1]=s+c,s=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+c,o=e[a][n][1])}},I1e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var a=Jm(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=s,e[o][n][1]=s+a,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},O1e={sign:k1e,expand:xye,none:Ud,silhouette:bye,wiggle:wye,positive:I1e},j1e=function(e,r,n){var i=r.map(function(a){return a.props.dataKey}),s=O1e[n],o=vye().keys(i).value(function(a,c){return+Dr(a,c,0)}).order(CA).offset(s);return o(e)},R1e=function(e,r,n,i,s,o){if(!e)return null;var a=o?r.reverse():r,c={},u=a.reduce(function(p,m){var y,_=(y=m.type)!==null&&y!==void 0&&y.defaultProps?hr(hr({},m.type.defaultProps),m.props):m.props,x=_.stackId,b=_.hide;if(b)return p;var T=_[n],P=p[T]||{hasStack:!1,stackGroups:{}};if(Lr(x)){var E=P.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};E.items.push(m),P.hasStack=!0,P.stackGroups[x]=E}else P.stackGroups[$f("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return hr(hr({},p),{},Sd({},T,P))},c),f={};return Object.keys(u).reduce(function(p,m){var y=u[m];if(y.hasStack){var _={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(x,b){var T=y.stackGroups[b];return hr(hr({},x),{},Sd({},b,{numericAxisId:n,cateAxisId:i,items:T.items,stackedData:j1e(e,T.items,s)}))},_)}return hr(hr({},p),{},Sd({},m,y))},f)},J7=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,a=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=K_e(u,s,a);return e.domain([_b(f),wb(f)]),{niceTicks:f}}if(s&&i==="number"){var p=e.domain(),m=Y_e(p,s,a);return{niceTicks:m}}return null};function kF(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ot(i[e.dataKey])){var a=a0(r,"value",i[e.dataKey]);if(a)return a.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Dr(i,ot(o)?e.dataKey:o);return ot(c)?null:e.scale(c)}var IF=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var c=Dr(o,r.dataKey,r.domain[a]);return ot(c)?null:r.scale(c)-s/2+i},M1e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},D1e=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Lr(s)){var o=r[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},L1e=function(e){return e.reduce(function(r,n){return[_b(n.concat([r[0]]).filter(Pe)),wb(n.concat([r[1]]).filter(Pe))]},[1/0,-1/0])},Z7=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,c=a.reduce(function(u,f){var p=L1e(f.slice(r,n+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},OF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eC=function(e,r,n){if(nt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Pe(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(OF.test(e[0])){var s=+OF.exec(e[0])[1];i[0]=r[0]-s}else nt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Pe(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(jF.test(e[1])){var o=+jF.exec(e[1])[1];i[1]=r[1]+o}else nt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},O0=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=nI(r,function(p){return p.coordinate}),o=1/0,a=1,c=s.length;a<c;a++){var u=s[a],f=s[a-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},RF=function(e,r,n){return!e||!e.length||ig(e,mi(n,"type.defaultProps.domain"))?r:e},eH=function(e,r){var n=e.type.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,a=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return hr(hr({},Je(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:NI(e),value:Dr(r,i),type:c,payload:r,chartType:u,hide:f})};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Po(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(n){tH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tH(t,e,r){return e=$1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $1e(t){var e=F1e(t,"string");return cm(e)=="symbol"?e:e+""}function F1e(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V1e(t,e){return z1e(t)||q1e(t,e)||U1e(t,e)||B1e()}function B1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U1e(t,e){if(t){if(typeof t=="string")return DF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DF(t,e)}}function DF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function z1e(t){if(Array.isArray(t))return t}var j0=Math.PI/180,W1e=function(e){return e*180/Math.PI},Kt=function(e,r,n,i){return{x:e+Math.cos(-j0*i)*n,y:r+Math.sin(-j0*i)*n}},rH=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},H1e=function(e,r,n,i,s){var o=e.width,a=e.height,c=e.startAngle,u=e.endAngle,f=jn(e.cx,o,o/2),p=jn(e.cy,a,a/2),m=rH(o,a,n),y=jn(e.innerRadius,m,0),_=jn(e.outerRadius,m,m*.8),x=Object.keys(r);return x.reduce(function(b,T){var P=r[T],E=P.domain,I=P.reversed,C;if(ot(P.range))i==="angleAxis"?C=[c,u]:i==="radiusAxis"&&(C=[y,_]),I&&(C=[C[1],C[0]]);else{C=P.range;var R=C,N=V1e(R,2);c=N[0],u=N[1]}var k=X7(P,s),M=k.realScaleType,$=k.scale;$.domain(E).range(C),Q7($);var L=J7($,Po(Po({},P),{},{realScaleType:M})),V=Po(Po(Po({},P),L),{},{range:C,radius:_,realScaleType:M,scale:$,cx:f,cy:p,innerRadius:y,outerRadius:_,startAngle:c,endAngle:u});return Po(Po({},b),{},tH({},T,V))},{})},G1e=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},K1e=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,a=G1e({x:n,y:i},{x:s,y:o});if(a<=0)return{radius:a};var c=(n-s)/a,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:a,angle:W1e(u),angleInRadian:u}},Y1e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},X1e=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},LF=function(e,r){var n=e.x,i=e.y,s=K1e({x:n,y:i},r),o=s.radius,a=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=Y1e(r),p=f.startAngle,m=f.endAngle,y=a,_;if(p<=m){for(;y>m;)y-=360;for(;y<p;)y+=360;_=y>=p&&y<=m}else{for(;y>p;)y-=360;for(;y<m;)y+=360;_=y>=m&&y<=p}return _?Po(Po({},r),{},{radius:o,angle:X1e(y,r)}):null},nH=function(e){return!S.isValidElement(e)&&!nt(e)&&typeof e!="boolean"?e.className:""};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}var Q1e=["offset"];function J1e(t){return rSe(t)||tSe(t)||eSe(t)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eSe(t,e){if(t){if(typeof t=="string")return tC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tC(t,e)}}function tSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rSe(t){if(Array.isArray(t))return tC(t)}function tC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nSe(t,e){if(t==null)return{};var r=iSe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(r),!0).forEach(function(n){sSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sSe(t,e,r){return e=oSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oSe(t){var e=aSe(t,"string");return um(e)=="symbol"?e:e+""}function aSe(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(this,arguments)}var lSe=function(e){var r=e.value,n=e.formatter,i=ot(e.children)?r:e.children;return nt(n)?n(i):i},cSe=function(e,r){var n=On(r-e),i=Math.min(Math.abs(r-e),360);return n*i},uSe=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,c=s,u=c.cx,f=c.cy,p=c.innerRadius,m=c.outerRadius,y=c.startAngle,_=c.endAngle,x=c.clockWise,b=(p+m)/2,T=cSe(y,_),P=T>=0?1:-1,E,I;i==="insideStart"?(E=y+P*o,I=x):i==="insideEnd"?(E=_-P*o,I=!x):i==="end"&&(E=_+P*o,I=x),I=T<=0?I:!I;var C=Kt(u,f,b,E),R=Kt(u,f,b,E+(I?1:-1)*359),N="M".concat(C.x,",").concat(C.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(I?0:1,`,
    `).concat(R.x,",").concat(R.y),k=ot(e.id)?$f("recharts-radial-line-"):e.id;return X.createElement("text",dm({},n,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",a)}),X.createElement("defs",null,X.createElement("path",{id:k,d:N})),X.createElement("textPath",{xlinkHref:"#".concat(k)},r))},dSe=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,a=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,p=s.endAngle,m=(f+p)/2;if(i==="outside"){var y=Kt(o,a,u+n,m),_=y.x,x=y.y;return{x:_,y:x,textAnchor:_>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,T=Kt(o,a,b,m),P=T.x,E=T.y;return{x:P,y:E,textAnchor:"middle",verticalAnchor:"middle"}},fSe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,a=o.x,c=o.y,u=o.width,f=o.height,p=f>=0?1:-1,m=p*i,y=p>0?"end":"start",_=p>0?"start":"end",x=u>=0?1:-1,b=x*i,T=x>0?"end":"start",P=x>0?"start":"end";if(s==="top"){var E={x:a+u/2,y:c-p*i,textAnchor:"middle",verticalAnchor:y};return Rr(Rr({},E),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var I={x:a+u/2,y:c+f+m,textAnchor:"middle",verticalAnchor:_};return Rr(Rr({},I),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var C={x:a-b,y:c+f/2,textAnchor:T,verticalAnchor:"middle"};return Rr(Rr({},C),n?{width:Math.max(C.x-n.x,0),height:f}:{})}if(s==="right"){var R={x:a+u+b,y:c+f/2,textAnchor:P,verticalAnchor:"middle"};return Rr(Rr({},R),n?{width:Math.max(n.x+n.width-R.x,0),height:f}:{})}var N=n?{width:u,height:f}:{};return s==="insideLeft"?Rr({x:a+b,y:c+f/2,textAnchor:P,verticalAnchor:"middle"},N):s==="insideRight"?Rr({x:a+u-b,y:c+f/2,textAnchor:T,verticalAnchor:"middle"},N):s==="insideTop"?Rr({x:a+u/2,y:c+m,textAnchor:"middle",verticalAnchor:_},N):s==="insideBottom"?Rr({x:a+u/2,y:c+f-m,textAnchor:"middle",verticalAnchor:y},N):s==="insideTopLeft"?Rr({x:a+b,y:c+m,textAnchor:P,verticalAnchor:_},N):s==="insideTopRight"?Rr({x:a+u-b,y:c+m,textAnchor:T,verticalAnchor:_},N):s==="insideBottomLeft"?Rr({x:a+b,y:c+f-m,textAnchor:P,verticalAnchor:y},N):s==="insideBottomRight"?Rr({x:a+u-b,y:c+f-m,textAnchor:T,verticalAnchor:y},N):Lf(s)&&(Pe(s.x)||fc(s.x))&&(Pe(s.y)||fc(s.y))?Rr({x:a+jn(s.x,u),y:c+jn(s.y,f),textAnchor:"end",verticalAnchor:"end"},N):Rr({x:a+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},N)},hSe=function(e){return"cx"in e&&Pe(e.cx)};function Xr(t){var e=t.offset,r=e===void 0?5:e,n=nSe(t,Q1e),i=Rr({offset:r},n),s=i.viewBox,o=i.position,a=i.value,c=i.children,u=i.content,f=i.className,p=f===void 0?"":f,m=i.textBreakAll;if(!s||ot(a)&&ot(c)&&!S.isValidElement(u)&&!nt(u))return null;if(S.isValidElement(u))return S.cloneElement(u,i);var y;if(nt(u)){if(y=S.createElement(u,i),S.isValidElement(y))return y}else y=lSe(i);var _=hSe(s),x=Je(i,!0);if(_&&(o==="insideStart"||o==="insideEnd"||o==="end"))return uSe(i,y,x);var b=_?dSe(i):fSe(i);return X.createElement(Vc,dm({className:lt("recharts-label",p)},x,b,{breakAll:m}),y)}Xr.displayName="Label";var iH=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,c=e.radius,u=e.innerRadius,f=e.outerRadius,p=e.x,m=e.y,y=e.top,_=e.left,x=e.width,b=e.height,T=e.clockWise,P=e.labelViewBox;if(P)return P;if(Pe(x)&&Pe(b)){if(Pe(p)&&Pe(m))return{x:p,y:m,width:x,height:b};if(Pe(y)&&Pe(_))return{x:y,y:_,width:x,height:b}}return Pe(p)&&Pe(m)?{x:p,y:m,width:0,height:0}:Pe(r)&&Pe(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||a||0,clockWise:T}:e.viewBox?e.viewBox:{}},pSe=function(e,r){return e?e===!0?X.createElement(Xr,{key:"label-implicit",viewBox:r}):Lr(e)?X.createElement(Xr,{key:"label-implicit",viewBox:r,value:e}):S.isValidElement(e)?e.type===Xr?S.cloneElement(e,{key:"label-implicit",viewBox:r}):X.createElement(Xr,{key:"label-implicit",content:e,viewBox:r}):nt(e)?X.createElement(Xr,{key:"label-implicit",content:e,viewBox:r}):Lf(e)?X.createElement(Xr,dm({viewBox:r},e,{key:"label-implicit"})):null:null},mSe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=iH(e),o=gi(i,Xr).map(function(c,u){return S.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var a=pSe(e.label,r||s);return[a].concat(J1e(o))};Xr.parseViewBox=iH;Xr.renderCallByParent=mSe;var TP,FF;function gSe(){if(FF)return TP;FF=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return TP=t,TP}var ySe=gSe();const vSe=Mt(ySe);function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}var xSe=["valueAccessor"],bSe=["data","dataKey","clockWise","id","textBreakAll"];function wSe(t){return PSe(t)||ESe(t)||SSe(t)||_Se()}function _Se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SSe(t,e){if(t){if(typeof t=="string")return rC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rC(t,e)}}function ESe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PSe(t){if(Array.isArray(t))return rC(t)}function rC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R0.apply(this,arguments)}function VF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(r),!0).forEach(function(n){TSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TSe(t,e,r){return e=ASe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ASe(t){var e=CSe(t,"string");return fm(e)=="symbol"?e:e+""}function CSe(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UF(t,e){if(t==null)return{};var r=NSe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kSe=function(e){return Array.isArray(e.value)?vSe(e.value):e.value};function Vo(t){var e=t.valueAccessor,r=e===void 0?kSe:e,n=UF(t,xSe),i=n.data,s=n.dataKey,o=n.clockWise,a=n.id,c=n.textBreakAll,u=UF(n,bSe);return!i||!i.length?null:X.createElement(kt,{className:"recharts-label-list"},i.map(function(f,p){var m=ot(s)?r(f,p):Dr(f&&f.payload,s),y=ot(a)?{}:{id:"".concat(a,"-").concat(p)};return X.createElement(Xr,R0({},Je(f,!0),u,y,{parentViewBox:f.parentViewBox,value:m,textBreakAll:c,viewBox:Xr.parseViewBox(ot(o)?f:BF(BF({},f),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}Vo.displayName="LabelList";function ISe(t,e){return t?t===!0?X.createElement(Vo,{key:"labelList-implicit",data:e}):X.isValidElement(t)||nt(t)?X.createElement(Vo,{key:"labelList-implicit",data:e,content:t}):Lf(t)?X.createElement(Vo,R0({data:e},t,{key:"labelList-implicit"})):null:null}function OSe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=gi(n,Vo).map(function(o,a){return S.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!r)return i;var s=ISe(t.label,e);return[s].concat(wSe(i))}Vo.renderCallByParent=OSe;function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nC.apply(this,arguments)}function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){jSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jSe(t,e,r){return e=RSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RSe(t){var e=MSe(t,"string");return hm(e)=="symbol"?e:e+""}function MSe(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DSe=function(e,r){var n=On(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Qy=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,f=c*(a?1:-1)+i,p=Math.asin(c/f)/j0,m=u?s:s+o*p,y=Kt(r,n,f,m),_=Kt(r,n,i,m),x=u?s-o*p:s,b=Kt(r,n,f*Math.cos(p*j0),x);return{center:y,circleTangency:_,lineTangency:b,theta:p}},sH=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,c=DSe(o,a),u=o+c,f=Kt(r,n,s,o),p=Kt(r,n,s,u),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var y=Kt(r,n,i,o),_=Kt(r,n,i,u);m+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},LSe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,p=On(f-u),m=Qy({cx:r,cy:n,radius:s,angle:u,sign:p,cornerRadius:o,cornerIsExternal:c}),y=m.circleTangency,_=m.lineTangency,x=m.theta,b=Qy({cx:r,cy:n,radius:s,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:c}),T=b.circleTangency,P=b.lineTangency,E=b.theta,I=c?Math.abs(u-f):Math.abs(u-f)-x-E;if(I<0)return a?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sH({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var C="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,`
  `);if(i>0){var R=Qy({cx:r,cy:n,radius:i,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=R.circleTangency,k=R.lineTangency,M=R.theta,$=Qy({cx:r,cy:n,radius:i,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=$.circleTangency,V=$.lineTangency,D=$.theta,H=c?Math.abs(u-f):Math.abs(u-f)-M-D;if(H<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(p>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},$Se={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},oH=function(e){var r=zF(zF({},$Se),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,a=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,m=r.className;if(o<s||f===p)return null;var y=lt("recharts-sector",m),_=o-s,x=jn(a,_,0,!0),b;return x>0&&Math.abs(f-p)<360?b=LSe({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,_/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:p}):b=sH({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:p}),X.createElement("path",nC({},Je(r,!0),{className:y,d:b,role:"img"}))};function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iC.apply(this,arguments)}function WF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(r),!0).forEach(function(n){FSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FSe(t,e,r){return e=VSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VSe(t){var e=BSe(t,"string");return pm(e)=="symbol"?e:e+""}function BSe(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GF={curveBasisClosed:aye,curveBasisOpen:lye,curveBasis:oye,curveBumpX:Hge,curveBumpY:Gge,curveLinearClosed:cye,curveLinear:cb,curveMonotoneX:uye,curveMonotoneY:dye,curveNatural:fye,curveStep:hye,curveStepAfter:mye,curveStepBefore:pye},Jy=function(e){return e.x===+e.x&&e.y===+e.y},Uh=function(e){return e.x},qh=function(e){return e.y},USe=function(e,r){if(nt(e))return e;var n="curve".concat(ab(e));return(n==="curveMonotone"||n==="curveBump")&&r?GF["".concat(n).concat(r==="vertical"?"Y":"X")]:GF[n]||cb},qSe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,c=e.connectNulls,u=c===void 0?!1:c,f=USe(n,a),p=u?s.filter(function(x){return Jy(x)}):s,m;if(Array.isArray(o)){var y=u?o.filter(function(x){return Jy(x)}):o,_=p.map(function(x,b){return HF(HF({},x),{},{base:y[b]})});return a==="vertical"?m=qy().y(qh).x1(Uh).x0(function(x){return x.base.x}):m=qy().x(Uh).y1(qh).y0(function(x){return x.base.y}),m.defined(Jy).curve(f),m(_)}return a==="vertical"&&Pe(o)?m=qy().y(qh).x1(Uh).x0(o):Pe(o)?m=qy().x(Uh).y1(qh).y0(o):m=iW().x(Uh).y(qh),m.defined(Jy).curve(f),m(p)},M0=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?qSe(e):i;return S.createElement("path",iC({},Je(e,!1),l0(e),{className:lt("recharts-curve",r),d:o,ref:s}))},AP={exports:{}},CP,KF;function zSe(){if(KF)return CP;KF=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return CP=t,CP}var NP,YF;function WSe(){if(YF)return NP;YF=1;var t=zSe();function e(){}function r(){}return r.resetWarningCache=e,NP=function(){function n(o,a,c,u,f,p){if(p!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},NP}var XF;function HSe(){return XF||(XF=1,AP.exports=WSe()()),AP.exports}var GSe=HSe();const $t=Mt(GSe);var KSe=Object.getOwnPropertyNames,YSe=Object.getOwnPropertySymbols,XSe=Object.prototype.hasOwnProperty;function QF(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function Zy(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),a=s.get(n);if(o&&a)return o===n&&a===r;s.set(r,n),s.set(n,r);var c=t(r,n,i);return s.delete(r),s.delete(n),c}}function QSe(t){return t!=null?t[Symbol.toStringTag]:void 0}function JF(t){return KSe(t).concat(YSe(t))}var JSe=Object.hasOwn||(function(t,e){return XSe.call(t,e)});function tu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ZSe="__v",eEe="__o",tEe="_owner",ZF=Object.getOwnPropertyDescriptor,eV=Object.keys;function rEe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function nEe(t,e){return tu(t.getTime(),e.getTime())}function iEe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function sEe(t,e){return t===e}function tV(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,a,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),f=!1,p=0;(a=u.next())&&!a.done;){if(i[p]){p++;continue}var m=o.value,y=a.value;if(r.equals(m[0],y[0],c,p,t,e,r)&&r.equals(m[1],y[1],m[0],y[0],t,e,r)){f=i[p]=!0;break}p++}if(!f)return!1;c++}return!0}var oEe=tu;function aEe(t,e,r){var n=eV(t),i=n.length;if(eV(e).length!==i)return!1;for(;i-- >0;)if(!aH(t,e,r,n[i]))return!1;return!0}function zh(t,e,r){var n=JF(t),i=n.length;if(JF(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=n[i],!aH(t,e,r,s)||(o=ZF(t,s),a=ZF(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function lEe(t,e){return tu(t.valueOf(),e.valueOf())}function cEe(t,e){return t.source===e.source&&t.flags===e.flags}function rV(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,f=0;(a=c.next())&&!a.done;){if(!i[f]&&r.equals(o.value,a.value,o.value,a.value,t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function uEe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function dEe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function aH(t,e,r,n){return(n===tEe||n===eEe||n===ZSe)&&(t.$$typeof||e.$$typeof)?!0:JSe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var fEe="[object Arguments]",hEe="[object Boolean]",pEe="[object Date]",mEe="[object Error]",gEe="[object Map]",yEe="[object Number]",vEe="[object Object]",xEe="[object RegExp]",bEe="[object Set]",wEe="[object String]",_Ee="[object URL]",SEe=Array.isArray,nV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,iV=Object.assign,EEe=Object.prototype.toString.call.bind(Object.prototype.toString);function PEe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,p=t.areTypedArraysEqual,m=t.areUrlsEqual,y=t.unknownTagComparators;return function(x,b,T){if(x===b)return!0;if(x==null||b==null)return!1;var P=typeof x;if(P!==typeof b)return!1;if(P!=="object")return P==="number"?o(x,b,T):P==="function"?i(x,b,T):!1;var E=x.constructor;if(E!==b.constructor)return!1;if(E===Object)return a(x,b,T);if(SEe(x))return e(x,b,T);if(nV!=null&&nV(x))return p(x,b,T);if(E===Date)return r(x,b,T);if(E===RegExp)return u(x,b,T);if(E===Map)return s(x,b,T);if(E===Set)return f(x,b,T);var I=EEe(x);if(I===pEe)return r(x,b,T);if(I===xEe)return u(x,b,T);if(I===gEe)return s(x,b,T);if(I===bEe)return f(x,b,T);if(I===vEe)return typeof x.then!="function"&&typeof b.then!="function"&&a(x,b,T);if(I===_Ee)return m(x,b,T);if(I===mEe)return n(x,b,T);if(I===fEe)return a(x,b,T);if(I===hEe||I===yEe||I===wEe)return c(x,b,T);if(y){var C=y[I];if(!C){var R=QSe(x);R&&(C=y[R])}if(C)return C(x,b,T)}return!1}}function TEe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?zh:rEe,areDatesEqual:nEe,areErrorsEqual:iEe,areFunctionsEqual:sEe,areMapsEqual:n?QF(tV,zh):tV,areNumbersEqual:oEe,areObjectsEqual:n?zh:aEe,arePrimitiveWrappersEqual:lEe,areRegExpsEqual:cEe,areSetsEqual:n?QF(rV,zh):rV,areTypedArraysEqual:n?zh:uEe,areUrlsEqual:dEe,unknownTagComparators:void 0};if(r&&(i=iV({},i,r(i))),e){var s=Zy(i.areArraysEqual),o=Zy(i.areMapsEqual),a=Zy(i.areObjectsEqual),c=Zy(i.areSetsEqual);i=iV({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:c})}return i}function AEe(t){return function(e,r,n,i,s,o,a){return t(e,r,a)}}function CEe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(c,u){var f=n(),p=f.cache,m=p===void 0?e?new WeakMap:void 0:p,y=f.meta;return r(c,u,{cache:m,equals:i,meta:y,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var NEe=xl();xl({strict:!0});xl({circular:!0});xl({circular:!0,strict:!0});xl({createInternalComparator:function(){return tu}});xl({strict:!0,createInternalComparator:function(){return tu}});xl({circular:!0,createInternalComparator:function(){return tu}});xl({circular:!0,createInternalComparator:function(){return tu},strict:!0});function xl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=TEe(t),c=PEe(a),u=n?n(c):AEe(c);return CEe({circular:r,comparator:c,createState:i,equals:u,strict:o})}function kEe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function sV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):kEe(i)};requestAnimationFrame(n)}function sC(t){"@babel/helpers - typeof";return sC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sC(t)}function IEe(t){return MEe(t)||REe(t)||jEe(t)||OEe()}function OEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jEe(t,e){if(t){if(typeof t=="string")return oV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oV(t,e)}}function oV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function REe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MEe(t){if(Array.isArray(t))return t}function DEe(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,a=IEe(o),c=a[0],u=a.slice(1);if(typeof c=="number"){sV(i.bind(null,u),c);return}i(c),sV(i.bind(null,u));return}sC(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function aV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(r),!0).forEach(function(n){lH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lH(t,e,r){return e=LEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LEe(t){var e=$Ee(t,"string");return mm(e)==="symbol"?e:String(e)}function $Ee(t,e){if(mm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FEe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},VEe=function(e){return e},BEe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ep=function(e,r){return Object.keys(r).reduce(function(n,i){return lV(lV({},n),{},lH({},i,e(i,r[i])))},{})},cV=function(e,r,n){return e.map(function(i){return"".concat(BEe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function UEe(t,e){return WEe(t)||zEe(t,e)||cH(t,e)||qEe()}function qEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function WEe(t){if(Array.isArray(t))return t}function HEe(t){return YEe(t)||KEe(t)||cH(t)||GEe()}function GEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cH(t,e){if(t){if(typeof t=="string")return oC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oC(t,e)}}function KEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YEe(t){if(Array.isArray(t))return oC(t)}function oC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var D0=1e-4,uH=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},dH=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},uV=function(e,r){return function(n){var i=uH(e,r);return dH(i,n)}},XEe=function(e,r){return function(n){var i=uH(e,r),s=[].concat(HEe(i.map(function(o,a){return o*a}).slice(1)),[0]);return dH(s,n)}},dV=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=UEe(u,4);i=f[0],s=f[1],o=f[2],a=f[3]}}}var p=uV(i,o),m=uV(s,a),y=XEe(i,o),_=function(T){return T>1?1:T<0?0:T},x=function(T){for(var P=T>1?1:T,E=P,I=0;I<8;++I){var C=p(E)-P,R=y(E);if(Math.abs(C-P)<D0||R<D0)return m(E);E=_(E-C/R)}return m(E)};return x.isStepper=!1,x},QEe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,c=function(f,p,m){var y=-(f-p)*n,_=m*s,x=m+(y-_)*a/1e3,b=m*a/1e3+f;return Math.abs(b-p)<D0&&Math.abs(x)<D0?[p,0]:[b,x]};return c.isStepper=!0,c.dt=a,c},JEe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dV(i);case"spring":return QEe();default:if(i.split("(")[0]==="cubic-bezier")return dV(i)}return typeof i=="function"?i:null};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function fV(t){return tPe(t)||ePe(t)||fH(t)||ZEe()}function ZEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ePe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tPe(t){if(Array.isArray(t))return lC(t)}function hV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(r),!0).forEach(function(n){aC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aC(t,e,r){return e=rPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rPe(t){var e=nPe(t,"string");return gm(e)==="symbol"?e:String(e)}function nPe(t,e){if(gm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iPe(t,e){return aPe(t)||oPe(t,e)||fH(t,e)||sPe()}function sPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fH(t,e){if(t){if(typeof t=="string")return lC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lC(t,e)}}function lC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function aPe(t){if(Array.isArray(t))return t}var L0=function(e,r,n){return e+(r-e)*n},cC=function(e){var r=e.from,n=e.to;return r!==n},lPe=function t(e,r,n){var i=Ep(function(s,o){if(cC(o)){var a=e(o.from,o.to,o.velocity),c=iPe(a,2),u=c[0],f=c[1];return sn(sn({},o),{},{from:u,velocity:f})}return o},r);return n<1?Ep(function(s,o){return cC(o)?sn(sn({},o),{},{velocity:L0(o.velocity,i[s].velocity,n),from:L0(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const cPe=(function(t,e,r,n,i){var s=FEe(t,e),o=s.reduce(function(b,T){return sn(sn({},b),{},aC({},T,[t[T],e[T]]))},{}),a=s.reduce(function(b,T){return sn(sn({},b),{},aC({},T,{from:t[T],velocity:0,to:e[T]}))},{}),c=-1,u,f,p=function(){return null},m=function(){return Ep(function(T,P){return P.from},a)},y=function(){return!Object.values(a).filter(cC).length},_=function(T){u||(u=T);var P=T-u,E=P/r.dt;a=lPe(r,a,E),i(sn(sn(sn({},t),e),m())),u=T,y()||(c=requestAnimationFrame(p))},x=function(T){f||(f=T);var P=(T-f)/n,E=Ep(function(C,R){return L0.apply(void 0,fV(R).concat([r(P)]))},o);if(i(sn(sn(sn({},t),e),E)),P<1)c=requestAnimationFrame(p);else{var I=Ep(function(C,R){return L0.apply(void 0,fV(R).concat([r(1)]))},o);i(sn(sn(sn({},t),e),I))}};return p=r.isStepper?_:x,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}var uPe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dPe(t,e){if(t==null)return{};var r=fPe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fPe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function kP(t){return gPe(t)||mPe(t)||pPe(t)||hPe()}function hPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pPe(t,e){if(t){if(typeof t=="string")return uC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uC(t,e)}}function mPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gPe(t){if(Array.isArray(t))return uC(t)}function uC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(r),!0).forEach(function(n){sp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sp(t,e,r){return e=hH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hH(n.key),n)}}function xPe(t,e,r){return e&&vPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hH(t){var e=bPe(t,"string");return Qd(e)==="symbol"?e:String(e)}function bPe(t,e){if(Qd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dC(t,e)}function dC(t,e){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dC(t,e)}function _Pe(t){var e=SPe();return function(){var n=$0(t),i;if(e){var s=$0(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return fC(this,i)}}function fC(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hC(t)}function hC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $0(t){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$0(t)}var Zs=(function(t){wPe(r,t);var e=_Pe(r);function r(n,i){var s;yPe(this,r),s=e.call(this,n,i);var o=s.props,a=o.isActive,c=o.attributeName,u=o.from,f=o.to,p=o.steps,m=o.children,y=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(hC(s)),s.changeStyle=s.changeStyle.bind(hC(s)),!a||y<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:f}),fC(s);if(p&&p.length)s.state={style:p[0].style};else if(u){if(typeof m=="function")return s.state={style:u},fC(s);s.state={style:c?sp({},c,u):u}}else s.state={style:{}};return s}return xPe(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,p=s.from,m=this.state.style;if(a){if(!o){var y={style:c?sp({},c,f):f};this.state&&m&&(c&&m[c]!==f||!c&&m!==f)&&this.setState(y);return}if(!(NEe(i.to,f)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=_||u?p:i.to;if(this.state&&m){var b={style:c?sp({},c,x):x};(c&&m[c]!==x||!c&&m!==x)&&this.setState(b)}this.runAnimation(Zi(Zi({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,c=i.duration,u=i.easing,f=i.begin,p=i.onAnimationEnd,m=i.onAnimationStart,y=cPe(o,a,JEe(u),c,this.changeStyle),_=function(){s.stopJSAnimation=y()};this.manager.start([m,f,_,c,p])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,p=u.duration,m=p===void 0?0:p,y=function(x,b,T){if(T===0)return x;var P=b.duration,E=b.easing,I=E===void 0?"ease":E,C=b.style,R=b.properties,N=b.onAnimationEnd,k=T>0?o[T-1]:b,M=R||Object.keys(C);if(typeof I=="function"||I==="spring")return[].concat(kP(x),[s.runJSAnimation.bind(s,{from:k.style,to:C,duration:P,easing:I}),P]);var $=cV(M,P,I),L=Zi(Zi(Zi({},k.style),C),{},{transition:$});return[].concat(kP(x),[L,P,N]).filter(VEe)};return this.manager.start([c].concat(kP(o.reduce(y,[f,Math.max(m,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=DEe());var s=i.begin,o=i.duration,a=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,p=i.onAnimationEnd,m=i.steps,y=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var x=a?sp({},a,c):c,b=cV(Object.keys(x),o,u);_.start([f,s,Zi(Zi({},x),{},{transition:b}),o,p])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=dPe(i,uPe),u=S.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!a||u===0||o<=0)return s;var p=function(y){var _=y.props,x=_.style,b=x===void 0?{}:x,T=_.className,P=S.cloneElement(y,Zi(Zi({},c),{},{style:Zi(Zi({},b),f),className:T}));return P};return u===1?p(S.Children.only(s)):X.createElement("div",null,S.Children.map(s,function(m){return p(m)}))}}]),r})(S.PureComponent);Zs.displayName="Animate";Zs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Zs.propTypes={from:$t.oneOfType([$t.object,$t.string]),to:$t.oneOfType([$t.object,$t.string]),attributeName:$t.string,duration:$t.number,begin:$t.number,easing:$t.oneOfType([$t.string,$t.func]),steps:$t.arrayOf($t.shape({duration:$t.number.isRequired,style:$t.object.isRequired,easing:$t.oneOfType([$t.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$t.func]),properties:$t.arrayOf("string"),onAnimationEnd:$t.func})),children:$t.oneOfType([$t.node,$t.func]),isActive:$t.bool,canBegin:$t.bool,onAnimationEnd:$t.func,shouldReAnimate:$t.bool,onAnimationStart:$t.func,onAnimationReStart:$t.func};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F0.apply(this,arguments)}function EPe(t,e){return CPe(t)||APe(t,e)||TPe(t,e)||PPe()}function PPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TPe(t,e){if(t){if(typeof t=="string")return mV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mV(t,e)}}function mV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function APe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function CPe(t){if(Array.isArray(t))return t}function gV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(r),!0).forEach(function(n){NPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NPe(t,e,r){return e=kPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kPe(t){var e=IPe(t,"string");return ym(e)=="symbol"?e:e+""}function IPe(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vV=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],m=0,y=4;m<y;m++)p[m]=s[m]>o?o:s[m];f="M".concat(e,",").concat(r+a*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(e+c*p[0],",").concat(r)),f+="L ".concat(e+n-c*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+a*p[1])),f+="L ".concat(e+n,",").concat(r+i-a*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(e+n-c*p[2],",").concat(r+i)),f+="L ".concat(e+c*p[3],",").concat(r+i),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-a*p[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var _=Math.min(o,s);f="M ".concat(e,",").concat(r+a*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+c*_,",").concat(r,`
            L `).concat(e+n-c*_,",").concat(r,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+n,",").concat(r+a*_,`
            L `).concat(e+n,",").concat(r+i-a*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+n-c*_,",").concat(r+i,`
            L `).concat(e+c*_,",").concat(r+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e,",").concat(r+i-a*_," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},OPe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,a=r.width,c=r.height;if(Math.abs(a)>0&&Math.abs(c)>0){var u=Math.min(s,s+a),f=Math.max(s,s+a),p=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=f&&i>=p&&i<=m}return!1},jPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kI=function(e){var r=yV(yV({},jPe),e),n=S.useRef(),i=S.useState(-1),s=EPe(i,2),o=s[0],a=s[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&a(I)}catch{}},[]);var c=r.x,u=r.y,f=r.width,p=r.height,m=r.radius,y=r.className,_=r.animationEasing,x=r.animationDuration,b=r.animationBegin,T=r.isAnimationActive,P=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||f===0||p===0)return null;var E=lt("recharts-rectangle",y);return P?X.createElement(Zs,{canBegin:o>0,from:{width:f,height:p,x:c,y:u},to:{width:f,height:p,x:c,y:u},duration:x,animationEasing:_,isActive:P},function(I){var C=I.width,R=I.height,N=I.x,k=I.y;return X.createElement(Zs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:T,easing:_},X.createElement("path",F0({},Je(r,!0),{className:E,d:vV(N,k,C,R,m),ref:n})))}):X.createElement("path",F0({},Je(r,!0),{className:E,d:vV(c,u,f,p,m)}))},RPe=["points","className","baseLinePoints","connectNulls"];function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ad.apply(this,arguments)}function MPe(t,e){if(t==null)return{};var r=DPe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xV(t){return VPe(t)||FPe(t)||$Pe(t)||LPe()}function LPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Pe(t,e){if(t){if(typeof t=="string")return pC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(t,e)}}function FPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VPe(t){if(Array.isArray(t))return pC(t)}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bV=function(e){return e&&e.x===+e.x&&e.y===+e.y},BPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){bV(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),bV(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Pp=function(e,r){var n=BPe(e);r&&(n=[n.reduce(function(s,o){return[].concat(xV(s),xV(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,a,c){return"".concat(o).concat(c===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},UPe=function(e,r,n){var i=Pp(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Pp(r.reverse(),n).slice(1))},qPe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=MPe(e,RPe);if(!r||!r.length)return null;var a=lt("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=UPe(r,i,s);return X.createElement("g",{className:a},X.createElement("path",ad({},Je(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?X.createElement("path",ad({},Je(o,!0),{fill:"none",d:Pp(r,s)})):null,c?X.createElement("path",ad({},Je(o,!0),{fill:"none",d:Pp(i,s)})):null)}var f=Pp(r,s);return X.createElement("path",ad({},Je(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:a,d:f}))};function mC(){return mC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mC.apply(this,arguments)}var Pb=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=lt("recharts-dot",s);return r===+r&&n===+n&&i===+i?S.createElement("circle",mC({},Je(e,!1),l0(e),{className:o,cx:r,cy:n,r:i})):null};function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}var zPe=["x","y","top","left","width","height","className"];function gC(){return gC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gC.apply(this,arguments)}function wV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WPe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wV(Object(r),!0).forEach(function(n){HPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HPe(t,e,r){return e=GPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GPe(t){var e=KPe(t,"string");return vm(e)=="symbol"?e:e+""}function KPe(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YPe(t,e){if(t==null)return{};var r=XPe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var QPe=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},JPe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,c=e.left,u=c===void 0?0:c,f=e.width,p=f===void 0?0:f,m=e.height,y=m===void 0?0:m,_=e.className,x=YPe(e,zPe),b=WPe({x:n,y:s,top:a,left:u,width:p,height:y},x);return!Pe(n)||!Pe(s)||!Pe(p)||!Pe(y)||!Pe(a)||!Pe(u)?null:X.createElement("path",gC({},Je(b,!0),{className:lt("recharts-cross",_),d:QPe(n,s,p,y,a,u)}))},IP,_V;function ZPe(){if(_V)return IP;_V=1;var t=bb(),e=C7(),r=so();function n(i,s){return i&&i.length?t(i,r(s,2),e):void 0}return IP=n,IP}var eTe=ZPe();const tTe=Mt(eTe);var OP,SV;function rTe(){if(SV)return OP;SV=1;var t=bb(),e=so(),r=N7();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return OP=n,OP}var nTe=rTe();const iTe=Mt(nTe);var sTe=["cx","cy","angle","ticks","axisLine"],oTe=["ticks","tick","angle","tickFormatter","stroke"];function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tp.apply(this,arguments)}function EV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(r),!0).forEach(function(n){Tb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PV(t,e){if(t==null)return{};var r=aTe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mH(n.key),n)}}function cTe(t,e,r){return e&&TV(t.prototype,e),r&&TV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uTe(t,e,r){return e=V0(e),dTe(t,pH()?Reflect.construct(e,r||[],V0(t).constructor):e.apply(t,r))}function dTe(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fTe(t)}function fTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!t})()}function V0(t){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V0(t)}function hTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yC(t,e)}function yC(t,e){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yC(t,e)}function Tb(t,e,r){return e=mH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mH(t){var e=pTe(t,"string");return Jd(e)=="symbol"?e:e+""}function pTe(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ab=(function(t){function e(){return lTe(this,e),uTe(this,e,arguments)}return hTe(e,t),cTe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,a=s.cx,c=s.cy;return Kt(a,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,a=n.ticks,c=tTe(a,function(f){return f.coordinate||0}),u=iTe(a,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,a=n.ticks,c=n.axisLine,u=PV(n,sTe),f=a.reduce(function(_,x){return[Math.min(_[0],x.coordinate),Math.max(_[1],x.coordinate)]},[1/0,-1/0]),p=Kt(i,s,f[0],o),m=Kt(i,s,f[1],o),y=Yl(Yl(Yl({},Je(u,!1)),{},{fill:"none"},Je(c,!1)),{},{x1:p.x,y1:p.y,x2:m.x,y2:m.y});return X.createElement("line",Tp({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,c=i.tickFormatter,u=i.stroke,f=PV(i,oTe),p=this.getTickTextAnchor(),m=Je(f,!1),y=Je(o,!1),_=s.map(function(x,b){var T=n.getTickValueCoord(x),P=Yl(Yl(Yl(Yl({textAnchor:p,transform:"rotate(".concat(90-a,", ").concat(T.x,", ").concat(T.y,")")},m),{},{stroke:"none",fill:u},y),{},{index:b},T),{},{payload:x});return X.createElement(kt,Tp({className:lt("recharts-polar-radius-axis-tick",nH(o)),key:"tick-".concat(x.coordinate)},Fc(n.props,x,b)),e.renderTickItem(o,P,c?c(x.value,b):x.value))});return X.createElement(kt,{className:"recharts-polar-radius-axis-ticks"},_)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:X.createElement(kt,{className:lt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Xr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return X.isValidElement(n)?o=X.cloneElement(n,i):nt(n)?o=n(i):o=X.createElement(Vc,Tp({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(S.PureComponent);Tb(Ab,"displayName","PolarRadiusAxis");Tb(Ab,"axisType","radiusAxis");Tb(Ab,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oc.apply(this,arguments)}function AV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(r),!0).forEach(function(n){Cb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yH(n.key),n)}}function gTe(t,e,r){return e&&CV(t.prototype,e),r&&CV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yTe(t,e,r){return e=B0(e),vTe(t,gH()?Reflect.construct(e,r||[],B0(t).constructor):e.apply(t,r))}function vTe(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xTe(t)}function xTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gH=function(){return!!t})()}function B0(t){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B0(t)}function bTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vC(t,e)}function vC(t,e){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vC(t,e)}function Cb(t,e,r){return e=yH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yH(t){var e=wTe(t,"string");return Zd(e)=="symbol"?e:e+""}function wTe(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _Te=Math.PI/180,NV=1e-5,Nb=(function(t){function e(){return mTe(this,e),yTe(this,e,arguments)}return bTe(e,t),gTe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,a=i.radius,c=i.orientation,u=i.tickSize,f=u||8,p=Kt(s,o,a,n.coordinate),m=Kt(s,o,a+(c==="inner"?-1:1)*f,n.coordinate);return{x1:p.x,y1:p.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*_Te),o;return s>NV?o=i==="outer"?"start":"end":s<-NV?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,a=n.axisLine,c=n.axisLineType,u=Xl(Xl({},Je(this.props,!1)),{},{fill:"none"},Je(a,!1));if(c==="circle")return X.createElement(Pb,oc({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var f=this.props.ticks,p=f.map(function(m){return Kt(i,s,o,m.coordinate)});return X.createElement(qPe,oc({className:"recharts-polar-angle-axis-line"},u,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,c=i.tickFormatter,u=i.stroke,f=Je(this.props,!1),p=Je(o,!1),m=Xl(Xl({},f),{},{fill:"none"},Je(a,!1)),y=s.map(function(_,x){var b=n.getTickLineCoord(_),T=n.getTickTextAnchor(_),P=Xl(Xl(Xl({textAnchor:T},f),{},{stroke:"none",fill:u},p),{},{index:x,payload:_,x:b.x2,y:b.y2});return X.createElement(kt,oc({className:lt("recharts-polar-angle-axis-tick",nH(o)),key:"tick-".concat(_.coordinate)},Fc(n.props,_,x)),a&&X.createElement("line",oc({className:"recharts-polar-angle-axis-tick-line"},m,b)),o&&e.renderTickItem(o,P,c?c(_.value,x):_.value))});return X.createElement(kt,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:X.createElement(kt,{className:lt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return X.isValidElement(n)?o=X.cloneElement(n,i):nt(n)?o=n(i):o=X.createElement(Vc,oc({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(S.PureComponent);Cb(Nb,"displayName","PolarAngleAxis");Cb(Nb,"axisType","angleAxis");Cb(Nb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var jP,kV;function STe(){if(kV)return jP;kV=1;var t=AW(),e=t(Object.getPrototypeOf,Object);return jP=e,jP}var RP,IV;function ETe(){if(IV)return RP;IV=1;var t=ea(),e=STe(),r=ta(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,c=o.call(Object);function u(f){if(!r(f)||t(f)!=n)return!1;var p=e(f);if(p===null)return!0;var m=a.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return RP=u,RP}var PTe=ETe();const TTe=Mt(PTe);var MP,OV;function ATe(){if(OV)return MP;OV=1;var t=ea(),e=ta(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return MP=n,MP}var CTe=ATe();const NTe=Mt(CTe);function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U0.apply(this,arguments)}function kTe(t,e){return RTe(t)||jTe(t,e)||OTe(t,e)||ITe()}function ITe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OTe(t,e){if(t){if(typeof t=="string")return jV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jV(t,e)}}function jV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function RTe(t){if(Array.isArray(t))return t}function RV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RV(Object(r),!0).forEach(function(n){MTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MTe(t,e,r){return e=DTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DTe(t){var e=LTe(t,"string");return xm(e)=="symbol"?e:e+""}function LTe(t,e){if(xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DV=function(e,r,n,i,s){var o=n-i,a;return a="M ".concat(e,",").concat(r),a+="L ".concat(e+n,",").concat(r),a+="L ".concat(e+n-o/2,",").concat(r+s),a+="L ".concat(e+n-o/2-i,",").concat(r+s),a+="L ".concat(e,",").concat(r," Z"),a},$Te={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FTe=function(e){var r=MV(MV({},$Te),e),n=S.useRef(),i=S.useState(-1),s=kTe(i,2),o=s[0],a=s[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&a(E)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,p=r.lowerWidth,m=r.height,y=r.className,_=r.animationEasing,x=r.animationDuration,b=r.animationBegin,T=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||m!==+m||f===0&&p===0||m===0)return null;var P=lt("recharts-trapezoid",y);return T?X.createElement(Zs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:f,lowerWidth:p,height:m,x:c,y:u},duration:x,animationEasing:_,isActive:T},function(E){var I=E.upperWidth,C=E.lowerWidth,R=E.height,N=E.x,k=E.y;return X.createElement(Zs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:_},X.createElement("path",U0({},Je(r,!0),{className:P,d:DV(N,k,I,C,R),ref:n})))}):X.createElement("g",null,X.createElement("path",U0({},Je(r,!0),{className:P,d:DV(c,u,f,p,m)})))},VTe=["option","shapeType","propTransformer","activeClassName","isActive"];function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function BTe(t,e){if(t==null)return{};var r=UTe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LV(Object(r),!0).forEach(function(n){qTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qTe(t,e,r){return e=zTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zTe(t){var e=WTe(t,"string");return bm(e)=="symbol"?e:e+""}function WTe(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HTe(t,e){return q0(q0({},e),t)}function GTe(t,e){return t==="symbols"}function $V(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return X.createElement(kI,r);case"trapezoid":return X.createElement(FTe,r);case"sector":return X.createElement(oH,r);case"symbols":if(GTe(e))return X.createElement(Yk,r);break;default:return null}}function KTe(t){return S.isValidElement(t)?t.props:t}function vH(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?HTe:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,c=BTe(t,VTe),u;if(S.isValidElement(e))u=S.cloneElement(e,q0(q0({},c),KTe(e)));else if(nt(e))u=e(c);else if(TTe(e)&&!NTe(e)){var f=i(e,c);u=X.createElement($V,{shapeType:r,elementProps:f})}else{var p=c;u=X.createElement($V,{shapeType:r,elementProps:p})}return a?X.createElement(kt,{className:o},u):u}function kb(t,e){return e!=null&&"trapezoids"in t.props}function Ib(t,e){return e!=null&&"sectors"in t.props}function wm(t,e){return e!=null&&"points"in t.props}function YTe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function XTe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function QTe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function JTe(t,e){var r;return kb(t,e)?r=YTe:Ib(t,e)?r=XTe:wm(t,e)&&(r=QTe),r}function ZTe(t,e){var r;return kb(t,e)?r="trapezoids":Ib(t,e)?r="sectors":wm(t,e)&&(r="points"),r}function eAe(t,e){if(kb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ib(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return wm(t,e)?e.payload:{}}function tAe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=ZTe(r,e),s=eAe(r,e),o=n.filter(function(c,u){var f=ig(s,c),p=r.props[i].filter(function(_){var x=JTe(r,e);return x(_,e)}),m=r.props[i].indexOf(p[p.length-1]),y=u===m;return f&&y}),a=n.indexOf(o[o.length-1]);return a}var Ev;function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ld.apply(this,arguments)}function FV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FV(Object(r),!0).forEach(function(n){ji(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bH(n.key),n)}}function nAe(t,e,r){return e&&VV(t.prototype,e),r&&VV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iAe(t,e,r){return e=z0(e),sAe(t,xH()?Reflect.construct(e,r||[],z0(t).constructor):e.apply(t,r))}function sAe(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oAe(t)}function oAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xH=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z0(t)}function aAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xC(t,e)}function xC(t,e){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xC(t,e)}function ji(t,e,r){return e=bH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bH(t){var e=lAe(t,"string");return ef(e)=="symbol"?e:e+""}function lAe(t,e){if(ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var na=(function(t){function e(r){var n;return rAe(this,e),n=iAe(this,e,[r]),ji(n,"pieRef",null),ji(n,"sectorRefs",[]),ji(n,"id",$f("recharts-pie-")),ji(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),nt(i)&&i()}),ji(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),nt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return aAe(e,t),nAe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,c=s.dataKey,u=s.valueKey,f=Je(this.props,!1),p=Je(o,!1),m=Je(a,!1),y=o&&o.offsetRadius||20,_=n.map(function(x,b){var T=(x.startAngle+x.endAngle)/2,P=Kt(x.cx,x.cy,x.outerRadius+y,T),E=Ht(Ht(Ht(Ht({},f),x),{},{stroke:"none"},p),{},{index:b,textAnchor:e.getTextAnchor(P.x,x.cx)},P),I=Ht(Ht(Ht(Ht({},f),x),{},{fill:"none",stroke:x.fill},m),{},{index:b,points:[Kt(x.cx,x.cy,x.outerRadius,T),P]}),C=c;return ot(c)&&ot(u)?C="value":ot(c)&&(C=u),X.createElement(kt,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},a&&e.renderLabelLineItem(a,I,"line"),e.renderLabelItem(o,E,Dr(x,C)))});return X.createElement(kt,{className:"recharts-pie-labels"},_)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,c=s.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var p=i.isActiveIndex(f),m=c&&i.hasActiveIndex()?c:null,y=p?o:m,_=Ht(Ht({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return X.createElement(kt,ld({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Fc(i.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),X.createElement(vH,ld({option:y,isActive:p,shapeType:"sector"},_)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state,m=p.prevSectors,y=p.prevIsAnimationActive;return X.createElement(Zs,{begin:a,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_){var x=_.t,b=[],T=s&&s[0],P=T.startAngle;return s.forEach(function(E,I){var C=m&&m[I],R=I>0?mi(E,"paddingAngle",0):0;if(C){var N=di(C.endAngle-C.startAngle,E.endAngle-E.startAngle),k=Ht(Ht({},E),{},{startAngle:P+R,endAngle:P+N(x)+R});b.push(k),P=k.endAngle}else{var M=E.endAngle,$=E.startAngle,L=di(0,M-$),V=L(x),D=Ht(Ht({},E),{},{startAngle:P+R,endAngle:P+V+R});b.push(D),P=D.endAngle}}),X.createElement(kt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!ig(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,c=i.label,u=i.cx,f=i.cy,p=i.innerRadius,m=i.outerRadius,y=i.isAnimationActive,_=this.state.isAnimationFinished;if(s||!o||!o.length||!Pe(u)||!Pe(f)||!Pe(p)||!Pe(m))return null;var x=lt("recharts-pie",a);return X.createElement(kt,{tabIndex:this.props.rootTabIndex,className:x,ref:function(T){n.pieRef=T}},this.renderSectors(),c&&this.renderLabels(o),Xr.renderCallByParent(this.props,null,!1),(!y||_)&&Vo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(X.isValidElement(n))return X.cloneElement(n,i);if(nt(n))return n(i);var o=lt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return X.createElement(M0,ld({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(X.isValidElement(n))return X.cloneElement(n,i);var o=s;if(nt(n)&&(o=n(i),X.isValidElement(o)))return o;var a=lt("recharts-pie-label-text",typeof n!="boolean"&&!nt(n)?n.className:"");return X.createElement(Vc,ld({},i,{alignmentBaseline:"middle",className:a}),o)}}])})(S.PureComponent);Ev=na;ji(na,"displayName","Pie");ji(na,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Jc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ji(na,"parseDeltaAngle",function(t,e){var r=On(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ji(na,"getRealPieData",function(t){var e=t.data,r=t.children,n=Je(t,!1),i=gi(r,Qp);return e&&e.length?e.map(function(s,o){return Ht(Ht(Ht({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return Ht(Ht({},n),s.props)}):[]});ji(na,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=rH(i,s),a=n+jn(t.cx,i,i/2),c=r+jn(t.cy,s,s/2),u=jn(t.innerRadius,o,0),f=jn(t.outerRadius,o,o*.8),p=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:c,innerRadius:u,outerRadius:f,maxRadius:p}});ji(na,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ht(Ht({},e.type.defaultProps),e.props):e.props,i=Ev.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,a=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,p=n.valueKey,m=n.tooltipType,y=Math.abs(n.minAngle),_=Ev.parseCoordinateOfPie(n,r),x=Ev.parseDeltaAngle(o,a),b=Math.abs(x),T=u;ot(u)&&ot(p)?(us(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),T="value"):ot(u)&&(us(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),T=p);var P=i.filter(function(k){return Dr(k,T,0)!==0}).length,E=(b>=360?P:P-1)*c,I=b-P*y-E,C=i.reduce(function(k,M){var $=Dr(M,T,0);return k+(Pe($)?$:0)},0),R;if(C>0){var N;R=i.map(function(k,M){var $=Dr(k,T,0),L=Dr(k,f,M),V=(Pe($)?$:0)/C,D;M?D=N.endAngle+On(x)*c*($!==0?1:0):D=o;var H=D+On(x)*(($!==0?y:0)+V*I),W=(D+H)/2,K=(_.innerRadius+_.outerRadius)/2,Q=[{name:L,value:$,payload:k,dataKey:T,type:m}],U=Kt(_.cx,_.cy,K,W);return N=Ht(Ht(Ht({percent:V,cornerRadius:s,name:L,tooltipPayload:Q,midAngle:W,middleRadius:K,tooltipPosition:U},k),_),{},{value:Dr(k,T),startAngle:D,endAngle:H,payload:k,paddingAngle:On(x)*c}),N})}return Ht(Ht({},_),{},{sectors:R,data:i})});var DP,BV;function cAe(){if(BV)return DP;BV=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var a=-1,c=e(t((i-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++a]=n,n+=s;return u}return DP=r,DP}var LP,UV;function wH(){if(UV)return LP;UV=1;var t=qW(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return LP=n,LP}var $P,qV;function uAe(){if(qV)return $P;qV=1;var t=cAe(),e=hb(),r=wH();function n(i){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),a=a===void 0?s<o?1:-1:r(a),t(s,o,a,i)}}return $P=n,$P}var FP,zV;function dAe(){if(zV)return FP;zV=1;var t=uAe(),e=t();return FP=e,FP}var fAe=dAe();const W0=Mt(fAe);function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function WV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WV(Object(r),!0).forEach(function(n){_H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _H(t,e,r){return e=hAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hAe(t){var e=pAe(t,"string");return _m(e)=="symbol"?e:e+""}function pAe(t,e){if(_m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mAe=["Webkit","Moz","O","ms"],gAe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=mAe.reduce(function(s,o){return HV(HV({},s),{},_H({},o+n,r))},{});return i[e]=r,i};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H0.apply(this,arguments)}function GV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GV(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EH(n.key),n)}}function vAe(t,e,r){return e&&KV(t.prototype,e),r&&KV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xAe(t,e,r){return e=G0(e),bAe(t,SH()?Reflect.construct(e,r||[],G0(t).constructor):e.apply(t,r))}function bAe(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wAe(t)}function wAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SH=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G0(t)}function _Ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bC(t,e)}function bC(t,e){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bC(t,e)}function li(t,e,r){return e=EH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EH(t){var e=SAe(t,"string");return tf(e)=="symbol"?e:e+""}function SAe(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EAe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=_p().domain(W0(0,c)).range([s,s+o-a]),f=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},YV=function(e){return e.changedTouches&&!!e.changedTouches.length},rf=(function(t){function e(r){var n;return yAe(this,e),n=xAe(this,e,[r]),li(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),li(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),li(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),n.detachDragEndListener()}),li(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),li(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),li(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),li(n,"handleSlideDragStart",function(i){var s=YV(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _Ae(e,t),vAe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,a=this.props,c=a.gap,u=a.data,f=u.length-1,p=Math.min(i,s),m=Math.max(i,s),y=e.getIndexInRange(o,p),_=e.getIndexInRange(o,m);return{startIndex:y-y%c,endIndex:_===f?f:_-_%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,c=Dr(s[n],a,n);return nt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,c=this.props,u=c.x,f=c.width,p=c.travellerWidth,m=c.startIndex,y=c.endIndex,_=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,u+f-p-a,u+f-p-o):x<0&&(x=Math.max(x,u-o,u-a));var b=this.getIndex({startX:o+x,endX:a+x});(b.startIndex!==m||b.endIndex!==y)&&_&&_(b),this.setState({startX:o+x,endX:a+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=YV(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,c=i.startX,u=this.state[o],f=this.props,p=f.x,m=f.width,y=f.travellerWidth,_=f.onChange,x=f.gap,b=f.data,T={startX:this.state.startX,endX:this.state.endX},P=n.pageX-s;P>0?P=Math.min(P,p+m-y-u):P<0&&(P=Math.max(P,p-u)),T[o]=u+P;var E=this.getIndex(T),I=E.startIndex,C=E.endIndex,R=function(){var k=b.length-1;return o==="startX"&&(a>c?I%x===0:C%x===0)||a<c&&C===k||o==="endX"&&(a>c?C%x===0:I%x===0)||a>c&&C===k};this.setState(li(li({},o,u+P),"brushMoveStartX",n.pageX),function(){_&&R()&&_(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,a=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],p=a.indexOf(f);if(p!==-1){var m=p+n;if(!(m===-1||m>=a.length)){var y=a[m];i==="startX"&&y>=u||i==="endX"&&y<=c||this.setState(li({},i,y),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,a=n.height,c=n.fill,u=n.stroke;return X.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,a=n.height,c=n.data,u=n.children,f=n.padding,p=S.Children.only(u);return p?X.cloneElement(p,{x:i,y:s,width:o,height:a,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,a=this,c=this.props,u=c.y,f=c.travellerWidth,p=c.height,m=c.traveller,y=c.ariaLabel,_=c.data,x=c.startIndex,b=c.endIndex,T=Math.max(n,this.props.x),P=VP(VP({},Je(this.props,!1)),{},{x:T,y:u,width:f,height:p}),E=y||"Min value: ".concat((s=_[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=_[b])===null||o===void 0?void 0:o.name);return X.createElement(kt,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),a.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,P))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,a=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,i)+u,p=Math.max(Math.abs(i-n)-u,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:p,height:a})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,a=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,p=f.startX,m=f.endX,y=5,_={pointerEvents:"none",fill:u};return X.createElement(kt,{className:"recharts-brush-texts"},X.createElement(Vc,H0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,m)-y,y:o+a/2},_),this.getTextOfTick(i)),X.createElement(Vc,H0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,m)+c+y,y:o+a/2},_),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,a=n.x,c=n.y,u=n.width,f=n.height,p=n.alwaysShowText,m=this.state,y=m.startX,_=m.endX,x=m.isTextActive,b=m.isSlideMoving,T=m.isTravellerMoving,P=m.isTravellerFocused;if(!i||!i.length||!Pe(a)||!Pe(c)||!Pe(u)||!Pe(f)||u<=0||f<=0)return null;var E=lt("recharts-brush",s),I=X.Children.count(o)===1,C=gAe("userSelect","none");return X.createElement(kt,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(y,_),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(_,"endX"),(x||b||T||P||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,a=n.height,c=n.stroke,u=Math.floor(s+a/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:i,y:s,width:o,height:a,fill:c,stroke:"none"}),X.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return X.isValidElement(n)?s=X.cloneElement(n,i):nt(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,a=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,p=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return VP({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?EAe({data:s,width:o,x:a,travellerWidth:c,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([a,a+o-c]);var m=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,a=s-1;a-o>1;){var c=Math.floor((o+a)/2);n[c]>i?a=c:o=c}return i>=n[a]?a:o}}])})(S.PureComponent);li(rf,"displayName","Brush");li(rf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var BP,XV;function PAe(){if(XV)return BP;XV=1;var t=rI();function e(r,n){var i;return t(r,function(s,o,a){return i=n(s,o,a),!i}),!!i}return BP=e,BP}var UP,QV;function TAe(){if(QV)return UP;QV=1;var t=bW(),e=so(),r=PAe(),n=Yn(),i=hb();function s(o,a,c){var u=n(o)?t:r;return c&&i(o,a,c)&&(a=void 0),u(o,e(a,3))}return UP=s,UP}var AAe=TAe();const CAe=Mt(AAe);var Ks=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},qP,JV;function NAe(){if(JV)return qP;JV=1;var t=$W();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return qP=e,qP}var zP,ZV;function kAe(){if(ZV)return zP;ZV=1;var t=NAe(),e=DW(),r=so();function n(i,s){var o={};return s=r(s,3),e(i,function(a,c,u){t(o,c,s(a,c,u))}),o}return zP=n,zP}var IAe=kAe();const OAe=Mt(IAe);var WP,e6;function jAe(){if(e6)return WP;e6=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return WP=t,WP}var HP,t6;function RAe(){if(t6)return HP;t6=1;var t=rI();function e(r,n){var i=!0;return t(r,function(s,o,a){return i=!!n(s,o,a),i}),i}return HP=e,HP}var GP,r6;function MAe(){if(r6)return GP;r6=1;var t=jAe(),e=RAe(),r=so(),n=Yn(),i=hb();function s(o,a,c){var u=n(o)?t:e;return c&&i(o,a,c)&&(a=void 0),u(o,r(a,3))}return GP=s,GP}var DAe=MAe();const PH=Mt(DAe);var LAe=["x","y"];function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function wC(){return wC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wC.apply(this,arguments)}function n6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(r),!0).forEach(function(n){$Ae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ae(t,e,r){return e=FAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FAe(t){var e=VAe(t,"string");return Sm(e)=="symbol"?e:e+""}function VAe(t,e){if(Sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BAe(t,e){if(t==null)return{};var r=UAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qAe(t,e){var r=t.x,n=t.y,i=BAe(t,LAe),s="".concat(r),o=parseInt(s,10),a="".concat(n),c=parseInt(a,10),u="".concat(e.height||i.height),f=parseInt(u,10),p="".concat(e.width||i.width),m=parseInt(p,10);return Wh(Wh(Wh(Wh(Wh({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:m,name:e.name,radius:e.radius})}function i6(t){return X.createElement(vH,wC({shapeType:"rectangle",propTransformer:qAe,activeClassName:"recharts-active-bar"},t))}var zAe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=Pe(n)||hge(n);return s?e(n,i):(s||Uc(),r)}},WAe=["value","background"],TH;function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function HAe(t,e){if(t==null)return{};var r=GAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K0.apply(this,arguments)}function s6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(r),!0).forEach(function(n){Ba(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CH(n.key),n)}}function YAe(t,e,r){return e&&o6(t.prototype,e),r&&o6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XAe(t,e,r){return e=Y0(e),QAe(t,AH()?Reflect.construct(e,r||[],Y0(t).constructor):e.apply(t,r))}function QAe(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JAe(t)}function JAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AH=function(){return!!t})()}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y0(t)}function ZAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_C(t,e)}function _C(t,e){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_C(t,e)}function Ba(t,e,r){return e=CH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CH(t){var e=eCe(t,"string");return nf(e)=="symbol"?e:e+""}function eCe(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ru=(function(t){function e(){var r;KAe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=XAe(this,e,[].concat(i)),Ba(r,"state",{isAnimationFinished:!1}),Ba(r,"id",$f("recharts-bar-")),Ba(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ba(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ZAe(e,t),YAe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,a=s.dataKey,c=s.activeIndex,u=s.activeBar,f=Je(this.props,!1);return n&&n.map(function(p,m){var y=m===c,_=y?u:o,x=Sr(Sr(Sr({},f),p),{},{isActive:y,option:_,index:m,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return X.createElement(kt,K0({className:"recharts-bar-rectangle"},Fc(i.props,p,m),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(m)}),X.createElement(i6,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,p=i.animationId,m=this.state.prevData;return X.createElement(Zs,{begin:c,duration:u,isActive:a,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var _=y.t,x=s.map(function(b,T){var P=m&&m[T];if(P){var E=di(P.x,b.x),I=di(P.y,b.y),C=di(P.width,b.width),R=di(P.height,b.height);return Sr(Sr({},b),{},{x:E(_),y:I(_),width:C(_),height:R(_)})}if(o==="horizontal"){var N=di(0,b.height),k=N(_);return Sr(Sr({},b),{},{y:b.y+b.height-k,height:k})}var M=di(0,b.width),$=M(_);return Sr(Sr({},b),{},{width:$})});return X.createElement(kt,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!ig(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,c=Je(this.props.background,!1);return s.map(function(u,f){u.value;var p=u.background,m=HAe(u,WAe);if(!p)return null;var y=Sr(Sr(Sr(Sr(Sr({},m),{},{fill:"#eee"},p),c),Fc(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return X.createElement(i6,K0({key:"background-bar-".concat(f),option:n.props.background,isActive:f===a},y))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,p=gi(f,sg);if(!p)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,y=function(b,T){var P=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:P,errorVal:Dr(b,T)}},_={clipPath:n?"url(#clipPath-".concat(i,")"):null};return X.createElement(kt,_,p.map(function(x){return X.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:a,yAxis:c,layout:u,offset:m,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,a=n.xAxis,c=n.yAxis,u=n.left,f=n.top,p=n.width,m=n.height,y=n.isAnimationActive,_=n.background,x=n.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,T=lt("recharts-bar",o),P=a&&a.allowDataOverflow,E=c&&c.allowDataOverflow,I=P||E,C=ot(x)?this.id:x;return X.createElement(kt,{className:T},P||E?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(C)},X.createElement("rect",{x:P?u:u-p/2,y:E?f:f-m/2,width:P?p:p*2,height:E?m:m*2}))):null,X.createElement(kt,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(C,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,C),(!y||b)&&Vo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(S.PureComponent);TH=ru;Ba(ru,"displayName","Bar");Ba(ru,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Jc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ba(ru,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,p=t.displayedData,m=t.offset,y=C1e(n,r);if(!y)return null;var _=e.layout,x=r.type.defaultProps,b=x!==void 0?Sr(Sr({},x),r.props):r.props,T=b.dataKey,P=b.children,E=b.minPointSize,I=_==="horizontal"?o:s,C=u?I.scale.domain():null,R=M1e({numericAxis:I}),N=gi(P,Qp),k=p.map(function(M,$){var L,V,D,H,W,K;u?L=N1e(u[f+$],C):(L=Dr(M,T),Array.isArray(L)||(L=[R,L]));var Q=zAe(E,TH.defaultProps.minPointSize)(L[1],$);if(_==="horizontal"){var U,G=[o.scale(L[0]),o.scale(L[1])],te=G[0],z=G[1];V=IF({axis:s,ticks:a,bandSize:i,offset:y.offset,entry:M,index:$}),D=(U=z??te)!==null&&U!==void 0?U:void 0,H=y.size;var Z=te-z;if(W=Number.isNaN(Z)?0:Z,K={x:V,y:o.y,width:H,height:o.height},Math.abs(Q)>0&&Math.abs(W)<Math.abs(Q)){var ce=On(W||Q)*(Math.abs(Q)-Math.abs(W));D-=ce,W+=ce}}else{var ye=[s.scale(L[0]),s.scale(L[1])],Oe=ye[0],Me=ye[1];if(V=Oe,D=IF({axis:o,ticks:c,bandSize:i,offset:y.offset,entry:M,index:$}),H=Me-Oe,W=y.size,K={x:s.x,y:D,width:s.width,height:W},Math.abs(Q)>0&&Math.abs(H)<Math.abs(Q)){var he=On(H||Q)*(Math.abs(Q)-Math.abs(H));H+=he}}return Sr(Sr(Sr({},M),{},{x:V,y:D,width:H,height:W,value:u?L:L[1],payload:M,background:K},N&&N[$]&&N[$].props),{},{tooltipPayload:[eH(r,M)],tooltipPosition:{x:V+H/2,y:D+W/2}})});return Sr({data:k,layout:_},m)});function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function tCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NH(n.key),n)}}function rCe(t,e,r){return e&&a6(t.prototype,e),r&&a6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(r),!0).forEach(function(n){Ob(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ob(t,e,r){return e=NH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NH(t){var e=nCe(t,"string");return Em(e)=="symbol"?e:e+""}function nCe(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kH=function(e,r,n,i,s){var o=e.width,a=e.height,c=e.layout,u=e.children,f=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},m=!!ci(u,ru);return f.reduce(function(y,_){var x=r[_],b=x.orientation,T=x.domain,P=x.padding,E=P===void 0?{}:P,I=x.mirror,C=x.reversed,R="".concat(b).concat(I?"Mirror":""),N,k,M,$,L;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var V=T[1]-T[0],D=1/0,H=x.categoricalDomain.sort(gge);if(H.forEach(function(ye,Oe){Oe>0&&(D=Math.min((ye||0)-(H[Oe-1]||0),D))}),Number.isFinite(D)){var W=D/V,K=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(N=W*K/2),x.padding==="no-gap"){var Q=jn(e.barCategoryGap,W*K),U=W*K/2;N=U-Q-(U-Q)/K*Q}}}i==="xAxis"?k=[n.left+(E.left||0)+(N||0),n.left+n.width-(E.right||0)-(N||0)]:i==="yAxis"?k=c==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(N||0),n.top+n.height-(E.bottom||0)-(N||0)]:k=x.range,C&&(k=[k[1],k[0]]);var G=X7(x,s,m),te=G.scale,z=G.realScaleType;te.domain(T).range(k),Q7(te);var Z=J7(te,rs(rs({},x),{},{realScaleType:z}));i==="xAxis"?(L=b==="top"&&!I||b==="bottom"&&I,M=n.left,$=p[R]-L*x.height):i==="yAxis"&&(L=b==="left"&&!I||b==="right"&&I,M=p[R]-L*x.width,$=n.top);var ce=rs(rs(rs({},x),Z),{},{realScaleType:z,x:M,y:$,scale:te,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return ce.bandSize=O0(ce,Z),!x.hide&&i==="xAxis"?p[R]+=(L?-1:1)*ce.height:x.hide||(p[R]+=(L?-1:1)*ce.width),rs(rs({},y),{},Ob({},_,ce))},{})},IH=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},iCe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return IH({x:r,y:n},{x:i,y:s})},OH=(function(){function t(e){tCe(this,t),this.scale=e}return rCe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Ob(OH,"EPS",1e-4);var II=function(e){var r=Object.keys(e).reduce(function(n,i){return rs(rs({},n),{},Ob({},i,OH.create(e[i])))},{});return rs(rs({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return OAe(i,function(c,u){return r[u].apply(c,{bandAware:o,position:a})})},isInRange:function(i){return PH(i,function(s,o){return r[o].isInRange(s)})}})};function sCe(t){return(t%180+180)%180}var oCe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=sCe(i),o=s*Math.PI/180,a=Math.atan(n/r),c=o>a&&o<Math.PI-a?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},KP,c6;function aCe(){if(c6)return KP;c6=1;var t=so(),e=Zm(),r=db();function n(i){return function(s,o,a){var c=Object(s);if(!e(s)){var u=t(o,3);s=r(s),o=function(p){return u(c[p],p,c)}}var f=i(s,o,a);return f>-1?c[u?s[f]:f]:void 0}}return KP=n,KP}var YP,u6;function lCe(){if(u6)return YP;u6=1;var t=wH();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return YP=e,YP}var XP,d6;function cCe(){if(d6)return XP;d6=1;var t=IW(),e=so(),r=lCe(),n=Math.max;function i(s,o,a){var c=s==null?0:s.length;if(!c)return-1;var u=a==null?0:r(a);return u<0&&(u=n(c+u,0)),t(s,e(o,3),u)}return XP=i,XP}var QP,f6;function uCe(){if(f6)return QP;f6=1;var t=aCe(),e=cCe(),r=t(e);return QP=r,QP}var dCe=uCe();const fCe=Mt(dCe);var hCe=G8();const pCe=Mt(hCe);var mCe=pCe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),OI=S.createContext(void 0),jI=S.createContext(void 0),jH=S.createContext(void 0),RH=S.createContext({}),MH=S.createContext(void 0),DH=S.createContext(0),LH=S.createContext(0),h6=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,a=e.children,c=e.width,u=e.height,f=mCe(s);return X.createElement(OI.Provider,{value:n},X.createElement(jI.Provider,{value:i},X.createElement(RH.Provider,{value:s},X.createElement(jH.Provider,{value:f},X.createElement(MH.Provider,{value:o},X.createElement(DH.Provider,{value:u},X.createElement(LH.Provider,{value:c},a)))))))},gCe=function(){return S.useContext(MH)},$H=function(e){var r=S.useContext(OI);r==null&&Uc();var n=r[e];return n==null&&Uc(),n},yCe=function(){var e=S.useContext(OI);return La(e)},vCe=function(){var e=S.useContext(jI),r=fCe(e,function(n){return PH(n.domain,Number.isFinite)});return r||La(e)},FH=function(e){var r=S.useContext(jI);r==null&&Uc();var n=r[e];return n==null&&Uc(),n},xCe=function(){var e=S.useContext(jH);return e},bCe=function(){return S.useContext(RH)},RI=function(){return S.useContext(LH)},MI=function(){return S.useContext(DH)};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function wCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BH(n.key),n)}}function SCe(t,e,r){return e&&_Ce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ECe(t,e,r){return e=X0(e),PCe(t,VH()?Reflect.construct(e,r||[],X0(t).constructor):e.apply(t,r))}function PCe(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TCe(t)}function TCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VH=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X0(t)}function ACe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SC(t,e)}function SC(t,e){return SC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SC(t,e)}function p6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(r),!0).forEach(function(n){DI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DI(t,e,r){return e=BH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BH(t){var e=CCe(t,"string");return sf(e)=="symbol"?e:e+""}function CCe(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NCe(t,e){return jCe(t)||OCe(t,e)||ICe(t,e)||kCe()}function kCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ICe(t,e){if(t){if(typeof t=="string")return g6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g6(t,e)}}function g6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function jCe(t){if(Array.isArray(t))return t}function EC(){return EC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EC.apply(this,arguments)}var RCe=function(e,r){var n;return X.isValidElement(e)?n=X.cloneElement(e,r):nt(e)?n=e(r):n=X.createElement("line",EC({},r,{className:"recharts-reference-line-line"})),n},MCe=function(e,r,n,i,s,o,a,c,u){var f=s.x,p=s.y,m=s.width,y=s.height;if(n){var _=u.y,x=e.y.apply(_,{position:o});if(Ks(u,"discard")&&!e.y.isInRange(x))return null;var b=[{x:f+m,y:x},{x:f,y:x}];return c==="left"?b.reverse():b}if(r){var T=u.x,P=e.x.apply(T,{position:o});if(Ks(u,"discard")&&!e.x.isInRange(P))return null;var E=[{x:P,y:p+y},{x:P,y:p}];return a==="top"?E.reverse():E}if(i){var I=u.segment,C=I.map(function(R){return e.apply(R,{position:o})});return Ks(u,"discard")&&CAe(C,function(R){return!e.isInRange(R)})?null:C}return null};function DCe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,c=t.alwaysShow,u=gCe(),f=$H(i),p=FH(s),m=xCe();if(!u||!m)return null;us(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=II({x:f.scale,y:p.scale}),_=Lr(e),x=Lr(r),b=n&&n.length===2,T=MCe(y,_,x,b,m,t.position,f.orientation,p.orientation,t);if(!T)return null;var P=NCe(T,2),E=P[0],I=E.x,C=E.y,R=P[1],N=R.x,k=R.y,M=Ks(t,"hidden")?"url(#".concat(u,")"):void 0,$=m6(m6({clipPath:M},Je(t,!0)),{},{x1:I,y1:C,x2:N,y2:k});return X.createElement(kt,{className:lt("recharts-reference-line",a)},RCe(o,$),Xr.renderCallByParent(t,iCe({x1:I,y1:C,x2:N,y2:k})))}var LI=(function(t){function e(){return wCe(this,e),ECe(this,e,arguments)}return ACe(e,t),SCe(e,[{key:"render",value:function(){return X.createElement(DCe,this.props)}}])})(X.Component);DI(LI,"displayName","ReferenceLine");DI(LI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function PC(){return PC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PC.apply(this,arguments)}function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function y6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(r),!0).forEach(function(n){jb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qH(n.key),n)}}function FCe(t,e,r){return e&&$Ce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VCe(t,e,r){return e=Q0(e),BCe(t,UH()?Reflect.construct(e,r||[],Q0(t).constructor):e.apply(t,r))}function BCe(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UCe(t)}function UCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UH=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q0(t)}function qCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TC(t,e)}function TC(t,e){return TC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TC(t,e)}function jb(t,e,r){return e=qH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qH(t){var e=zCe(t,"string");return of(e)=="symbol"?e:e+""}function zCe(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WCe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=II({x:i.scale,y:s.scale}),a=o.apply({x:r,y:n},{bandAware:!0});return Ks(e,"discard")&&!o.isInRange(a)?null:a},Rb=(function(t){function e(){return LCe(this,e),VCe(this,e,arguments)}return qCe(e,t),FCe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,a=n.alwaysShow,c=n.clipPathId,u=Lr(i),f=Lr(s);if(us(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var p=WCe(this.props);if(!p)return null;var m=p.x,y=p.y,_=this.props,x=_.shape,b=_.className,T=Ks(this.props,"hidden")?"url(#".concat(c,")"):void 0,P=v6(v6({clipPath:T},Je(this.props,!0)),{},{cx:m,cy:y});return X.createElement(kt,{className:lt("recharts-reference-dot",b)},e.renderDot(x,P),Xr.renderCallByParent(this.props,{x:m-o,y:y-o,width:2*o,height:2*o}))}}])})(X.Component);jb(Rb,"displayName","ReferenceDot");jb(Rb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jb(Rb,"renderDot",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):nt(t)?r=t(e):r=X.createElement(Pb,PC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function AC(){return AC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AC.apply(this,arguments)}function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function x6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(r),!0).forEach(function(n){Mb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WH(n.key),n)}}function KCe(t,e,r){return e&&GCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YCe(t,e,r){return e=J0(e),XCe(t,zH()?Reflect.construct(e,r||[],J0(t).constructor):e.apply(t,r))}function XCe(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QCe(t)}function QCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zH=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J0(t)}function JCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CC(t,e)}function CC(t,e){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CC(t,e)}function Mb(t,e,r){return e=WH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WH(t){var e=ZCe(t,"string");return af(e)=="symbol"?e:e+""}function ZCe(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eNe=function(e,r,n,i,s){var o=s.x1,a=s.x2,c=s.y1,u=s.y2,f=s.xAxis,p=s.yAxis;if(!f||!p)return null;var m=II({x:f.scale,y:p.scale}),y={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},_={x:r?m.x.apply(a,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Ks(s,"discard")&&(!m.isInRange(y)||!m.isInRange(_))?null:IH(y,_)},Db=(function(t){function e(){return HCe(this,e),YCe(this,e,arguments)}return JCe(e,t),KCe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,a=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;us(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Lr(i),m=Lr(s),y=Lr(o),_=Lr(a),x=this.props.shape;if(!p&&!m&&!y&&!_&&!x)return null;var b=eNe(p,m,y,_,this.props);if(!b&&!x)return null;var T=Ks(this.props,"hidden")?"url(#".concat(f,")"):void 0;return X.createElement(kt,{className:lt("recharts-reference-area",c)},e.renderRect(x,b6(b6({clipPath:T},Je(this.props,!0)),b)),Xr.renderCallByParent(this.props,b))}}])})(X.Component);Mb(Db,"displayName","ReferenceArea");Mb(Db,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Mb(Db,"renderRect",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):nt(t)?r=t(e):r=X.createElement(kI,AC({},e,{className:"recharts-reference-area-rect"})),r});function HH(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function tNe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return oCe(n,r)}function rNe(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:n?i:s,end:n?i+o:s+a}:{start:n?i+o:s+a,end:n?i:s}}function Z0(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function nNe(t,e){return HH(t,e+1)}function iNe(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,a=e.end,c=0,u=1,f=o,p=function(){var _=n==null?void 0:n[c];if(_===void 0)return{v:HH(n,u)};var x=c,b,T=function(){return b===void 0&&(b=r(_,x)),b},P=_.coordinate,E=c===0||Z0(t,P,T,f,a);E||(c=0,f=o,u+=1),E&&(f=P+t*(T()/2+i),c+=u)},m;u<=s.length;)if(m=p(),m)return m.v;return[]}function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function w6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(r),!0).forEach(function(n){sNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sNe(t,e,r){return e=oNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oNe(t){var e=aNe(t,"string");return Pm(e)=="symbol"?e:e+""}function aNe(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lNe(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,a=e.start,c=e.end,u=function(m){var y=s[m],_,x=function(){return _===void 0&&(_=r(y,m)),_};if(m===o-1){var b=t*(y.coordinate+t*x()/2-c);s[m]=y=vn(vn({},y),{},{tickCoord:b>0?y.coordinate-b*t:y.coordinate})}else s[m]=y=vn(vn({},y),{},{tickCoord:y.coordinate});var T=Z0(t,y.tickCoord,x,a,c);T&&(c=y.tickCoord-t*(x()/2+i),s[m]=vn(vn({},y),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return s}function cNe(t,e,r,n,i,s){var o=(n||[]).slice(),a=o.length,c=e.start,u=e.end;if(s){var f=n[a-1],p=r(f,a-1),m=t*(f.coordinate+t*p/2-u);o[a-1]=f=vn(vn({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate});var y=Z0(t,f.tickCoord,function(){return p},c,u);y&&(u=f.tickCoord-t*(p/2+i),o[a-1]=vn(vn({},f),{},{isShow:!0}))}for(var _=s?a-1:a,x=function(P){var E=o[P],I,C=function(){return I===void 0&&(I=r(E,P)),I};if(P===0){var R=t*(E.coordinate-t*C()/2-c);o[P]=E=vn(vn({},E),{},{tickCoord:R<0?E.coordinate-R*t:E.coordinate})}else o[P]=E=vn(vn({},E),{},{tickCoord:E.coordinate});var N=Z0(t,E.tickCoord,C,c,u);N&&(c=E.tickCoord+t*(C()/2+i),o[P]=vn(vn({},E),{},{isShow:!0}))},b=0;b<_;b++)x(b);return o}function $I(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,c=t.interval,u=t.tickFormatter,f=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(Pe(c)||Jc.isSsr)return nNe(i,typeof c=="number"&&Pe(c)?c:0);var m=[],y=a==="top"||a==="bottom"?"width":"height",_=f&&y==="width"?wp(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(E,I){var C=nt(u)?u(E.value,I):E.value;return y==="width"?tNe(wp(C,{fontSize:e,letterSpacing:r}),_,p):wp(C,{fontSize:e,letterSpacing:r})[y]},b=i.length>=2?On(i[1].coordinate-i[0].coordinate):1,T=rNe(s,b,y);return c==="equidistantPreserveStart"?iNe(b,T,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=cNe(b,T,x,i,o,c==="preserveStartEnd"):m=lNe(b,T,x,i,o),m.filter(function(P){return P.isShow}))}var uNe=["viewBox"],dNe=["viewBox"],fNe=["ticks"];function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cd.apply(this,arguments)}function _6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(r),!0).forEach(function(n){FI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JP(t,e){if(t==null)return{};var r=hNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KH(n.key),n)}}function mNe(t,e,r){return e&&S6(t.prototype,e),r&&S6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gNe(t,e,r){return e=ex(e),yNe(t,GH()?Reflect.construct(e,r||[],ex(t).constructor):e.apply(t,r))}function yNe(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vNe(t)}function vNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GH=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(t)}function xNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NC(t,e)}function NC(t,e){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NC(t,e)}function FI(t,e,r){return e=KH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KH(t){var e=bNe(t,"string");return lf(e)=="symbol"?e:e+""}function bNe(t,e){if(lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qf=(function(t){function e(r){var n;return pNe(this,e),n=gNe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return xNe(e,t),mNe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=JP(n,uNe),a=this.props,c=a.viewBox,u=JP(a,dNe);return!bd(s,c)||!bd(o,u)||!bd(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,a=i.width,c=i.height,u=i.orientation,f=i.tickSize,p=i.mirror,m=i.tickMargin,y,_,x,b,T,P,E=p?-1:1,I=n.tickSize||f,C=Pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":y=_=n.coordinate,b=o+ +!p*c,x=b-E*I,P=x-E*m,T=C;break;case"left":x=b=n.coordinate,_=s+ +!p*a,y=_-E*I,T=y-E*m,P=C;break;case"right":x=b=n.coordinate,_=s+ +p*a,y=_+E*I,T=y+E*m,P=C;break;default:y=_=n.coordinate,b=o+ +p*c,x=b+E*I,P=x+E*m,T=C;break}return{line:{x1:y,y1:x,x2:_,y2:b},tick:{x:T,y:P}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,a=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,p=jr(jr(jr({},Je(this.props,!1)),Je(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);p=jr(jr({},p),{},{x1:i,y1:s+m*a,x2:i+o,y2:s+m*a})}else{var y=+(c==="left"&&!u||c==="right"&&u);p=jr(jr({},p),{},{x1:i+y*o,y1:s,x2:i+y*o,y2:s+a})}return X.createElement("line",cd({},p,{className:lt("recharts-cartesian-axis-line",mi(f,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,a=this.props,c=a.tickLine,u=a.stroke,f=a.tick,p=a.tickFormatter,m=a.unit,y=$I(jr(jr({},this.props),{},{ticks:n}),i,s),_=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),b=Je(this.props,!1),T=Je(f,!1),P=jr(jr({},b),{},{fill:"none"},Je(c,!1)),E=y.map(function(I,C){var R=o.getTickLineCoord(I),N=R.line,k=R.tick,M=jr(jr(jr(jr({textAnchor:_,verticalAnchor:x},b),{},{stroke:"none",fill:u},T),k),{},{index:C,payload:I,visibleTicksCount:y.length,tickFormatter:p});return X.createElement(kt,cd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Fc(o.props,I,C)),c&&X.createElement("line",cd({},P,N,{className:lt("recharts-cartesian-axis-tick-line",mi(c,"className"))})),f&&e.renderTickItem(f,M,"".concat(nt(p)?p(I.value,C):I.value).concat(m||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var p=this.props,m=p.ticks,y=JP(p,fNe),_=m;return nt(c)&&(_=m&&m.length>0?c(this.props):c(y)),o<=0||a<=0||!_||!_.length?null:X.createElement(kt,{className:lt("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),Xr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,a=lt(i.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(n)?o=X.cloneElement(n,jr(jr({},i),{},{className:a})):nt(n)?o=n(jr(jr({},i),{},{className:a})):o=X.createElement(Vc,cd({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(S.Component);FI(qf,"displayName","CartesianAxis");FI(qf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wNe=["x1","y1","x2","y2","key"],_Ne=["offset"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function E6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(r),!0).forEach(function(n){SNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SNe(t,e,r){return e=ENe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ENe(t){var e=PNe(t,"string");return qc(e)=="symbol"?e:e+""}function PNe(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mc.apply(this,arguments)}function P6(t,e){if(t==null)return{};var r=TNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ANe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,c=e.ry;return X.createElement("rect",{x:i,y:s,ry:c,width:o,height:a,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function YH(t,e){var r;if(X.isValidElement(t))r=X.cloneElement(t,e);else if(nt(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,c=P6(e,wNe),u=Je(c,!1);u.offset;var f=P6(u,_Ne);r=X.createElement("line",mc({},f,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:a}))}return r}function CNe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,c){var u=_n(_n({},t),{},{x1:e,y1:a,x2:e+r,y2:a,key:"line-".concat(c),index:c});return YH(i,u)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function NNe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,c){var u=_n(_n({},t),{},{x1:a,y1:e,x2:a,y2:e+r,key:"line-".concat(c),index:c});return YH(i,u)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function kNe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var f=a.map(function(m){return Math.round(m+i-i)}).sort(function(m,y){return m-y});i!==f[0]&&f.unshift(0);var p=f.map(function(m,y){var _=!f[y+1],x=_?i+o-m:f[y+1]-m;if(x<=0)return null;var b=y%e.length;return X.createElement("rect",{key:"react-".concat(y),y:m,x:n,height:x,width:s,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function INe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(m){return Math.round(m+s-s)}).sort(function(m,y){return m-y});s!==f[0]&&f.unshift(0);var p=f.map(function(m,y){var _=!f[y+1],x=_?s+a-m:f[y+1]-m;if(x<=0)return null;var b=y%n.length;return X.createElement("rect",{key:"react-".concat(y),x:m,y:o,width:x,height:c,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var ONe=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return Y7($I(_n(_n(_n({},qf.defaultProps),n),{},{ticks:Oo(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},jNe=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return Y7($I(_n(_n(_n({},qf.defaultProps),n),{},{ticks:Oo(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},Wu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function VI(t){var e,r,n,i,s,o,a=RI(),c=MI(),u=bCe(),f=_n(_n({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Wu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Wu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Wu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Wu.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Wu.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Wu.verticalFill,x:Pe(t.x)?t.x:u.left,y:Pe(t.y)?t.y:u.top,width:Pe(t.width)?t.width:u.width,height:Pe(t.height)?t.height:u.height}),p=f.x,m=f.y,y=f.width,_=f.height,x=f.syncWithTicks,b=f.horizontalValues,T=f.verticalValues,P=yCe(),E=vCe();if(!Pe(y)||y<=0||!Pe(_)||_<=0||!Pe(p)||p!==+p||!Pe(m)||m!==+m)return null;var I=f.verticalCoordinatesGenerator||ONe,C=f.horizontalCoordinatesGenerator||jNe,R=f.horizontalPoints,N=f.verticalPoints;if((!R||!R.length)&&nt(C)){var k=b&&b.length,M=C({yAxis:E?_n(_n({},E),{},{ticks:k?b:E.ticks}):void 0,width:a,height:c,offset:u},k?!0:x);us(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qc(M),"]")),Array.isArray(M)&&(R=M)}if((!N||!N.length)&&nt(I)){var $=T&&T.length,L=I({xAxis:P?_n(_n({},P),{},{ticks:$?T:P.ticks}):void 0,width:a,height:c,offset:u},$?!0:x);us(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qc(L),"]")),Array.isArray(L)&&(N=L)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(ANe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),X.createElement(CNe,mc({},f,{offset:u,horizontalPoints:R,xAxis:P,yAxis:E})),X.createElement(NNe,mc({},f,{offset:u,verticalPoints:N,xAxis:P,yAxis:E})),X.createElement(kNe,mc({},f,{horizontalPoints:R})),X.createElement(INe,mc({},f,{verticalPoints:N})))}VI.displayName="CartesianGrid";var RNe=["type","layout","connectNulls","ref"],MNe=["key"];function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function T6(t,e){if(t==null)return{};var r=DNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ap.apply(this,arguments)}function A6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(r),!0).forEach(function(n){ns(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hu(t){return VNe(t)||FNe(t)||$Ne(t)||LNe()}function LNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ne(t,e){if(t){if(typeof t=="string")return kC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kC(t,e)}}function FNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VNe(t){if(Array.isArray(t))return kC(t)}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QH(n.key),n)}}function UNe(t,e,r){return e&&C6(t.prototype,e),r&&C6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qNe(t,e,r){return e=tx(e),zNe(t,XH()?Reflect.construct(e,r||[],tx(t).constructor):e.apply(t,r))}function zNe(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WNe(t)}function WNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XH=function(){return!!t})()}function tx(t){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(t)}function HNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IC(t,e)}function IC(t,e){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IC(t,e)}function ns(t,e,r){return e=QH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QH(t){var e=GNe(t,"string");return cf(e)=="symbol"?e:e+""}function GNe(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var og=(function(t){function e(){var r;BNe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=qNe(this,e,[].concat(i)),ns(r,"state",{isAnimationFinished:!0,totalLength:0}),ns(r,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),ns(r,"getStrokeDasharray",function(o,a,c){var u=c.reduce(function(T,P){return T+P});if(!u)return r.generateSimpleStrokeDasharray(a,o);for(var f=Math.floor(o/u),p=o%u,m=a-o,y=[],_=0,x=0;_<c.length;x+=c[_],++_)if(x+c[_]>p){y=[].concat(Hu(c.slice(0,_)),[p-x]);break}var b=y.length%2===0?[0,m]:[m];return[].concat(Hu(e.repeat(c,f)),Hu(y),b).map(function(T){return"".concat(T,"px")}).join(", ")}),ns(r,"id",$f("recharts-line-")),ns(r,"pathRef",function(o){r.mainCurve=o}),ns(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ns(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return HNe(e,t),UNe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,p=gi(f,sg);if(!p)return null;var m=function(x,b){return{x:x.x,y:x.y,value:x.value,errorVal:Dr(x.payload,b)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return X.createElement(kt,y,p.map(function(_){return X.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:o,xAxis:a,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,c=a.dot,u=a.points,f=a.dataKey,p=Je(this.props,!1),m=Je(c,!0),y=u.map(function(x,b){var T=ai(ai(ai({key:"dot-".concat(b),r:3},p),m),{},{index:b,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:u});return e.renderDotItem(c,T)}),_={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return X.createElement(kt,Ap({className:"recharts-line-dots",key:"dots"},_),y)}},{key:"renderCurveStatically",value:function(n,i,s,o){var a=this.props,c=a.type,u=a.layout,f=a.connectNulls;a.ref;var p=T6(a,RNe),m=ai(ai(ai({},Je(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return X.createElement(M0,Ap({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,a=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,p=o.animationDuration,m=o.animationEasing,y=o.animationId,_=o.animateNewValues,x=o.width,b=o.height,T=this.state,P=T.prevPoints,E=T.totalLength;return X.createElement(Zs,{begin:f,duration:p,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var C=I.t;if(P){var R=P.length/a.length,N=a.map(function(V,D){var H=Math.floor(D*R);if(P[H]){var W=P[H],K=di(W.x,V.x),Q=di(W.y,V.y);return ai(ai({},V),{},{x:K(C),y:Q(C)})}if(_){var U=di(x*2,V.x),G=di(b/2,V.y);return ai(ai({},V),{},{x:U(C),y:G(C)})}return ai(ai({},V),{},{x:V.x,y:V.y})});return s.renderCurveStatically(N,n,i)}var k=di(0,E),M=k(C),$;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});$=s.getStrokeDasharray(M,E,L)}else $=s.generateSimpleStrokeDasharray(E,M);return s.renderCurveStatically(a,n,i,{strokeDasharray:$})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,a=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return a&&o&&o.length&&(!u&&f>0||!ig(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,a=i.points,c=i.className,u=i.xAxis,f=i.yAxis,p=i.top,m=i.left,y=i.width,_=i.height,x=i.isAnimationActive,b=i.id;if(s||!a||!a.length)return null;var T=this.state.isAnimationFinished,P=a.length===1,E=lt("recharts-line",c),I=u&&u.allowDataOverflow,C=f&&f.allowDataOverflow,R=I||C,N=ot(b)?this.id:b,k=(n=Je(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=k.r,$=M===void 0?3:M,L=k.strokeWidth,V=L===void 0?2:L,D=Pge(o)?o:{},H=D.clipDot,W=H===void 0?!0:H,K=$*2+V;return X.createElement(kt,{className:E},I||C?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(N)},X.createElement("rect",{x:I?m:m-y/2,y:C?p:p-_/2,width:I?y:y*2,height:C?_:_*2})),!W&&X.createElement("clipPath",{id:"clipPath-dots-".concat(N)},X.createElement("rect",{x:m-K/2,y:p-K/2,width:y+K,height:_+K}))):null,!P&&this.renderCurve(R,N),this.renderErrorBar(R,N),(P||o)&&this.renderDots(R,W,N),(!x||T)&&Vo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Hu(n),[0]):n,o=[],a=0;a<i;++a)o=[].concat(Hu(o),Hu(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(X.isValidElement(n))s=X.cloneElement(n,i);else if(nt(n))s=n(i);else{var o=i.key,a=T6(i,MNe),c=lt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=X.createElement(Pb,Ap({key:o},a,{className:c}))}return s}}])})(S.PureComponent);ns(og,"displayName","Line");ns(og,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Jc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ns(og,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,c=t.displayedData,u=t.offset,f=e.layout,p=c.map(function(m,y){var _=Dr(m,o);return f==="horizontal"?{x:kF({axis:r,ticks:i,bandSize:a,entry:m,index:y}),y:ot(_)?null:n.scale(_),value:_,payload:m}:{x:ot(_)?null:r.scale(_),y:kF({axis:n,ticks:s,bandSize:a,entry:m,index:y}),value:_,payload:m}});return ai({points:p,layout:f},u)});function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function KNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eG(n.key),n)}}function XNe(t,e,r){return e&&YNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QNe(t,e,r){return e=rx(e),JNe(t,JH()?Reflect.construct(e,r||[],rx(t).constructor):e.apply(t,r))}function JNe(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZNe(t)}function ZNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JH=function(){return!!t})()}function rx(t){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(t)}function eke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OC(t,e)}function OC(t,e){return OC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OC(t,e)}function ZH(t,e,r){return e=eG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eG(t){var e=tke(t,"string");return uf(e)=="symbol"?e:e+""}function tke(t,e){if(uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jC.apply(this,arguments)}function rke(t){var e=t.xAxisId,r=RI(),n=MI(),i=$H(e);return i==null?null:S.createElement(qf,jC({},i,{className:lt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Oo(o,!0)}}))}var zf=(function(t){function e(){return KNe(this,e),QNe(this,e,arguments)}return eke(e,t),XNe(e,[{key:"render",value:function(){return S.createElement(rke,this.props)}}])})(S.Component);ZH(zf,"displayName","XAxis");ZH(zf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function nke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ike(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nG(n.key),n)}}function ske(t,e,r){return e&&ike(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oke(t,e,r){return e=nx(e),ake(t,tG()?Reflect.construct(e,r||[],nx(t).constructor):e.apply(t,r))}function ake(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lke(t)}function lke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tG=function(){return!!t})()}function nx(t){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nx(t)}function cke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RC(t,e)}function RC(t,e){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RC(t,e)}function rG(t,e,r){return e=nG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nG(t){var e=uke(t,"string");return df(e)=="symbol"?e:e+""}function uke(t,e){if(df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function MC(){return MC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MC.apply(this,arguments)}var dke=function(e){var r=e.yAxisId,n=RI(),i=MI(),s=FH(r);return s==null?null:S.createElement(qf,MC({},s,{className:lt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(a){return Oo(a,!0)}}))},Wf=(function(t){function e(){return nke(this,e),oke(this,e,arguments)}return cke(e,t),ske(e,[{key:"render",value:function(){return S.createElement(dke,this.props)}}])})(S.Component);rG(Wf,"displayName","YAxis");rG(Wf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function N6(t){return mke(t)||pke(t)||hke(t)||fke()}function fke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hke(t,e){if(t){if(typeof t=="string")return DC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DC(t,e)}}function pke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mke(t){if(Array.isArray(t))return DC(t)}function DC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var LC=function(e,r,n,i,s){var o=gi(e,LI),a=gi(e,Rb),c=[].concat(N6(o),N6(a)),u=gi(e,Db),f="".concat(i,"Id"),p=i[0],m=r;if(c.length&&(m=c.reduce(function(x,b){if(b.props[f]===n&&Ks(b.props,"extendDomain")&&Pe(b.props[p])){var T=b.props[p];return[Math.min(x[0],T),Math.max(x[1],T)]}return x},m)),u.length){var y="".concat(p,"1"),_="".concat(p,"2");m=u.reduce(function(x,b){if(b.props[f]===n&&Ks(b.props,"extendDomain")&&Pe(b.props[y])&&Pe(b.props[_])){var T=b.props[y],P=b.props[_];return[Math.min(x[0],T,P),Math.max(x[1],T,P)]}return x},m)}return s&&s.length&&(m=s.reduce(function(x,b){return Pe(b)?[Math.min(x[0],b),Math.max(x[1],b)]:x},m)),m},ZP={exports:{}},k6;function gke(){return k6||(k6=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,p||c,m),_=r?r+u:u;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],y]:c._events[_].push(y):(c._events[_]=y,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,p;if(this._eventsCount===0)return u;for(p in f=this._events)e.call(f,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=r?r+u:u,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,y=p.length,_=new Array(y);m<y;m++)_[m]=p[m].fn;return _},a.prototype.listenerCount=function(u){var f=r?r+u:u,p=this._events[f];return p?p.fn?1:p.length:0},a.prototype.emit=function(u,f,p,m,y,_){var x=r?r+u:u;if(!this._events[x])return!1;var b=this._events[x],T=arguments.length,P,E;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),T){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,m),!0;case 5:return b.fn.call(b.context,f,p,m,y),!0;case 6:return b.fn.call(b.context,f,p,m,y,_),!0}for(E=1,P=new Array(T-1);E<T;E++)P[E-1]=arguments[E];b.fn.apply(b.context,P)}else{var I=b.length,C;for(E=0;E<I;E++)switch(b[E].once&&this.removeListener(u,b[E].fn,void 0,!0),T){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,f);break;case 3:b[E].fn.call(b[E].context,f,p);break;case 4:b[E].fn.call(b[E].context,f,p,m);break;default:if(!P)for(C=1,P=new Array(T-1);C<T;C++)P[C-1]=arguments[C];b[E].fn.apply(b[E].context,P)}}return!0},a.prototype.on=function(u,f,p){return s(this,u,f,p,!1)},a.prototype.once=function(u,f,p){return s(this,u,f,p,!0)},a.prototype.removeListener=function(u,f,p,m){var y=r?r+u:u;if(!this._events[y])return this;if(!f)return o(this,y),this;var _=this._events[y];if(_.fn)_.fn===f&&(!m||_.once)&&(!p||_.context===p)&&o(this,y);else{for(var x=0,b=[],T=_.length;x<T;x++)(_[x].fn!==f||m&&!_[x].once||p&&_[x].context!==p)&&b.push(_[x]);b.length?this._events[y]=b.length===1?b[0]:b:o(this,y)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(ZP)),ZP.exports}var yke=gke();const vke=Mt(yke);var eT=new vke,tT="recharts.syncMouseEvents";function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function xke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iG(n.key),n)}}function wke(t,e,r){return e&&bke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rT(t,e,r){return e=iG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iG(t){var e=_ke(t,"string");return Tm(e)=="symbol"?e:e+""}function _ke(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ske=(function(){function t(){xke(this,t),rT(this,"activeIndex",0),rT(this,"coordinateList",[]),rT(this,"layout","horizontal")}return wke(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,a=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,p=f===void 0?null:f,m=r.mouseHandlerCallback,y=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=s+c+u,m=o+this.offset.top+a/2+f;this.mouseHandlerCallback({pageX:p,pageY:m})}}}])})();function Eke(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Pe(n)&&Pe(i))return!0}return!1}function Pke(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function sG(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=Kt(e,r,n,i),a=Kt(e,r,n,s);return{points:[o,a],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function Tke(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,c=e.cy,u=e.innerRadius,f=e.outerRadius,p=e.angle,m=Kt(a,c,u,p),y=Kt(a,c,f,p);n=m.x,i=m.y,s=y.x,o=y.y}else return sG(e);return[{x:n,y:i},{x:s,y:o}]}function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function I6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ev(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I6(Object(r),!0).forEach(function(n){Ake(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ake(t,e,r){return e=Cke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cke(t){var e=Nke(t,"string");return Am(e)=="symbol"?e:e+""}function Nke(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kke(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,c=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,p=t.layout,m=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!s||!o||m!=="ScatterChart"&&i!=="axis")return null;var _,x=M0;if(m==="ScatterChart")_=o,x=JPe;else if(m==="BarChart")_=Pke(p,o,c,f),x=kI;else if(p==="radial"){var b=sG(o),T=b.cx,P=b.cy,E=b.radius,I=b.startAngle,C=b.endAngle;_={cx:T,cy:P,startAngle:I,endAngle:C,innerRadius:E,outerRadius:E},x=oH}else _={points:Tke(p,o,c)},x=M0;var R=ev(ev(ev(ev({stroke:"#ccc",pointerEvents:"none"},c),_),Je(y,!1)),{},{payload:a,payloadIndex:u,className:lt("recharts-tooltip-cursor",y.className)});return S.isValidElement(y)?S.cloneElement(y,R):S.createElement(x,R)}var Ike=["item"],Oke=["children","className","width","height","style","compact","title","desc"];function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ud.apply(this,arguments)}function O6(t,e){return Mke(t)||Rke(t,e)||aG(t,e)||jke()}function jke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Mke(t){if(Array.isArray(t))return t}function j6(t,e){if(t==null)return{};var r=Dke(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lG(n.key),n)}}function Fke(t,e,r){return e&&$ke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vke(t,e,r){return e=ix(e),Bke(t,oG()?Reflect.construct(e,r||[],ix(t).constructor):e.apply(t,r))}function Bke(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uke(t)}function Uke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oG=function(){return!!t})()}function ix(t){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ix(t)}function qke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$C(t,e)}function hf(t){return Hke(t)||Wke(t)||aG(t)||zke()}function zke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aG(t,e){if(t){if(typeof t=="string")return FC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FC(t,e)}}function Wke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hke(t){if(Array.isArray(t))return FC(t)}function FC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(r),!0).forEach(function(n){et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function et(t,e,r){return e=lG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lG(t){var e=Gke(t,"string");return ff(e)=="symbol"?e:e+""}function Gke(t,e){if(ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kke={xAxis:["bottom","top"],yAxis:["left","right"]},Yke={width:"100%",height:"100%"},cG={x:0,y:0};function tv(t){return t}var Xke=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Qke=function(e,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return de(de(de({},i),Kt(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var c=s.coordinate,u=i.angle;return de(de(de({},i),Kt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return cG},Lb=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(a,c){var u=c.props.data;return u&&u.length?[].concat(hf(a),hf(u)):a},[]);return o.length>0?o:e&&e.length&&Pe(i)&&Pe(s)?e.slice(i,s+1):[]};function uG(t){return t==="number"?[0,"auto"]:void 0}var VC=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,a=Lb(r,e);return n<0||!s||!s.length||n>=a.length?null:s.reduce(function(c,u){var f,p=(f=u.props.data)!==null&&f!==void 0?f:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var y=p===void 0?a:p;m=a0(y,o.dataKey,i)}else m=p&&p[n]||a[n];return m?[].concat(hf(c),[eH(u,m)]):c},[])},M6=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=Xke(s,n),a=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,f=_1e(o,a,u,c);if(f>=0&&u){var p=u[f]&&u[f].value,m=VC(e,r,f,p),y=Qke(n,a,f,s);return{activeTooltipIndex:f,activeLabel:p,activePayload:m,activeCoordinate:y}}return null},Jke=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,a=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,p=e.children,m=e.stackOffset,y=K7(f,s);return n.reduce(function(_,x){var b,T=x.type.defaultProps!==void 0?de(de({},x.type.defaultProps),x.props):x.props,P=T.type,E=T.dataKey,I=T.allowDataOverflow,C=T.allowDuplicatedCategory,R=T.scale,N=T.ticks,k=T.includeHidden,M=T[o];if(_[M])return _;var $=Lb(e.data,{graphicalItems:i.filter(function(Z){var ce,ye=o in Z.props?Z.props[o]:(ce=Z.type.defaultProps)===null||ce===void 0?void 0:ce[o];return ye===M}),dataStartIndex:c,dataEndIndex:u}),L=$.length,V,D,H;Eke(T.domain,I,P)&&(V=eC(T.domain,null,I),y&&(P==="number"||R!=="auto")&&(H=Sp($,E,"category")));var W=uG(P);if(!V||V.length===0){var K,Q=(K=T.domain)!==null&&K!==void 0?K:W;if(E){if(V=Sp($,E,P),P==="category"&&y){var U=mge(V);C&&U?(D=V,V=W0(0,L)):C||(V=RF(Q,V,x).reduce(function(Z,ce){return Z.indexOf(ce)>=0?Z:[].concat(hf(Z),[ce])},[]))}else if(P==="category")C?V=V.filter(function(Z){return Z!==""&&!ot(Z)}):V=RF(Q,V,x).reduce(function(Z,ce){return Z.indexOf(ce)>=0||ce===""||ot(ce)?Z:[].concat(hf(Z),[ce])},[]);else if(P==="number"){var G=A1e($,i.filter(function(Z){var ce,ye,Oe=o in Z.props?Z.props[o]:(ce=Z.type.defaultProps)===null||ce===void 0?void 0:ce[o],Me="hide"in Z.props?Z.props.hide:(ye=Z.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return Oe===M&&(k||!Me)}),E,s,f);G&&(V=G)}y&&(P==="number"||R!=="auto")&&(H=Sp($,E,"category"))}else y?V=W0(0,L):a&&a[M]&&a[M].hasStack&&P==="number"?V=m==="expand"?[0,1]:Z7(a[M].stackGroups,c,u):V=G7($,i.filter(function(Z){var ce=o in Z.props?Z.props[o]:Z.type.defaultProps[o],ye="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return ce===M&&(k||!ye)}),P,f,!0);if(P==="number")V=LC(p,V,M,s,N),Q&&(V=eC(Q,V,I));else if(P==="category"&&Q){var te=Q,z=V.every(function(Z){return te.indexOf(Z)>=0});z&&(V=te)}}return de(de({},_),{},et({},M,de(de({},T),{},{axisType:s,domain:V,categoricalDomain:H,duplicateDomain:D,originalDomain:(b=T.domain)!==null&&b!==void 0?b:W,isCategorical:y,layout:f})))},{})},Zke=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,a=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,p=e.children,m=Lb(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),y=m.length,_=K7(f,s),x=-1;return n.reduce(function(b,T){var P=T.type.defaultProps!==void 0?de(de({},T.type.defaultProps),T.props):T.props,E=P[o],I=uG("number");if(!b[E]){x++;var C;return _?C=W0(0,y):a&&a[E]&&a[E].hasStack?(C=Z7(a[E].stackGroups,c,u),C=LC(p,C,E,s)):(C=eC(I,G7(m,n.filter(function(R){var N,k,M=o in R.props?R.props[o]:(N=R.type.defaultProps)===null||N===void 0?void 0:N[o],$="hide"in R.props?R.props.hide:(k=R.type.defaultProps)===null||k===void 0?void 0:k.hide;return M===E&&!$}),"number",f),i.defaultProps.allowDataOverflow),C=LC(p,C,E,s)),de(de({},b),{},et({},E,de(de({axisType:s},i.defaultProps),{},{hide:!0,orientation:mi(Kke,"".concat(s,".").concat(x%2),null),domain:C,originalDomain:I,isCategorical:_,layout:f})))}return b},{})},eIe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,a=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.children,p="".concat(i,"Id"),m=gi(f,s),y={};return m&&m.length?y=Jke(e,{axes:m,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:a,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(y=Zke(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:a,dataStartIndex:c,dataEndIndex:u})),y},tIe=function(e){var r=La(e),n=Oo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:nI(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:O0(r,n)}},D6=function(e){var r=e.children,n=e.defaultShowTooltip,i=ci(r,rf),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},rIe=function(e){return!e||!e.length?!1:e.some(function(r){var n=$o(r&&r.type);return n&&n.indexOf("Bar")>=0})},L6=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nIe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,c=a===void 0?{}:a,u=n.width,f=n.height,p=n.children,m=n.margin||{},y=ci(p,rf),_=ci(p,wd),x=Object.keys(c).reduce(function(C,R){var N=c[R],k=N.orientation;return!N.mirror&&!N.hide?de(de({},C),{},et({},k,C[k]+N.width)):C},{left:m.left||0,right:m.right||0}),b=Object.keys(o).reduce(function(C,R){var N=o[R],k=N.orientation;return!N.mirror&&!N.hide?de(de({},C),{},et({},k,mi(C,"".concat(k))+N.height)):C},{top:m.top||0,bottom:m.bottom||0}),T=de(de({},b),x),P=T.bottom;y&&(T.bottom+=y.props.height||rf.defaultProps.height),_&&r&&(T=P1e(T,i,n,r));var E=u-T.left-T.right,I=f-T.top-T.bottom;return de(de({brushBottom:P},T),{},{width:Math.max(E,0),height:Math.max(I,0)})},iIe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},BI=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,p=e.defaultProps,m=function(T,P){var E=P.graphicalItems,I=P.stackGroups,C=P.offset,R=P.updateId,N=P.dataStartIndex,k=P.dataEndIndex,M=T.barSize,$=T.layout,L=T.barGap,V=T.barCategoryGap,D=T.maxBarSize,H=L6($),W=H.numericAxisName,K=H.cateAxisName,Q=rIe(E),U=[];return E.forEach(function(G,te){var z=Lb(T.data,{graphicalItems:[G],dataStartIndex:N,dataEndIndex:k}),Z=G.type.defaultProps!==void 0?de(de({},G.type.defaultProps),G.props):G.props,ce=Z.dataKey,ye=Z.maxBarSize,Oe=Z["".concat(W,"Id")],Me=Z["".concat(K,"Id")],he={},_e=c.reduce(function(Dt,ir){var Nr=P["".concat(ir.axisType,"Map")],Xn=Z["".concat(ir.axisType,"Id")];Nr&&Nr[Xn]||ir.axisType==="zAxis"||Uc();var Ur=Nr[Xn];return de(de({},Dt),{},et(et({},ir.axisType,Ur),"".concat(ir.axisType,"Ticks"),Oo(Ur)))},he),ue=_e[K],be=_e["".concat(K,"Ticks")],Ae=I&&I[Oe]&&I[Oe].hasStack&&D1e(G,I[Oe].stackGroups),le=$o(G.type).indexOf("Bar")>=0,Ze=O0(ue,be),fe=[],we=Q&&S1e({barSize:M,stackGroups:I,totalSize:iIe(_e,K)});if(le){var Ne,je,ft=ot(ye)?D:ye,Ke=(Ne=(je=O0(ue,be,!0))!==null&&je!==void 0?je:ft)!==null&&Ne!==void 0?Ne:0;fe=E1e({barGap:L,barCategoryGap:V,bandSize:Ke!==Ze?Ke:Ze,sizeList:we[Me],maxBarSize:ft}),Ke!==Ze&&(fe=fe.map(function(Dt){return de(de({},Dt),{},{position:de(de({},Dt.position),{},{offset:Dt.position.offset-Ke/2})})}))}var ut=G&&G.type&&G.type.getComposedData;ut&&U.push({props:de(de({},ut(de(de({},_e),{},{displayedData:z,props:T,dataKey:ce,item:G,bandSize:Ze,barPosition:fe,offset:C,stackedData:Ae,layout:$,dataStartIndex:N,dataEndIndex:k}))),{},et(et(et({key:G.key||"item-".concat(te)},W,_e[W]),K,_e[K]),"animationId",R)),childIndex:Cge(G,T.children),item:G})}),U},y=function(T,P){var E=T.props,I=T.dataStartIndex,C=T.dataEndIndex,R=T.updateId;if(!KL({props:E}))return null;var N=E.children,k=E.layout,M=E.stackOffset,$=E.data,L=E.reverseStackOrder,V=L6(k),D=V.numericAxisName,H=V.cateAxisName,W=gi(N,n),K=R1e($,W,"".concat(D,"Id"),"".concat(H,"Id"),M,L),Q=c.reduce(function(Z,ce){var ye="".concat(ce.axisType,"Map");return de(de({},Z),{},et({},ye,eIe(E,de(de({},ce),{},{graphicalItems:W,stackGroups:ce.axisType===D&&K,dataStartIndex:I,dataEndIndex:C}))))},{}),U=nIe(de(de({},Q),{},{props:E,graphicalItems:W}),P==null?void 0:P.legendBBox);Object.keys(Q).forEach(function(Z){Q[Z]=f(E,Q[Z],U,Z.replace("Map",""),r)});var G=Q["".concat(H,"Map")],te=tIe(G),z=m(E,de(de({},Q),{},{dataStartIndex:I,dataEndIndex:C,updateId:R,graphicalItems:W,stackGroups:K,offset:U}));return de(de({formattedGraphicalItems:z,graphicalItems:W,offset:U,stackGroups:K},te),Q)},_=(function(b){function T(P){var E,I,C;return Lke(this,T),C=Vke(this,T,[P]),et(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),et(C,"accessibilityManager",new Ske),et(C,"handleLegendBBoxUpdate",function(R){if(R){var N=C.state,k=N.dataStartIndex,M=N.dataEndIndex,$=N.updateId;C.setState(de({legendBBox:R},y({props:C.props,dataStartIndex:k,dataEndIndex:M,updateId:$},de(de({},C.state),{},{legendBBox:R}))))}}),et(C,"handleReceiveSyncEvent",function(R,N,k){if(C.props.syncId===R){if(k===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(N)}}),et(C,"handleBrushChange",function(R){var N=R.startIndex,k=R.endIndex;if(N!==C.state.dataStartIndex||k!==C.state.dataEndIndex){var M=C.state.updateId;C.setState(function(){return de({dataStartIndex:N,dataEndIndex:k},y({props:C.props,dataStartIndex:N,dataEndIndex:k,updateId:M},C.state))}),C.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),et(C,"handleMouseEnter",function(R){var N=C.getMouseInfo(R);if(N){var k=de(de({},N),{},{isTooltipActive:!0});C.setState(k),C.triggerSyncEvent(k);var M=C.props.onMouseEnter;nt(M)&&M(k,R)}}),et(C,"triggeredAfterMouseMove",function(R){var N=C.getMouseInfo(R),k=N?de(de({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(k),C.triggerSyncEvent(k);var M=C.props.onMouseMove;nt(M)&&M(k,R)}),et(C,"handleItemMouseEnter",function(R){C.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),et(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),et(C,"handleMouseMove",function(R){R.persist(),C.throttleTriggeredAfterMouseMove(R)}),et(C,"handleMouseLeave",function(R){C.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};C.setState(N),C.triggerSyncEvent(N);var k=C.props.onMouseLeave;nt(k)&&k(N,R)}),et(C,"handleOuterEvent",function(R){var N=Age(R),k=mi(C.props,"".concat(N));if(N&&nt(k)){var M,$;/.*touch.*/i.test(N)?$=C.getMouseInfo(R.changedTouches[0]):$=C.getMouseInfo(R),k((M=$)!==null&&M!==void 0?M:{},R)}}),et(C,"handleClick",function(R){var N=C.getMouseInfo(R);if(N){var k=de(de({},N),{},{isTooltipActive:!0});C.setState(k),C.triggerSyncEvent(k);var M=C.props.onClick;nt(M)&&M(k,R)}}),et(C,"handleMouseDown",function(R){var N=C.props.onMouseDown;if(nt(N)){var k=C.getMouseInfo(R);N(k,R)}}),et(C,"handleMouseUp",function(R){var N=C.props.onMouseUp;if(nt(N)){var k=C.getMouseInfo(R);N(k,R)}}),et(C,"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),et(C,"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&C.handleMouseDown(R.changedTouches[0])}),et(C,"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&C.handleMouseUp(R.changedTouches[0])}),et(C,"handleDoubleClick",function(R){var N=C.props.onDoubleClick;if(nt(N)){var k=C.getMouseInfo(R);N(k,R)}}),et(C,"handleContextMenu",function(R){var N=C.props.onContextMenu;if(nt(N)){var k=C.getMouseInfo(R);N(k,R)}}),et(C,"triggerSyncEvent",function(R){C.props.syncId!==void 0&&eT.emit(tT,C.props.syncId,R,C.eventEmitterSymbol)}),et(C,"applySyncEvent",function(R){var N=C.props,k=N.layout,M=N.syncMethod,$=C.state.updateId,L=R.dataStartIndex,V=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)C.setState(de({dataStartIndex:L,dataEndIndex:V},y({props:C.props,dataStartIndex:L,dataEndIndex:V,updateId:$},C.state)));else if(R.activeTooltipIndex!==void 0){var D=R.chartX,H=R.chartY,W=R.activeTooltipIndex,K=C.state,Q=K.offset,U=K.tooltipTicks;if(!Q)return;if(typeof M=="function")W=M(U,R);else if(M==="value"){W=-1;for(var G=0;G<U.length;G++)if(U[G].value===R.activeLabel){W=G;break}}var te=de(de({},Q),{},{x:Q.left,y:Q.top}),z=Math.min(D,te.x+te.width),Z=Math.min(H,te.y+te.height),ce=U[W]&&U[W].value,ye=VC(C.state,C.props.data,W),Oe=U[W]?{x:k==="horizontal"?U[W].coordinate:z,y:k==="horizontal"?Z:U[W].coordinate}:cG;C.setState(de(de({},R),{},{activeLabel:ce,activeCoordinate:Oe,activePayload:ye,activeTooltipIndex:W}))}else C.setState(R)}),et(C,"renderCursor",function(R){var N,k=C.state,M=k.isTooltipActive,$=k.activeCoordinate,L=k.activePayload,V=k.offset,D=k.activeTooltipIndex,H=k.tooltipAxisBandSize,W=C.getTooltipEventType(),K=(N=R.props.active)!==null&&N!==void 0?N:M,Q=C.props.layout,U=R.key||"_recharts-cursor";return X.createElement(kke,{key:U,activeCoordinate:$,activePayload:L,activeTooltipIndex:D,chartName:r,element:R,isActive:K,layout:Q,offset:V,tooltipAxisBandSize:H,tooltipEventType:W})}),et(C,"renderPolarAxis",function(R,N,k){var M=mi(R,"type.axisType"),$=mi(C.state,"".concat(M,"Map")),L=R.type.defaultProps,V=L!==void 0?de(de({},L),R.props):R.props,D=$&&$[V["".concat(M,"Id")]];return S.cloneElement(R,de(de({},D),{},{className:lt(M,D.className),key:R.key||"".concat(N,"-").concat(k),ticks:Oo(D,!0)}))}),et(C,"renderPolarGrid",function(R){var N=R.props,k=N.radialLines,M=N.polarAngles,$=N.polarRadius,L=C.state,V=L.radiusAxisMap,D=L.angleAxisMap,H=La(V),W=La(D),K=W.cx,Q=W.cy,U=W.innerRadius,G=W.outerRadius;return S.cloneElement(R,{polarAngles:Array.isArray(M)?M:Oo(W,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray($)?$:Oo(H,!0).map(function(te){return te.coordinate}),cx:K,cy:Q,innerRadius:U,outerRadius:G,key:R.key||"polar-grid",radialLines:k})}),et(C,"renderLegend",function(){var R=C.state.formattedGraphicalItems,N=C.props,k=N.children,M=N.width,$=N.height,L=C.props.margin||{},V=M-(L.left||0)-(L.right||0),D=W7({children:k,formattedGraphicalItems:R,legendWidth:V,legendContent:u});if(!D)return null;var H=D.item,W=j6(D,Ike);return S.cloneElement(H,de(de({},W),{},{chartWidth:M,chartHeight:$,margin:L,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),et(C,"renderTooltip",function(){var R,N=C.props,k=N.children,M=N.accessibilityLayer,$=ci(k,ki);if(!$)return null;var L=C.state,V=L.isTooltipActive,D=L.activeCoordinate,H=L.activePayload,W=L.activeLabel,K=L.offset,Q=(R=$.props.active)!==null&&R!==void 0?R:V;return S.cloneElement($,{viewBox:de(de({},K),{},{x:K.left,y:K.top}),active:Q,label:W,payload:Q?H:[],coordinate:D,accessibilityLayer:M})}),et(C,"renderBrush",function(R){var N=C.props,k=N.margin,M=N.data,$=C.state,L=$.offset,V=$.dataStartIndex,D=$.dataEndIndex,H=$.updateId;return S.cloneElement(R,{key:R.key||"_recharts-brush",onChange:Xy(C.handleBrushChange,R.props.onChange),data:M,x:Pe(R.props.x)?R.props.x:L.left,y:Pe(R.props.y)?R.props.y:L.top+L.height+L.brushBottom-(k.bottom||0),width:Pe(R.props.width)?R.props.width:L.width,startIndex:V,endIndex:D,updateId:"brush-".concat(H)})}),et(C,"renderReferenceElement",function(R,N,k){if(!R)return null;var M=C,$=M.clipPathId,L=C.state,V=L.xAxisMap,D=L.yAxisMap,H=L.offset,W=R.type.defaultProps||{},K=R.props,Q=K.xAxisId,U=Q===void 0?W.xAxisId:Q,G=K.yAxisId,te=G===void 0?W.yAxisId:G;return S.cloneElement(R,{key:R.key||"".concat(N,"-").concat(k),xAxis:V[U],yAxis:D[te],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:$})}),et(C,"renderActivePoints",function(R){var N=R.item,k=R.activePoint,M=R.basePoint,$=R.childIndex,L=R.isRange,V=[],D=N.props.key,H=N.item.type.defaultProps!==void 0?de(de({},N.item.type.defaultProps),N.item.props):N.item.props,W=H.activeDot,K=H.dataKey,Q=de(de({index:$,dataKey:K,cx:k.x,cy:k.y,r:4,fill:NI(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Je(W,!1)),l0(W));return V.push(T.renderActiveDot(W,Q,"".concat(D,"-activePoint-").concat($))),M?V.push(T.renderActiveDot(W,de(de({},Q),{},{cx:M.x,cy:M.y}),"".concat(D,"-basePoint-").concat($))):L&&V.push(null),V}),et(C,"renderGraphicChild",function(R,N,k){var M=C.filterFormatItem(R,N,k);if(!M)return null;var $=C.getTooltipEventType(),L=C.state,V=L.isTooltipActive,D=L.tooltipAxis,H=L.activeTooltipIndex,W=L.activeLabel,K=C.props.children,Q=ci(K,ki),U=M.props,G=U.points,te=U.isRange,z=U.baseLine,Z=M.item.type.defaultProps!==void 0?de(de({},M.item.type.defaultProps),M.item.props):M.item.props,ce=Z.activeDot,ye=Z.hide,Oe=Z.activeBar,Me=Z.activeShape,he=!!(!ye&&V&&Q&&(ce||Oe||Me)),_e={};$!=="axis"&&Q&&Q.props.trigger==="click"?_e={onClick:Xy(C.handleItemMouseEnter,R.props.onClick)}:$!=="axis"&&(_e={onMouseLeave:Xy(C.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:Xy(C.handleItemMouseEnter,R.props.onMouseEnter)});var ue=S.cloneElement(R,de(de({},M.props),_e));function be(ir){return typeof D.dataKey=="function"?D.dataKey(ir.payload):null}if(he)if(H>=0){var Ae,le;if(D.dataKey&&!D.allowDuplicatedCategory){var Ze=typeof D.dataKey=="function"?be:"payload.".concat(D.dataKey.toString());Ae=a0(G,Ze,W),le=te&&z&&a0(z,Ze,W)}else Ae=G==null?void 0:G[H],le=te&&z&&z[H];if(Me||Oe){var fe=R.props.activeIndex!==void 0?R.props.activeIndex:H;return[S.cloneElement(R,de(de(de({},M.props),_e),{},{activeIndex:fe})),null,null]}if(!ot(Ae))return[ue].concat(hf(C.renderActivePoints({item:M,activePoint:Ae,basePoint:le,childIndex:H,isRange:te})))}else{var we,Ne=(we=C.getItemByXY(C.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:ue},je=Ne.graphicalItem,ft=je.item,Ke=ft===void 0?R:ft,ut=je.childIndex,Dt=de(de(de({},M.props),_e),{},{activeIndex:ut});return[S.cloneElement(Ke,Dt),null,null]}return te?[ue,null,null]:[ue,null]}),et(C,"renderCustomized",function(R,N,k){return S.cloneElement(R,de(de({key:"recharts-customized-".concat(k)},C.props),C.state))}),et(C,"renderMap",{CartesianGrid:{handler:tv,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:tv},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:tv},YAxis:{handler:tv},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((E=P.id)!==null&&E!==void 0?E:$f("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=zW(C.triggeredAfterMouseMove,(I=P.throttleDelay)!==null&&I!==void 0?I:1e3/60),C.state={},C}return qke(T,b),Fke(T,[{key:"componentDidMount",value:function(){var E,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,I=E.children,C=E.data,R=E.height,N=E.layout,k=ci(I,ki);if(k){var M=k.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,L=VC(this.state,C,M,$),V=this.state.tooltipTicks[M].coordinate,D=(this.state.offset.top+R)/2,H=N==="horizontal",W=H?{x:V,y:D}:{y:V,x:D},K=this.state.formattedGraphicalItems.find(function(U){var G=U.item;return G.type.name==="Scatter"});K&&(W=de(de({},W),K.props.points[M].tooltipPosition),L=K.props.points[M].tooltipPayload);var Q={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:$,activePayload:L,activeCoordinate:W};this.setState(Q),this.renderCursor(k),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var C,R;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(E){wA([ci(E.children,ki)],[ci(this.props.children,ki)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=ci(this.props.children,ki);if(E&&typeof E.props.shared=="boolean"){var I=E.props.shared?"axis":"item";return a.indexOf(I)>=0?I:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var I=this.container,C=I.getBoundingClientRect(),R=pxe(C),N={chartX:Math.round(E.pageX-R.left),chartY:Math.round(E.pageY-R.top)},k=C.width/I.offsetWidth||1,M=this.inRange(N.chartX,N.chartY,k);if(!M)return null;var $=this.state,L=$.xAxisMap,V=$.yAxisMap,D=this.getTooltipEventType(),H=M6(this.state,this.props.data,this.props.layout,M);if(D!=="axis"&&L&&V){var W=La(L).scale,K=La(V).scale,Q=W&&W.invert?W.invert(N.chartX):null,U=K&&K.invert?K.invert(N.chartY):null;return de(de({},N),{},{xValue:Q,yValue:U},H)}return H?de(de({},N),H):null}},{key:"inRange",value:function(E,I){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,N=E/C,k=I/C;if(R==="horizontal"||R==="vertical"){var M=this.state.offset,$=N>=M.left&&N<=M.left+M.width&&k>=M.top&&k<=M.top+M.height;return $?{x:N,y:k}:null}var L=this.state,V=L.angleAxisMap,D=L.radiusAxisMap;if(V&&D){var H=La(V);return LF({x:N,y:k},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,I=this.getTooltipEventType(),C=ci(E,ki),R={};C&&I==="axis"&&(C.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=l0(this.props,this.handleOuterEvent);return de(de({},N),R)}},{key:"addListener",value:function(){eT.on(tT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eT.removeListener(tT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,I,C){for(var R=this.state.formattedGraphicalItems,N=0,k=R.length;N<k;N++){var M=R[N];if(M.item===E||M.props.key===E.key||I===$o(M.item.type)&&C===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,I=this.state.offset,C=I.left,R=I.top,N=I.height,k=I.width;return X.createElement("defs",null,X.createElement("clipPath",{id:E},X.createElement("rect",{x:C,y:R,height:N,width:k})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(I,C){var R=O6(C,2),N=R[0],k=R[1];return de(de({},I),{},et({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(I,C){var R=O6(C,2),N=R[0],k=R[1];return de(de({},I),{},et({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[E])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(E){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[E])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(E){var I=this.state,C=I.formattedGraphicalItems,R=I.activeItem;if(C&&C.length)for(var N=0,k=C.length;N<k;N++){var M=C[N],$=M.props,L=M.item,V=L.type.defaultProps!==void 0?de(de({},L.type.defaultProps),L.props):L.props,D=$o(L.type);if(D==="Bar"){var H=($.data||[]).find(function(U){return OPe(E,U)});if(H)return{graphicalItem:M,payload:H}}else if(D==="RadialBar"){var W=($.data||[]).find(function(U){return LF(E,U)});if(W)return{graphicalItem:M,payload:W}}else if(kb(M,R)||Ib(M,R)||wm(M,R)){var K=tAe({graphicalItem:M,activeTooltipItem:R,itemData:V.data}),Q=V.activeIndex===void 0?K:V.activeIndex;return{graphicalItem:de(de({},M),{},{childIndex:Q}),payload:wm(M,R)?V.data[K]:M.props.data[K]}}}return null}},{key:"render",value:function(){var E=this;if(!KL(this))return null;var I=this.props,C=I.children,R=I.className,N=I.width,k=I.height,M=I.style,$=I.compact,L=I.title,V=I.desc,D=j6(I,Oke),H=Je(D,!1);if($)return X.createElement(h6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(SA,ud({},H,{width:N,height:k,title:L,desc:V}),this.renderClipPath(),XL(C,this.renderMap)));if(this.props.accessibilityLayer){var W,K;H.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,H.role=(K=this.props.role)!==null&&K!==void 0?K:"application",H.onKeyDown=function(U){E.accessibilityManager.keyboardEvent(U)},H.onFocus=function(){E.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return X.createElement(h6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",ud({className:lt("recharts-wrapper",R),style:de({position:"relative",cursor:"default",width:N,height:k},M)},Q,{ref:function(G){E.container=G}}),X.createElement(SA,ud({},H,{width:N,height:k,title:L,desc:V,style:Yke}),this.renderClipPath(),XL(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);et(_,"displayName",r),et(_,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),et(_,"getDerivedStateFromProps",function(b,T){var P=b.dataKey,E=b.data,I=b.children,C=b.width,R=b.height,N=b.layout,k=b.stackOffset,M=b.margin,$=T.dataStartIndex,L=T.dataEndIndex;if(T.updateId===void 0){var V=D6(b);return de(de(de({},V),{},{updateId:0},y(de(de({props:b},V),{},{updateId:0}),T)),{},{prevDataKey:P,prevData:E,prevWidth:C,prevHeight:R,prevLayout:N,prevStackOffset:k,prevMargin:M,prevChildren:I})}if(P!==T.prevDataKey||E!==T.prevData||C!==T.prevWidth||R!==T.prevHeight||N!==T.prevLayout||k!==T.prevStackOffset||!bd(M,T.prevMargin)){var D=D6(b),H={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},W=de(de({},M6(T,E,N)),{},{updateId:T.updateId+1}),K=de(de(de({},D),H),W);return de(de(de({},K),y(de({props:b},K),T)),{},{prevDataKey:P,prevData:E,prevWidth:C,prevHeight:R,prevLayout:N,prevStackOffset:k,prevMargin:M,prevChildren:I})}if(!wA(I,T.prevChildren)){var Q,U,G,te,z=ci(I,rf),Z=z&&(Q=(U=z.props)===null||U===void 0?void 0:U.startIndex)!==null&&Q!==void 0?Q:$,ce=z&&(G=(te=z.props)===null||te===void 0?void 0:te.endIndex)!==null&&G!==void 0?G:L,ye=Z!==$||ce!==L,Oe=!ot(E),Me=Oe&&!ye?T.updateId:T.updateId+1;return de(de({updateId:Me},y(de(de({props:b},T),{},{updateId:Me,dataStartIndex:Z,dataEndIndex:ce}),T)),{},{prevChildren:I,dataStartIndex:Z,dataEndIndex:ce})}return null}),et(_,"renderActiveDot",function(b,T,P){var E;return S.isValidElement(b)?E=S.cloneElement(b,T):nt(b)?E=b(T):E=X.createElement(Pb,T),X.createElement(kt,{className:"recharts-active-dot",key:P},E)});var x=S.forwardRef(function(T,P){return X.createElement(_,ud({},T,{ref:P}))});return x.displayName=_.displayName,x},sIe=BI({chartName:"LineChart",GraphicalChild:og,axisComponents:[{axisType:"xAxis",AxisComp:zf},{axisType:"yAxis",AxisComp:Wf}],formatAxisMap:kH}),oIe=BI({chartName:"BarChart",GraphicalChild:ru,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:zf},{axisType:"yAxis",AxisComp:Wf}],formatAxisMap:kH}),aIe=BI({chartName:"PieChart",GraphicalChild:na,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Nb},{axisType:"radiusAxis",AxisComp:Ab}],formatAxisMap:H1e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Vr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function eo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function dG(t,e){const r=Vr(t);return isNaN(e)?eo(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function lIe(t,e){const r=Vr(t);if(isNaN(e))return eo(t,NaN);const n=r.getDate(),i=eo(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const fG=6048e5,cIe=864e5,hG=6e4,pG=36e5;let uIe={};function ag(){return uIe}function ds(t,e){var a,c,u,f;const r=ag(),n=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=Vr(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function sx(t){return ds(t,{weekStartsOn:1})}function mG(t){const e=Vr(t),r=e.getFullYear(),n=eo(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=sx(n),s=eo(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=sx(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function $6(t){const e=Vr(t);return e.setHours(0,0,0,0),e}function F6(t){const e=Vr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function dIe(t,e){const r=$6(t),n=$6(e),i=+r-F6(r),s=+n-F6(n);return Math.round((i-s)/cIe)}function fIe(t){const e=mG(t),r=eo(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),sx(r)}function hIe(t,e){const r=e*7;return dG(t,r)}function pIe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function mIe(t){if(!pIe(t)&&typeof t!="number")return!1;const e=Vr(t);return!isNaN(Number(e))}function ox(t){const e=Vr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function gIe(t,e){const r=Vr(t.start),n=Vr(t.end);let i=+r>+n;const s=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let a=1;const c=[];for(;+o<=s;)c.push(Vr(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return i?c.reverse():c}function ax(t){const e=Vr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function yIe(t){const e=Vr(t),r=eo(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Ed(t,e){var a,c;const r=ag(),n=r.weekStartsOn??((c=(a=r.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??0,i=Vr(t),s=i.getDay(),o=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const vIe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xIe=(t,e,r)=>{let n;const i=vIe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function nT(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const bIe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wIe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_Ie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SIe={date:nT({formats:bIe,defaultWidth:"full"}),time:nT({formats:wIe,defaultWidth:"full"}),dateTime:nT({formats:_Ie,defaultWidth:"full"})},EIe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PIe=(t,e,r,n)=>EIe[t];function Hh(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const TIe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},AIe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CIe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NIe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kIe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IIe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OIe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},jIe={ordinalNumber:OIe,era:Hh({values:TIe,defaultWidth:"wide"}),quarter:Hh({values:AIe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hh({values:CIe,defaultWidth:"wide"}),day:Hh({values:NIe,defaultWidth:"wide"}),dayPeriod:Hh({values:kIe,defaultWidth:"wide",formattingValues:IIe,defaultFormattingWidth:"wide"})};function Gh(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?MIe(a,p=>p.test(o)):RIe(a,p=>p.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=e.slice(o.length);return{value:u,rest:f}}}function RIe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function MIe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function DIe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const LIe=/^(\d+)(th|st|nd|rd)?/i,$Ie=/\d+/i,FIe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},VIe={any:[/^b/i,/^(a|c)/i]},BIe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},UIe={any:[/1/i,/2/i,/3/i,/4/i]},qIe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zIe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WIe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HIe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GIe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},KIe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YIe={ordinalNumber:DIe({matchPattern:LIe,parsePattern:$Ie,valueCallback:t=>parseInt(t,10)}),era:Gh({matchPatterns:FIe,defaultMatchWidth:"wide",parsePatterns:VIe,defaultParseWidth:"any"}),quarter:Gh({matchPatterns:BIe,defaultMatchWidth:"wide",parsePatterns:UIe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gh({matchPatterns:qIe,defaultMatchWidth:"wide",parsePatterns:zIe,defaultParseWidth:"any"}),day:Gh({matchPatterns:WIe,defaultMatchWidth:"wide",parsePatterns:HIe,defaultParseWidth:"any"}),dayPeriod:Gh({matchPatterns:GIe,defaultMatchWidth:"any",parsePatterns:KIe,defaultParseWidth:"any"})},XIe={code:"en-US",formatDistance:xIe,formatLong:SIe,formatRelative:PIe,localize:jIe,match:YIe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QIe(t){const e=Vr(t);return dIe(e,yIe(e))+1}function JIe(t){const e=Vr(t),r=+sx(e)-+fIe(e);return Math.round(r/fG)+1}function gG(t,e){var f,p,m,y;const r=Vr(t),n=r.getFullYear(),i=ag(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(m=i.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=eo(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const a=ds(o,e),c=eo(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=ds(c,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function ZIe(t,e){var a,c,u,f;const r=ag(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=gG(t,e),s=eo(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),ds(s,e)}function eOe(t,e){const r=Vr(t),n=+ds(r,e)-+ZIe(r,e);return Math.round(n/fG)+1}function Vt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const ka={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Vt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Vt(r+1,2)},d(t,e){return Vt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Vt(t.getHours()%12||12,e.length)},H(t,e){return Vt(t.getHours(),e.length)},m(t,e){return Vt(t.getMinutes(),e.length)},s(t,e){return Vt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Vt(i,e.length)}},Gu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},V6={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ka.y(t,e)},Y:function(t,e,r,n){const i=gG(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Vt(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Vt(s,e.length)},R:function(t,e){const r=mG(t);return Vt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Vt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Vt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Vt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return ka.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Vt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=eOe(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Vt(i,e.length)},I:function(t,e,r){const n=JIe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Vt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):ka.d(t,e)},D:function(t,e,r){const n=QIe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Vt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Vt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Vt(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Vt(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Gu.noon:n===0?i=Gu.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Gu.evening:n>=12?i=Gu.afternoon:n>=4?i=Gu.morning:i=Gu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ka.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):ka.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Vt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Vt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):ka.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):ka.s(t,e)},S:function(t,e){return ka.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return U6(n);case"XXXX":case"XX":return nc(n);case"XXXXX":case"XXX":default:return nc(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return U6(n);case"xxxx":case"xx":return nc(n);case"xxxxx":case"xxx":default:return nc(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+B6(n,":");case"OOOO":default:return"GMT"+nc(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+B6(n,":");case"zzzz":default:return"GMT"+nc(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Vt(n,e.length)},T:function(t,e,r){const n=t.getTime();return Vt(n,e.length)}};function B6(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Vt(s,2)}function U6(t,e){return t%60===0?(t>0?"-":"+")+Vt(Math.abs(t)/60,2):nc(t,e)}function nc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Vt(Math.trunc(n/60),2),s=Vt(n%60,2);return r+i+e+s}const q6=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},yG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},tOe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return q6(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",q6(n,e)).replace("{{time}}",yG(i,e))},rOe={p:yG,P:tOe},nOe=/^D+$/,iOe=/^Y+$/,sOe=["D","DD","YY","YYYY"];function oOe(t){return nOe.test(t)}function aOe(t){return iOe.test(t)}function lOe(t,e,r){const n=cOe(t,e,r);if(console.warn(n),sOe.includes(t))throw new RangeError(n)}function cOe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uOe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dOe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fOe=/^'([^]*?)'?$/,hOe=/''/g,pOe=/[a-zA-Z]/;function ac(t,e,r){var f,p,m,y;const n=ag(),i=n.locale??XIe,s=n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=n.weekStartsOn??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,a=Vr(t);if(!mIe(a))throw new RangeError("Invalid time value");let c=e.match(dOe).map(_=>{const x=_[0];if(x==="p"||x==="P"){const b=rOe[x];return b(_,i.formatLong)}return _}).join("").match(uOe).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const x=_[0];if(x==="'")return{isToken:!1,value:mOe(_)};if(V6[x])return{isToken:!0,value:_};if(x.match(pOe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(_=>{if(!_.isToken)return _.value;const x=_.value;(aOe(x)||oOe(x))&&lOe(x,e,String(t));const b=V6[x[0]];return b(a,x,i.localize,u)}).join("")}function mOe(t){const e=t.match(fOe);return e?e[1].replace(hOe,"'"):t}function Ua(t,e){return dG(t,-e)}function $a(t,e){const n=xOe(t);let i;if(n.date){const c=bOe(n.date,2);i=wOe(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(n.time&&(o=_Oe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(a=SOe(n.timezone),isNaN(a))return new Date(NaN)}else{const c=new Date(s+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(s+o+a)}const rv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},gOe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,yOe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,vOe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xOe(t){const e={},r=t.split(rv.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],rv.timeZoneDelimiter.test(e.date)&&(e.date=t.split(rv.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=rv.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function bOe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function wOe(t,e){if(e===null)return new Date(NaN);const r=t.match(gOe);if(!r)return new Date(NaN);const n=!!r[4],i=Kh(r[1]),s=Kh(r[2])-1,o=Kh(r[3]),a=Kh(r[4]),c=Kh(r[5])-1;if(n)return COe(e,a,c)?EOe(e,a,c):new Date(NaN);{const u=new Date(0);return!TOe(e,s,o)||!AOe(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}}function Kh(t){return t?parseInt(t):1}function _Oe(t){const e=t.match(yOe);if(!e)return NaN;const r=iT(e[1]),n=iT(e[2]),i=iT(e[3]);return NOe(r,n,i)?r*pG+n*hG+i*1e3:NaN}function iT(t){return t&&parseFloat(t.replace(",","."))||0}function SOe(t){if(t==="Z")return 0;const e=t.match(vOe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return kOe(n,i)?r*(n*pG+i*hG):NaN}function EOe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const POe=[31,null,31,30,31,30,31,31,30,31,30,31];function vG(t){return t%400===0||t%4===0&&t%100!==0}function TOe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(POe[e]||(vG(t)?29:28))}function AOe(t,e){return e>=1&&e<=(vG(t)?366:365)}function COe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function NOe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function kOe(t,e){return e>=0&&e<=59}function xG(t,e){return lIe(t,-1)}function lx(t,e){return hIe(t,-1)}function IOe({prompts:t,businessId:e}){const{t:r,isRTL:n,isHebrew:i}=ur(),[s,o]=S.useState("week"),[a,c]=S.useState({start:"",end:""}),u=()=>{const y=new Date;switch(s){case"week":return{start:ds(y),end:Ed(y)};case"lastWeek":const _=ds(lx(y)),x=Ed(lx(y));return{start:_,end:x};case"7days":return{start:Ua(y,6),end:y};case"14days":return{start:Ua(y,13),end:y};case"30days":return{start:Ua(y,29),end:y};case"month":return{start:ax(y),end:ox(y)};case"lastMonth":const b=xG(y);return{start:ax(b),end:ox(b)};case"lifetime":return null;case"custom":return a.start&&a.end?{start:$a(a.start),end:$a(a.end)}:{start:Ua(y,6),end:y};default:return{start:ds(y),end:Ed(y)}}},p=(()=>{if(t.length===0)return[];const y={},_=u();let x;s==="lifetime"?x=t:x=t.filter(P=>{let E;return P.created_date instanceof Date?E=P.created_date:typeof P.created_date=="string"?E=$a(P.created_date):E=new Date,E>=_.start&&E<=_.end}),x.forEach(P=>{var C,R,N,k,M;let E;P.created_date instanceof Date?E=ac(P.created_date,"yyyy-MM-dd"):typeof P.created_date=="string"?E=ac($a(P.created_date),"yyyy-MM-dd"):E=ac(new Date,"yyyy-MM-dd"),y[E]||(y[E]=0);let I=0;(R=(C=P[1])==null?void 0:C.counts)!=null&&R.businessNameMentions?I=P[1].counts.businessNameMentions:(k=(N=P[0])==null?void 0:N.counts)!=null&&k.businessNameMentions?I=P[0].counts.businessNameMentions:(M=P.counts)!=null&&M.businessNameMentions?I=P.counts.businessNameMentions:P.businessNameMentions?I=P.businessNameMentions:P.business_mentions&&(I=P.business_mentions),y[E]+=I});let b;if(s==="lifetime"){const P=new Set(Object.keys(y));if(b=Array.from(P).map(E=>$a(E)).filter(E=>!isNaN(E.getTime())).sort((E,I)=>E.getTime()-I.getTime()),b.length===0)return[]}else b=gIe({start:_.start,end:_.end});return b.map(P=>{const E=ac(P,"yyyy-MM-dd");let I="MMM dd";return s==="lifetime"?b.length>365?I="MMM yyyy":(b.length>60,I="MMM dd"):(s.includes("30")||s.includes("month"),I="MMM dd"),{date:ac(P,I),mentions:y[E]||0,fullDate:E}})})(),m=[{value:"week",label:r("competitors.thisWeek")},{value:"lastWeek",label:r("competitors.lastWeek")},{value:"7days",label:r("competitors.last7Days")},{value:"14days",label:r("competitors.last14Days")},{value:"30days",label:r("competitors.last30Days")},{value:"month",label:r("competitors.thisMonth")},{value:"lastMonth",label:r("competitors.lastMonth")},{value:"lifetime",label:r("competitors.lifeTime")},{value:"custom",label:r("competitors.customRange")}];return h.jsxs(Rt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(Ar,{children:h.jsxs("div",{className:`flex flex-col gap-4 ${n?"text-right":""}`,children:[h.jsx(Fr,{className:`flex items-center gap-2 ${n?"flex-row-reverse":""} ${i?"justify-end":""}`,children:i?h.jsxs(h.Fragment,{children:[r("analytics.mentionTrends"),h.jsx(ls,{className:"w-5 h-5 text-blue-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(ls,{className:"w-5 h-5 text-blue-600"}),r("analytics.mentionTrends")]})}),h.jsx("div",{className:`flex flex-wrap gap-2 ${n?"flex-row-reverse":""}`,children:m.map(y=>h.jsx(Ie,{variant:s===y.value?"default":"outline",size:"sm",onClick:()=>o(y.value),className:`text-xs h-8 ${s===y.value?"bg-blue-600 hover:bg-blue-700 text-white":"hover:bg-blue-50 hover:text-blue-700 hover:border-blue-300"}`,children:y.label},y.value))}),s==="custom"&&h.jsxs("div",{className:`flex gap-2 items-center ${n?"flex-row-reverse":""}`,children:[h.jsx(Pd,{className:"w-4 h-4 text-gray-500"}),h.jsx("input",{type:"date",value:a.start,onChange:y=>c(_=>({..._,start:y.target.value})),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Start Date"}),h.jsx("span",{className:"text-gray-500 text-sm",children:"to"}),h.jsx("input",{type:"date",value:a.end,onChange:y=>c(_=>({..._,end:y.target.value})),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"End Date"})]})]})}),h.jsx(yt,{children:p.length>0?h.jsx(LA,{width:"100%",height:305,children:h.jsxs(sIe,{data:p,margin:{top:5,right:30,left:20,bottom:5},children:[h.jsx(VI,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),h.jsx(zf,{dataKey:"date",stroke:"#6B7280",tick:{fontSize:12}}),h.jsx(Wf,{stroke:"#6B7280"}),h.jsx(ki,{contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"}}),h.jsx(og,{type:"monotone",dataKey:"mentions",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,r:4},activeDot:{r:6,fill:"#1D4ED8"}})]})}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(ls,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-500",children:r("analytics.noTrend")})]})})]})}function OOe({prompts:t,businessId:e}){const{t:r,isRTL:n,isHebrew:i}=ur(),o=(()=>{var f,p,m,y,_,x,b;const a=[];if(t.length>0){const T=t[0];(f=T.brandAnalysis)!=null&&f.keywords?a.push(...T.brandAnalysis.keywords):(m=(p=T[1])==null?void 0:p.brandAnalysis)!=null&&m.keywords?a.push(...T[1].brandAnalysis.keywords):(_=(y=T[0])==null?void 0:y.brandAnalysis)!=null&&_.keywords?a.push(...T[0].brandAnalysis.keywords):(b=(x=T.responses)==null?void 0:x.brandAnalysis)!=null&&b.keywords&&a.push(...T.responses.brandAnalysis.keywords)}if(a.length===0)return[];const c={};a.forEach(T=>{c[T]=(c[T]||0)+1});const u=["bg-blue-100 text-blue-700 border-blue-200","bg-green-100 text-green-700 border-green-200","bg-purple-100 text-purple-700 border-purple-200","bg-pink-100 text-pink-700 border-pink-200","bg-indigo-100 text-indigo-700 border-indigo-200","bg-teal-100 text-teal-700 border-teal-200","bg-orange-100 text-orange-700 border-orange-200","bg-cyan-100 text-cyan-700 border-cyan-200","bg-rose-100 text-rose-700 border-rose-200","bg-emerald-100 text-emerald-700 border-emerald-200"];return Object.entries(c).map(([T,P],E)=>({text:T,size:Math.random()*20+10,colorClass:u[E%u.length]}))})();return h.jsxs(Rt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(Ar,{children:h.jsx(Fr,{className:`flex items-center gap-2 ${n?"flex-row-reverse text-right":""} ${i?"justify-end":""}`,children:i?h.jsxs(h.Fragment,{children:[r("analytics.keyThemes"),h.jsx(p_,{className:"w-5 h-5 text-blue-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(p_,{className:"w-5 h-5 text-blue-600"}),r("analytics.keyThemes")]})})}),h.jsx(yt,{children:o.length>0?h.jsx("div",{className:"relative",children:h.jsxs("div",{className:`overflow-y-auto p-4 ${n?"text-right":""}`,style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[h.jsx("style",{jsx:!0,children:`
                div::-webkit-scrollbar {
                  display: none;
                }
              `}),h.jsx("div",{className:`flex flex-wrap gap-2 justify-center items-start ${n?"text-right":""}`,children:o.map((a,c)=>h.jsx("span",{className:`inline-flex items-center justify-center px-3 py-2 rounded-full font-normal hover:shadow-md transition-all duration-200 cursor-default whitespace-nowrap ${a.colorClass}`,style:{fontSize:`${Math.min(18,Math.max(10,a.size*.8))}px`,fontFamily:i?"'Segoe UI', Tahoma, Arial, 'Noto Sans Hebrew', sans-serif":"inherit"},children:a.text},c))})]})}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx(p_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:i?"   ":"No Keywords Available"}),h.jsx("p",{className:"text-sm text-gray-600",children:i?"         .":"Keywords will appear here after running prompts with brand analysis."})]})})]})}function jOe({prompts:t,businessProfile:e,businessId:r}){const{t:n,isRTL:i,isHebrew:s}=ur(),o=[];if(t.forEach(x=>{x.brandAnalysis?o.push(x.brandAnalysis):x[1]&&x[1].brandAnalysis?o.push(x[1].brandAnalysis):x[0]&&x[0].brandAnalysis&&o.push(x[0].brandAnalysis)}),o.length===0)return h.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:h.jsxs(Rt,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(Ar,{className:"pb-4",children:h.jsxs(Fr,{className:"flex items-center gap-2 text-lg font-semibold",children:[h.jsx(mR,{className:"w-5 h-5 text-blue-600"}),s?" ":"Brand Analysis"]})}),h.jsx(yt,{children:h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Zu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:s?"   ":"No Brand Analysis Data Available"}),h.jsx("p",{className:"text-sm text-gray-600",children:s?"          .":"Brand analysis data will appear here after running prompts with brand analysis."})]})})]})});const a=o[0],c=a.keywords||[],u=a.sentiment||"Neutral",f=[];t.forEach((x,b)=>{x.counts?f.push(x.counts):x[1]&&x[1].counts?f.push(x[1].counts):x[0]&&x[0].counts&&f.push(x[0].counts)});const p=f.reduce((x,b)=>({businessNameMentions:(x.businessNameMentions||0)+(b.businessNameMentions||0),competitorsMentions:(x.competitorsMentions||0)+(b.competitorsMentions||0),industryMentions:(x.industryMentions||0)+(b.industryMentions||0),productsServicesMentions:(x.productsServicesMentions||0)+(b.productsServicesMentions||0)}),{}),m=Object.keys(p).length>0?p:{},_=(x=>{switch(x.toLowerCase()){case"positive":return{color:"bg-green-100 text-green-800 border-green-200",icon:h.jsx(Ql,{className:"w-4 h-4 text-green-600"}),bgColor:"bg-green-50"};case"negative":return{color:"bg-red-100 text-red-800 border-red-200",icon:h.jsx(ls,{className:"w-4 h-4 text-red-600 rotate-180"}),bgColor:"bg-red-50"};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:h.jsx(Zu,{className:"w-4 h-4 text-gray-600"}),bgColor:"bg-gray-50"}}})(u);return h.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:h.jsxs(Rt,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm h-full flex flex-col min-h-[800px]",children:[h.jsx(Ar,{className:"pb-4",children:h.jsxs(Fr,{className:"flex items-center gap-2 text-lg font-semibold",children:[h.jsx(mR,{className:"w-5 h-5 text-blue-600"}),s?" ":"Brand Analysis"]})}),h.jsxs(yt,{className:"space-y-6 flex-1 flex flex-col",children:[h.jsxs("div",{className:`p-4 rounded-lg border ${_.bgColor} ${_.color} relative`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[_.icon,h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium",children:s?" ":"Overall Sentiment"}),h.jsx("p",{className:"text-sm opacity-80",children:s?"   ":"The overall sentiment of your brand"})]})]}),h.jsx("div",{className:`absolute top-3 ${s?"left-3":"right-3"}`,children:h.jsx(wn,{variant:"outline",className:`${_.color} font-medium`,children:u})})]}),Object.keys(m).length>0&&h.jsxs("div",{children:[h.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[h.jsx(ls,{className:"w-4 h-4 text-green-600"}),s?" ":"Mention Statistics"]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs(wn,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 flex items-center gap-1 whitespace-nowrap",children:[h.jsx("span",{className:"font-bold",children:m.businessNameMentions||0}),h.jsx("span",{children:s?" ":"Business"})]}),h.jsxs(wn,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 flex items-center gap-1 whitespace-nowrap",children:[h.jsx("span",{className:"font-bold",children:m.competitorsMentions||0}),h.jsx("span",{children:s?"":"Competitors"})]}),h.jsxs(wn,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200 flex items-center gap-1 whitespace-nowrap",children:[h.jsx("span",{className:"font-bold",children:m.industryMentions||0}),h.jsx("span",{children:s?"":"Industry"})]}),h.jsxs(wn,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200 flex items-center gap-1 whitespace-nowrap",children:[h.jsx("span",{className:"font-bold",children:m.productsServicesMentions||0}),h.jsx("span",{children:s?"":"Products"})]})]})]}),c.length>0&&h.jsxs("div",{children:[h.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[h.jsx(Zu,{className:"w-4 h-4 text-blue-600"}),s?"  ":"Key Keywords"]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:c.slice(0,8).map((x,b)=>h.jsx(Nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*b},children:h.jsx(wn,{variant:"secondary",className:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100 transition-colors",children:x})},b))})]}),h.jsxs("div",{children:[h.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[h.jsx(Zu,{className:"w-4 h-4 text-purple-600"}),s?" ":"Action Recommendations"]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-blue-800",children:s?"  ":"Increase Digital Presence"}),h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:s?"     ":"Use key keywords in your content strategy"})]})]})}),h.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-green-800",children:s?"   ":"Enhance Positive Sentiment"}),h.jsx("p",{className:"text-xs text-green-600 mt-1",children:s?"    ":"Focus on positive brand aspects in communications"})]})]})}),h.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-orange-800",children:s?" ":"Monitor Competitors"}),h.jsx("p",{className:"text-xs text-orange-600 mt-1",children:s?"       ":"Track competitor mentions and analyze their strategy"})]})]})})]})]}),h.jsxs("div",{className:"-mb-[-10px] border-t border-gray-100",children:[h.jsx("h3",{className:"font-medium mb-2",children:s?" ":"Analysis Summary"}),h.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:s?`  ${u.toLowerCase()==="positive"?" ":u.toLowerCase()==="negative"?" ":" "}  ${c.length}   .          .`:`The analysis shows a ${u.toLowerCase()} sentiment with ${c.length} key keywords identified. The brand demonstrates strong performance with positive trends in mentions and overall perception.`})]})]})]})})}function BC({businessId:t,refreshBusinessData:e}){const{t:r,isRTL:n,isHebrew:i}=ur(),s=zc(),[o,a]=S.useState([]),[c,u]=S.useState(null),[f,p]=S.useState(!0),[m,y]=S.useState(0),_=t||null;S.useEffect(()=>{x()},[t,_,m]),S.useEffect(()=>{e&&y(b=>b+1)},[e]);const x=async()=>{try{const[b,T,P]=await Promise.all([Kx.list("-created_date",_),Fi.checkExists(_),Fi.getCurrentUser(_)]);a(b),u(T&&P?P:null)}catch(b){console.error("Error loading data:",b),u(null)}p(!1)};return f?h.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-140px)] gap-4",children:[h.jsx(Qr,{size:"lg",variant:"primary"}),h.jsx("p",{className:"text-sm text-gray-500 animate-pulse"})]}):c?o.length===0?h.jsx("div",{className:"p-4 sm:p-6 max-w-2xl mx-auto",children:h.jsx(Rt,{className:"text-center shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:h.jsxs(yt,{className:"pt-8 pb-8",children:[h.jsx(Zu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:r("analytics.noData")}),h.jsx("p",{className:"text-gray-600 mb-4",children:r("analytics.noDataMessage")})]})})}):h.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-6 lg:space-y-8 analytics-page-desktop-shift laptop-spacing laptop-lg-spacing desktop-spacing desktop-lg-spacing ${n?"text-right":""}`,children:[h.jsx(Mf,{icon:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(kp,{className:"w-8 h-8 text-blue-600"}),h.jsx(Di,{className:"w-5 h-5 text-sky-500"})]}),title:r("analytics.title"),subtitle:r("analytics.subtitle"),isRTL:n,showOnMobile:!1}),h.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:h.jsx(Pme,{prompts:o,businessProfile:c,businessId:_})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 responsive-grid-3",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 responsive-grid-2",children:[h.jsx(Nt.div,{initial:{opacity:0,x:n?20:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:h.jsx(Tme,{prompts:o,businessProfile:c,businessId:_})}),h.jsx(Nt.div,{initial:{opacity:0,x:n?-20:20},animate:{opacity:1,x:0},transition:{delay:.3},children:h.jsx(OOe,{prompts:o,businessId:_})})]}),h.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:h.jsx(IOe,{prompts:o,businessId:_})})]}),h.jsx("div",{className:"space-y-4 sm:space-y-6",children:h.jsx(jOe,{prompts:o,businessProfile:c,businessId:_})})]})]}):h.jsx("div",{className:"p-4 sm:p-6 max-w-2xl mx-auto",children:h.jsx(Rt,{className:"text-center shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:h.jsxs(yt,{className:"pt-8 pb-8",children:[h.jsx(kp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:i?"  ":"Business Profile Required"}),h.jsx("p",{className:"text-gray-600 mb-4",children:i?"          .":"Please set up your business profile first to view analytics and insights."}),h.jsxs(Ie,{onClick:()=>s(zn("BusinessProfile")),className:"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700",children:[h.jsx(Mn,{className:"w-4 h-4 mr-2"}),i?"  ":"Set Up Business Profile"]})]})})})}function ROe({persona:t,index:e,onEdit:r,onDelete:n}){const{t:i,isRTL:s,isHebrew:o}=ur();return h.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},exit:{opacity:0,scale:.9},whileHover:{y:-5},children:h.jsxs(Rt,{className:"h-full shadow-lg hover:shadow-xl transition-all duration-300 border-0 bg-white/90 backdrop-blur-sm overflow-hidden group persona-card responsive-card hover-optimized",dir:s?"rtl":"ltr",children:[h.jsx("div",{className:"h-2 bg-gradient-to-r from-sky-400 to-blue-500"}),h.jsx(Ar,{className:"pb-4 card-header",children:h.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[h.jsxs(wn,{variant:"outline",className:`bg-sky-50 text-sky-700 border-sky-200 text-center min-w-[80px] flex items-center justify-center ${s?"order-1":"order-2"}`,children:[t.age," ",o?"":"Years"]}),h.jsxs("div",{className:`flex items-start gap-3 ${s?"order-2":"order-1"}`,children:[h.jsxs("div",{className:"relative flex-shrink-0",children:[t.avatar_url?h.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-8 h-8 rounded-full object-cover ring-2 ring-blue-100"}):h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-sky-400 to-blue-500 rounded-full flex items-center justify-center",children:h.jsx(Qa,{className:"w-4 h-4 text-white"})}),t.is_ai_generated&&h.jsx("div",{className:`absolute -top-1 w-4 h-4 bg-sky-500 rounded-full flex items-center justify-center ${s?"-left-1":"-right-1"}`,children:h.jsx(Di,{className:"w-2.5 h-2.5 text-white"})})]}),h.jsxs("div",{className:`flex flex-col flex-1 ${s?"text-right":""}`,children:[h.jsx("h3",{className:"font-bold text-gray-900 text-base leading-tight mb-0.5",children:t.name}),(t.job_title||t.jobTitle)&&h.jsx("p",{className:"text-xs text-gray-500 font-normal leading-relaxed",style:{display:"block"},children:(t.job_title||t.jobTitle).trim()||""})]})]})]})}),h.jsxs(yt,{className:"space-y-4 w-full card-content",children:[h.jsxs("div",{className:"space-y-3 w-full",children:[h.jsxs("div",{className:`w-full ${s?"text-right":""}`,children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:o?"":"Goals"}),h.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 w-full",children:t.goals})]}),h.jsxs("div",{className:`w-full ${s?"text-right":""}`,children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:o?" ":"Pain Points"}),h.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 w-full",children:t.pain_points||t.painPoints||(o?" ":"No information")})]}),h.jsxs("div",{className:`w-full ${s?"text-right":""}`,children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:o?" ":"Lifestyle"}),h.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 w-full",children:t.lifestyle})]})]}),h.jsxs("div",{className:`flex gap-2 pt-4 border-t border-gray-100 ${s?"flex-row-reverse":""}`,children:[r&&h.jsxs(Ie,{onClick:()=>r(t),variant:"outline",size:"sm",className:`flex-1 ${s?"flex-row-reverse":""} hover:bg-blue-50 hover:text-blue-700 hover:border-blue-300`,children:[h.jsx(dQ,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?"":"Edit"]}),n&&h.jsxs(Ie,{onClick:()=>n(t.id),variant:"outline",size:"sm",className:`flex-1 ${s?"flex-row-reverse":""} hover:bg-red-50 hover:text-red-700 hover:border-red-300`,children:[h.jsx(gQ,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?"":"Delete"]})]})]})]})})}function MOe({isOpen:t,onClose:e,onPersonaCreated:r,editingPersona:n,businessId:i=null}){const{isRTL:s,isHebrew:o,t:a}=ur(),[c,u]=S.useState({name:"",age:"",job_title:"",lifestyle:"",goals:"",pain_points:"",motivations:"",purchasing_habits:"",backstory:"",avatar_url:"",is_ai_generated:!1}),[f,p]=S.useState(!1),{clearErrors:m,clearFieldError:y,validateFields:_,getFieldError:x}=Hm();S.useEffect(()=>{u(n?{name:n.name||"",age:n.age||"",job_title:n.job_title||n.jobTitle||"",lifestyle:n.lifestyle||"",goals:n.goals||"",pain_points:n.pain_points||n.painPoints||"",motivations:n.motivations||"",purchasing_habits:n.purchasing_habits||n.purchasingHabits||"",backstory:n.backstory||"",avatar_url:n.avatar_url||"",is_ai_generated:n.is_ai_generated||n.isAiGenerated||!1}:{name:"",age:"",job_title:"",lifestyle:"",goals:"",pain_points:"",motivations:"",purchasing_habits:"",backstory:"",avatar_url:"",is_ai_generated:!1})},[n]);const b=(P,E)=>{u(I=>({...I,[P]:E})),y(P)},T=async P=>{if(P.preventDefault(),m(),!!_({name:{value:c.name,required:!0,customMessage:a("validation.personaNameRequired")},job_title:{value:c.job_title,required:!0,customMessage:a("validation.personaRoleRequired")},age:{value:c.age,age:!0}})){p(!0);try{const I={...c,age:parseInt(c.age)||0};n?await as.update(n.id,I,i):await as.create(I,i),r()}catch(I){console.error("Error saving persona:",I),alert(a("errors.personaSaveFailed"))}p(!1)}};return h.jsx(Dc,{open:t,onOpenChange:e,children:h.jsx(ol,{className:"lg:max-w-3xl",dir:s?"rtl":"ltr",children:h.jsxs("form",{onSubmit:T,className:"flex h-full min-h-0 flex-col",children:[h.jsx(al,{className:`${s?"flex-row-reverse text-right":""}`,children:h.jsxs(cl,{className:"flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900",children:[h.jsx(Qa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),h.jsx("span",{className:"hidden sm:inline",children:n?o?" ":"Edit Avatar":o?"  ":"Create New Avatar"}),h.jsx("span",{className:"sm:hidden",children:n?o?"":"Edit":o?"":"Create"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-5 min-h-0",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[h.jsxs(mp,{error:x("name"),isRTL:s,children:[h.jsx(dt,{htmlFor:"name",children:o?" *":"Name *"}),h.jsx(xv,{id:"name",value:c.name,onChange:P=>b("name",P.target.value),placeholder:o?",  ":"e.g., Sarah Johnson",error:x("name"),isRTL:s,dir:"auto"})]}),h.jsxs(mp,{error:x("age"),isRTL:s,children:[h.jsx(dt,{htmlFor:"age",children:o?"":"Age"}),h.jsx(xv,{id:"age",type:"number",value:c.age,onChange:P=>b("age",P.target.value),placeholder:o?", 32":"e.g., 32",min:"1",max:"100",error:x("age"),isRTL:s})]})]}),h.jsxs(mp,{error:x("job_title"),isRTL:s,children:[h.jsx(dt,{htmlFor:"job_title",children:o?" *":"Job Title *"}),h.jsx(xv,{id:"job_title",value:c.job_title||"",onChange:P=>b("job_title",P.target.value),placeholder:o?",  ":"e.g., Marketing Manager",error:x("job_title"),isRTL:s,dir:"auto"})]}),h.jsxs("div",{className:s?"text-right":"",children:[h.jsx(dt,{htmlFor:"goals",children:o?" ":"Goals & Aspirations"}),h.jsx(Pr,{id:"goals",value:c.goals||"",onChange:P=>b("goals",P.target.value),placeholder:o?"    ?":"What does this avatar want to achieve?",rows:3,className:s?"text-right":"",dir:"auto"})]}),h.jsxs("div",{className:s?"text-right":"",children:[h.jsx(dt,{htmlFor:"pain_points",children:o?"  ":"Pain Points & Challenges"}),h.jsx(Pr,{id:"pain_points",value:c.pain_points||"",onChange:P=>b("pain_points",P.target.value),placeholder:o?"     ?":"What problems does this avatar face?",rows:3,className:s?"text-right":"",dir:"auto"})]}),h.jsxs("div",{className:s?"text-right":"",children:[h.jsx(dt,{htmlFor:"lifestyle",children:o?" ":"Lifestyle"}),h.jsx(Pr,{id:"lifestyle",value:c.lifestyle||"",onChange:P=>b("lifestyle",P.target.value),placeholder:o?"   ,  ":"Describe their daily life, habits, and preferences",rows:2,className:s?"text-right":"",dir:"auto"})]}),h.jsxs("div",{className:s?"text-right":"",children:[h.jsx(dt,{htmlFor:"motivations",children:o?" ":"Key Motivations"}),h.jsx(Pr,{id:"motivations",value:c.motivations||"",onChange:P=>b("motivations",P.target.value),placeholder:o?"    ?":"What drives their decisions?",rows:2,className:s?"text-right":"",dir:"auto"})]}),h.jsxs("div",{className:s?"text-right":"",children:[h.jsx(dt,{htmlFor:"purchasing_habits",children:o?" ":"Purchasing Habits"}),h.jsx(Pr,{id:"purchasing_habits",value:c.purchasing_habits||"",onChange:P=>b("purchasing_habits",P.target.value),placeholder:o?"    /?":"How do they research and buy products/services?",rows:2,className:s?"text-right":"",dir:"auto"})]}),h.jsxs("div",{className:s?"text-right":"",children:[h.jsx(dt,{htmlFor:"backstory",children:o?" ":"Personal Backstory"}),h.jsx(Pr,{id:"backstory",value:c.backstory||"",onChange:P=>b("backstory",P.target.value),placeholder:o?"    ":"Background information about this avatar",rows:2,className:s?"text-right":"",dir:"auto"})]})]}),h.jsxs(ll,{className:`${s?"flex-row-reverse text-right":""}`,children:[h.jsx(Lc,{asChild:!0,children:h.jsxs(Ie,{type:"button",variant:"ghost",className:`h-12 sm:h-12 px-4 sm:px-6 text-base text-slate-500 hover:text-slate-700 flex-1 sm:flex-none ${s?"flex-row-reverse":""}`,children:[h.jsx(Kn,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?"":"Close"]})}),h.jsx(Ie,{type:"submit",disabled:f,className:`flex-1 sm:min-w-[160px] h-12 sm:h-12 px-4 sm:px-6 text-base font-semibold bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 shadow-lg hover:shadow-xl transition-all ${s?"flex-row-reverse":""}`,children:f?h.jsxs(h.Fragment,{children:[h.jsx(Qr,{size:"sm",variant:"white",className:s?"ml-2":"mr-2"}),o?"...":"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(dx,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),n?o?" ":"Update Avatar":o?" ":"Create Avatar"]})})]})]})})})}function DOe({isOpen:t,onClose:e,onPersonasGenerated:r,businessId:n=null}){const{isRTL:i,isHebrew:s,t:o}=ur(),[a,c]=S.useState(3),[u,f]=S.useState(!1),[p,m]=S.useState(""),[y,_]=S.useState(""),[x,b]=S.useState(!1),[T,P]=S.useState(0),E=S.useRef(null),I=$=>{if(!E.current)return;const L=E.current.getBoundingClientRect(),V=$-L.left,D=Math.max(0,Math.min(1,V/L.width)),H=Math.round(1+D*4);c(Math.max(1,Math.min(5,H)))},C=$=>{if(!E.current)return;const L=E.current.getBoundingClientRect(),V=$-L.left,D=Math.max(0,Math.min(1,V/L.width));P(D)},R=$=>{$.preventDefault(),b(!0),C($.clientX),I($.clientX)},N=$=>{x||I($.clientX)},k=$=>{$.preventDefault(),b(!0);const L=$.touches[0];C(L.clientX),I(L.clientX)};S.useEffect(()=>{const $=H=>{x&&(H.preventDefault(),C(H.clientX))},L=H=>{if(x&&(H.preventDefault(),b(!1),E.current)){const W=E.current.getBoundingClientRect(),K=H.clientX-W.left,Q=Math.max(0,Math.min(1,K/W.width)),U=Math.round(1+Q*4);c(Math.max(1,Math.min(5,U)))}},V=H=>{if(x){H.preventDefault();const W=H.touches[0];C(W.clientX)}},D=H=>{if(x&&(H.preventDefault(),b(!1),E.current&&H.changedTouches[0])){const W=E.current.getBoundingClientRect(),K=H.changedTouches[0].clientX-W.left,Q=Math.max(0,Math.min(1,K/W.width)),U=Math.round(1+Q*4);c(Math.max(1,Math.min(5,U)))}};if(x)return document.addEventListener("mousemove",$,{passive:!1}),document.addEventListener("mouseup",L,{passive:!1}),document.addEventListener("touchmove",V,{passive:!1}),document.addEventListener("touchend",D,{passive:!1}),document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",L),document.removeEventListener("touchmove",V),document.removeEventListener("touchend",D),document.body.style.userSelect=""}},[x]);const M=async()=>{f(!0),m(s?` ${a}  -AI...`:`Creating ${a} AI avatars...`),_("");try{await as.createAI(a,n),m(s?`${a}   !`:`${a} avatars created successfully!`),setTimeout(()=>{r(),e()},1500)}catch($){console.error("Error generating personas:",$);let L=o("errors.generateAvatarsFailed");$.message&&$.message.includes("parse")?L=o("errors.aiProcessingFailed"):$.message&&$.message.includes("not found")&&(L=o("errors.businessProfileNotFound")),_(L)}f(!1),m("")};return h.jsx(Dc,{open:t,onOpenChange:e,children:h.jsx(ol,{className:"max-w-lg sm:max-w-md min-h-[540px]",dir:i?"rtl":"ltr",children:h.jsxs("div",{className:"flex h-full min-h-[540px] flex-col",children:[h.jsx(al,{className:`${i?"flex-row-reverse text-right":""}`,children:h.jsxs(cl,{className:"flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900",children:[h.jsx(Di,{className:"w-4 h-4 sm:w-5 sm:h-5 text-sky-600"}),h.jsx("span",{className:"hidden sm:inline",children:s?"  -AI":"Generate AI Avatars"}),h.jsx("span",{className:"sm:hidden",children:s?" ":"Generate"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 min-h-0",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-sky-100 to-sky-200 rounded-full flex items-center justify-center mx-auto",children:h.jsx(SQ,{className:"w-8 h-8 text-sky-600"})}),h.jsx("p",{className:`text-gray-600 ${i?"text-right":""}`,children:s?"AI             .":"AI will analyze your business profile and create detailed customer avatars with custom prompts."})]}),h.jsxs("div",{className:i?"text-right":"",children:[h.jsx(dt,{className:"text-sm font-medium text-slate-700 mb-4 block",children:s?"  ":"Number of Avatars to Generate"}),h.jsxs("div",{className:"relative",children:[h.jsxs("div",{ref:E,className:"relative h-2 bg-slate-200 rounded-full cursor-pointer",onClick:N,children:[h.jsx("div",{className:"absolute top-0 h-2 bg-slate-900 rounded-full transition-all duration-200",style:{left:"0%",width:x?`${T*100}%`:`${(a-1)/4*100}%`}}),h.jsx("div",{className:`absolute top-1/2 w-6 h-6 bg-white border-2 border-slate-900 rounded-full shadow-lg transform -translate-y-1/2 cursor-pointer transition-all duration-200 hover:scale-110 ${x?"scale-110":""}`,style:{left:x?`${T*100}%`:`${(a-1)/4*100}%`,transform:"translateX(-50%) translateY(-50%)"},onMouseDown:R,onTouchStart:k})]}),h.jsx("div",{className:"flex justify-between mt-4 text-xs text-slate-500",children:(s?["5","4","3","2","1"]:["1","2","3","4","5"]).map($=>h.jsx("span",{className:"text-center",children:$},$))})]}),h.jsxs("div",{className:"mt-4 text-center",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-slate-100 rounded-full",children:h.jsx("span",{className:"text-lg font-semibold text-slate-900",children:a})}),h.jsx("p",{className:"text-xs text-slate-500 mt-2",children:s?` ${a} `:`${a} avatar${a>1?"s":""} selected`})]})]}),p&&h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx(Qr,{size:"default",variant:"primary",className:"mx-auto"}),h.jsx("p",{className:`text-sm text-gray-600 ${i?"text-right":""}`,children:p})]})]}),h.jsxs(ll,{className:`${i?"flex-row-reverse text-right":""}`,children:[h.jsx(Lc,{asChild:!0,children:h.jsxs(Ie,{type:"button",variant:"ghost",className:`h-12 sm:h-12 px-4 sm:px-6 text-base text-slate-500 hover:text-slate-700 flex-1 sm:flex-none ${i?"flex-row-reverse":""}`,children:[h.jsx(Kn,{className:`w-4 h-4 ${i?"ml-2":"mr-2"}`}),s?"":"Close"]})}),h.jsx(Ie,{onClick:M,disabled:u,className:`flex-1 sm:min-w-[160px] h-12 sm:h-12 px-4 sm:px-6 text-base font-semibold bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 shadow-lg hover:shadow-xl transition-all ${i?"flex-row-reverse":""}`,children:u?h.jsxs(h.Fragment,{children:[h.jsx(Qr,{size:"sm",variant:"white",className:i?"ml-2":"mr-2"}),s?"...":"Generating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Di,{className:`w-4 h-4 ${i?"ml-2":"mr-2"}`}),s?" ":"Generate Avatars"]})})]}),y&&h.jsx("div",{className:"px-6 pb-4",children:h.jsxs("div",{className:`flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg ${i?"text-right":""}`,children:[h.jsx(h3,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),h.jsx("span",{className:"text-red-800 text-sm",children:y})]})})]})})})}function UC({businessId:t,refreshBusinessData:e}){const{t:r,isRTL:n,isHebrew:i}=ur(),[s,o]=S.useState([]),[a,c]=S.useState(null),[u,f]=S.useState(!0),[p,m]=S.useState(!1),[y,_]=S.useState(!1),[x,b]=S.useState(null),[T,P]=S.useState(0),[E,I]=S.useState({isOpen:!1,persona:null,isDeleting:!1}),C=zc(),R=t||null;S.useEffect(()=>{N()},[t,R,T]),S.useEffect(()=>{e&&P(W=>W+1)},[e]);const N=async()=>{try{const[W,K,Q]=await Promise.all([as.list("-created_date",R),Fi.checkExists(),Fi.getCurrentUser()]);o(W),c(K&&Q?Q:null)}catch(W){console.error("Error loading data:",W),c(null)}f(!1)},k=()=>{N(),m(!1),b(null),e&&e()},M=W=>{b(W),m(!0)},$=W=>{const K=s.find(Q=>Q.id===W);I({isOpen:!0,persona:K,isDeleting:!1})},L=async()=>{if(!E.isDeleting){I(W=>({...W,isDeleting:!0}));try{await as.delete(E.persona.id,R),I({isOpen:!1,persona:null,isDeleting:!1}),N()}catch(W){console.error("Error deleting persona:",W),I(K=>({...K,isDeleting:!1}))}}},V=()=>{E.isDeleting||I({isOpen:!1,persona:null,isDeleting:!1})};if(u)return h.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-140px)] gap-4",children:[h.jsx(Qr,{size:"lg",variant:"primary"}),h.jsx("p",{className:"text-sm text-gray-500 animate-pulse"})]});if(!a)return h.jsx("div",{className:"p-4 sm:p-6 max-w-2xl mx-auto",children:h.jsx(Rt,{className:"text-center shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:h.jsxs(yt,{className:"pt-8 pb-8",children:[h.jsx(gc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:i?"  ":"Business Profile Required"}),h.jsx("p",{className:"text-gray-600 mb-4",children:i?"           AI.":"Please set up your business profile first to create AI-powered avatars."}),h.jsxs(Ie,{onClick:()=>C(zn("BusinessProfile")),className:"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700",children:[h.jsx(Mn,{className:"w-4 h-4 mr-2"}),i?"  ":"Set Up Business Profile"]})]})})});const D=h.jsxs("div",{className:`flex flex-col gap-3 sm:flex-row ${n?"sm:flex-row-reverse":""} flex-shrink-0`,children:[h.jsxs(Ie,{onClick:()=>_(!0),className:`w-full sm:w-auto bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white h-14 px-4 sm:px-6 rounded-xl font-medium shadow-lg hover:shadow-xl transition-all duration-300 ${n?"flex-row-reverse":""} whitespace-nowrap touch-optimized hover-optimized`,children:[h.jsx(Di,{className:`w-5 h-5 ${n?"ml-2":"mr-2"}`}),r("personas.generateAI")]}),h.jsxs(Ie,{onClick:()=>m(!0),variant:"outline",className:`w-full sm:w-auto border-2 border-sky-200 hover:bg-sky-50 text-sky-700 h-14 px-4 sm:px-6 rounded-xl font-medium transition-all duration-300 ${n?"flex-row-reverse":""} whitespace-nowrap touch-optimized hover-optimized`,children:[h.jsx(Qa,{className:`w-5 h-5 ${n?"ml-2":"mr-2"}`}),r("personas.createManual")]})]}),H=s.length>=3?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6 mx-auto responsive-grid-3":s.length===2?"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mx-auto max-w-4xl responsive-grid-2":"grid grid-cols-1 gap-4 sm:gap-6 mx-auto max-w-3xl";return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-6 lg:space-y-8 avatar-page-desktop-shift laptop-spacing laptop-lg-spacing desktop-spacing desktop-lg-spacing",children:[h.jsx(Mf,{icon:h.jsx(gc,{className:"w-8 h-8"}),title:r("personas.title"),subtitle:r("personas.subtitle"),actions:D,isRTL:n,className:"max-w-5xl mx-auto",showOnMobile:!1}),h.jsx("div",{className:"block md:hidden",children:D}),s.length>0?h.jsx(Nt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:H,children:h.jsx(Hfe,{children:s.map((W,K)=>h.jsx(ROe,{persona:W,index:K,onEdit:M,onDelete:$},W.id))})}):h.jsx(Nt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"text-center py-16",children:h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-sky-100 to-sky-200 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(gc,{className:"w-12 h-12 text-sky-500"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Avatars Yet"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first customer avatar to start analyzing market perception"}),h.jsxs("div",{className:"flex justify-center gap-3 flex-col sm:flex-row",children:[h.jsxs(Ie,{onClick:()=>_(!0),className:"h-14 w-full sm:w-auto px-6 bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700",children:[h.jsx(Di,{className:"w-4 h-4 mr-2"}),"Generate with AI"]}),h.jsxs(Ie,{onClick:()=>m(!0),variant:"outline",className:"h-14 w-full sm:w-auto px-6",children:[h.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Create Manually"]})]})]})}),h.jsx(MOe,{isOpen:p,onClose:()=>{m(!1),b(null)},onPersonaCreated:k,editingPersona:x,businessId:R}),h.jsx(DOe,{isOpen:y,onClose:()=>_(!1),onPersonasGenerated:k,businessId:R}),E.isOpen&&E.persona&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[h.jsx("div",{className:"mb-4",children:h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i?" ":"Delete Avatar"})}),h.jsx("p",{className:"text-gray-600 mb-6",children:i?h.jsxs(h.Fragment,{children:['       "',E.persona.name,'"?'," ",h.jsx("span",{className:"font-semibold text-red-600",children:"    ."})]}):h.jsxs(h.Fragment,{children:['Are you sure you want to delete the avatar "',E.persona.name,'"?',h.jsx("br",{}),h.jsx("span",{className:"font-semibold text-red-600",children:"This action cannot be undone."})]})}),h.jsxs("div",{className:`flex gap-3 ${n?"flex-row-reverse":""}`,children:[h.jsx(Ie,{onClick:V,variant:"outline",className:"flex-1",disabled:E.isDeleting,children:i?"":"Cancel"}),h.jsx(Ie,{onClick:L,variant:"destructive",className:"flex-1",disabled:E.isDeleting,children:E.isDeleting?h.jsx("span",{className:"flex items-center gap-2",children:i?h.jsxs(h.Fragment,{children:[h.jsx(Qr,{size:"sm",variant:"white"}),"..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Qr,{size:"sm",variant:"white"}),"Deleting..."]})}):i?"":"Delete"})]})]})})]}),h.jsxs("a",{href:"mailto:yahal.even21@gmail.com",className:`fixed bottom-6 ${i?"left-6":"right-6"} z-40 bg-red-500 hover:bg-red-600 text-white rounded-full shadow-2xl w-14 h-14 flex items-center justify-center transition transform hover:scale-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500`,title:i?"   Mole.AI":"Email Mole.AI team","aria-label":i?"    yahal.even21@gmail.com":"Compose email to yahal.even21@gmail.com",children:[h.jsx(m3,{className:"w-6 h-6"}),h.jsx("span",{className:"sr-only",children:i?"   yahal.even21@gmail.com":"Email yahal.even21@gmail.com"})]})]})}const bG=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:r,className:Ee("w-full caption-bottom text-sm",t),...e})}));bG.displayName="Table";const wG=S.forwardRef(({className:t,...e},r)=>h.jsx("thead",{ref:r,className:Ee("[&_tr]:border-b",t),...e}));wG.displayName="TableHeader";const _G=S.forwardRef(({className:t,...e},r)=>h.jsx("tbody",{ref:r,className:Ee("[&_tr:last-child]:border-0",t),...e}));_G.displayName="TableBody";const LOe=S.forwardRef(({className:t,...e},r)=>h.jsx("tfoot",{ref:r,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));LOe.displayName="TableFooter";const qC=S.forwardRef(({className:t,...e},r)=>h.jsx("tr",{ref:r,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));qC.displayName="TableRow";const ic=S.forwardRef(({className:t,...e},r)=>h.jsx("th",{ref:r,className:Ee("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));ic.displayName="TableHead";const sc=S.forwardRef(({className:t,...e},r)=>h.jsx("td",{ref:r,className:Ee("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));sc.displayName="TableCell";const $Oe=S.forwardRef(({className:t,...e},r)=>h.jsx("caption",{ref:r,className:Ee("mt-4 text-sm text-muted-foreground",t),...e}));$Oe.displayName="TableCaption";const nv={pending:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border border-amber-200 shadow-sm",analyzing:"bg-gradient-to-r from-blue-100 to-sky-100 text-blue-800 border border-blue-200 shadow-sm",completed:"bg-gradient-to-r from-emerald-100 to-green-100 text-emerald-800 border border-emerald-200 shadow-sm",error:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border border-red-200 shadow-sm"};function FOe({prompts:t,onViewResponses:e}){const{t:r,isRTL:n,isHebrew:i}=ur();return h.jsxs("div",{className:"w-full",dir:n?"rtl":"ltr",children:[h.jsx("div",{className:"block lg:hidden space-y-4",children:t.map(s=>h.jsxs("div",{className:"bg-white/90 backdrop-blur-sm border border-white/20 rounded-2xl p-5 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] group",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:`flex items-center gap-2 text-sm text-gray-600 mb-1 ${n?"flex-row-reverse":""}`,children:[h.jsx(Pd,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),h.jsx("span",{className:"text-xs",children:ac(new Date(s.created_date),"MMM d, yyyy")})]}),h.jsxs("div",{className:`flex items-center gap-2 mb-2 ${n?"flex-row-reverse":""}`,children:[h.jsx(Qa,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),h.jsx("span",{className:"font-medium text-sm truncate",children:s.persona_name})]})]}),h.jsx(wn,{className:`text-xs ${nv[s.status]||nv.pending}`,children:i?s.status==="pending"?"":s.status==="analyzing"?"":s.status==="completed"?"":"":s.status})]}),h.jsx("p",{className:`text-sm text-gray-600 mb-3 line-clamp-2 ${n?"text-right":""}`,title:s.prompt,children:s.prompt}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[h.jsx(fi,{className:"w-4 h-4 text-sky-500 flex-shrink-0"}),h.jsx("span",{className:"font-semibold text-sm",children:s.businessNameMentions||0}),h.jsx("span",{className:"text-xs text-gray-500",children:i?"":"Mentions"})]}),h.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>{e(s)},disabled:s.status!=="completed",className:`bg-gradient-to-r from-sky-500/10 to-blue-500/10 hover:from-sky-500/20 hover:to-blue-500/20 border-sky-200 hover:border-sky-300 text-sky-700 hover:text-sky-800 text-xs px-4 py-2 h-9 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 ${n?"flex-row-reverse":""}`,children:[h.jsx(Nv,{className:`w-3 h-3 ${n?"ml-1":"mr-1"}`}),i?"":"View"]})]})]},s.id))}),h.jsx("div",{className:"hidden lg:block overflow-x-auto rounded-2xl border border-white/20 shadow-lg bg-white/90 backdrop-blur-sm",children:h.jsxs(bG,{className:"min-w-full",children:[h.jsx(wG,{children:h.jsxs(qC,{className:"bg-gradient-to-r from-sky-50/50 to-blue-50/50 border-b border-white/20",children:[h.jsx(ic,{className:`min-w-[120px] ${n?"text-right":""}`,children:i?"":"Date"}),h.jsx(ic,{className:`min-w-[120px] ${n?"text-right":""}`,children:i?"":"Avatar"}),h.jsx(ic,{className:`min-w-[200px] ${n?"text-right":""}`,children:i?"":"Prompt"}),h.jsx(ic,{className:`min-w-[100px] ${n?"text-right":""}`,children:i?"":"Status"}),h.jsx(ic,{className:`min-w-[100px] ${n?"text-right":""}`,children:i?"":"Mentions"}),h.jsx(ic,{className:`min-w-[100px] ${n?"text-right":""}`,children:i?"":"Actions"})]})}),h.jsx(_G,{children:t.map(s=>h.jsxs(qC,{className:"hover:bg-gradient-to-r hover:from-sky-50/30 hover:to-blue-50/30 transition-all duration-300 border-b border-white/10",children:[h.jsx(sc,{className:"min-w-[120px]",children:h.jsxs("div",{className:`flex items-center gap-2 text-sm whitespace-nowrap ${n?"flex-row-reverse":""}`,children:[h.jsx(Pd,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),h.jsx("span",{className:"text-xs sm:text-sm",children:ac(new Date(s.created_date),"MMM d, yyyy")})]})}),h.jsx(sc,{className:"min-w-[120px]",children:h.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[h.jsx(Qa,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),h.jsx("span",{className:"font-medium text-xs sm:text-sm truncate max-w-[100px]",children:s.persona_name})]})}),h.jsx(sc,{className:"min-w-[200px]",children:h.jsx("div",{className:"max-w-[180px] sm:max-w-[250px]",children:h.jsx("p",{className:`truncate text-xs sm:text-sm text-gray-600 ${n?"text-right":""}`,title:s.prompt,children:s.prompt})})}),h.jsx(sc,{className:"min-w-[100px]",children:h.jsx(wn,{className:`text-xs ${nv[s.status]||nv.pending}`,children:i?s.status==="pending"?"":s.status==="analyzing"?"":s.status==="completed"?"":"":s.status})}),h.jsx(sc,{className:"min-w-[100px]",children:h.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[h.jsx(fi,{className:"w-4 h-4 text-sky-500 flex-shrink-0"}),h.jsx("span",{className:"font-semibold text-xs sm:text-sm",children:s.businessNameMentions||0})]})}),h.jsx(sc,{className:"min-w-[100px]",children:h.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>e(s),disabled:s.status!=="completed",className:`bg-gradient-to-r from-sky-500/10 to-blue-500/10 hover:from-sky-500/20 hover:to-blue-500/20 border-sky-200 hover:border-sky-300 text-sky-700 hover:text-sky-800 text-xs px-3 py-2 h-8 rounded-lg shadow-sm hover:shadow-md transition-all duration-300 whitespace-nowrap ${n?"flex-row-reverse":""}`,children:[h.jsx(Nv,{className:`w-3 h-3 sm:w-4 sm:h-4 ${n?"ml-1":"mr-1"}`}),h.jsx("span",{className:"hidden sm:inline",children:i?"":"View"})]})})]},s.id))})]})})]})}function VOe({isOpen:t,onClose:e,onPromptSent:r,personas:n,businessId:i=null}){const{isRTL:s,isHebrew:o,t:a}=ur(),[c,u]=S.useState(""),[f,p]=S.useState(""),[m,y]=S.useState(!1),[_,x]=S.useState(!1),{clearErrors:b,clearFieldError:T,validateFields:P,getFieldError:E}=Hm(),I=k=>{u(k),T("selectedPersona");const M=n.find(L=>L.id===k),$=(M==null?void 0:M.prompt_template)||(M==null?void 0:M.aiPrompt)||(M==null?void 0:M.ai_prompt)||(M==null?void 0:M.prompt);$&&p($)},C=k=>{p(k),T("promptText")},R=()=>{x(!1),e()},N=async()=>{if(b(),!!P({selectedPersona:{value:c,required:!0,customMessage:a("validation.personaSelectionRequired")},promptText:{value:f,required:!0,customMessage:a("validation.promptTextRequired")}})){y(!0);try{const M=n.find(V=>V.id===c),$={prompt:f,personaId:c,models:["openai","claude","perplexity","gemini"]},L=await Kx.create($,i);r(L)}catch(M){console.error("Error sending prompt:",M);const $=M.message||"";$.includes("monthly prompt limit")||$.includes("You have reached your monthly prompt limit")||$.includes("upgrade your plan")?x(!0):alert(a("errors.aiProcessingFailed"))}y(!1)}};return h.jsxs(h.Fragment,{children:[h.jsx(Dc,{open:t,onOpenChange:R,children:h.jsx(ol,{className:"lg:max-w-2xl",dir:s?"rtl":"ltr",children:h.jsxs("div",{className:"flex h-full min-h-0 flex-col relative",children:[h.jsx(al,{className:`${s?"flex-row-reverse text-right":""} ${o?"justify-end":""}`,children:h.jsx(cl,{className:"flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900",children:o?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"hidden sm:inline",children:"   AI"}),h.jsx("span",{className:"sm:hidden",children:" "}),h.jsx(dd,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(dd,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),h.jsx("span",{className:"hidden sm:inline",children:"Send Prompt to AI Tools"}),h.jsx("span",{className:"sm:hidden",children:"Send Prompt"})]})})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 min-h-0",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-sky-100 to-sky-200 rounded-full flex items-center justify-center mx-auto",children:h.jsx(fi,{className:"w-8 h-8 text-blue-600"})}),h.jsx("p",{className:`text-gray-600 ${s?"text-right":""}`,children:o?"        AI    .":"Send a prompt from an avatar's perspective to multiple AI tools and analyze their responses."})]}),h.jsxs(mp,{error:E("selectedPersona"),isRTL:s,children:[h.jsx(dt,{htmlFor:"persona",className:s?"text-right":"",children:o?"  *":"Select Avatar *"}),h.jsxs(iz,{value:c,onValueChange:I,children:[h.jsx(tk,{className:`mt-1 ${s?"text-right":""} ${o?"justify-end":""} ${o?"[&>svg]:order-first [&>svg]:ml-0 [&>svg]:mr-auto":""} ${E("selectedPersona")?"border-red-500 focus:border-red-500 focus:ring-red-500 ring-red-500":""}`,children:h.jsx(Tue,{placeholder:o?" ":"Choose an avatar"})}),h.jsx(rk,{children:n.map(k=>h.jsx(pp,{value:k.id,className:o?"!justify-end":"",children:h.jsxs("div",{className:`flex items-center gap-2 ${s?"flex-row-reverse":""} ${o?"!justify-end":""}`,children:[h.jsx(Qa,{className:"w-4 h-4"}),h.jsxs("span",{className:`font-medium ${o?"text-right":""}`,children:[k.name,(k.job_title||k.jobTitle)&&` - ${k.job_title||k.jobTitle}`,!k.job_title&&!k.jobTitle&&" (No job title)"]})]})},k.id))})]})]}),h.jsxs(mp,{error:E("promptText"),isRTL:s,children:[h.jsx(dt,{htmlFor:"promptText",className:s?"text-right":"",children:o?"  *":"Prompt Text *"}),h.jsx(fz,{id:"promptText",value:f,onChange:k=>C(k.target.value),placeholder:o?"...AI     ":"Enter the prompt to send to AI tools...",rows:8,error:E("promptText"),isRTL:s,dir:"auto"})]})]}),h.jsxs(ll,{className:`${s?"flex-row-reverse text-right":""}`,children:[h.jsx(Lc,{asChild:!0,children:h.jsxs(Ie,{type:"button",variant:"ghost",className:`h-12 sm:h-12 px-4 sm:px-6 text-base text-slate-500 hover:text-slate-700 flex-1 sm:flex-none ${s?"flex-row-reverse":""}`,children:[h.jsx(Kn,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?"":"Close"]})}),h.jsx(Ie,{onClick:N,disabled:m||!c||!f.trim(),className:`flex-1 sm:min-w-[180px] h-12 sm:h-12 px-4 sm:px-6 text-base font-semibold bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 shadow-lg hover:shadow-xl transition-all ${s?"flex-row-reverse":""}`,children:m?h.jsxs(h.Fragment,{children:[h.jsx(Qr,{size:"sm",variant:"white",className:s?"ml-2":"mr-2"}),o?"  AI...":"Sending to AI Tools..."]}):h.jsxs(h.Fragment,{children:[h.jsx(dd,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?" ":"Send Prompt"]})})]}),m&&h.jsx("div",{className:"absolute inset-0 bg-white/90 backdrop-blur-sm flex flex-col items-center justify-center z-50 rounded-3xl",children:h.jsxs("div",{className:"text-center space-y-4 p-6",children:[h.jsx(Qr,{size:"lg",variant:"primary"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:o?"  AI...":"Sending to AI Tools..."}),h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsx("p",{className:"text-sm text-slate-600 mb-2",children:o?" :":"Your prompt:"}),h.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 text-sm text-slate-800 border",children:['"',f,'"']})]})]})]})})]})})}),h.jsx(Dc,{open:_,onOpenChange:x,children:h.jsx(ol,{className:"lg:max-w-md",dir:s?"rtl":"ltr",children:h.jsxs("div",{className:"flex h-full min-h-0 flex-col",children:[h.jsx(al,{className:`${s?"flex-row-reverse text-right":""}`,children:h.jsxs(cl,{className:"flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900",children:[h.jsx(uT,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500"}),h.jsx("span",{className:"hidden sm:inline",children:o?"  ":"Monthly Limit Reached"}),h.jsx("span",{className:"sm:hidden",children:o?"":"Limit"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 min-h-0",children:[h.jsxs(Nt.div,{className:"text-center space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(Nt.div,{className:"w-20 h-20 bg-gradient-to-br from-sky-100 to-sky-200 rounded-full flex items-center justify-center mx-auto",initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:h.jsx(uT,{className:"w-10 h-10 text-amber-600"})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${s?"text-right":""}`,children:o?"   ":"You've reached your monthly prompt limit"}),h.jsx("p",{className:`text-gray-600 text-sm ${s?"text-right":""}`,children:o?"    .        .":"You've used all your monthly prompts. Upgrade your plan or wait for next month."})]})]}),h.jsx(Nt.div,{className:`bg-blue-50 border border-blue-200 rounded-lg p-4 ${s?"text-right":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:h.jsx(fi,{className:"w-3 h-3 text-blue-600"})}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-sm font-medium text-blue-900",children:o?":":"Tip:"}),h.jsx("p",{className:"text-xs text-blue-700",children:o?"       .":"Upgraded plans include more monthly prompts and advanced features."})]})]})})]}),h.jsxs(ll,{className:`${s?"flex-row-reverse text-right":""}`,children:[h.jsx(Lc,{asChild:!0,children:h.jsxs(Ie,{type:"button",variant:"ghost",className:`h-12 sm:h-12 px-4 sm:px-6 text-base text-slate-500 hover:text-slate-700 flex-1 sm:flex-none ${s?"flex-row-reverse":""}`,children:[h.jsx(Kn,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?"":"Close"]})}),h.jsxs(Ie,{onClick:()=>{x(!1),window.open("#upgrade","_blank")},className:`flex-1 sm:min-w-[160px] h-12 sm:h-12 px-4 sm:px-6 text-base font-semibold bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all ${s?"flex-row-reverse":""}`,children:[h.jsx(UX,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?" ":"Upgrade Now"]}),h.jsxs(Ie,{onClick:()=>x(!1),variant:"outline",className:`flex-1 sm:min-w-[140px] h-12 sm:h-12 px-4 sm:px-6 text-base ${s?"flex-row-reverse":""}`,children:[h.jsx(FX,{className:`w-4 h-4 ${s?"ml-2":"mr-2"}`}),o?"  ":"Wait for Next Month"]})]})]})})})]})}const BOe={chatgpt:"bg-green-100 text-green-800 border-green-200",claude:"bg-orange-100 text-orange-800 border-orange-200",perplexity:"bg-blue-100 text-blue-800 border-blue-200",grok:"bg-sky-100 text-sky-800 border-sky-200",gemini:"bg-yellow-100 text-yellow-800 border-yellow-200"},z6=(t,e,r,n,i)=>{if(!t)return h.jsx("span",{children:t});const s=[];let o=0;const a=[];if(e&&e.trim()&&a.push({term:e.trim(),type:"business"}),r&&r.length>0&&r.forEach(m=>{const y=typeof m=="string"?m:m==null?void 0:m.name;y&&typeof y=="string"&&y.trim()&&a.push({term:y.trim(),type:"competitor"})}),n&&n.trim()&&a.push({term:n.trim(),type:"industry"}),i&&i.length>0&&i.forEach(m=>{const y=typeof m=="string"?m:m==null?void 0:m.name;y&&typeof y=="string"&&y.trim()&&a.push({term:y.trim(),type:"products"})}),a.length===0)return h.jsx("span",{children:t});a.sort((m,y)=>y.term.length-m.term.length);const c=m=>m?m.normalize("NFD").replace(/[\u0591-\u05C7]/g,"").normalize("NFC").toLowerCase().trim():"",u=a.map(({term:m})=>m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|");let f;try{f=new RegExp(`(${u})`,"giu")}catch{return console.warn("Regex pattern error:",u),h.jsx("span",{dir:"auto",children:t})}const p=[];try{const m=t.matchAll(f);for(const y of m)p.push(y)}catch(m){console.warn("Error matching text:",m)}return p.length===0&&a.length>0&&a.forEach(({term:m,type:y})=>{let _=0;for(;(_=t.indexOf(m,_))!==-1;)p.some(E=>E.index===_&&E[0]===m)||p.push({0:m,index:_,type:y}),_+=m.length;const x=m.toLowerCase(),b=t.toLowerCase();for(_=0;(_=b.indexOf(x,_))!==-1;){if(!p.some(E=>E.index===_)){const E=t.slice(_,_+m.length);p.push({0:E,index:_,type:y})}_+=x.length}const T=c(m);if(T&&T.length>0)for(let P=0;P<=t.length-m.length;P++){const E=t.slice(P,P+m.length+5);if(c(E).startsWith(T)&&!p.some(R=>R.index===P&&R[0]===m)){const R=t.slice(P,P+m.length);p.push({0:R,index:P,type:y}),P+=m.length-1}}}),p.length===0?h.jsx("span",{dir:"auto",children:t}):(p.sort((m,y)=>m.index-y.index),p.forEach((m,y)=>{const _=m[0],x=m.index;x>o&&s.push(h.jsx("span",{children:t.slice(o,x)},`text-${y}`));let b;if(m.type&&(b=a.find(({type:P})=>P===m.type)),!b){const P=c(_);b=a.find(({term:E})=>c(E)===P||E.toLowerCase()===_.toLowerCase()||E===_||_.includes(E)||E.includes(_))}let T="";switch(b==null?void 0:b.type){case"business":T="bg-blue-200 text-blue-800 px-1 rounded font-medium";break;case"competitor":T="bg-green-200 text-green-800 px-1 rounded font-medium";break;case"industry":T="bg-purple-200 text-purple-800 px-1 rounded font-medium";break;case"products":T="bg-orange-200 text-orange-800 px-1 rounded font-medium";break;default:T="bg-gray-200 text-gray-800 px-1 rounded"}s.push(h.jsx("span",{className:T,dir:"auto",children:_},`highlight-${y}`)),o=x+_.length}),o<t.length&&s.push(h.jsx("span",{children:t.slice(o)},"text-end")),h.jsx("span",{dir:"auto",children:s}))};function UOe({isOpen:t,onClose:e,prompt:r}){r!=null&&r.responses&&Object.entries(r.responses).forEach(([u,f])=>{});const{user:n}=Xc(),{t:i,isRTL:s,isHebrew:o}=ur(),[a,c]=S.useState(null);return S.useEffect(()=>{t&&(async()=>{if(n!=null&&n.uid)try{const f=Hc(Yc,"clients",n.uid),p=await Gc(f);if(p.exists()){const m=p.data(),y=(m==null?void 0:m.businessProfile)||(m==null?void 0:m.business_profile)||m,_=Array.isArray(y==null?void 0:y.competitors)?y.competitors:typeof(y==null?void 0:y.competitors)=="string"?y.competitors.split(",").map(b=>b.trim()).filter(Boolean):[],x=Array.isArray(y==null?void 0:y.products_services)?y.products_services:typeof(y==null?void 0:y.products_services)=="string"?y.products_services.split(",").map(b=>b.trim()).filter(Boolean):Array.isArray(y==null?void 0:y.productsServices)?y.productsServices:typeof(y==null?void 0:y.productsServices)=="string"?y.productsServices.split(",").map(b=>b.trim()).filter(Boolean):[];c({business_name:(y==null?void 0:y.business_name)||(y==null?void 0:y.businessName)||"",competitors:_,industry:(y==null?void 0:y.industry)||"",products_services:x})}}catch(f){console.error("Error loading business profile:",f)}})()},[t,n==null?void 0:n.uid]),r?h.jsx(Dc,{open:t,onOpenChange:e,children:h.jsx(ol,{className:"max-w-4xl lg:max-w-6xl max-h-[90vh]",children:h.jsxs("div",{className:"flex h-full min-h-0 flex-col",children:[h.jsx(al,{children:h.jsxs(cl,{className:`flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900 ${s?"flex-row-reverse":""}`,children:[h.jsx(Nv,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),h.jsx("span",{className:"hidden sm:inline",children:o?"  AI":"AI Responses Analysis"}),h.jsx("span",{className:"sm:hidden",children:o?"":"Responses"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 min-h-0",children:[h.jsxs(Rt,{children:[h.jsx(Ar,{children:h.jsx(Fr,{className:`text-lg ${s?"text-right":""}`,children:o?" ":"Original Prompt"})}),h.jsx(yt,{children:h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(wn,{variant:"outline",children:r.personaName})}),h.jsx("div",{className:`text-gray-700 bg-gray-50 p-4 rounded-lg ${s?"text-right":""}`,dir:"auto",children:z6(r.prompt,a==null?void 0:a.business_name,a==null?void 0:a.competitors,a==null?void 0:a.industry,a==null?void 0:a.products_services)})]})})]}),h.jsxs(Rt,{children:[h.jsx(Ar,{children:h.jsxs(Fr,{className:`flex items-center gap-2 ${s?"flex-row-reverse text-right":""}`,children:[h.jsx(ls,{className:"w-5 h-5"}),o?" ":"Mentions Summary"]})}),h.jsx(yt,{children:h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[h.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.businessNameMentions||0}),h.jsx("div",{className:`text-sm text-blue-700 ${s?"text-right":""}`,children:o?" ":"Business Mentions"})]}),h.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.competitorsMentions||0}),h.jsx("div",{className:`text-sm text-green-700 ${s?"text-right":""}`,children:o?" ":"Competitor Mentions"})]}),h.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.industryMentions||0}),h.jsx("div",{className:`text-sm text-purple-700 ${s?"text-right":""}`,children:o?" ":"Industry Mentions"})]}),h.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.productsServicesMentions||0}),h.jsx("div",{className:`text-sm text-orange-700 ${s?"text-right":""}`,children:o?" /":"Products/Services Mentions"})]})]})})]}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:r.responses&&Object.entries(r.responses).map(([u,f])=>h.jsxs(Rt,{className:"h-fit",children:[h.jsx(Ar,{children:h.jsxs(Fr,{className:`flex items-center gap-2 ${s?"flex-row-reverse":""}`,children:[h.jsx(fi,{className:"w-5 h-5"}),h.jsx(wn,{className:BOe[u],children:u.charAt(0).toUpperCase()+u.slice(1)})]})}),h.jsx(yt,{children:h.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-80 overflow-y-auto",children:h.jsx("div",{className:`text-gray-700 whitespace-pre-wrap text-sm leading-relaxed ${s?"text-right":""}`,dir:"auto",children:f?z6(f,a==null?void 0:a.business_name,a==null?void 0:a.competitors,a==null?void 0:a.industry,a==null?void 0:a.products_services):o?"  ":"No response available"})})})]},u))})]}),h.jsx(ll,{children:h.jsx(Lc,{asChild:!0,children:h.jsx(Ie,{type:"button",variant:"outline",children:o?"":"Close"})})})]})})}):null}function zC({businessId:t,refreshBusinessData:e}){const{t:r,isRTL:n,isHebrew:i}=ur(),[s,o]=S.useState([]),[a,c]=S.useState([]),[u,f]=S.useState(!0),[p,m]=S.useState(!1),[y,_]=S.useState(!1),[x,b]=S.useState(null),[T,P]=S.useState(0),E=t||null;S.useEffect(()=>{},[y]),S.useEffect(()=>{},[x]);const I=zc();S.useEffect(()=>{C()},[t,E,T]),S.useEffect(()=>{e&&P(L=>L+1)},[e]);const C=async()=>{try{const[L,V]=await Promise.all([Kx.list("-created_date",E),as.list("-created_date",E)]);return o(L),c(V),f(!1),{promptData:L,personaData:V}}catch(L){return console.error("Error loading data:",L),f(!1),{promptData:[],personaData:[]}}},R=async L=>{m(!1),e&&e();const{promptData:V}=await C();let D=null;L&&L.id&&V.length>0?D=V.find(H=>H.id===L.id)||V[0]:V.length>0&&(D=V[0]),D&&(b(D),_(!0))},N=L=>{b(L),_(!0)},M={totalPrompts:s.length,completedPrompts:s.filter(L=>L.status==="completed").length,pendingPrompts:s.filter(L=>L.status==="pending"||L.status==="analyzing").length,totalMentions:s.reduce((L,V)=>L+(V.businessNameMentions||0),0)},$=h.jsxs(Ie,{onClick:()=>m(!0),className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white px-6 py-4 sm:px-6 sm:py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 text-base sm:text-base w-full sm:w-auto h-14 sm:h-auto ${n?"flex-row-reverse":""}`,children:[h.jsx(dd,{className:`w-5 h-5 sm:w-5 sm:h-5 ${n?"ml-2 sm:ml-2":"mr-2 sm:mr-2"}`}),r("prompts.sendNew")]});return u?h.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-140px)] gap-4",children:[h.jsx(Qr,{size:"lg",variant:"primary"}),h.jsx("p",{className:"text-sm text-gray-500 animate-pulse"})]}):a.length===0?h.jsx("div",{className:"p-4 sm:p-6 max-w-2xl mx-auto",children:h.jsx(Rt,{className:"text-center shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:h.jsxs(yt,{className:"pt-8 pb-8",children:[h.jsx(fi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:r("prompts.noPersonas")}),h.jsx("p",{className:"text-gray-600 mb-4",children:r("prompts.createPersonasFirst")}),h.jsx(Ie,{onClick:()=>I(zn("Avatar")),className:"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700",children:r("prompts.createPersonas")})]})})}):h.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-6 lg:space-y-8 prompt-page-desktop-shift ${n?"text-right":""}`,children:[h.jsx(Mf,{icon:h.jsx(fi,{className:"w-6 h-6 sm:w-8 sm:h-8"}),title:r("prompts.title"),subtitle:r("prompts.subtitle"),actions:$,isRTL:n,showOnMobile:!1}),h.jsx("div",{className:"block lg:hidden",children:h.jsxs(Ie,{onClick:()=>m(!0),className:`relative bg-gradient-to-r from-sky-500 via-blue-500 to-blue-600 hover:from-sky-600 hover:via-blue-600 hover:to-blue-700 text-white px-8 py-6 rounded-2xl font-bold shadow-2xl hover:shadow-3xl transition-all duration-500 text-lg w-full h-16 overflow-hidden group ${n?"flex-row-reverse":""}`,children:[h.jsx("div",{className:"absolute inset-0 -top-1 -bottom-1 bg-gradient-to-r from-transparent via-white/40 to-transparent transform -skew-x-12 animate-lightning"}),h.jsx("div",{className:"absolute inset-0 -top-1 -bottom-1 bg-gradient-to-r from-transparent via-white/30 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out"}),h.jsx(dd,{className:`w-6 h-6 relative z-10 ${n?"ml-3":"mr-3"}`}),h.jsx("span",{className:"relative z-10",children:r("prompts.sendNew")}),h.jsx("style",{jsx:!0,children:`
            @keyframes lightning {
              0%, 90%, 100% {
                transform: translateX(-100%) skewX(-12deg);
              }
              5%, 10% {
                transform: translateX(100%) skewX(-12deg);
              }
            }
            .animate-lightning {
              animation: lightning 3s ease-in-out infinite;
            }
          `})]})}),h.jsxs(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-3 xs:gap-4",children:[h.jsx(Rt,{className:"bg-gradient-to-br from-sky-500 via-blue-500 to-blue-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-500 group",children:h.jsx(yt,{className:"p-3 xs:p-4 lg:p-6",children:h.jsx("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:i?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-8 h-8 xs:w-10 xs:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(fi,{className:"w-4 h-4 xs:w-5 xs:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold text-right",children:M.totalPrompts}),h.jsx("div",{className:"text-sky-100 text-xs xs:text-sm font-medium text-right",children:r("prompts.totalPrompts")})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold",children:M.totalPrompts}),h.jsx("div",{className:"text-sky-100 text-xs xs:text-sm font-medium",children:r("prompts.totalPrompts")})]}),h.jsx("div",{className:"w-8 h-8 xs:w-10 xs:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(fi,{className:"w-4 h-4 xs:w-5 xs:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})})]})})})}),h.jsx(Rt,{className:"bg-gradient-to-br from-emerald-500 via-green-500 to-teal-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-500 group",children:h.jsx(yt,{className:"p-3 xs:p-4 lg:p-6",children:h.jsx("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:i?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(hR,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold text-right",children:M.completedPrompts}),h.jsx("div",{className:"text-sky-100 text-xs xs:text-sm font-medium text-right",children:r("prompts.completed")})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold",children:M.completedPrompts}),h.jsx("div",{className:"text-sky-100 text-xs xs:text-sm font-medium",children:r("prompts.completed")})]}),h.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(hR,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})})]})})})}),h.jsx(Rt,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:h.jsx(yt,{className:"p-3 xs:p-4 lg:p-6",children:h.jsx("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:i?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(Pd,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold text-right",children:M.pendingPrompts}),h.jsx("div",{className:"text-blue-100 text-xs xs:text-sm font-medium text-right",children:r("prompts.pending")})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold",children:M.pendingPrompts}),h.jsx("div",{className:"text-blue-100 text-xs xs:text-sm font-medium",children:r("prompts.pending")})]}),h.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(Pd,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})})]})})})}),h.jsx(Rt,{className:"bg-gradient-to-br from-indigo-500 via-purple-500 to-purple-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-500 group",children:h.jsx(yt,{className:"p-3 xs:p-4 lg:p-6",children:h.jsx("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:i?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(Qa,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold text-right",children:M.totalMentions}),h.jsx("div",{className:"text-indigo-100 text-xs xs:text-sm font-medium text-right",children:r("prompts.mentions")})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xl xs:text-2xl lg:text-3xl font-bold",children:M.totalMentions}),h.jsx("div",{className:"text-indigo-100 text-xs xs:text-sm font-medium",children:r("prompts.mentions")})]}),h.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white/30 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300",children:h.jsx(Qa,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-white drop-shadow-sm"})})]})})})})]}),h.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:h.jsxs(Rt,{className:"shadow-2xl border border-white/20 bg-white/90 backdrop-blur-sm rounded-2xl overflow-hidden",children:[h.jsx(Ar,{children:h.jsx(Fr,{className:`flex items-center gap-2 ${n?"flex-row-reverse text-right":""} ${i?"justify-end":""}`,children:i?h.jsxs(h.Fragment,{children:[r("prompts.recentPrompts"),h.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-sky-500 to-blue-600 rounded-full"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-sky-500 to-blue-600 rounded-full"}),r("prompts.recentPrompts")]})})}),h.jsx(yt,{children:s.length>0?h.jsx(FOe,{prompts:s,onViewResponses:N}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(fi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:r("prompts.noPrompts")}),h.jsx("p",{className:"text-gray-500 mb-4",children:r("prompts.sendFirst")}),h.jsxs(Ie,{onClick:()=>m(!0),className:`bg-gradient-to-r from-sky-500 via-blue-500 to-blue-600 hover:from-sky-600 hover:via-blue-600 hover:to-blue-700 shadow-lg hover:shadow-xl transition-all duration-300 rounded-xl ${n?"flex-row-reverse":""}`,children:[h.jsx(dd,{className:`w-4 h-4 ${n?"ml-2":"mr-2"}`}),r("prompts.sendFirstBtn")]})]})})]})}),h.jsx(VOe,{isOpen:p,onClose:()=>m(!1),onPromptSent:R,personas:a,businessId:E}),h.jsx(UOe,{isOpen:y,onClose:()=>{_(!1)},prompt:x})]})}function qOe({businessProfile:t,competitors:e=[],onUpdate:r,businessId:n=null}){const{t:i,isRTL:s,isHebrew:o}=ur(),[a,c]=S.useState(""),[u,f]=S.useState(e),[p,m]=S.useState(!1),[y,_]=S.useState(!1);S.useEffect(()=>{f(e),_(!1)},[e]),S.useEffect(()=>{const P=JSON.stringify(u.sort((E,I)=>E.name.localeCompare(I.name)))!==JSON.stringify((e||[]).sort((E,I)=>E.name.localeCompare(I.name)));_(P)},[u,e]);const x=()=>{if(a.trim()&&!u.some(P=>P.name===a.trim())){const P={id:`temp-${Date.now()}`,name:a.trim(),phone:"",created_date:new Date,updated_date:new Date};f([...u,P]),c("")}},b=P=>{f(u.filter(E=>E.name!==P.name))},T=async()=>{if(y){m(!0);try{const P=(t==null?void 0:t.competitors)||[],E=u.filter(R=>!P.some(N=>(typeof N=="string"?N:N.name)===R.name)),I=P.filter(R=>{const N=typeof R=="string"?R:R.name;return!u.some(k=>k.name===N)}).map(R=>({name:typeof R=="string"?R:R.name}));E.length>0&&await SM.createBulk(E,n),I.length>0&&await SM.deleteBulk(I,n);const C=document.createElement("div");C.className=`fixed ${s?"left-4":"right-4"} top-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50`,C.textContent=o?"  ":"Competitors saved successfully",document.body.appendChild(C),setTimeout(()=>document.body.removeChild(C),3e3),_(!1),r&&r()}catch(P){console.error("Error saving competitors:",P),alert(i("errors.saveCompetitorsFailed"))}finally{m(!1)}}};return h.jsxs(Rt,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm h-fit",dir:s?"rtl":"ltr",children:[h.jsx(Ar,{children:h.jsx(Fr,{className:`flex items-center gap-2 ${s?"flex-row-reverse text-right":""} ${o?"justify-end":""}`,children:o?h.jsxs(h.Fragment,{children:[i("competitors.manage"),h.jsx(Mn,{className:"w-5 h-5 text-blue-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(Mn,{className:"w-5 h-5 text-blue-600"}),i("competitors.manage")]})})}),h.jsxs(yt,{className:"space-y-4",children:[h.jsxs("div",{className:`flex gap-2 ${s?"flex-row-reverse":""}`,children:[h.jsx(ln,{value:a,onChange:P=>c(P.target.value),placeholder:i("competitors.addCompetitor"),className:`flex-1 ${s?"text-right":""}`,onKeyDown:P=>{P.key==="Enter"&&(P.preventDefault(),x())},dir:"auto"}),h.jsx(Ie,{onClick:x,size:"icon",className:"bg-blue-600 hover:bg-blue-700",children:h.jsx(Pc,{className:"w-4 h-4"})})]}),u.length>0?h.jsxs("div",{className:"space-y-2",children:[h.jsx("h4",{className:`text-sm font-medium text-gray-700 ${s?"text-right":""}`,children:i("competitors.current")}),h.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:u.map((P,E)=>h.jsxs("div",{className:`flex items-center justify-between p-2 bg-gray-50 rounded-lg ${s?"flex-row-reverse":""}`,children:[h.jsx("span",{className:`text-sm font-medium ${s?"text-right":""}`,children:P.name}),h.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>b(P),className:"h-6 w-6 hover:bg-red-100 hover:text-red-600",children:h.jsx(Kn,{className:"w-3 h-3"})})]},P.id||E))})]}):h.jsxs("div",{className:"text-center py-6 text-gray-500",children:[h.jsx(Mn,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),h.jsx("p",{className:"text-sm",children:i("competitors.noCompetitors")})]}),y&&h.jsx("div",{className:`flex justify-end pt-4 border-t border-gray-200 ${s?"justify-start":""}`,children:h.jsxs(Ie,{onClick:T,disabled:p,className:`inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg shadow-md transition hover:shadow-lg disabled:opacity-70 disabled:cursor-not-allowed ${s?"flex-row-reverse":""}`,children:[p?h.jsx(Qr,{size:"sm",variant:"white"}):h.jsx(dx,{className:"h-4 w-4"}),h.jsx("span",{children:p?o?"...":"Saving...":o?" ":"Save Changes"})]})})]})]})}function WC({businessId:t,refreshBusinessData:e}){const{t:r,isRTL:n,isHebrew:i}=ur(),s=zc(),[o,a]=S.useState(null),[c,u]=S.useState([]),[f,p]=S.useState(!0),[m,y]=S.useState("week"),[_,x]=S.useState({start:"",end:""}),[b,T]=S.useState(0),P=t||null;S.useEffect(()=>{E()},[t,P,b]),S.useEffect(()=>{e&&T(D=>D+1)},[e]);const E=async()=>{try{const[D,H,W]=await Promise.all([Kx.list("-created_date",P),Fi.checkExists(P),Fi.getCurrentUser(P)]);u(D),a(H&&W?W:null)}catch(D){console.error("Error loading data:",D),a(null)}p(!1)},I=()=>{E(),e&&e()},C=()=>{const D=new Date;switch(m){case"week":return{start:ds(D),end:Ed(D)};case"lastWeek":const H=ds(lx(D)),W=Ed(lx(D));return{start:H,end:W};case"7days":return{start:Ua(D,6),end:D};case"14days":return{start:Ua(D,13),end:D};case"30days":return{start:Ua(D,29),end:D};case"month":return{start:ax(D),end:ox(D)};case"lastMonth":const K=xG(D);return{start:ax(K),end:ox(K)};case"custom":return _.start&&_.end?{start:$a(_.start),end:$a(_.end)}:{start:Ua(D,6),end:D};default:return{start:ds(D),end:Ed(D)}}},R=()=>{if(!c.length)return[];const D=C();return c.filter(H=>{let W;return H.created_date instanceof Date?W=H.created_date:typeof H.created_date=="string"?W=$a(H.created_date):W=new Date,W>=D.start&&W<=D.end})},N=()=>{if(!o)return[];const D=R();if(!D.length)return[];const H=D.reduce((G,te)=>G+(te.businessNameMentions||0),0),W=D.reduce((G,te)=>G+(te.competitorsMentions||0),0),Q=[{name:o.business_name||o.businessName||"Business",mentions:H,type:"business"}],U=o.competitors||[];if(U.length>0){const G=Math.floor(W/U.length),te=W%U.length;U.forEach((z,Z)=>{const ce=G+(Z<te?1:0);Q.push({name:typeof z=="string"?z:z.name,mentions:ce,type:"competitor"})})}return Q.sort((G,te)=>te.mentions-G.mentions)},k=()=>{const D=N(),H=D.reduce((W,K)=>W+K.mentions,0);return H===0?[]:D.map(W=>({name:W.name,value:W.mentions,percentage:(W.mentions/H*100).toFixed(1)}))},M=["#3B82F6","#8B5CF6","#EF4444","#10B981","#F59E0B","#6366F1"],$=[{value:"week",label:r("competitors.thisWeek")},{value:"lastWeek",label:r("competitors.lastWeek")},{value:"7days",label:r("competitors.last7Days")},{value:"14days",label:r("competitors.last14Days")},{value:"30days",label:r("competitors.last30Days")},{value:"month",label:r("competitors.thisMonth")},{value:"lastMonth",label:r("competitors.lastMonth")},{value:"custom",label:r("competitors.customRange")}];if(f)return h.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-140px)] gap-4",children:[h.jsx(Qr,{size:"lg",variant:"primary"}),h.jsx("p",{className:"text-sm text-gray-500 animate-pulse"})]});if(!o)return h.jsx("div",{className:"p-4 sm:p-6 max-w-2xl mx-auto",children:h.jsx(Rt,{className:"text-center shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:h.jsxs(yt,{className:"pt-8 pb-8",children:[h.jsx(Mn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:i?"  ":"Business Profile Required"}),h.jsx("p",{className:"text-gray-600 mb-4",children:i?"            .":"Please set up your business profile and add competitors to view this analysis."}),h.jsxs(Ie,{onClick:()=>s(zn("BusinessProfile")),className:"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700",children:[h.jsx(Mn,{className:"w-4 h-4 mr-2"}),i?"  ":"Set Up Business Profile"]})]})})});const L=N(),V=k();return h.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-6 lg:space-y-8 competitor-page-desktop-shift ${n?"text-right":""}`,children:[h.jsx(Mf,{icon:h.jsx(ls,{className:"w-8 h-8"}),title:r("competitors.title"),subtitle:r("competitors.subtitle"),isRTL:n,showOnMobile:!1}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[h.jsx(Nt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:h.jsx(qOe,{businessProfile:o,competitors:((o==null?void 0:o.competitors)||[]).map(D=>typeof D=="string"?{id:D,name:D}:D),onUpdate:I,businessId:P})}),h.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[h.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:h.jsxs(Rt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(Ar,{children:h.jsxs("div",{className:`flex flex-col gap-4 ${n?"text-right":""}`,children:[h.jsx(Fr,{className:`flex items-center gap-2 ${n?"flex-row-reverse":""} ${i?"justify-end":""}`,children:i?h.jsxs(h.Fragment,{children:[r("competitors.mentionComparison"),h.jsx(kp,{className:"w-5 h-5 text-sky-600"})]}):h.jsxs(h.Fragment,{children:[h.jsx(kp,{className:"w-5 h-5 text-sky-600"}),r("competitors.mentionComparison")]})}),h.jsx("div",{className:`flex flex-wrap gap-1 sm:gap-2 ${n?"flex-row-reverse":""}`,children:$.map(D=>h.jsx(Ie,{variant:m===D.value?"default":"outline",size:"sm",onClick:()=>y(D.value),className:`text-xs h-8 px-2 sm:px-3 ${m===D.value?"bg-blue-600 hover:bg-blue-700 text-white":"hover:bg-blue-50 hover:text-blue-700 hover:border-blue-300"}`,children:D.label},D.value))}),m==="custom"&&h.jsxs("div",{className:`flex flex-col sm:flex-row gap-2 items-center ${n?"flex-row-reverse":""}`,children:[h.jsx(Pd,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),h.jsx("input",{type:"date",value:_.start,onChange:D=>x(H=>({...H,start:D.target.value})),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full sm:w-auto",placeholder:"Start Date"}),h.jsx("span",{className:"text-gray-500 text-sm",children:i?"":"to"}),h.jsx("input",{type:"date",value:_.end,onChange:D=>x(H=>({...H,end:D.target.value})),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full sm:w-auto",placeholder:"End Date"})]})]})}),h.jsx(yt,{children:L.length>0?h.jsx(LA,{width:"100%",height:350,children:h.jsxs(oIe,{data:L,margin:{top:20,right:30,left:20,bottom:60},children:[h.jsx(VI,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),h.jsx(zf,{dataKey:"name",stroke:"#6B7280",tick:{fontSize:12,fill:"#374151"},angle:0,textAnchor:"middle",height:60,interval:0,tickMargin:10}),h.jsx(Wf,{stroke:"#6B7280"}),h.jsx(ki,{contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"}}),h.jsx(ru,{dataKey:"mentions",fill:(D,H)=>D.type==="business"?"#3B82F6":"#8B5CF6",radius:[4,4,0,0],children:L.map((D,H)=>h.jsx(Qp,{fill:D.type==="business"?"#3B82F6":M[H%M.length]},`cell-${H}`))})]})}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(ls,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-500",children:r("competitors.noData")})]})})]})}),V.length>0&&h.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:h.jsxs(Rt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[h.jsx(Ar,{children:h.jsxs(Fr,{className:"flex items-center gap-2",children:[h.jsx(ls,{className:"w-5 h-5 text-sky-600"}),r("competitors.marketShare")]})}),h.jsx(yt,{children:h.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-4 sm:gap-6",children:[h.jsx(LA,{width:"100%",height:350,children:h.jsxs(aIe,{children:[h.jsx(na,{data:V,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:({percentage:D,value:H})=>H>0&&parseFloat(D)>=1?`${D}%`:"",labelLine:{stroke:"#666",strokeWidth:1},children:V.map((D,H)=>h.jsx(Qp,{fill:M[H%M.length]},`cell-${H}`))}),h.jsx(ki,{contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"},formatter:(D,H,W)=>[`${W.payload.percentage}% (${D} mentions)`,W.payload.name]})]})}),h.jsx("div",{className:"space-y-2 w-full lg:min-w-[200px]",children:V.map((D,H)=>h.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[h.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:M[H%M.length]}}),h.jsx("span",{className:`text-sm font-medium truncate ${n?"text-right":""}`,children:D.name}),h.jsx("span",{className:`text-sm text-gray-500 ${n?"mr-auto":"ml-auto"}`,children:D.value})]},D.name))})]})})]})})]})]})]})}const W6=t=>{if(!t)return null;if(typeof t.toDate=="function")return t.toDate();if(typeof t=="object"&&typeof t.seconds=="number")return new Date(t.seconds*1e3);const e=new Date(t);return Number.isNaN(e.getTime())?null:e};function SG({businessId:t}){const{t:e,isRTL:r,isHebrew:n}=ur(),{user:i,logout:s}=Xc(),[o,a]=S.useState({loading:!0,error:null,businesses:[],usage:null,lastUpdated:null}),[c,u]=S.useState(!1),[f,p]=S.useState(!1),m=S.useCallback(async(I=!1)=>{if(!(i!=null&&i.uid)){a({loading:!1,error:e("profile.missingUser"),businesses:[],usage:null,lastUpdated:null});return}a(C=>({...C,loading:I||C.businesses.length===0,error:null})),I||u(!0);try{const C=Hc(Yc,"clients",i.uid),R=Rq(C,"businesses"),[N,k]=await Promise.all([Gc(C),Vq(R).catch(K=>(console.warn("Unable to load businesses sub-collection:",K),null))]),M=new Map;let $=null,L=0;const V=(K="inline")=>(L+=1,`${K}-business-${L}`),D=(K,Q,U={})=>{if(!K)return null;let G=K,te=Q;if(K&&typeof K.data=="function"&&(te=K.id||Q,G=K.data()),typeof G=="string")return{id:te||G||V(U.source),name:G,industry:"",description:"",website:"",phone:"",...U};if(typeof G!="object")return null;const z=G.business_name||G.businessName||G.name||G.title||te||e("welcome.profile.businessFallbackName");return{id:(G.id||G.uid||te||z||V(U.source)).toString(),name:z,industry:G.industry||"",description:G.description||G.businessDescription||G.summary||G.bio||"",website:G.website||G.site||"",phone:G.phone||G.phoneNumber||"",createdAt:W6(G.createdAt||G.created_at||G.created_date),updatedAt:W6(G.updatedAt||G.updated_at||G.updated_date),...U}},H=K=>{if(!K)return;const Q=M.get(K.id);Q?M.set(K.id,{...Q,...K,isPrimary:Q.isPrimary||K.isPrimary||!1,source:Q.isPrimary?Q.source:K.source}):M.set(K.id,K)};if(N.exists()){const K=N.data()||{};console.log("Saving raw database data:",K),console.log("Client data keys:",Object.keys(K||{})),a(te=>{console.log("Previous state:",te);const z={...te};return console.log("New state:",z),z}),$=K.usage||K.usageStats||K.usage_statistics||null;const Q=K.businessProfile||K.business_profile||null;H(D(Q,`${N.id}-primary`,{source:"primary",isPrimary:!0}));const U=K.secondary_buisness||K.secondary_business||[];Array.isArray(U)&&U.forEach((te,z)=>{H(D(te,`${N.id}-secondary-${z}`,{source:"secondary",isPrimary:!1}))});const G=K.businesses||K.business_list;Array.isArray(G)?G.forEach((te,z)=>{H(D(te,`${N.id}-list-${z}`,{source:"inline"}))}):G&&typeof G=="object"&&Object.entries(G).forEach(([te,z])=>{H(D(z,te||V("inline"),{source:"inline"}))})}k&&!k.empty&&k.forEach(K=>{H(D(K,K.id,{source:"collection"}))});const W=Array.from(M.values()).sort((K,Q)=>K.isPrimary===Q.isPrimary?K.name.localeCompare(Q.name):K.isPrimary?-1:1);a({loading:!1,error:null,businesses:W,usage:$,lastUpdated:new Date})}catch(C){console.error("Failed to load profile overview:",C),a(R=>({...R,loading:!1,error:e("profile.loadingError")}))}finally{u(!1)}},[e,i==null?void 0:i.uid]);S.useEffect(()=>{m(!0)},[m]);const y=()=>{x||c||m(!1)},_=async()=>{try{await s(),p(!1)}catch(I){console.error("Failed to logout:",I)}},{loading:x,error:b,businesses:T,usage:P}=o,E=Math.max(0,((P==null?void 0:P.maxPrompts)??0)-((P==null?void 0:P.monthlyPrompts)??0));return x?h.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-140px)] gap-4",children:h.jsx(Qr,{size:"lg",variant:"primary"})}):h.jsxs("div",{className:`p-4 sm:p-6 pt-12 md:pt-6 md:pl-8 max-w-5xl mx-auto space-y-6 profile-page-desktop-shift laptop-spacing laptop-lg-spacing desktop-spacing desktop-lg-spacing ${r?"text-right":""}`,children:[h.jsx(Mf,{title:e("profile.title"),subtitle:e("profile.subtitle"),isRTL:r,showOnMobile:!1,actions:i!=null&&i.uid?h.jsx("div",{className:`flex gap-3 ${r?"flex-row-reverse":""}`,children:h.jsxs(Ie,{onClick:y,disabled:x||c,className:`inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-sky-500 to-blue-600 px-6 py-2 text-white shadow-md transition hover:shadow-lg disabled:opacity-70 disabled:cursor-not-allowed ${r?"flex-row-reverse":""}`,children:[c?h.jsx(Qr,{size:"sm",variant:"white"}):h.jsx(oQ,{className:"h-4 w-4"}),h.jsx("span",{children:c?n?"...":"Loading...":n?"":"Refresh"})]})}):null}),b&&h.jsx(Rt,{className:"border border-red-100 bg-red-50/70 text-red-700",children:h.jsxs(yt,{className:"flex flex-col gap-3 py-6",children:[h.jsx("span",{children:b}),(i==null?void 0:i.uid)&&h.jsx(Ie,{variant:"outline",onClick:()=>m(!0),className:`self-start border-red-300 text-red-700 hover:bg-red-100 ${r?"self-end":""}`,children:e("profile.retry")})]})}),h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs(Rt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur",children:[h.jsx(Ar,{className:`${r?"text-right":""}`,children:h.jsxs(Fr,{className:"flex items-center gap-3",children:[h.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-sky-500 to-blue-600 text-white",children:h.jsx(Mn,{className:"h-5 w-5"})}),e("profile.businessesSection")]})}),h.jsx(yt,{className:"space-y-4",children:T.length===0?h.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50/70 p-6 text-sm text-slate-500",children:e("profile.businessesEmpty")}):h.jsxs("div",{className:"space-y-6",children:[T.filter(I=>I.isPrimary).length>0&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:`flex items-center gap-2 ${r?"flex-row-reverse":""}`,children:[h.jsx("div",{className:"h-px bg-gradient-to-r from-sky-500/30 to-transparent flex-1"}),h.jsx("h3",{className:"text-sm font-semibold text-sky-600 uppercase tracking-wide",children:e("profile.primaryBusinessSection")}),h.jsx("div",{className:"h-px bg-gradient-to-l from-sky-500/30 to-transparent flex-1"})]}),T.filter(I=>I.isPrimary).map(I=>h.jsx(Nt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"rounded-2xl border-2 border-sky-200 bg-gradient-to-br from-sky-50/50 to-white p-5 shadow-sm",children:h.jsxs("div",{className:`flex flex-col gap-3 ${r?"items-end text-right":""}`,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:I.name}),h.jsx(wn,{className:"bg-sky-500/90 text-white shadow-sm",children:e("profile.primaryLabel")})]}),I.industry&&h.jsx("p",{className:"text-sm text-slate-500",children:I.industry}),I.description&&h.jsx("p",{className:"text-sm leading-relaxed text-slate-600",children:I.description}),h.jsx("div",{className:"flex flex-wrap gap-3 text-xs text-slate-500",children:I.phone&&h.jsxs("span",{className:"inline-flex items-center gap-1",children:[h.jsx(Di,{className:"h-3 w-3 text-sky-500"}),I.phone]})})]})},I.id))]}),T.filter(I=>!I.isPrimary).length>0&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:`flex items-center gap-2 ${r?"flex-row-reverse":""}`,children:[h.jsx("div",{className:"h-px bg-gradient-to-r from-emerald-500/30 to-transparent flex-1"}),h.jsx("h3",{className:"text-sm font-semibold text-emerald-600 uppercase tracking-wide",children:e("profile.secondaryBusinessesSection")}),h.jsx("div",{className:"h-px bg-gradient-to-l from-emerald-500/30 to-transparent flex-1"})]}),h.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:T.filter(I=>!I.isPrimary).map(I=>h.jsx(Nt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"rounded-2xl border border-emerald-200 bg-gradient-to-br from-emerald-50/30 to-white p-5 shadow-sm hover:shadow-md transition-shadow",children:h.jsxs("div",{className:`flex flex-col gap-3 ${r?"items-end text-right":""}`,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:I.name}),h.jsx(wn,{variant:"secondary",className:"bg-emerald-100 text-emerald-700 border-emerald-200",children:e("profile.additionalLabel")})]}),I.industry&&h.jsx("p",{className:"text-sm text-slate-500",children:I.industry}),I.description&&h.jsx("p",{className:"text-sm leading-relaxed text-slate-600 line-clamp-3",children:I.description}),h.jsx("div",{className:"flex flex-wrap gap-3 text-xs text-slate-500",children:I.phone&&h.jsxs("span",{className:"inline-flex items-center gap-1",children:[h.jsx(Di,{className:"h-3 w-3 text-emerald-500"}),I.phone]})})]})},I.id))})]})]})})]}),h.jsxs(Rt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur",children:[h.jsx(Ar,{className:`${r?"text-right":""}`,children:h.jsxs(Fr,{className:"flex items-center gap-3",children:[h.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 text-white",children:h.jsx(Di,{className:"h-5 w-5"})}),e("profile.usageSection")]})}),h.jsx(yt,{children:P?h.jsxs("div",{className:"grid gap-4",children:[h.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[h.jsx(iv,{label:e("profile.maxPrompts"),value:P.maxPrompts??0}),h.jsx(iv,{label:e("profile.monthlyPrompts"),value:P.monthlyPrompts??0}),h.jsx(iv,{label:e("profile.totalPrompts"),value:P.totalPrompts??0}),h.jsx(iv,{label:e("profile.remainingPrompts"),value:E})]}),h.jsx("div",{className:"rounded-xl border border-slate-100 bg-slate-50/70 p-4 text-xs text-slate-500",children:e("analytics.noDataMessage")})]}):h.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50/70 p-6 text-sm text-slate-500",children:e("profile.noUsage")})})]})]}),h.jsxs(Rt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur",children:[h.jsx(Ar,{className:`${r?"text-right":""}`,children:h.jsx(Fr,{className:"text-lg font-semibold text-slate-900",children:n?" ":"Account Settings"})}),h.jsx(yt,{children:h.jsx("div",{className:`flex gap-4 ${r?"flex-row-reverse":""}`,children:h.jsxs(Ie,{onClick:()=>p(!0),variant:"destructive",className:"inline-flex items-center gap-2 bg-red-600 text-white hover:bg-red-700",children:[h.jsx(p3,{className:"h-4 w-4"}),n?"":"Disconnect"]})})})]}),h.jsx(Dc,{open:f,onOpenChange:p,children:h.jsxs(ol,{className:"sm:max-w-md",children:[h.jsxs(al,{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(cl,{className:"flex items-center gap-2 text-lg sm:text-xl font-semibold text-slate-900",children:[h.jsx(uT,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500"}),h.jsx("span",{className:"hidden sm:inline",children:n?"    ?":"Are you sure you want to disconnect?"}),h.jsx("span",{className:"sm:hidden",children:n?"?":"Disconnect?"})]}),h.jsx(Lc,{asChild:!0,children:h.jsxs("button",{className:"rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":"Close",children:[h.jsx(Kn,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})})]}),h.jsx(cz,{className:"text-sm text-slate-600",children:n?"     .":"You will be logged out of your account and redirected to the login screen."})]}),h.jsxs(ll,{className:"flex-col sm:flex-row gap-2",children:[h.jsx(Ie,{variant:"outline",onClick:()=>p(!1),className:"h-12 sm:h-12 px-4 sm:px-6 text-base text-slate-500 hover:text-slate-700 flex-1 sm:flex-none",children:n?"":"Cancel"}),h.jsx(Ie,{onClick:_,className:"h-12 sm:h-12 px-4 sm:px-6 text-base bg-sky-600 hover:bg-sky-700 text-white flex-1 sm:flex-none",children:n?"":"Disconnect"})]})]})})]})}function iv({label:t,value:e}){return h.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/90 p-4 shadow-sm",children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:t}),h.jsx("p",{className:"mt-2 text-3xl font-semibold text-slate-900",children:e})]})}const Yh={BusinessProfile:vA,Analytics:BC,Avatar:UC,Prompt:zC,Competitor:WC,Profile:SG};function zOe(t){if(t.endsWith("/")&&(t=t.slice(0,-1)),t===""||t==="/")return"BusinessProfile";const e=t.split("/").filter(i=>i!=="");if(e.length>=2){const i=e[e.length-1];if(i.includes("?")){const o=i.split("?")[0];return Object.keys(Yh).find(c=>c.toLowerCase()===o.toLowerCase())||"BusinessProfile"}return Object.keys(Yh).find(o=>o.toLowerCase()===i.toLowerCase())||"BusinessProfile"}if(e.length===1){const i=e[0];if(i.includes("?")){const o=i.split("?")[0];return Object.keys(Yh).find(c=>c.toLowerCase()===o.toLowerCase())||"BusinessProfile"}return Object.keys(Yh).find(o=>o.toLowerCase()===i.toLowerCase())||"BusinessProfile"}let r=t.split("/").pop();return r.includes("?")&&(r=r.split("?")[0]),Object.keys(Yh).find(i=>i.toLowerCase()===r.toLowerCase())||"BusinessProfile"}function WOe(){const t=ro(),e=zOe(t.pathname),r=t.pathname.split("/").filter(i=>i!==""),n=r.length>=2?r[0]:null;return h.jsx(Vue,{currentPageName:e,businessId:n,children:h.jsxs(LY,{children:[h.jsx(Gr,{path:"/",element:h.jsx($u,{to:"/businessprofile",replace:!0})}),h.jsx(Gr,{path:"/businessprofile",element:h.jsx(vA,{businessId:n})}),h.jsx(Gr,{path:"/analytics",element:h.jsx(BC,{businessId:n})}),h.jsx(Gr,{path:"/avatar",element:h.jsx(UC,{businessId:n})}),h.jsx(Gr,{path:"/prompt",element:h.jsx(zC,{businessId:n})}),h.jsx(Gr,{path:"/competitor",element:h.jsx(WC,{businessId:n})}),h.jsx(Gr,{path:"/profile",element:h.jsx(SG,{businessId:n})}),h.jsx(Gr,{path:"/BusinessProfile",element:h.jsx($u,{to:"/businessprofile",replace:!0})}),h.jsx(Gr,{path:"/Analytics",element:h.jsx($u,{to:"/analytics",replace:!0})}),h.jsx(Gr,{path:"/Prompt",element:h.jsx($u,{to:"/prompt",replace:!0})}),h.jsx(Gr,{path:"/Competitor",element:h.jsx($u,{to:"/competitor",replace:!0})}),h.jsx(Gr,{path:"/Profile",element:h.jsx($u,{to:"/profile",replace:!0})}),h.jsx(Gr,{path:"/:businessId/businessprofile",element:h.jsx(vA,{businessId:n})}),h.jsx(Gr,{path:"/:businessId/analytics",element:h.jsx(BC,{businessId:n})}),h.jsx(Gr,{path:"/:businessId/avatar",element:h.jsx(UC,{businessId:n})}),h.jsx(Gr,{path:"/:businessId/prompt",element:h.jsx(zC,{businessId:n})}),h.jsx(Gr,{path:"/:businessId/competitor",element:h.jsx(WC,{businessId:n})})]})})}function HOe(){return h.jsx(oX,{children:h.jsx(WOe,{})})}const sT={business_name:"",description:"",products_services:"",target_market:"",competitors:[],industry:""},GOe={name:"",age:"",job_title:"",lifestyle:"",goals:"",pain_points:"",motivations:"",purchasing_habits:"",backstory:""},oi="h-14 px-10 text-lg font-semibold shadow-lg hover:shadow-xl focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-sky-200",qn="h-14 px-8 text-base font-medium",H6=(t={})=>{const e=n=>n==null?"":String(n).trim(),r=!!(t.is_ai_generated??t.isAiGenerated??t.source==="ai");return{name:e(t.name),age:t.age===void 0||t.age===null||t.age===""?"":String(t.age),job_title:e(t.job_title??t.jobTitle),lifestyle:e(t.lifestyle),goals:e(t.goals),pain_points:e(t.pain_points??t.painPoints),motivations:e(t.motivations),purchasing_habits:e(t.purchasing_habits??t.purchasingHabits),backstory:e(t.backstory),is_ai_generated:r}};function KOe({onComplete:t}){const{t:e,isRTL:r,isHebrew:n,setLanguage:i,lockLanguage:s}=ur(),{user:o}=Xc(),[a,c]=S.useState(0),[u,f]=S.useState(()=>({...sT})),[p,m]=S.useState(()=>({...GOe})),[y,_]=S.useState(""),[x,b]=S.useState(!1),[T,P]=S.useState(null),[E,I]=S.useState({}),[C,R]=S.useState(0),[N,k]=S.useState(0),[M,$]=S.useState({name:"",language:n?"hebrew":"english"}),[L,V]=S.useState(!1),[D,H]=S.useState(!1),[W,K]=S.useState(!1),[Q,U]=S.useState(null),[G,te]=S.useState(!1),[z,Z]=S.useState(null),ce=2,ye=3,Oe=[{key:"intro",icon:Di,title:e("welcome.title"),subtitle:e("welcome.subtitle")},{key:"profile",icon:g3,title:e("welcome.profile.title"),subtitle:e("welcome.profile.subtitle")},{key:"business",icon:Mn,title:e("welcome.business.title"),subtitle:e("welcome.business.subtitle")},{key:"personaIntro",icon:MX,title:e("welcome.personaIntro.title"),subtitle:e("welcome.personaIntro.subtitle")},{key:"persona",icon:WX,title:e("welcome.persona.title"),subtitle:e("welcome.persona.subtitle")},{key:"meetPersona",icon:Nv,title:z?e("welcome.meetPersona.title").replace("{name}",z.name):e("welcome.meetPersona.title").replace("{name}","Your Avatar"),subtitle:e(z?z.is_ai_generated?"welcome.meetPersona.subtitle":"welcome.meetPersona.manualSubtitle":"welcome.meetPersona.subtitle")},{key:"businessReview",icon:LX,title:e("welcome.businessReview.title"),subtitle:e("welcome.businessReview.subtitle")},{key:"success",icon:pR,title:e("welcome.success.title"),subtitle:e("welcome.success.subtitle")}],Me=Oe[a],he=(oe,me)=>{f(ke=>({...ke,[oe]:me}))},_e=(oe,me)=>{m(ke=>({...ke,[oe]:me}))},ue=async()=>{try{te(!0),P(null);const oe=await as.createAI(1);await new Promise(ke=>setTimeout(ke,1e3));const me=await as.list("-created_date");if(me&&me.length>0){const ke=me[0],ht={name:String(ke.name||""),age:String(ke.age||""),job_title:String(ke.job_title||""),lifestyle:String(ke.lifestyle||""),goals:String(ke.goals||""),pain_points:String(ke.pain_points||""),motivations:String(ke.motivations||""),purchasing_habits:String(ke.purchasing_habits||""),backstory:String(ke.backstory||"")};Z(ht),m(ht),c(5)}else console.error("No personas found in database after creation"),P(e("errors.aiProcessingFailed"))}catch(oe){console.error("Error generating AI persona:",oe);let me=e("errors.aiProcessingFailed");oe.message&&(oe.message.includes("business profile")||oe.message.includes("business name")?me=e("errors.aiProcessingFailed"):me=oe.message),P(me)}finally{te(!1)}},be=()=>{const oe=y.trim();if(oe){if(u.competitors.includes(oe)){_("");return}f(me=>({...me,competitors:[...me.competitors,oe]})),_("")}},Ae=oe=>{f(me=>({...me,competitors:me.competitors.filter(ke=>ke!==oe)}))};S.useEffect(()=>{P(null)},[a,C,N]),S.useEffect(()=>{if(typeof window>"u"||document.querySelector("script[data-lord-icon]"))return;const me=document.createElement("script");me.src="https://cdn.lordicon.com/lordicon.js",me.async=!0,me.dataset.lordIcon="true",document.head.appendChild(me)},[]),S.useEffect(()=>{const oe=ke=>{if(!ke)return;const ht=ke.language&&ke.language.toLowerCase().startsWith("he")?"hebrew":"english";$({name:ke.name||"",language:ht}),i(ht==="hebrew"?"he":"en"),s(),ke.name&&ke.name.trim()&&H(!0)};(async()=>{try{let ke=null;if(typeof window<"u"){const ht=localStorage.getItem("user-preferences");if(ht)try{ke=JSON.parse(ht)}catch(De){console.warn("Failed to parse stored user preferences:",De),ke=null}}ke||(ke=await Mce.get()),ke&&oe(ke)}catch(ke){console.error("Failed to load existing user preferences:",ke)}})()},[s,i]),S.useEffect(()=>{(async()=>{try{let me={hasBusinessProfile:!1,hasPersonasField:!1,hasPersonal:!1,businessProfile:null,personas:[]},ke=null;try{if(o!=null&&o.uid){const De=Hc(Yc,"clients",o.uid),qr=await Gc(De);if(qr.exists()){const At=qr.data(),dn="personal"in At&&At.personal&&At.personal.name,xt="business_profile"in At&&At.business_profile,bl="personas"in At;me={hasPersonal:dn,hasBusinessProfile:xt,hasPersonasField:bl,businessProfile:At.business_profile||null,personas:At.personas||[]},dn&&(ke=At.personal)}}}catch{}if(!ke)try{if(typeof window<"u"){const De=localStorage.getItem("user-preferences");De&&(ke=JSON.parse(De))}}catch{}let ht=0;if(!me.hasPersonal)ht=0;else if(me.hasBusinessProfile){if(me.hasPersonasField){if(me.personas&&me.personas.length>0)ht=7;else if(ht=3,me.businessProfile){const De=me.businessProfile,qr=Array.isArray(De.competitors)?De.competitors.map(xt=>typeof xt=="string"?xt:xt==null?void 0:xt.name).filter(Boolean):[],At=Array.isArray(De.productsServices)?De.productsServices.join(", "):De.productsServices||"",dn={business_name:De.businessName||"",description:De.businessDescription||"",products_services:At,target_market:De.targetMarket||"",competitors:qr,industry:De.industry||""};f(()=>({...sT,...dn})),De.id&&U(De.id)}}else if(ht=3,me.businessProfile){const De=me.businessProfile,qr=Array.isArray(De.competitors)?De.competitors.map(xt=>typeof xt=="string"?xt:xt==null?void 0:xt.name).filter(Boolean):[],At=Array.isArray(De.productsServices)?De.productsServices.join(", "):De.productsServices||"",dn={business_name:De.businessName||"",description:De.businessDescription||"",products_services:At,target_market:De.targetMarket||"",competitors:qr,industry:De.industry||""};f(()=>({...sT,...dn})),De.id&&U(De.id)}}else if(ht=2,ke){const De=ke.language&&ke.language.toLowerCase().startsWith("he")?"hebrew":"english";$({name:ke.name||"",language:De}),i(De==="hebrew"?"he":"en"),s(),H(!0)}c(ht)}catch(me){console.error("Failed to determine starting step:",me)}})()},[]);const le=()=>{R(0),c(1)},Ze=(oe,me)=>{$(ke=>({...ke,[oe]:me}))},fe=async oe=>{oe.preventDefault(),vt();const me=M.language==="hebrew"?"he":"en";i(me),s();const ke={name:M.name.trim()||"",language:M.language};localStorage.setItem("user-preferences",JSON.stringify(ke)),H(!0),(async()=>{try{const De={"Content-Type":"application/json",...await w9()||{}};await fetch("https://personalset-p54weh4vrq-uc.a.run.app",{method:"POST",headers:De,body:JSON.stringify(ke)})}catch(ht){console.error("Profile submission error (background):",ht)}})(),R(0),c(2)},we=oe=>{const me={};return oe===0&&(u.business_name.trim()||(me.businessName=e("welcome.errors.businessName")),u.industry.trim()||(me.industry=e("welcome.errors.industry")),u.description.trim()||(me.description=e("welcome.errors.description"))),Object.keys(me).length>0?me:null},Ne=oe=>{const me={};return oe===0&&(p.name.trim()||(me.personaName=e("welcome.errors.personaName")),p.age.trim()||(me.personaAge=e("welcome.errors.personaAge")),p.job_title.trim()||(me.personaJobTitle=e("welcome.errors.personaRole"))),oe===1&&(p.goals.trim()||(me.personaGoals=e("welcome.errors.personaGoals")),p.pain_points.trim()||(me.personaPainPoints=e("welcome.errors.personaPainPoints")),p.lifestyle.trim()||(me.personaLifestyle=e("welcome.errors.personaLifestyle"))),oe===2&&(p.motivations.trim()||(me.personaMotivations=e("welcome.errors.personaMotivations")),p.backstory.trim()||(me.personaBackstory=e("welcome.errors.personaBackstory"))),Object.keys(me).length>0?me:null},je=()=>{const oe=we(C);if(oe){I(oe);return}vt(),R(me=>Math.min(me+1,ce-1))},ft=()=>{if(C===0){c(D?0:1);return}R(oe=>Math.max(oe-1,0))},Ke=async()=>{for(let me=0;me<ce;me++){const ke=we(me);if(ke){I(ke),R(me);return}}vt(),b(!0);const oe={business_name:u.business_name||"",description:u.description||"",products_services:u.products_services||"",target_market:u.target_market||"",competitors:Array.isArray(u.competitors)?u.competitors:[],industry:u.industry||""};k(0),c(3),b(!1),(async()=>{try{let me=null;Q?me=await Fi.update(Q,oe):me=await Fi.create(oe),me!=null&&me.id&&U(me.id)}catch(me){console.error("Business profile submission error (background):",me)}})()},ut=()=>{const oe=Ne(N);if(oe){I(oe);return}vt(),k(me=>Math.min(me+1,ye-1))},Dt=()=>{if(N===0){c(3);return}k(oe=>Math.max(oe-1,0))},ir=()=>{k(0),c(4)},Nr=async()=>{for(let me=0;me<ye;me++){const ke=Ne(me);if(ke){I(ke),k(me);return}}vt(),b(!0);const oe={...p,age:parseInt(p.age,10)||0,is_ai_generated:!1};Z(displayPersona),m(displayPersona),c(5),(async()=>{try{const me=await as.create(oe);let ke=me?H6(me):null;const ht=De=>De&&(De.name||De.job_title||De.age||De.goals||De.pain_points);if(!ht(ke))try{await new Promise(qr=>setTimeout(qr,600));const De=await as.list("-created_date");De&&De.length>0&&(ke=H6({...De[0],is_ai_generated:!1}))}catch(De){console.warn("Unable to refresh personas after creation:",De)}ht(ke)&&(Z(ke),m(ke))}catch(me){console.error("Welcome onboarding error:",me),P(e("welcome.errors.saving"))}finally{b(!1)}})()},Xn=async oe=>{oe.preventDefault(),C===ce-1?await Ke():je()},Ur=async oe=>{oe.preventDefault(),N===ye-1?await Nr():ut()},Ui=()=>{z&&(m(z),c(7))},qi=()=>{t&&t()},Dn=Me.icon,zi=C===ce-1,un=N===ye-1,$e=oe=>{I(me=>{const ke={...me};return delete ke[oe],ke})},vt=()=>{I({}),P(null)},mt=({message:oe,className:me=""})=>oe?h.jsxs("div",{className:`flex items-center gap-2 text-sm text-red-600 ${n?"text-right":""} ${me}`,children:[h.jsx(h3,{className:"h-4 w-4 flex-shrink-0"}),h.jsx("span",{className:"flex-1",children:oe})]}):null;return h.jsxs("div",{className:`h-[100dvh] overflow-hidden flex items-center justify-center bg-gradient-to-br from-sky-50 via-white to-blue-100 px-0 py-0 sm:px-4 sm:py-12 ${r?"rtl":""}`,dir:r?"rtl":"ltr",children:[G&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:h.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 text-center shadow-2xl",children:[h.jsx("div",{className:"mb-6",children:h.jsx("lord-icon",{src:"https://cdn.lordicon.com/vmzmljdv.json",trigger:"loop",stroke:"bold",colors:"primary:#66a1ee,secondary:#3080e8",style:{width:"120px",height:"120px"}})}),h.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:n?"    ...":"Generating Avatar with AI..."}),h.jsx("p",{className:"text-slate-600",children:n?"          ":"AI is analyzing your business profile and creating a personalized avatar"})]})}),h.jsx("div",{className:"max-w-4xl w-full h-full mx-auto sm:px-4",children:h.jsx(Nt.div,{className:"w-full h-full",initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:-24},transition:{duration:.4},children:h.jsxs(Rt,{className:"overflow-hidden shadow-xl border-0 bg-white/90 backdrop-blur flex flex-col h-full w-full rounded-none sm:rounded-2xl",children:[h.jsx("div",{className:`px-4 sm:px-6 py-4 sm:py-6 bg-white border-b border-slate-100 shrink-0 overflow-x-auto ${r?"rtl":""}`,children:h.jsx("div",{className:`flex items-center justify-between min-w-max ${r?"flex-row-reverse":""}`,children:(r?[...Oe].reverse():Oe).filter(oe=>oe.key!=="persona"&&oe.key!=="meetPersona"&&oe.key!=="businessReview").map((oe,me)=>{Oe.findIndex(At=>At.key===oe.key);const ke=oe.icon;let ht=!1,De=!1;oe.key==="intro"?(ht=a>0,De=a===0):oe.key==="profile"?(ht=a>1,De=a===1):oe.key==="business"?(ht=a>2,De=a===2):oe.key==="personaIntro"?(ht=a>5,De=a>=3&&a<=5):oe.key==="success"&&(ht=a>7,De=a>=6&&a<=7);const qr=At=>{if(n)switch(At){case"intro":return"";case"profile":return"";case"business":return"";case"personaIntro":return"";case"success":return"";default:return""}else switch(At){case"intro":return"Intro";case"profile":return"Profile";case"business":return"Business";case"personaIntro":return"Avatar";case"success":return"Complete";default:return""}};return h.jsxs(X.Fragment,{children:[h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("div",{className:`relative flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full border-2 transition-all duration-300 ${ht?"bg-blue-600 border-blue-600 text-white":De?"bg-blue-600 border-blue-600 text-white ring-4 ring-blue-100":"bg-white border-slate-300 text-slate-400"}`,children:ht?h.jsx(d3,{className:"w-5 h-5 sm:w-6 sm:h-6"}):h.jsx(ke,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),h.jsx("p",{className:`mt-2 text-xs sm:text-sm font-medium whitespace-nowrap ${ht||De?"text-blue-600":"text-slate-400"}`,children:qr(oe.key)})]}),me<Oe.filter(At=>At.key!=="persona"&&At.key!=="meetPersona"&&At.key!=="businessReview").length-1&&h.jsx("div",{className:`flex-1 h-0.5 mx-2 sm:mx-4 transition-all duration-300 self-center ${ht?"bg-blue-600":"bg-slate-300"}`,style:{marginTop:"-1.25rem",marginBottom:"0"}})]},oe.key)})})}),h.jsx(Ar,{className:`border-b border-slate-100 bg-white/70 ${n?"text-right":""} shrink-0`,style:n?{textAlign:"right"}:{},children:h.jsxs("div",{className:`flex items-center gap-4 ${n?"flex-row-reverse text-right justify-end":""}`,style:n?{textAlign:"right",justifyContent:"flex-end"}:{},children:[h.jsx("div",{className:`p-3 rounded-full bg-gradient-to-r from-sky-500 to-blue-600 text-white shadow-md ${n?"order-2":"order-1"}`,children:h.jsx(Dn,{className:"w-6 h-6"})}),h.jsxs("div",{className:`${n?"text-right order-1":"order-2"}`,style:n?{textAlign:"right"}:{},children:[h.jsx(Fr,{className:`text-2xl font-semibold text-slate-900 ${n?"text-right !important":""}`,style:n?{textAlign:"right !important"}:{},children:Me.title}),h.jsx("p",{className:`text-slate-600 mt-1 ${n?"text-right !important":""}`,style:n?{textAlign:"right !important"}:{},children:Me.subtitle})]})]})}),a===0&&h.jsxs(yt,{className:`flex flex-1 flex-col items-center justify-center text-center gap-6 p-4 sm:p-6 lg:p-12 ${r?"text-right":""}`,children:[h.jsx("div",{className:"flex items-center justify-center rounded-full bg-gradient-to-br from-sky-100 to-blue-200/80 shadow-inner p-4",children:h.jsx("lord-icon",{src:"https://cdn.lordicon.com/ytlwczyc.json",trigger:"loop",stroke:"bold",colors:"primary:#0584c7,secondary:#0584c7",style:{width:"140px",height:"140px"}},"welcome-lord-icon")}),h.jsx("p",{className:"text-lg text-slate-600 max-w-2xl",children:e("welcome.description")}),h.jsx(Ie,{size:"lg",className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl transition ${oi}`,onClick:le,children:e("welcome.start")})]}),a===1&&h.jsxs("form",{onSubmit:fe,className:"flex flex-1 flex-col overflow-hidden",noValidate:!0,children:[h.jsxs(yt,{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 flex flex-col gap-6 min-h-0",children:[T&&h.jsx("div",{className:`rounded-xl border border-red-100 bg-red-50 ${r?"text-right":""} px-4 py-3 text-sm text-red-600`,children:T}),h.jsxs("div",{className:`space-y-2 ${n?"text-right":""}`,children:[h.jsx(dt,{htmlFor:"user_name",children:e("welcome.profile.nameLabel")}),h.jsx(ln,{id:"user_name",value:M.name,onChange:oe=>{Ze("name",oe.target.value),E.profileName&&$e("profileName")},placeholder:e("welcome.profile.namePlaceholder"),className:`${n?"text-right":""} ${E.profileName?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.profileName})]}),h.jsxs("div",{className:`space-y-3 ${n?"text-right":""}`,children:[h.jsx(dt,{children:e("welcome.profile.languageLabel")}),h.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[{value:"english",title:e("welcome.profile.english"),description:e("welcome.profile.englishDescription")},{value:"hebrew",title:e("welcome.profile.hebrew"),description:e("welcome.profile.hebrewDescription")}].map(oe=>h.jsxs("button",{type:"button",onClick:()=>Ze("language",oe.value),className:`rounded-2xl border p-4 text-left transition-all ${M.language===oe.value?"border-sky-500 bg-sky-50 shadow-sm":"border-slate-200 hover:border-sky-300 hover:bg-sky-50/40"} ${n?"text-right":""}`,children:[h.jsx("span",{className:"block text-lg font-semibold text-slate-800",children:oe.title}),h.jsx("span",{className:"mt-2 block text-sm text-slate-500",children:oe.description})]},oe.value))})]})]}),h.jsx("div",{className:"border-t border-slate-200 bg-white/95 px-4 sm:px-6 lg:px-8 py-4 sm:py-5 mt-auto shrink-0",children:n?h.jsxs("div",{className:"flex flex-col sm:flex-row justify-center sm:justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(0),className:`rounded-xl w-full sm:w-auto ${qn}`,children:e("common.back")}),h.jsx(Ie,{type:"submit",className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${oi}`,children:e("welcome.profile.continue")})]}):h.jsxs("div",{className:"flex flex-col sm:flex-row justify-center sm:justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(0),className:`rounded-xl w-full sm:w-auto ${qn}`,children:e("common.back")}),h.jsx(Ie,{type:"submit",className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${oi}`,children:e("welcome.profile.continue")})]})})]}),a===2&&h.jsxs("form",{onSubmit:Xn,className:"flex flex-1 flex-col overflow-hidden",noValidate:!0,children:[h.jsxs(yt,{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 flex flex-col gap-6 max-h-[calc(100vh-200px)]",children:[T&&h.jsx("div",{className:`rounded-xl border border-red-100 bg-red-50 ${r?"text-right":""} px-4 py-3 text-sm text-red-600`,children:T}),C===0&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs("div",{className:n?"text-right":"",children:[h.jsxs(dt,{htmlFor:"business_name",children:[e("business.businessName")," *"]}),h.jsx(ln,{id:"business_name",value:u.business_name,onChange:oe=>{he("business_name",oe.target.value),E.businessName&&$e("businessName")},placeholder:e("placeholder.businessName"),className:`${n?"text-right":""} ${E.businessName?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.businessName})]}),h.jsxs("div",{className:n?"text-right":"",children:[h.jsxs(dt,{htmlFor:"industry",children:[e("business.industry")," *"]}),h.jsx(ln,{id:"industry",value:u.industry,onChange:oe=>{he("industry",oe.target.value),E.industry&&$e("industry")},placeholder:e("placeholder.industry"),className:`${n?"text-right":""} ${E.industry?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.industry})]})]}),h.jsxs("div",{className:`space-y-2 ${n?"text-right":""}`,children:[h.jsxs(dt,{htmlFor:"description",children:[e("business.description")," *"]}),h.jsx(Pr,{id:"description",value:u.description,onChange:oe=>{he("description",oe.target.value),E.description&&$e("description")},placeholder:e("placeholder.description"),rows:4,className:`${n?"text-right":""} ${E.description?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.description})]})]}),C===1&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`rounded-xl border border-blue-100 bg-blue-50 ${r?"text-right":""} px-4 py-3 text-sm text-blue-700`,children:n?"         ":"Every field you fill out will help us better understand your business"}),h.jsxs("div",{className:`space-y-2 ${n?"text-right":""}`,children:[h.jsx(dt,{htmlFor:"products_services",children:e("business.productsServices")}),h.jsx(Pr,{id:"products_services",value:u.products_services,onChange:oe=>{he("products_services",oe.target.value),E.productsServices&&$e("productsServices")},placeholder:e("placeholder.productsServices"),rows:3,className:`${n?"text-right":""} ${E.productsServices?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.productsServices})]}),h.jsxs("div",{className:`space-y-2 ${n?"text-right":""}`,children:[h.jsx(dt,{htmlFor:"target_market",children:e("business.targetMarket")}),h.jsx(Pr,{id:"target_market",value:u.target_market,onChange:oe=>{he("target_market",oe.target.value),E.targetMarket&&$e("targetMarket")},placeholder:e("placeholder.targetMarket"),rows:3,className:`${n?"text-right":""} ${E.targetMarket?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.targetMarket})]}),h.jsxs("div",{className:`space-y-3 ${n?"text-right":""}`,children:[h.jsx(dt,{children:e("business.competitors")}),h.jsxs("div",{className:`flex flex-col gap-3 sm:flex-row ${n?"sm:flex-row-reverse":""}`,children:[h.jsx(ln,{value:y,onChange:oe=>{_(oe.target.value),E.competitors&&$e("competitors")},onKeyDown:oe=>{oe.key==="Enter"&&(oe.preventDefault(),be())},placeholder:e("placeholder.addCompetitor"),className:`${n?"text-right":""} ${E.competitors?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(Ie,{type:"button",onClick:be,variant:"secondary",className:`rounded-md ${qn}`,size:"icon",style:{width:"35px",height:"35px"},children:h.jsx(Pc,{className:"w-2 h-2"})})]}),h.jsx(mt,{message:E.competitors}),u.competitors.length>0&&h.jsx("div",{className:`flex flex-wrap gap-2 ${n?"justify-end":""}`,children:u.competitors.map(oe=>h.jsxs(wn,{variant:"secondary",className:"gap-2 bg-sky-50 text-sky-700 border border-sky-100",children:[h.jsx("span",{children:oe}),h.jsx("button",{type:"button",onClick:()=>Ae(oe),className:"text-sky-500 hover:text-sky-700",children:"x"})]},oe))})]})]})]}),h.jsx("div",{className:"border-t border-slate-200 bg-white/95 px-4 sm:px-6 lg:px-8 py-4 sm:py-5",children:n?h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:ft,className:`rounded-xl w-full sm:w-auto ${qn}`,children:e("common.back")}),h.jsx(Ie,{type:"submit",className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${oi}`,children:e(zi?"welcome.business.saveAndContinue":"common.next")})]}):h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:ft,className:`rounded-xl w-full sm:w-auto ${qn}`,children:e("common.back")}),h.jsx(Ie,{type:"submit",className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${oi}`,children:e(zi?"welcome.business.saveAndContinue":"common.next")})]})})]}),a===3&&h.jsxs(yt,{className:`flex flex-1 flex-col items-center justify-center text-center gap-6 p-4 sm:p-6 lg:p-12 ${r?"text-right":""}`,children:[h.jsx("div",{className:"flex items-center justify-center rounded-full bg-gradient-to-br from-sky-100 to-blue-200/80 shadow-inner p-4",children:h.jsx(gc,{className:"w-16 h-16 text-sky-600"})}),h.jsx("p",{className:"text-lg text-slate-600 max-w-2xl",children:e("welcome.personaIntro.description")}),h.jsxs("div",{className:`flex flex-col gap-3 sm:flex-row ${r?"sm:flex-row-reverse":""}`,children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(2),className:`rounded-xl ${qn}`,children:e("welcome.personaIntro.back")}),h.jsx(Ie,{type:"button",onClick:ir,className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl ${oi}`,children:e("welcome.personaIntro.cta")})]})]}),a===4&&h.jsxs("form",{onSubmit:Ur,className:"flex flex-1 flex-col overflow-hidden",noValidate:!0,children:[h.jsxs(yt,{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 flex flex-col gap-6 max-h-[calc(100vh-200px)]",children:[T&&h.jsx("div",{className:`rounded-xl border border-red-100 bg-red-50 ${r?"text-right":""} px-4 py-3 text-sm text-red-600`,children:T}),N===0&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(dt,{htmlFor:"persona_name",children:[e("common.name")," *"]}),h.jsx(ln,{id:"persona_name",value:p.name,onChange:oe=>{_e("name",oe.target.value),E.personaName&&$e("personaName")},placeholder:n?",  ":"e.g., Dana Cohen",className:`${r?"text-right":""} ${E.personaName?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.personaName})]}),h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(dt,{htmlFor:"persona_age",children:[e("personas.years")," *"]}),h.jsx(ln,{id:"persona_age",type:"number",min:"0",max:"120",value:p.age,onChange:oe=>{_e("age",oe.target.value),E.personaAge&&$e("personaAge")},placeholder:"32",className:`${r?"text-right":""} ${E.personaAge?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.personaAge})]})]}),h.jsxs("div",{className:r?"text-right":"",children:[h.jsx(dt,{htmlFor:"persona_role",children:n?" *":"Job Title *"}),h.jsx(ln,{id:"persona_role",value:p.job_title,onChange:oe=>{_e("job_title",oe.target.value),E.personaJobTitle&&$e("personaJobTitle")},placeholder:n?",  ":"e.g., Marketing Manager",className:`${r?"text-right":""} ${E.personaJobTitle?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.personaJobTitle})]}),h.jsx("div",{className:`flex ${r?"justify-start":"justify-center"} mt-6`,children:h.jsxs(Ie,{type:"button",variant:"outline",onClick:ue,disabled:G,className:"w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-4 text-lg bg-gradient-to-r from-purple-50 to-blue-50 hover:from-purple-100 hover:to-blue-100 border-purple-200 text-purple-700 hover:text-purple-800 rounded-xl min-h-[56px]",children:[G?h.jsx(Wm,{size:"default",variant:"primary"}):h.jsx(Di,{className:"w-6 h-6"}),n?"   ":"Generate with AI"]})})]}),N===1&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(dt,{htmlFor:"persona_goals",children:[e("personas.goals")," *"]}),h.jsx(Pr,{id:"persona_goals",value:p.goals,onChange:oe=>{_e("goals",oe.target.value),E.personaGoals&&$e("personaGoals")},rows:3,className:`${r?"text-right":""} ${E.personaGoals?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.personaGoals})]}),h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(dt,{htmlFor:"persona_pain",children:[e("personas.painPoints")," *"]}),h.jsx(Pr,{id:"persona_pain",value:p.pain_points,onChange:oe=>{_e("pain_points",oe.target.value),E.personaPainPoints&&$e("personaPainPoints")},rows:3,className:`${r?"text-right":""} ${E.personaPainPoints?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.personaPainPoints})]}),h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(dt,{htmlFor:"persona_lifestyle",children:[e("personas.lifestyle")," *"]}),h.jsx(Pr,{id:"persona_lifestyle",value:p.lifestyle,onChange:oe=>{_e("lifestyle",oe.target.value),E.personaLifestyle&&$e("personaLifestyle")},rows:3,className:`${r?"text-right":""} ${E.personaLifestyle?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.personaLifestyle})]})]}),N===2&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(dt,{htmlFor:"persona_motivations",children:[e("welcome.persona.motivations")," *"]}),h.jsx(Pr,{id:"persona_motivations",value:p.motivations,onChange:oe=>{_e("motivations",oe.target.value),E.personaMotivations&&$e("personaMotivations")},rows:3,className:`${r?"text-right":""} ${E.personaMotivations?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.personaMotivations})]}),h.jsxs("div",{className:r?"text-right":"",children:[h.jsxs(dt,{htmlFor:"persona_backstory",children:[e("welcome.persona.backstory")," *"]}),h.jsx(Pr,{id:"persona_backstory",value:p.backstory,onChange:oe=>{_e("backstory",oe.target.value),E.personaBackstory&&$e("personaBackstory")},rows:3,className:`${r?"text-right":""} ${E.personaBackstory?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),h.jsx(mt,{message:E.personaBackstory})]})]})]}),h.jsx("div",{className:"border-t border-slate-200 bg-white/95 px-4 sm:px-6 lg:px-8 py-4 sm:py-5",children:n?h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:Dt,disabled:x,className:`rounded-xl w-full sm:w-auto disabled:opacity-60 ${qn}`,children:e("common.back")}),h.jsx(Ie,{type:"submit",disabled:x&&un,className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto disabled:opacity-70 ${oi}`,children:un?x?h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Qr,{size:"sm",variant:"white"}),e("welcome.creating")]}):e("welcome.finishSetup"):e("common.next")})]}):h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:Dt,disabled:x,className:`rounded-xl w-full sm:w-auto disabled:opacity-60 ${qn}`,children:e("common.back")}),h.jsx(Ie,{type:"submit",disabled:x&&un,className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto disabled:opacity-70 ${oi}`,children:un?x?h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Qr,{size:"sm",variant:"white"}),e("welcome.creating")]}):e("welcome.finishSetup"):e("common.next")})]})})]}),a===5&&h.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[h.jsx(yt,{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 max-h-[calc(100vh-200px)]",children:z&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-sky-100 to-blue-200 flex items-center justify-center mx-auto mb-4",children:h.jsx(gc,{className:"w-10 h-10 text-sky-600"})}),h.jsx("h3",{className:"text-2xl font-semibold text-slate-900 mb-2",children:e("welcome.meetPersona.title").replace("{name}",z.name)}),h.jsx("p",{className:"text-slate-600",children:e(z!=null&&z.is_ai_generated?"welcome.meetPersona.subtitle":"welcome.meetPersona.manualSubtitle")})]}),h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs("div",{className:`space-y-4 ${r?"text-right":""}`,children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?" ":"Basic Details"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:n?":":"Name:"})," ",z.name]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:n?":":"Age:"})," ",z.age]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:n?":":"Job Title:"})," ",z.job_title]})]})]}),z.goals&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?"":"Goals"}),h.jsx("p",{className:"text-sm text-slate-600",children:z.goals})]}),z.pain_points&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?" ":"Pain Points"}),h.jsx("p",{className:"text-sm text-slate-600",children:z.pain_points})]})]}),h.jsxs("div",{className:`space-y-4 ${r?"text-right":""}`,children:[z.lifestyle&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?" ":"Lifestyle"}),h.jsx("p",{className:"text-sm text-slate-600",children:z.lifestyle})]}),z.motivations&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?"":"Motivations"}),h.jsx("p",{className:"text-sm text-slate-600",children:z.motivations})]}),z.purchasing_habits&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?" ":"Purchasing Habits"}),h.jsx("p",{className:"text-sm text-slate-600",children:z.purchasing_habits})]})]})]}),z.backstory&&h.jsxs("div",{className:`${r?"text-right":""}`,children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:n?"":"Backstory"}),h.jsx("p",{className:"text-sm text-slate-600",children:z.backstory})]})]})}),h.jsx("div",{className:"border-t border-slate-200 bg-white/95 px-4 sm:px-6 lg:px-8 py-4 sm:py-5",children:n?h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(4),className:`rounded-xl w-full sm:w-auto ${qn}`,children:e("common.back")}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[h.jsx(Ie,{type:"button",variant:"outline",onClick:()=>c(6),className:`rounded-xl w-full sm:w-auto ${qn}`,children:e("welcome.personaIntro.back")}),h.jsx(Ie,{type:"button",onClick:Ui,className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${oi}`,children:n?"  ":"Use This Avatar"})]})]}):h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(4),className:`rounded-xl w-full sm:w-auto ${qn}`,children:e("common.back")}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[h.jsx(Ie,{type:"button",variant:"outline",onClick:()=>c(6),className:`rounded-xl w-full sm:w-auto ${qn}`,children:e("welcome.personaIntro.back")}),h.jsx(Ie,{type:"button",onClick:Ui,className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${oi}`,children:n?"  ":"Use This Avatar"})]})]})})]}),a===6&&h.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[h.jsx(yt,{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 max-h-[calc(100vh-200px)]",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-sky-100 to-blue-200 flex items-center justify-center mx-auto mb-4",children:h.jsx(Mn,{className:"w-10 h-10 text-sky-600"})}),h.jsx("h3",{className:"text-2xl font-semibold text-slate-900 mb-2",children:n?"  ":"Business Details Review"}),h.jsx("p",{className:"text-slate-600",children:n?"      ":"Review your business details before continuing"})]}),h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs("div",{className:`space-y-4 ${r?"text-right":""}`,children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:e("business.businessName")}),h.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:u.business_name})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:e("business.industry")}),h.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:u.industry})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:e("business.description")}),h.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:u.description})]})]}),h.jsxs("div",{className:`space-y-4 ${r?"text-right":""}`,children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:e("business.productsServices")}),h.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:u.products_services})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:e("business.targetMarket")}),h.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:u.target_market})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:e("business.competitors")}),h.jsx("div",{className:"flex flex-wrap gap-2",children:u.competitors.map(oe=>h.jsx(wn,{variant:"secondary",className:"bg-sky-50 text-sky-700 border border-sky-100",children:oe},oe))})]})]})]})]})}),h.jsx("div",{className:"border-t border-slate-200 bg-white/95 px-4 sm:px-6 lg:px-8 py-4 sm:py-5",children:n?h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(5),className:`rounded-xl w-full sm:w-auto ${qn}`,children:e("common.back")}),h.jsx(Ie,{type:"button",onClick:()=>c(5),className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${oi}`,children:e("welcome.business.saveAndContinue")})]}):h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4 w-full",children:[h.jsx(Ie,{type:"button",variant:"ghost",onClick:()=>c(5),className:`rounded-xl w-full sm:w-auto ${qn}`,children:e("common.back")}),h.jsx(Ie,{type:"button",onClick:()=>c(5),className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl w-full sm:w-auto ${oi}`,children:e("welcome.business.saveAndContinue")})]})})]}),a===7&&h.jsxs(yt,{className:`flex flex-1 flex-col items-center justify-center text-center gap-6 p-4 sm:p-6 lg:p-12 ${r?"text-right":""}`,children:[h.jsx("div",{className:"w-24 h-24 rounded-full bg-green-100 flex items-center justify-center",children:h.jsx(pR,{className:"w-12 h-12 text-green-500"})}),h.jsx("p",{className:"text-lg text-slate-600 max-w-2xl",children:e("welcome.success.message")}),h.jsx(Ie,{size:"lg",onClick:qi,className:`bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 rounded-2xl transition ${oi}`,children:e("welcome.enterApp")})]})]})},Me.key)})]})}const YOe=20,XOe=1e6,jo={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let oT=0;function QOe(){return oT=(oT+1)%Number.MAX_VALUE,oT.toString()}const aT=new Map,G6=t=>{if(aT.has(t))return;const e=setTimeout(()=>{aT.delete(t),Cp({type:jo.REMOVE_TOAST,toastId:t})},XOe);aT.set(t,e)},JOe=(t,e)=>{switch(e.type){case jo.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,YOe)};case jo.UPDATE_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case jo.DISMISS_TOAST:{const{toastId:r}=e;return r?G6(r):t.toasts.forEach(n=>{G6(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case jo.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Pv=[];let Tv={toasts:[]};function Cp(t){Tv=JOe(Tv,t),Pv.forEach(e=>{e(Tv)})}function ZOe({...t}){const e=QOe(),r=i=>Cp({type:jo.UPDATE_TOAST,toast:{...i,id:e}}),n=()=>Cp({type:jo.DISMISS_TOAST,toastId:e});return Cp({type:jo.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function eje(){const[t,e]=S.useState(Tv);return S.useEffect(()=>(Pv.push(e),()=>{const r=Pv.indexOf(e);r>-1&&Pv.splice(r,1)}),[t]),{...t,toast:ZOe,dismiss:r=>Cp({type:jo.DISMISS_TOAST,toastId:r})}}const EG=S.forwardRef(({...t},e)=>h.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));EG.displayName="ToastProvider";const PG=S.forwardRef(({...t},e)=>h.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));PG.displayName="ToastViewport";const tje=xf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TG=S.forwardRef(({className:t,variant:e,...r},n)=>h.jsx("div",{ref:n,className:Ee(tje({variant:e}),t),...r}));TG.displayName="Toast";const rje=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));rje.displayName="ToastAction";const AG=S.forwardRef(({className:t,...e},r)=>h.jsx("button",{ref:r,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(Kn,{className:"h-4 w-4"})}));AG.displayName="ToastClose";const CG=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Ee("text-sm font-semibold",t),...e}));CG.displayName="ToastTitle";const NG=S.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:Ee("text-sm opacity-90",t),...e}));NG.displayName="ToastDescription";function K6(){const{toasts:t}=eje();return h.jsxs(EG,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return h.jsxs(TG,{...s,children:[h.jsxs("div",{className:"grid gap-1",children:[r&&h.jsx(CG,{children:r}),n&&h.jsx(NG,{children:n})]}),i,h.jsx(AG,{})]},e)}),h.jsx(PG,{})]})}const nje=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(!1),[i,s]=S.useState(!1),[o,a]=S.useState(""),[c,u]=S.useState(!1),{t:f,isRTL:p}=ur(),{clearErrors:m,validateFields:y}=Hm();S.useEffect(()=>{if(lle(No,window.location.href)){let T=window.localStorage.getItem("emailForSignIn");T||(T=window.prompt("Please provide your email for confirmation")),T&&cle(No,T,window.location.href).then(P=>{window.localStorage.removeItem("emailForSignIn"),console.log("User signed in:",P.user)}).catch(P=>{console.error("Error signing in with email link:",P),a("Invalid or expired sign-in link. Please try again."),setTimeout(()=>a(""),5e3)})}},[]);const _=async T=>{T.preventDefault(),a(""),m();const P={email:{value:t,required:!0,email:!0,customMessage:f("validation.emailRequired")}};if(y(P)){u(!0);try{const I={url:window.location.origin+"/login",handleCodeInApp:!0};await ale(No,t,I),window.localStorage.setItem("emailForSignIn",t),s(!0)}catch(I){console.error("Error sending email link:",I),a("Error sending sign-in link. Please try again."),setTimeout(()=>a(""),5e3)}u(!1)}},x=async()=>{a(""),u(!0);try{await jle(No,b9)}catch{a("Error, please try again"),setTimeout(()=>a(""),3e3)}u(!1)},b=()=>{e(""),a(""),n(!1),s(!1)};return h.jsxs("div",{className:"login-container",children:[h.jsx("div",{className:"login-left-panel",children:h.jsxs("div",{className:"login-left-content",children:[h.jsx("h2",{children:"Mole.AI"}),h.jsx("p",{children:"Transform your business insights with advanced AI analytics and personalized recommendations."}),h.jsxs("div",{className:"login-features",children:[h.jsxs("div",{className:"feature-item",children:[h.jsx("div",{className:"feature-icon",children:h.jsx(Zu,{className:"w-6 h-6"})}),h.jsxs("div",{className:"feature-text",children:[h.jsx("h3",{children:"Smart Analytics"}),h.jsx("p",{children:"Get deep insights into your market position and competitor analysis"})]})]}),h.jsxs("div",{className:"feature-item",children:[h.jsx("div",{className:"feature-icon",children:h.jsx(gc,{className:"w-6 h-6"})}),h.jsxs("div",{className:"feature-text",children:[h.jsx("h3",{children:"Customer Avatars"}),h.jsx("p",{children:"Create detailed customer profiles with AI-driven behavioral analysis"})]})]}),h.jsxs("div",{className:"feature-item",children:[h.jsx("div",{className:"feature-icon",children:h.jsx(fi,{className:"w-6 h-6"})}),h.jsxs("div",{className:"feature-text",children:[h.jsx("h3",{children:"AI Prompts"}),h.jsx("p",{children:"Generate compelling content and strategies with intelligent prompts"})]})]})]})]})}),h.jsx("div",{className:"login-right-panel",children:h.jsxs("div",{className:"login-content",children:[h.jsx("div",{className:"logo-container",children:h.jsxs("div",{className:"logo-icon",children:[h.jsx("div",{className:"logo-shape"}),h.jsx("div",{className:"logo-shape-accent"})]})}),h.jsxs("div",{className:"login-header",children:[h.jsx("h1",{children:i?"Check your email":r?"Sign in to your account":"Welcome to Mole.AI"}),i&&h.jsxs("p",{className:"reset-success-message",children:["We've sent a sign-in link to ",t,". Click the link in your email to sign in."]}),r&&!i&&h.jsx("p",{className:"login-subtitle",children:"Enter your email address to receive a secure sign-in link"})]}),o&&h.jsx("div",{className:"error-message",children:o}),!r&&!i&&h.jsxs("div",{className:"login-buttons",children:[h.jsxs("button",{onClick:x,className:"auth-button google-button",disabled:c,children:[h.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),h.jsxs("button",{onClick:()=>n(!0),className:"auth-button email-button",disabled:c,children:[h.jsx(m3,{className:"w-5 h-5"}),"Continue with email"]})]}),i?h.jsxs("div",{className:"reset-success",children:[h.jsx("div",{className:"success-icon",children:h.jsx(d3,{className:"w-8 h-8"})}),h.jsx("div",{className:"auth-switch",children:h.jsxs("button",{type:"button",onClick:b,className:"link-button",children:[h.jsx(fR,{className:"w-4 h-4"}),"Back to login"]})})]}):r&&h.jsxs(h.Fragment,{children:[h.jsxs("form",{onSubmit:_,className:"login-form",children:[h.jsx("div",{className:"form-group",children:h.jsx("input",{id:"email",type:"email",value:t,onChange:T=>e(T.target.value),placeholder:"Enter your email address",required:!0,disabled:c})}),h.jsx("button",{type:"submit",className:"auth-button submit-button",disabled:c,children:c?"Sending...":"Send sign-in link"})]}),h.jsx("div",{className:"auth-switch",children:h.jsxs("button",{type:"button",onClick:()=>{n(!1),e(""),a("")},className:"link-button",disabled:c,children:[h.jsx(fR,{className:"w-4 h-4"}),"Back to options"]})})]})]})})]})};function ije(){const{user:t,loading:e}=Xc(),[r,n]=S.useState(!0),[i,s]=S.useState(!1),o=S.useCallback(async()=>{if(!t){s(!1),n(!1);return}n(!0);try{let c=!1,u=!1;try{c=await Fi.checkExists()}catch{c=!1}try{const p=await as.list();u=p&&p.length>0}catch{u=!1}s(!c||!u)}catch(c){console.error("Failed to check onboarding status:",c),s(!0)}finally{n(!1)}},[t]);S.useEffect(()=>{e||o()},[e,o]);const a=S.useCallback(async()=>{s(!1),await o()},[o]);return e||r?h.jsxs("div",{className:"h-screen flex flex-col items-center justify-center gap-4 bg-slate-50",children:[h.jsx(Qr,{size:"lg",variant:"primary"}),h.jsx("p",{className:"text-sm text-slate-500",children:"Loading..."})]}):t?i?h.jsxs(uv,{children:[h.jsx(KOe,{onComplete:a}),h.jsx(K6,{})]}):h.jsxs(uv,{children:[h.jsx(HOe,{}),h.jsx(K6,{})]}):h.jsx(uv,{children:h.jsx(nje,{})})}function sje(){return h.jsx(Nue,{children:h.jsx(ije,{})})}WK.createRoot(document.getElementById("root")).render(h.jsx(sje,{}));
